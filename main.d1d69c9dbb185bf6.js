(self.webpackChunkmagic_square_dance=self.webpackChunkmagic_square_dance||[]).push([[179],{581:(ee,C,F)=>{"use strict";function n(i){return"function"==typeof i}let l=!1;const g={Promise:void 0,set useDeprecatedSynchronousErrorHandling(i){if(i){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else l&&console.log("RxJS: Back to a better error behavior. Thank you. <3");l=i},get useDeprecatedSynchronousErrorHandling(){return l}};function f(i){setTimeout(()=>{throw i},0)}const u={closed:!0,next(i){},error(i){if(g.useDeprecatedSynchronousErrorHandling)throw i;f(i)},complete(){}},h=Array.isArray||(i=>i&&"number"==typeof i.length);function o(i){return null!==i&&"object"==typeof i}const d=(()=>{function i(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,s)=>`${s+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return i.prototype=Object.create(Error.prototype),i})();class r{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:s,_unsubscribe:y,_subscriptions:D}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof r)e.remove(this);else if(null!==e)for(let b=0;b<e.length;++b)e[b].remove(this);if(n(y)){s&&(this._unsubscribe=void 0);try{y.call(this)}catch(b){t=b instanceof d?c(b.errors):[b]}}if(h(D)){let b=-1,O=D.length;for(;++b<O;){const N=D[b];if(o(N))try{N.unsubscribe()}catch(z){t=t||[],z instanceof d?t=t.concat(c(z.errors)):t.push(z)}}}if(t)throw new d(t)}add(t){let e=t;if(!t)return r.EMPTY;switch(typeof t){case"function":e=new r(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof r)){const D=e;e=new r,e._subscriptions=[D]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:s}=e;if(null===s)e._parentOrParents=this;else if(s instanceof r){if(s===this)return e;e._parentOrParents=[s,this]}else{if(-1!==s.indexOf(this))return e;s.push(this)}const y=this._subscriptions;return null===y?this._subscriptions=[e]:y.push(e),e}remove(t){const e=this._subscriptions;if(e){const s=e.indexOf(t);-1!==s&&e.splice(s,1)}}}var i;function c(i){return i.reduce((t,e)=>t.concat(e instanceof d?e.errors:e),[])}r.EMPTY=((i=new r).closed=!0,i);const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class v extends r{constructor(t,e,s){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=u;break;case 1:if(!t){this.destination=u;break}if("object"==typeof t){t instanceof v?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new x(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new x(this,t,e,s)}}[p](){return this}static create(t,e,s){const y=new v(t,e,s);return y.syncErrorThrowable=!1,y}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class x extends v{constructor(t,e,s,y){super(),this._parentSubscriber=t;let D,b=this;n(e)?D=e:e&&(D=e.next,s=e.error,y=e.complete,e!==u&&(b=Object.create(e),n(b.unsubscribe)&&this.add(b.unsubscribe.bind(b)),b.unsubscribe=this.unsubscribe.bind(this))),this._context=b,this._next=D,this._error=s,this._complete=y}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;g.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:s}=g;if(this._error)s&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)s?(e.syncErrorValue=t,e.syncErrorThrown=!0):f(t),this.unsubscribe();else{if(this.unsubscribe(),s)throw t;f(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);g.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(s){if(this.unsubscribe(),g.useDeprecatedSynchronousErrorHandling)throw s;f(s)}}__tryOrSetError(t,e,s){if(!g.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,s)}catch(y){return g.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=y,t.syncErrorThrown=!0,!0):(f(y),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const M="function"==typeof Symbol&&Symbol.observable||"@@observable";function S(i){return i}let w=(()=>{class i{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const s=new i;return s.source=this,s.operator=e,s}subscribe(e,s,y){const{operator:D}=this,b=function E(i,t,e){if(i){if(i instanceof v)return i;if(i[p])return i[p]()}return i||t||e?new v(i,t,e):new v(u)}(e,s,y);if(b.add(D?D.call(b,this.source):this.source||g.useDeprecatedSynchronousErrorHandling&&!b.syncErrorThrowable?this._subscribe(b):this._trySubscribe(b)),g.useDeprecatedSynchronousErrorHandling&&b.syncErrorThrowable&&(b.syncErrorThrowable=!1,b.syncErrorThrown))throw b.syncErrorValue;return b}_trySubscribe(e){try{return this._subscribe(e)}catch(s){g.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=s),function T(i){for(;i;){const{closed:t,destination:e,isStopped:s}=i;if(t||s)return!1;i=e&&e instanceof v?e:null}return!0}(e)?e.error(s):console.warn(s)}}forEach(e,s){return new(s=L(s))((y,D)=>{let b;b=this.subscribe(O=>{try{e(O)}catch(N){D(N),b&&b.unsubscribe()}},D,y)})}_subscribe(e){const{source:s}=this;return s&&s.subscribe(e)}[M](){return this}pipe(...e){return 0===e.length?this:function R(i){return 0===i.length?S:1===i.length?i[0]:function(e){return i.reduce((s,y)=>y(s),e)}}(e)(this)}toPromise(e){return new(e=L(e))((s,y)=>{let D;this.subscribe(b=>D=b,b=>y(b),()=>s(D))})}}return i.create=t=>new i(t),i})();function L(i){if(i||(i=g.Promise||Promise),!i)throw new Error("no Promise impl found");return i}const B=(()=>{function i(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return i.prototype=Object.create(Error.prototype),i})();class G extends r{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const s=e.indexOf(this.subscriber);-1!==s&&e.splice(s,1)}}class H extends v{constructor(t){super(t),this.destination=t}}let Y=(()=>{class i extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new H(this)}lift(e){const s=new $(this,this);return s.operator=e,s}next(e){if(this.closed)throw new B;if(!this.isStopped){const{observers:s}=this,y=s.length,D=s.slice();for(let b=0;b<y;b++)D[b].next(e)}}error(e){if(this.closed)throw new B;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:s}=this,y=s.length,D=s.slice();for(let b=0;b<y;b++)D[b].error(e);this.observers.length=0}complete(){if(this.closed)throw new B;this.isStopped=!0;const{observers:e}=this,s=e.length,y=e.slice();for(let D=0;D<s;D++)y[D].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new B;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new B;return this.hasError?(e.error(this.thrownError),r.EMPTY):this.isStopped?(e.complete(),r.EMPTY):(this.observers.push(e),new G(this,e))}asObservable(){const e=new w;return e.source=this,e}}return i.create=(t,e)=>new $(t,e),i})();class $ extends Y{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):r.EMPTY}}function J(i){return i&&"function"==typeof i.schedule}function _(i,t){return function(s){if("function"!=typeof i)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return s.lift(new tt(i,t))}}class tt{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new U(t,this.project,this.thisArg))}}class U extends v{constructor(t,e,s){super(t),this.project=e,this.count=0,this.thisArg=s||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}const V=i=>t=>{for(let e=0,s=i.length;e<s&&!t.closed;e++)t.next(i[e]);t.complete()},j=function W(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),rt=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function ot(i){return!!i&&"function"!=typeof i.subscribe&&"function"==typeof i.then}const at=i=>{if(i&&"function"==typeof i[M])return(i=>t=>{const e=i[M]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(i);if(rt(i))return V(i);if(ot(i))return(i=>t=>(i.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,f),t))(i);if(i&&"function"==typeof i[j])return(i=>t=>{const e=i[j]();for(;;){let s;try{s=e.next()}catch(y){return t.error(y),t}if(s.done){t.complete();break}if(t.next(s.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(i);{const e=`You provided ${o(i)?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function xt(i,t){return new w(e=>{const s=new r;let y=0;return s.add(t.schedule(function(){y!==i.length?(e.next(i[y++]),e.closed||s.add(this.schedule())):e.complete()})),s})}function bt(i,t){return t?function Nt(i,t){if(null!=i){if(function Ct(i){return i&&"function"==typeof i[M]}(i))return function ft(i,t){return new w(e=>{const s=new r;return s.add(t.schedule(()=>{const y=i[M]();s.add(y.subscribe({next(D){s.add(t.schedule(()=>e.next(D)))},error(D){s.add(t.schedule(()=>e.error(D)))},complete(){s.add(t.schedule(()=>e.complete()))}}))})),s})}(i,t);if(ot(i))return function ct(i,t){return new w(e=>{const s=new r;return s.add(t.schedule(()=>i.then(y=>{s.add(t.schedule(()=>{e.next(y),s.add(t.schedule(()=>e.complete()))}))},y=>{s.add(t.schedule(()=>e.error(y)))}))),s})}(i,t);if(rt(i))return xt(i,t);if(function kt(i){return i&&"function"==typeof i[j]}(i)||"string"==typeof i)return function mt(i,t){if(!i)throw new Error("Iterable cannot be null");return new w(e=>{const s=new r;let y;return s.add(()=>{y&&"function"==typeof y.return&&y.return()}),s.add(t.schedule(()=>{y=i[j](),s.add(t.schedule(function(){if(e.closed)return;let D,b;try{const O=y.next();D=O.value,b=O.done}catch(O){return void e.error(O)}b?e.complete():(e.next(D),this.schedule())}))})),s})}(i,t)}throw new TypeError((null!==i&&typeof i||i)+" is not observable")}(i,t):i instanceof w?i:new w(at(i))}class gt extends v{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Rt extends v{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function $e(i,t){if(!t.closed)return i instanceof w?i.subscribe(t):at(i)(t)}function ri(i,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(ri((y,D)=>bt(i(y,D)).pipe(_((b,O)=>t(y,b,D,O))),e)):("number"==typeof t&&(e=t),s=>s.lift(new ye(i,e)))}class ye{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new ie(t,this.project,this.concurrent))}}class ie extends Rt{constructor(t,e,s=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=s,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const s=this.index++;try{e=this.project(t,s)}catch(y){return void this.destination.error(y)}this.active++,this._innerSub(e)}_innerSub(t){const e=new gt(this),s=this.destination;s.add(e);const y=$e(t,e);y!==e&&s.add(y)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function ve(i=Number.POSITIVE_INFINITY){return ri(S,i)}function Ke(i,t){return t?xt(i,t):new w(V(i))}function ti(...i){let t=Number.POSITIVE_INFINITY,e=null,s=i[i.length-1];return J(s)?(e=i.pop(),i.length>1&&"number"==typeof i[i.length-1]&&(t=i.pop())):"number"==typeof s&&(t=i.pop()),null===e&&1===i.length&&i[0]instanceof w?i[0]:ve(t)(Ke(i,e))}function Xi(){return function(t){return t.lift(new nn(t))}}class nn{constructor(t){this.connectable=t}call(t,e){const{connectable:s}=this;s._refCount++;const y=new rn(t,s),D=e.subscribe(y);return y.closed||(y.connection=s.connect()),D}}class rn extends v{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:s}=this,y=t._connection;this.connection=null,y&&(!s||y===s)&&y.unsubscribe()}}class sn extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new r,t.add(this.source.subscribe(new an(this.getSubject(),this))),t.closed&&(this._connection=null,t=r.EMPTY)),t}refCount(){return Xi()(this)}}const on=(()=>{const i=sn.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:i._subscribe},_isComplete:{value:i._isComplete,writable:!0},getSubject:{value:i.getSubject},connect:{value:i.connect},refCount:{value:i.refCount}}})();class an extends H{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}class $E{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:s}=this,y=this.subjectFactory(),D=s(y).subscribe(t);return D.add(e.subscribe(y)),D}}function KE(){return new Y}function ip(){return i=>Xi()(function jE(i,t){return function(s){let y;if(y="function"==typeof i?i:function(){return i},"function"==typeof t)return s.lift(new $E(y,t));const D=Object.create(s,on);return D.source=s,D.subjectFactory=y,D}}(KE)(i))}function xe(i){for(let t in i)if(i[t]===xe)return t;throw Error("Could not find renamed property on target object.")}function Rh(i,t){for(const e in t)t.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=t[e])}function de(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(de).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const t=i.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function bh(i,t){return null==i||""===i?null===t?"":t:null==t||""===t?i:i+" "+t}const ZE=xe({__forward_ref__:xe});function fe(i){return i.__forward_ref__=fe,i.toString=function(){return de(this())},i}function jt(i){return function np(i){return"function"==typeof i&&i.hasOwnProperty(ZE)&&i.__forward_ref__===fe}(i)?i():i}class At extends Error{constructor(t,e){super(function Fh(i,t){return`NG0${Math.abs(i)}${t?": "+t:""}`}(t,e)),this.code=t}}function Ht(i){return"string"==typeof i?i:null==i?"":String(i)}function si(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Ht(i)}function ma(i,t){const e=t?` in ${t}`:"";throw new At(-201,`No provider for ${si(i)} found${e}`)}function Ri(i,t){null==i&&function Ce(i,t,e,s){throw new Error(`ASSERTION ERROR: ${i}`+(null==s?"":` [Expected=> ${e} ${s} ${t} <=Actual]`))}(t,i,null,"!=")}function wt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function pe(i){return{providers:i.providers||[],imports:i.imports||[]}}function wh(i){return rp(i,ga)||rp(i,op)}function rp(i,t){return i.hasOwnProperty(t)?i[t]:null}function sp(i){return i&&(i.hasOwnProperty(Oh)||i.hasOwnProperty(iS))?i[Oh]:null}const ga=xe({\u0275prov:xe}),Oh=xe({\u0275inj:xe}),op=xe({ngInjectableDef:xe}),iS=xe({ngInjectorDef:xe});var Xt=(()=>((Xt=Xt||{})[Xt.Default=0]="Default",Xt[Xt.Host=1]="Host",Xt[Xt.Self=2]="Self",Xt[Xt.SkipSelf=4]="SkipSelf",Xt[Xt.Optional=8]="Optional",Xt))();let Ih;function or(i){const t=Ih;return Ih=i,t}function ap(i,t,e){const s=wh(i);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:e&Xt.Optional?null:void 0!==t?t:void ma(de(i),"Injector")}function ar(i){return{toString:i}.toString()}var ln=(()=>((ln=ln||{})[ln.OnPush=0]="OnPush",ln[ln.Default=1]="Default",ln))(),hn=(()=>(function(i){i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom"}(hn||(hn={})),hn))();const rS="undefined"!=typeof globalThis&&globalThis,sS="undefined"!=typeof window&&window,oS="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,me=rS||"undefined"!=typeof global&&global||sS||oS,ts={},Te=[],ya=xe({\u0275cmp:xe}),Lh=xe({\u0275dir:xe}),Nh=xe({\u0275pipe:xe}),lp=xe({\u0275mod:xe}),Wn=xe({\u0275fac:xe}),io=xe({__NG_ELEMENT_ID__:xe});let aS=0;function un(i){return ar(()=>{const e={},s={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===ln.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Te,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||hn.Emulated,id:"c",styles:i.styles||Te,_:null,setInput:null,schemas:i.schemas||null,tView:null},y=i.directives,D=i.features,b=i.pipes;return s.id+=aS++,s.inputs=cp(i.inputs,e),s.outputs=cp(i.outputs),D&&D.forEach(O=>O(s)),s.directiveDefs=y?()=>("function"==typeof y?y():y).map(hp):null,s.pipeDefs=b?()=>("function"==typeof b?b():b).map(up):null,s})}function hp(i){return ui(i)||function lr(i){return i[Lh]||null}(i)}function up(i){return function Ar(i){return i[Nh]||null}(i)}const fp={};function ge(i){return ar(()=>{const t={type:i.type,bootstrap:i.bootstrap||Te,declarations:i.declarations||Te,imports:i.imports||Te,exports:i.exports||Te,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(fp[i.id]=i.type),t})}function cp(i,t){if(null==i)return ts;const e={};for(const s in i)if(i.hasOwnProperty(s)){let y=i[s],D=y;Array.isArray(y)&&(D=y[1],y=y[0]),e[y]=s,t&&(t[y]=D)}return e}const It=un;function Ei(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function ui(i){return i[ya]||null}function Wi(i,t){const e=i[lp]||null;if(!e&&!0===t)throw new Error(`Type ${de(i)} does not have '\u0275mod' property.`);return e}function Mn(i){return Array.isArray(i)&&"object"==typeof i[1]}function cn(i){return Array.isArray(i)&&!0===i[1]}function Gh(i){return 0!=(8&i.flags)}function Ea(i){return 2==(2&i.flags)}function Sa(i){return 1==(1&i.flags)}function dn(i){return null!==i.template}function dS(i){return 0!=(512&i[2])}function br(i,t){return i.hasOwnProperty(Wn)?i[Wn]:null}class mS{constructor(t,e,s){this.previousValue=t,this.currentValue=e,this.firstChange=s}isFirstChange(){return this.firstChange}}function An(){return pp}function pp(i){return i.type.prototype.ngOnChanges&&(i.setInput=yS),gS}function gS(){const i=mp(this),t=null==i?void 0:i.current;if(t){const e=i.previous;if(e===ts)i.previous=t;else for(let s in t)e[s]=t[s];i.current=null,this.ngOnChanges(t)}}function yS(i,t,e,s){const y=mp(i)||function xS(i,t){return i[vp]=t}(i,{previous:ts,current:null}),D=y.current||(y.current={}),b=y.previous,O=this.declaredInputs[e],N=b[O];D[O]=new mS(N&&N.currentValue,t,b===ts),i[s]=t}An.ngInherit=!0;const vp="__ngSimpleChanges__";function mp(i){return i[vp]||null}let Xh;function Ie(i){return!!i.listen}const gp={createRenderer:(i,t)=>function Wh(){return void 0!==Xh?Xh:"undefined"!=typeof document?document:void 0}()};function He(i){for(;Array.isArray(i);)i=i[0];return i}function Ma(i,t){return He(t[i])}function $i(i,t){return He(t[i.index])}function kh(i,t){return i.data[t]}function ss(i,t){return i[t]}function Fi(i,t){const e=t[i];return Mn(e)?e:e[0]}function yp(i){return 4==(4&i[2])}function jh(i){return 128==(128&i[2])}function hr(i,t){return null==t?null:i[t]}function xp(i){i[18]=0}function $h(i,t){i[5]+=t;let e=i,s=i[3];for(;null!==s&&(1===t&&1===e[5]||-1===t&&0===e[5]);)s[5]+=t,e=s,s=s[3]}const zt={lFrame:Rp(null),bindingsEnabled:!0};function Tp(){return zt.bindingsEnabled}function vt(){return zt.lFrame.lView}function se(){return zt.lFrame.tView}function Kh(i){return zt.lFrame.contextLView=i,i[8]}function Ze(){let i=Ep();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ep(){return zt.lFrame.currentTNode}function Dn(i,t){const e=zt.lFrame;e.currentTNode=i,e.isParent=t}function Zh(){return zt.lFrame.isParent}function Qh(){zt.lFrame.isParent=!1}function pi(){const i=zt.lFrame;let t=i.bindingRootIndex;return-1===t&&(t=i.bindingRootIndex=i.tView.bindingStartIndex),t}function os(){return zt.lFrame.bindingIndex++}function jn(i){const t=zt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+i,e}function BS(i,t){const e=zt.lFrame;e.bindingIndex=e.bindingRootIndex=i,Jh(t)}function Jh(i){zt.lFrame.currentDirectiveIndex=i}function Ap(){return zt.lFrame.currentQueryIndex}function _h(i){zt.lFrame.currentQueryIndex=i}function GS(i){const t=i[1];return 2===t.type?t.declTNode:1===t.type?i[6]:null}function Dp(i,t,e){if(e&Xt.SkipSelf){let y=t,D=i;for(;!(y=y.parent,null!==y||e&Xt.Host||(y=GS(D),null===y||(D=D[15],10&y.type))););if(null===y)return!1;t=y,i=D}const s=zt.lFrame=Pp();return s.currentTNode=t,s.lView=i,!0}function Da(i){const t=Pp(),e=i[1];zt.lFrame=t,t.currentTNode=e.firstChild,t.lView=i,t.tView=e,t.contextLView=i,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Pp(){const i=zt.lFrame,t=null===i?null:i.child;return null===t?Rp(i):t}function Rp(i){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=t),t}function bp(){const i=zt.lFrame;return zt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Fp=bp;function Pa(){const i=bp();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function vi(){return zt.lFrame.selectedIndex}function ur(i){zt.lFrame.selectedIndex=i}function Le(){const i=zt.lFrame;return kh(i.tView,i.selectedIndex)}function Ra(i,t){for(let e=t.directiveStart,s=t.directiveEnd;e<s;e++){const D=i.data[e].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:O,ngAfterViewInit:N,ngAfterViewChecked:z,ngOnDestroy:k}=D;b&&(i.contentHooks||(i.contentHooks=[])).push(-e,b),O&&((i.contentHooks||(i.contentHooks=[])).push(e,O),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(e,O)),N&&(i.viewHooks||(i.viewHooks=[])).push(-e,N),z&&((i.viewHooks||(i.viewHooks=[])).push(e,z),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(e,z)),null!=k&&(i.destroyHooks||(i.destroyHooks=[])).push(e,k)}}function ba(i,t,e){Ip(i,t,3,e)}function Fa(i,t,e,s){(3&i[2])===e&&Ip(i,t,e,s)}function tu(i,t){let e=i[2];(3&e)===t&&(e&=2047,e+=1,i[2]=e)}function Ip(i,t,e,s){const D=null!=s?s:-1,b=t.length-1;let O=0;for(let N=void 0!==s?65535&i[18]:0;N<b;N++)if("number"==typeof t[N+1]){if(O=t[N],null!=s&&O>=s)break}else t[N]<0&&(i[18]+=65536),(O<D||-1==D)&&(kS(i,e,t,N),i[18]=(4294901760&i[18])+N+2),N++}function kS(i,t,e,s){const y=e[s]<0,D=e[s+1],O=i[y?-e[s]:e[s]];if(y){if(i[2]>>11<i[18]>>16&&(3&i[2])===t){i[2]+=2048;try{D.call(O)}finally{}}}else try{D.call(O)}finally{}}class ao{constructor(t,e,s){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=s}}function wa(i,t,e){const s=Ie(i);let y=0;for(;y<e.length;){const D=e[y];if("number"==typeof D){if(0!==D)break;y++;const b=e[y++],O=e[y++],N=e[y++];s?i.setAttribute(t,O,N,b):t.setAttributeNS(b,O,N)}else{const b=D,O=e[++y];iu(b)?s&&i.setProperty(t,b,O):s?i.setAttribute(t,b,O):t.setAttribute(b,O),y++}}return y}function Lp(i){return 3===i||4===i||6===i}function iu(i){return 64===i.charCodeAt(0)}function Oa(i,t){if(null!==t&&0!==t.length)if(null===i||0===i.length)i=t.slice();else{let e=-1;for(let s=0;s<t.length;s++){const y=t[s];"number"==typeof y?e=y:0===e||Np(i,e,y,null,-1===e||2===e?t[++s]:null)}}return i}function Np(i,t,e,s,y){let D=0,b=i.length;if(-1===t)b=-1;else for(;D<i.length;){const O=i[D++];if("number"==typeof O){if(O===t){b=-1;break}if(O>t){b=D-1;break}}}for(;D<i.length;){const O=i[D];if("number"==typeof O)break;if(O===e){if(null===s)return void(null!==y&&(i[D+1]=y));if(s===i[D+1])return void(i[D+2]=y)}D++,null!==s&&D++,null!==y&&D++}-1!==b&&(i.splice(b,0,t),D=b+1),i.splice(D++,0,e),null!==s&&i.splice(D++,0,s),null!==y&&i.splice(D++,0,y)}function Bp(i){return-1!==i}function as(i){return 32767&i}function ls(i,t){let e=function QS(i){return i>>16}(i),s=t;for(;e>0;)s=s[15],e--;return s}let nu=!0;function Ia(i){const t=nu;return nu=i,t}let JS=0;function ho(i,t){const e=su(i,t);if(-1!==e)return e;const s=t[1];s.firstCreatePass&&(i.injectorIndex=t.length,ru(s.data,i),ru(t,null),ru(s.blueprint,null));const y=La(i,t),D=i.injectorIndex;if(Bp(y)){const b=as(y),O=ls(y,t),N=O[1].data;for(let z=0;z<8;z++)t[D+z]=O[b+z]|N[b+z]}return t[D+8]=y,D}function ru(i,t){i.push(0,0,0,0,0,0,0,0,t)}function su(i,t){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===t[i.injectorIndex+8]?-1:i.injectorIndex}function La(i,t){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let e=0,s=null,y=t;for(;null!==y;){const D=y[1],b=D.type;if(s=2===b?D.declTNode:1===b?y[6]:null,null===s)return-1;if(e++,y=y[15],-1!==s.injectorIndex)return s.injectorIndex|e<<16}return-1}function Na(i,t,e){!function qS(i,t,e){let s;"string"==typeof e?s=e.charCodeAt(0)||0:e.hasOwnProperty(io)&&(s=e[io]),null==s&&(s=e[io]=JS++);const y=255&s;t.data[i+(y>>5)]|=1<<y}(i,t,e)}function Up(i,t,e){if(e&Xt.Optional)return i;ma(t,"NodeInjector")}function Hp(i,t,e,s){if(e&Xt.Optional&&void 0===s&&(s=null),0==(e&(Xt.Self|Xt.Host))){const y=i[9],D=or(void 0);try{return y?y.get(t,s,e&Xt.Optional):ap(t,s,e&Xt.Optional)}finally{or(D)}}return Up(s,t,e)}function zp(i,t,e,s=Xt.Default,y){if(null!==i){const D=function iM(i){if("string"==typeof i)return i.charCodeAt(0)||0;const t=i.hasOwnProperty(io)?i[io]:void 0;return"number"==typeof t?t>=0?255&t:tM:t}(e);if("function"==typeof D){if(!Dp(t,i,s))return s&Xt.Host?Up(y,e,s):Hp(t,e,s,y);try{const b=D(s);if(null!=b||s&Xt.Optional)return b;ma(e)}finally{Fp()}}else if("number"==typeof D){let b=null,O=su(i,t),N=-1,z=s&Xt.Host?t[16][6]:null;for((-1===O||s&Xt.SkipSelf)&&(N=-1===O?La(i,t):t[O+8],-1!==N&&Wp(s,!1)?(b=t[1],O=as(N),t=ls(N,t)):O=-1);-1!==O;){const k=t[1];if(Xp(D,O,k.data)){const Q=eM(O,t,e,b,s,z);if(Q!==Yp)return Q}N=t[O+8],-1!==N&&Wp(s,t[1].data[O+8]===z)&&Xp(D,O,t)?(b=k,O=as(N),t=ls(N,t)):O=-1}}}return Hp(t,e,s,y)}const Yp={};function tM(){return new hs(Ze(),vt())}function eM(i,t,e,s,y,D){const b=t[1],O=b.data[i+8],k=Ba(O,b,e,null==s?Ea(O)&&nu:s!=b&&0!=(3&O.type),y&Xt.Host&&D===O);return null!==k?uo(t,b,k,O):Yp}function Ba(i,t,e,s,y){const D=i.providerIndexes,b=t.data,O=1048575&D,N=i.directiveStart,k=D>>20,it=y?O+k:i.directiveEnd;for(let nt=s?O:O+k;nt<it;nt++){const st=b[nt];if(nt<N&&e===st||nt>=N&&st.type===e)return nt}if(y){const nt=b[N];if(nt&&dn(nt)&&nt.type===e)return N}return null}function uo(i,t,e,s){let y=i[e];const D=t.data;if(function jS(i){return i instanceof ao}(y)){const b=y;b.resolving&&function QE(i,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${i}`:"";throw new At(-200,`Circular dependency in DI detected for ${i}${e}`)}(si(D[e]));const O=Ia(b.canSeeViewProviders);b.resolving=!0;const N=b.injectImpl?or(b.injectImpl):null;Dp(i,s,Xt.Default);try{y=i[e]=b.factory(void 0,D,i,s),t.firstCreatePass&&e>=s.directiveStart&&function WS(i,t,e){const{ngOnChanges:s,ngOnInit:y,ngDoCheck:D}=t.type.prototype;if(s){const b=pp(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(i,b),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i,b)}y&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-i,y),D&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i,D),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i,D))}(e,D[e],t)}finally{null!==N&&or(N),Ia(O),b.resolving=!1,Fp()}}return y}function Xp(i,t,e){return!!(e[t+(i>>5)]&1<<i)}function Wp(i,t){return!(i&Xt.Self||i&Xt.Host&&t)}class hs{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,s){return zp(this._tNode,this._lView,t,s,e)}}function Fr(i){return function _S(i,t){if("class"===t)return i.classes;if("style"===t)return i.styles;const e=i.attrs;if(e){const s=e.length;let y=0;for(;y<s;){const D=e[y];if(Lp(D))break;if(0===D)y+=2;else if("number"==typeof D)for(y++;y<s&&"string"==typeof e[y];)y++;else{if(D===t)return e[y+1];y+=2}}}return null}(Ze(),i)}const fs="__parameters__";function ds(i,t,e){return ar(()=>{const s=function au(i){return function(...e){if(i){const s=i(...e);for(const y in s)this[y]=s[y]}}}(t);function y(...D){if(this instanceof y)return s.apply(this,D),this;const b=new y(...D);return O.annotation=b,O;function O(N,z,k){const Q=N.hasOwnProperty(fs)?N[fs]:Object.defineProperty(N,fs,{value:[]})[fs];for(;Q.length<=k;)Q.push(null);return(Q[k]=Q[k]||[]).push(b),N}}return e&&(y.prototype=Object.create(e.prototype)),y.prototype.ngMetadataName=i,y.annotationCls=y,y})}class Dt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=wt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Ki(i,t){void 0===t&&(t=i);for(let e=0;e<i.length;e++){let s=i[e];Array.isArray(s)?(t===i&&(t=i.slice(0,e)),Ki(s,t)):t!==i&&t.push(s)}return t}function Pn(i,t){i.forEach(e=>Array.isArray(e)?Pn(e,t):t(e))}function jp(i,t,e){t>=i.length?i.push(e):i.splice(t,0,e)}function Va(i,t){return t>=i.length-1?i.pop():i.splice(t,1)[0]}function po(i,t){const e=[];for(let s=0;s<i;s++)e.push(t);return e}function wi(i,t,e){let s=ps(i,t);return s>=0?i[1|s]=e:(s=~s,function oM(i,t,e,s){let y=i.length;if(y==t)i.push(e,s);else if(1===y)i.push(s,i[0]),i[0]=e;else{for(y--,i.push(i[y-1],i[y]);y>t;)i[y]=i[y-2],y--;i[t]=e,i[t+1]=s}}(i,s,t,e)),s}function hu(i,t){const e=ps(i,t);if(e>=0)return i[1|e]}function ps(i,t){return function Zp(i,t,e){let s=0,y=i.length>>e;for(;y!==s;){const D=s+(y-s>>1),b=i[D<<e];if(t===b)return D<<e;b>t?y=D:s=D+1}return~(y<<e)}(i,t,1)}const vo={},fu="__NG_DI_FLAG__",Ua="ngTempTokenPath",dM=/\n/gm,Jp="__source",vM=xe({provide:String,useValue:xe});let mo;function qp(i){const t=mo;return mo=i,t}function mM(i,t=Xt.Default){if(void 0===mo)throw new At(203,"");return null===mo?ap(i,void 0,t):mo.get(i,t&Xt.Optional?null:void 0,t)}function pt(i,t=Xt.Default){return(function nS(){return Ih}()||mM)(jt(i),t)}const Ha=pt;function cu(i){const t=[];for(let e=0;e<i.length;e++){const s=jt(i[e]);if(Array.isArray(s)){if(0===s.length)throw new At(900,"");let y,D=Xt.Default;for(let b=0;b<s.length;b++){const O=s[b],N=gM(O);"number"==typeof N?-1===N?y=O.token:D|=N:y=O}t.push(pt(y,D))}else t.push(pt(s))}return t}function go(i,t){return i[fu]=t,i.prototype[fu]=t,i}function gM(i){return i[fu]}const wr=go(ds("Optional"),8),yo=go(ds("SkipSelf"),4);let Ya;function ms(i){var t;return(null===(t=function vu(){if(void 0===Ya&&(Ya=null,me.trustedTypes))try{Ya=me.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Ya}())||void 0===t?void 0:t.createHTML(i))||i}class Or{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class FM extends Or{getTypeName(){return"HTML"}}class wM extends Or{getTypeName(){return"Style"}}class OM extends Or{getTypeName(){return"Script"}}class IM extends Or{getTypeName(){return"URL"}}class LM extends Or{getTypeName(){return"ResourceURL"}}function Oi(i){return i instanceof Or?i.changingThisBreaksApplicationSecurity:i}function Rn(i,t){const e=av(i);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function av(i){return i instanceof Or&&i.getTypeName()||null}class HM{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(ms(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class zM{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const s=this.inertDocument.createElement("body");e.appendChild(s)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=ms(t),e;const s=this.inertDocument.createElement("body");return s.innerHTML=ms(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(s),s}stripCustomNsAttrs(t){const e=t.attributes;for(let y=e.length-1;0<y;y--){const b=e.item(y).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&t.removeAttribute(b)}let s=t.firstChild;for(;s;)s.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(s),s=s.nextSibling}}const XM=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,WM=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Co(i){return(i=String(i)).match(XM)||i.match(WM)?i:"unsafe:"+i}function hv(i){return(i=String(i)).split(",").map(t=>Co(t.trim())).join(", ")}function bn(i){const t={};for(const e of i.split(","))t[e]=!0;return t}function To(...i){const t={};for(const e of i)for(const s in e)e.hasOwnProperty(s)&&(t[s]=!0);return t}const uv=bn("area,br,col,hr,img,wbr"),fv=bn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cv=bn("rp,rt"),gu=To(uv,To(fv,bn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),To(cv,bn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),To(cv,fv)),yu=bn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xu=bn("srcset"),dv=To(yu,xu,bn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kM=bn("script,style,template");class jM{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,s=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?s=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,s&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let y=this.checkClobberedElement(e,e.nextSibling);if(y){e=y;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!gu.hasOwnProperty(e))return this.sanitizedSomething=!0,!kM.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const s=t.attributes;for(let y=0;y<s.length;y++){const D=s.item(y),b=D.name,O=b.toLowerCase();if(!dv.hasOwnProperty(O)){this.sanitizedSomething=!0;continue}let N=D.value;yu[O]&&(N=Co(N)),xu[O]&&(N=hv(N)),this.buf.push(" ",b,'="',pv(N),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();gu.hasOwnProperty(e)&&!uv.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(pv(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const $M=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,KM=/([^\#-~ |!])/g;function pv(i){return i.replace(/&/g,"&amp;").replace($M,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(KM,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wa;function vv(i,t){let e=null;try{Wa=Wa||function lv(i){const t=new zM(i);return function YM(){try{return!!(new window.DOMParser).parseFromString(ms(""),"text/html")}catch(i){return!1}}()?new HM(t):t}(i);let s=t?String(t):"";e=Wa.getInertBodyElement(s);let y=5,D=s;do{if(0===y)throw new Error("Failed to sanitize html because the input is unstable");y--,s=D,D=e.innerHTML,e=Wa.getInertBodyElement(s)}while(s!==D);return ms((new jM).sanitizeChildren(Cu(e)||e))}finally{if(e){const s=Cu(e)||e;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function Cu(i){return"content"in i&&function ZM(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var he=(()=>((he=he||{})[he.NONE=0]="NONE",he[he.HTML=1]="HTML",he[he.STYLE=2]="STYLE",he[he.SCRIPT=3]="SCRIPT",he[he.URL=4]="URL",he[he.RESOURCE_URL=5]="RESOURCE_URL",he))();const xv="__ngContext__";function ci(i,t){i[xv]=t}function Eu(i){const t=function So(i){return i[xv]||null}(i);return t?Array.isArray(t)?t:t.lView:null}function Mu(i){return i.ngOriginalError}function cA(i,...t){i.error(...t)}class cr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),s=function fA(i){return i&&i.ngErrorLogger||cA}(t);s(this._console,"ERROR",t),e&&s(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Mu(t);for(;e&&Mu(e);)e=Mu(e);return e||null}}const EA=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(me))();function Fn(i){return i instanceof Function?i():i}var Ii=(()=>((Ii=Ii||{})[Ii.Important=1]="Important",Ii[Ii.DashCase=2]="DashCase",Ii))();function Du(i,t){return undefined(i,t)}function Mo(i){const t=i[3];return cn(t)?t[3]:t}function Pu(i){return Rv(i[13])}function Ru(i){return Rv(i[4])}function Rv(i){for(;null!==i&&!cn(i);)i=i[4];return i}function ys(i,t,e,s,y){if(null!=s){let D,b=!1;cn(s)?D=s:Mn(s)&&(b=!0,s=s[0]);const O=He(s);0===i&&null!==e?null==y?Lv(t,e,O):Ir(t,e,O,y||null,!0):1===i&&null!==e?Ir(t,e,O,y||null,!0):2===i?function zv(i,t,e){const s=ka(i,t);s&&function BA(i,t,e,s){Ie(i)?i.removeChild(t,e,s):t.removeChild(e)}(i,s,t,e)}(t,O,b):3===i&&t.destroyNode(O),null!=D&&function UA(i,t,e,s,y){const D=e[7];D!==He(e)&&ys(t,i,s,D,y);for(let O=10;O<e.length;O++){const N=e[O];Ao(N[1],N,i,t,s,D)}}(t,i,D,e,y)}}function Fu(i,t,e){if(Ie(i))return i.createElement(t,e);{const s=null!==e?function SS(i){const t=i.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===s?i.createElement(t):i.createElementNS(s,t)}}function Fv(i,t){const e=i[9],s=e.indexOf(t),y=t[3];1024&t[2]&&(t[2]&=-1025,$h(y,-1)),e.splice(s,1)}function wu(i,t){if(i.length<=10)return;const e=10+t,s=i[e];if(s){const y=s[17];null!==y&&y!==i&&Fv(y,s),t>0&&(i[e-1][4]=s[4]);const D=Va(i,10+t);!function RA(i,t){Ao(i,t,t[11],2,null,null),t[0]=null,t[6]=null}(s[1],s);const b=D[19];null!==b&&b.detachView(D[1]),s[3]=null,s[4]=null,s[2]&=-129}return s}function wv(i,t){if(!(256&t[2])){const e=t[11];Ie(e)&&e.destroyNode&&Ao(i,t,e,3,null,null),function wA(i){let t=i[13];if(!t)return Ou(i[1],i);for(;t;){let e=null;if(Mn(t))e=t[13];else{const s=t[10];s&&(e=s)}if(!e){for(;t&&!t[4]&&t!==i;)Mn(t)&&Ou(t[1],t),t=t[3];null===t&&(t=i),Mn(t)&&Ou(t[1],t),e=t&&t[4]}t=e}}(t)}}function Ou(i,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function NA(i,t){let e;if(null!=i&&null!=(e=i.destroyHooks))for(let s=0;s<e.length;s+=2){const y=t[e[s]];if(!(y instanceof ao)){const D=e[s+1];if(Array.isArray(D))for(let b=0;b<D.length;b+=2){const O=y[D[b]],N=D[b+1];try{N.call(O)}finally{}}else try{D.call(y)}finally{}}}}(i,t),function LA(i,t){const e=i.cleanup,s=t[7];let y=-1;if(null!==e)for(let D=0;D<e.length-1;D+=2)if("string"==typeof e[D]){const b=e[D+1],O="function"==typeof b?b(t):He(t[b]),N=s[y=e[D+2]],z=e[D+3];"boolean"==typeof z?O.removeEventListener(e[D],N,z):z>=0?s[y=z]():s[y=-z].unsubscribe(),D+=2}else{const b=s[y=e[D+1]];e[D].call(b)}if(null!==s){for(let D=y+1;D<s.length;D++)s[D]();t[7]=null}}(i,t),1===t[1].type&&Ie(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&cn(t[3])){e!==t[3]&&Fv(e,t);const s=t[19];null!==s&&s.detachView(i)}}}function Ov(i,t,e){return function Iv(i,t,e){let s=t;for(;null!==s&&40&s.type;)s=(t=s).parent;if(null===s)return e[0];if(2&s.flags){const y=i.data[s.directiveStart].encapsulation;if(y===hn.None||y===hn.Emulated)return null}return $i(s,e)}(i,t.parent,e)}function Ir(i,t,e,s,y){Ie(i)?i.insertBefore(t,e,s,y):t.insertBefore(e,s,y)}function Lv(i,t,e){Ie(i)?i.appendChild(t,e):t.appendChild(e)}function Nv(i,t,e,s,y){null!==s?Ir(i,t,e,s,y):Lv(i,t,e)}function ka(i,t){return Ie(i)?i.parentNode(t):t.parentNode}function Bv(i,t,e){return Gv(i,t,e)}let Gv=function Vv(i,t,e){return 40&i.type?$i(i,e):null};function ja(i,t,e,s){const y=Ov(i,s,t),D=t[11],O=Bv(s.parent||t[6],s,t);if(null!=y)if(Array.isArray(e))for(let N=0;N<e.length;N++)Nv(D,y,e[N],O,!1);else Nv(D,y,e,O,!1)}function $a(i,t){if(null!==t){const e=t.type;if(3&e)return $i(t,i);if(4&e)return Lu(-1,i[t.index]);if(8&e){const s=t.child;if(null!==s)return $a(i,s);{const y=i[t.index];return cn(y)?Lu(-1,y):He(y)}}if(32&e)return Du(t,i)()||He(i[t.index]);{const s=Hv(i,t);return null!==s?Array.isArray(s)?s[0]:$a(Mo(i[16]),s):$a(i,t.next)}}return null}function Hv(i,t){return null!==t?i[16][6].projection[t.projection]:null}function Lu(i,t){const e=10+i+1;if(e<t.length){const s=t[e],y=s[1].firstChild;if(null!==y)return $a(s,y)}return t[7]}function Nu(i,t,e,s,y,D,b){for(;null!=e;){const O=s[e.index],N=e.type;if(b&&0===t&&(O&&ci(He(O),s),e.flags|=4),64!=(64&e.flags))if(8&N)Nu(i,t,e.child,s,y,D,!1),ys(t,i,y,O,D);else if(32&N){const z=Du(e,s);let k;for(;k=z();)ys(t,i,y,k,D);ys(t,i,y,O,D)}else 16&N?Yv(i,t,s,e,y,D):ys(t,i,y,O,D);e=b?e.projectionNext:e.next}}function Ao(i,t,e,s,y,D){Nu(e,s,i.firstChild,t,y,D,!1)}function Yv(i,t,e,s,y,D){const b=e[16],N=b[6].projection[s.projection];if(Array.isArray(N))for(let z=0;z<N.length;z++)ys(t,i,y,N[z],D);else Nu(i,t,N,b[3],y,D,!0)}function Xv(i,t,e){Ie(i)?i.setAttribute(t,"style",e):t.style.cssText=e}function Bu(i,t,e){Ie(i)?""===e?i.removeAttribute(t,"class"):i.setAttribute(t,"class",e):t.className=e}function Wv(i,t,e){let s=i.length;for(;;){const y=i.indexOf(t,e);if(-1===y)return y;if(0===y||i.charCodeAt(y-1)<=32){const D=t.length;if(y+D===s||i.charCodeAt(y+D)<=32)return y}e=y+1}}const kv="ng-template";function zA(i,t,e){let s=0;for(;s<i.length;){let y=i[s++];if(e&&"class"===y){if(y=i[s],-1!==Wv(y.toLowerCase(),t,0))return!0}else if(1===y){for(;s<i.length&&"string"==typeof(y=i[s++]);)if(y.toLowerCase()===t)return!0;return!1}}return!1}function jv(i){return 4===i.type&&i.value!==kv}function YA(i,t,e){return t===(4!==i.type||e?i.value:kv)}function XA(i,t,e){let s=4;const y=i.attrs||[],D=function jA(i){for(let t=0;t<i.length;t++)if(Lp(i[t]))return t;return i.length}(y);let b=!1;for(let O=0;O<t.length;O++){const N=t[O];if("number"!=typeof N){if(!b)if(4&s){if(s=2|1&s,""!==N&&!YA(i,N,e)||""===N&&1===t.length){if(pn(s))return!1;b=!0}}else{const z=8&s?N:t[++O];if(8&s&&null!==i.attrs){if(!zA(i.attrs,z,e)){if(pn(s))return!1;b=!0}continue}const Q=WA(8&s?"class":N,y,jv(i),e);if(-1===Q){if(pn(s))return!1;b=!0;continue}if(""!==z){let it;it=Q>D?"":y[Q+1].toLowerCase();const nt=8&s?it:null;if(nt&&-1!==Wv(nt,z,0)||2&s&&z!==it){if(pn(s))return!1;b=!0}}}}else{if(!b&&!pn(s)&&!pn(N))return!1;if(b&&pn(N))continue;b=!1,s=N|1&s}}return pn(s)||b}function pn(i){return 0==(1&i)}function WA(i,t,e,s){if(null===t)return-1;let y=0;if(s||!e){let D=!1;for(;y<t.length;){const b=t[y];if(b===i)return y;if(3===b||6===b)D=!0;else{if(1===b||2===b){let O=t[++y];for(;"string"==typeof O;)O=t[++y];continue}if(4===b)break;if(0===b){y+=4;continue}}y+=D?1:2}return-1}return function $A(i,t){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){const s=i[e];if("number"==typeof s)return-1;if(s===t)return e;e++}return-1}(t,i)}function $v(i,t,e=!1){for(let s=0;s<t.length;s++)if(XA(i,t[s],e))return!0;return!1}function KA(i,t){t:for(let e=0;e<t.length;e++){const s=t[e];if(i.length===s.length){for(let y=0;y<i.length;y++)if(i[y]!==s[y])continue t;return!0}}return!1}function Kv(i,t){return i?":not("+t.trim()+")":t}function ZA(i){let t=i[0],e=1,s=2,y="",D=!1;for(;e<i.length;){let b=i[e];if("string"==typeof b)if(2&s){const O=i[++e];y+="["+b+(O.length>0?'="'+O+'"':"")+"]"}else 8&s?y+="."+b:4&s&&(y+=" "+b);else""!==y&&!pn(b)&&(t+=Kv(D,y),y=""),s=b,D=D||!pn(s);e++}return""!==y&&(t+=Kv(D,y)),t}const Yt={};function Wt(i){Zv(se(),vt(),vi()+i,!1)}function Zv(i,t,e,s){if(!s)if(3==(3&t[2])){const D=i.preOrderCheckHooks;null!==D&&ba(t,D,e)}else{const D=i.preOrderHooks;null!==D&&Fa(t,D,0,e)}ur(e)}function Ka(i,t){return i<<17|t<<2}function vn(i){return i>>17&32767}function Vu(i){return 2|i}function $n(i){return(131068&i)>>2}function Gu(i,t){return-131069&i|t<<2}function Uu(i){return 1|i}function om(i,t){const e=i.contentQueries;if(null!==e)for(let s=0;s<e.length;s+=2){const y=e[s],D=e[s+1];if(-1!==D){const b=i.data[D];_h(y),b.contentQueries(2,t[D],D)}}}function Do(i,t,e,s,y,D,b,O,N,z){const k=t.blueprint.slice();return k[0]=y,k[2]=140|s,xp(k),k[3]=k[15]=i,k[8]=e,k[10]=b||i&&i[10],k[11]=O||i&&i[11],k[12]=N||i&&i[12]||null,k[9]=z||i&&i[9]||null,k[6]=D,k[16]=2==t.type?i[16]:k,k}function xs(i,t,e,s,y){let D=i.data[t];if(null===D)D=function Ku(i,t,e,s,y){const D=Ep(),b=Zh(),N=i.data[t]=function dD(i,t,e,s,y,D){return{type:e,index:s,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:y,attrs:D,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?D:D&&D.parent,e,t,s,y);return null===i.firstChild&&(i.firstChild=N),null!==D&&(b?null==D.child&&null!==N.parent&&(D.child=N):null===D.next&&(D.next=N)),N}(i,t,e,s,y),function NS(){return zt.lFrame.inI18n}()&&(D.flags|=64);else if(64&D.type){D.type=e,D.value=s,D.attrs=y;const b=function oo(){const i=zt.lFrame,t=i.currentTNode;return i.isParent?t:t.parent}();D.injectorIndex=null===b?-1:b.injectorIndex}return Dn(D,!0),D}function Cs(i,t,e,s){if(0===e)return-1;const y=t.length;for(let D=0;D<e;D++)t.push(s),i.blueprint.push(s),i.data.push(null);return y}function Po(i,t,e){Da(t);try{const s=i.viewQuery;null!==s&&rf(1,s,e);const y=i.template;null!==y&&am(i,t,y,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&om(i,t),i.staticViewQueries&&rf(2,i.viewQuery,e);const D=i.components;null!==D&&function uD(i,t){for(let e=0;e<t.length;e++)wD(i,t[e])}(t,D)}catch(s){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),s}finally{t[2]&=-5,Pa()}}function Ts(i,t,e,s){const y=t[2];if(256!=(256&y)){Da(t);try{xp(t),function Sp(i){return zt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==e&&am(i,t,e,2,s);const b=3==(3&y);if(b){const z=i.preOrderCheckHooks;null!==z&&ba(t,z,null)}else{const z=i.preOrderHooks;null!==z&&Fa(t,z,0,null),tu(t,0)}if(function bD(i){for(let t=Pu(i);null!==t;t=Ru(t)){if(!t[2])continue;const e=t[9];for(let s=0;s<e.length;s++){const y=e[s],D=y[3];0==(1024&y[2])&&$h(D,1),y[2]|=1024}}}(t),function RD(i){for(let t=Pu(i);null!==t;t=Ru(t))for(let e=10;e<t.length;e++){const s=t[e],y=s[1];jh(s)&&Ts(y,s,y.template,s[8])}}(t),null!==i.contentQueries&&om(i,t),b){const z=i.contentCheckHooks;null!==z&&ba(t,z)}else{const z=i.contentHooks;null!==z&&Fa(t,z,1),tu(t,1)}!function lD(i,t){const e=i.hostBindingOpCodes;if(null!==e)try{for(let s=0;s<e.length;s++){const y=e[s];if(y<0)ur(~y);else{const D=y,b=e[++s],O=e[++s];BS(b,D),O(2,t[D])}}}finally{ur(-1)}}(i,t);const O=i.components;null!==O&&function hD(i,t){for(let e=0;e<t.length;e++)FD(i,t[e])}(t,O);const N=i.viewQuery;if(null!==N&&rf(2,N,s),b){const z=i.viewCheckHooks;null!==z&&ba(t,z)}else{const z=i.viewHooks;null!==z&&Fa(t,z,2),tu(t,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),t[2]&=-73,1024&t[2]&&(t[2]&=-1025,$h(t[3],-1))}finally{Pa()}}}function fD(i,t,e,s){const y=t[10],b=yp(t);try{!b&&y.begin&&y.begin(),b&&Po(i,t,s),Ts(i,t,e,s)}finally{!b&&y.end&&y.end()}}function am(i,t,e,s,y){const D=vi(),b=2&s;try{ur(-1),b&&t.length>20&&Zv(i,t,20,!1),e(s,y)}finally{ur(D)}}function lm(i,t,e){if(Gh(t)){const y=t.directiveEnd;for(let D=t.directiveStart;D<y;D++){const b=i.data[D];b.contentQueries&&b.contentQueries(1,e[D],D)}}}function Zu(i,t,e){!Tp()||(function CD(i,t,e,s){const y=e.directiveStart,D=e.directiveEnd;i.firstCreatePass||ho(e,t),ci(s,t);const b=e.initialInputs;for(let O=y;O<D;O++){const N=i.data[O],z=dn(N);z&&AD(t,e,N);const k=uo(t,i,O,e);ci(k,t),null!==b&&DD(0,O-y,k,N,0,b),z&&(Fi(e.index,t)[8]=k)}}(i,t,e,$i(e,t)),128==(128&e.flags)&&function TD(i,t,e){const s=e.directiveStart,y=e.directiveEnd,b=e.index,O=function VS(){return zt.lFrame.currentDirectiveIndex}();try{ur(b);for(let N=s;N<y;N++){const z=i.data[N],k=t[N];Jh(N),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&mm(z,k)}}finally{ur(-1),Jh(O)}}(i,t,e))}function Qu(i,t,e=$i){const s=t.localNames;if(null!==s){let y=t.index+1;for(let D=0;D<s.length;D+=2){const b=s[D+1],O=-1===b?e(t,i):i[b];i[y++]=O}}}function hm(i){const t=i.tView;return null===t||t.incompleteFirstPass?i.tView=Ja(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):t}function Ja(i,t,e,s,y,D,b,O,N,z){const k=20+s,Q=k+y,it=function cD(i,t){const e=[];for(let s=0;s<t;s++)e.push(s<i?null:Yt);return e}(k,Q),nt="function"==typeof z?z():z;return it[1]={type:i,blueprint:it,template:e,queries:null,viewQuery:O,declTNode:t,data:it.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:Q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof D?D():D,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:N,consts:nt,incompleteFirstPass:!1}}function cm(i,t,e,s){const y=Em(t);null===e?y.push(s):(y.push(e),i.firstCreatePass&&Sm(i).push(s,y.length-1))}function dm(i,t,e){for(let s in i)if(i.hasOwnProperty(s)){const y=i[s];(e=null===e?{}:e).hasOwnProperty(s)?e[s].push(t,y):e[s]=[t,y]}return e}function Li(i,t,e,s,y,D,b,O){const N=$i(t,e);let k,z=t.inputs;!O&&null!=z&&(k=z[s])?(Dm(i,e,k,s,y),Ea(t)&&function mD(i,t){const e=Fi(t,i);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(s=function vD(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(s),y=null!=b?b(y,t.value||"",s):y,Ie(D)?D.setProperty(N,s,y):iu(s)||(N.setProperty?N.setProperty(s,y):N[s]=y))}function Ju(i,t,e,s){let y=!1;if(Tp()){const D=function ED(i,t,e){const s=i.directiveRegistry;let y=null;if(s)for(let D=0;D<s.length;D++){const b=s[D];$v(e,b.selectors,!1)&&(y||(y=[]),Na(ho(e,t),i,b.type),dn(b)?(gm(i,e),y.unshift(b)):y.push(b))}return y}(i,t,e),b=null===s?null:{"":-1};if(null!==D){y=!0,ym(e,i.data.length,D.length);for(let k=0;k<D.length;k++){const Q=D[k];Q.providersResolver&&Q.providersResolver(Q)}let O=!1,N=!1,z=Cs(i,t,D.length,null);for(let k=0;k<D.length;k++){const Q=D[k];e.mergedAttrs=Oa(e.mergedAttrs,Q.hostAttrs),xm(i,e,t,z,Q),MD(z,Q,b),null!==Q.contentQueries&&(e.flags|=8),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(e.flags|=128);const it=Q.type.prototype;!O&&(it.ngOnChanges||it.ngOnInit||it.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e.index),O=!0),!N&&(it.ngOnChanges||it.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e.index),N=!0),z++}!function pD(i,t){const s=t.directiveEnd,y=i.data,D=t.attrs,b=[];let O=null,N=null;for(let z=t.directiveStart;z<s;z++){const k=y[z],Q=k.inputs,it=null===D||jv(t)?null:PD(Q,D);b.push(it),O=dm(Q,z,O),N=dm(k.outputs,z,N)}null!==O&&(O.hasOwnProperty("class")&&(t.flags|=16),O.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=b,t.inputs=O,t.outputs=N}(i,e)}b&&function SD(i,t,e){if(t){const s=i.localNames=[];for(let y=0;y<t.length;y+=2){const D=e[t[y+1]];if(null==D)throw new At(-301,!1);s.push(t[y],D)}}}(e,s,b)}return e.mergedAttrs=Oa(e.mergedAttrs,e.attrs),y}function vm(i,t,e,s,y,D){const b=D.hostBindings;if(b){let O=i.hostBindingOpCodes;null===O&&(O=i.hostBindingOpCodes=[]);const N=~t.index;(function xD(i){let t=i.length;for(;t>0;){const e=i[--t];if("number"==typeof e&&e<0)return e}return 0})(O)!=N&&O.push(N),O.push(s,y,b)}}function mm(i,t){null!==i.hostBindings&&i.hostBindings(1,t)}function gm(i,t){t.flags|=2,(i.components||(i.components=[])).push(t.index)}function MD(i,t,e){if(e){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)e[t.exportAs[s]]=i;dn(t)&&(e[""]=i)}}function ym(i,t,e){i.flags|=1,i.directiveStart=t,i.directiveEnd=t+e,i.providerIndexes=t}function xm(i,t,e,s,y){i.data[s]=y;const D=y.factory||(y.factory=br(y.type)),b=new ao(D,dn(y),null);i.blueprint[s]=b,e[s]=b,vm(i,t,0,s,Cs(i,e,y.hostVars,Yt),y)}function AD(i,t,e){const s=$i(t,i),y=hm(e),D=i[10],b=qa(i,Do(i,y,null,e.onPush?64:16,s,t,D,D.createRenderer(s,e),null,null));i[t.index]=b}function wn(i,t,e,s,y,D){const b=$i(i,t);!function qu(i,t,e,s,y,D,b){if(null==D)Ie(i)?i.removeAttribute(t,y,e):t.removeAttribute(y);else{const O=null==b?Ht(D):b(D,s||"",y);Ie(i)?i.setAttribute(t,y,O,e):e?t.setAttributeNS(e,y,O):t.setAttribute(y,O)}}(t[11],b,D,i.value,e,s,y)}function DD(i,t,e,s,y,D){const b=D[t];if(null!==b){const O=s.setInput;for(let N=0;N<b.length;){const z=b[N++],k=b[N++],Q=b[N++];null!==O?s.setInput(e,Q,z,k):e[k]=Q}}}function PD(i,t){let e=null,s=0;for(;s<t.length;){const y=t[s];if(0!==y)if(5!==y){if("number"==typeof y)break;i.hasOwnProperty(y)&&(null===e&&(e=[]),e.push(y,i[y],t[s+1])),s+=2}else s+=2;else s+=4}return e}function Cm(i,t,e,s){return new Array(i,!0,!1,t,null,0,s,e,null,null)}function FD(i,t){const e=Fi(t,i);if(jh(e)){const s=e[1];80&e[2]?Ts(s,e,s.template,e[8]):e[5]>0&&_u(e)}}function _u(i){for(let s=Pu(i);null!==s;s=Ru(s))for(let y=10;y<s.length;y++){const D=s[y];if(1024&D[2]){const b=D[1];Ts(b,D,b.template,D[8])}else D[5]>0&&_u(D)}const e=i[1].components;if(null!==e)for(let s=0;s<e.length;s++){const y=Fi(e[s],i);jh(y)&&y[5]>0&&_u(y)}}function wD(i,t){const e=Fi(t,i),s=e[1];(function OD(i,t){for(let e=t.length;e<i.blueprint.length;e++)t.push(i.blueprint[e])})(s,e),Po(s,e,e[8])}function qa(i,t){return i[13]?i[14][4]=t:i[13]=t,i[14]=t,t}function tf(i){for(;i;){i[2]|=64;const t=Mo(i);if(dS(i)&&!t)return i;i=t}return null}function Tm(i){!function ef(i){for(let t=0;t<i.components.length;t++){const e=i.components[t],s=Eu(e),y=s[1];fD(y,s,y.template,e)}}(i[8])}function rf(i,t,e){_h(0),t(i,e)}const LD=(()=>Promise.resolve(null))();function Em(i){return i[7]||(i[7]=[])}function Sm(i){return i.cleanup||(i.cleanup=[])}function Am(i,t){const e=i[9],s=e?e.get(cr,null):null;s&&s.handleError(t)}function Dm(i,t,e,s,y){for(let D=0;D<e.length;){const b=e[D++],O=e[D++],N=t[b],z=i.data[b];null!==z.setInput?z.setInput(N,y,s,O):N[O]=y}}function Kn(i,t,e){const s=Ma(t,i);!function bv(i,t,e){Ie(i)?i.setValue(t,e):t.textContent=e}(i[11],s,e)}function _a(i,t,e){let s=e?i.styles:null,y=e?i.classes:null,D=0;if(null!==t)for(let b=0;b<t.length;b++){const O=t[b];"number"==typeof O?D=O:1==D?y=bh(y,O):2==D&&(s=bh(s,O+": "+t[++b]+";"))}e?i.styles=s:i.stylesWithoutHost=s,e?i.classes=y:i.classesWithoutHost=y}const sf=new Dt("INJECTOR",-1);class Pm{get(t,e=vo){if(e===vo){const s=new Error(`NullInjectorError: No provider for ${de(t)}!`);throw s.name="NullInjectorError",s}return e}}const af=new Dt("Set Injector scope."),Ro={},VD={};let lf;function Rm(){return void 0===lf&&(lf=new Pm),lf}function bm(i,t=null,e=null,s){const y=Fm(i,t,e,s);return y._resolveInjectorDefTypes(),y}function Fm(i,t=null,e=null,s){return new GD(i,e,t||Rm(),s)}class GD{constructor(t,e,s,y=null){this.parent=s,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const D=[];e&&Pn(e,O=>this.processProvider(O,t,e)),Pn([t],O=>this.processInjectorType(O,[],D)),this.records.set(sf,Es(void 0,this));const b=this.records.get(af);this.scope=null!=b?b.value:null,this.source=y||("object"==typeof t?null:de(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=vo,s=Xt.Default){this.assertNotDestroyed();const y=qp(this),D=or(void 0);try{if(!(s&Xt.SkipSelf)){let O=this.records.get(t);if(void 0===O){const N=function jD(i){return"function"==typeof i||"object"==typeof i&&i instanceof Dt}(t)&&wh(t);O=N&&this.injectableDefInScope(N)?Es(hf(t),Ro):null,this.records.set(t,O)}if(null!=O)return this.hydrate(t,O)}return(s&Xt.Self?Rm():this.parent).get(t,e=s&Xt.Optional&&e===vo?null:e)}catch(b){if("NullInjectorError"===b.name){if((b[Ua]=b[Ua]||[]).unshift(de(t)),y)throw b;return function yM(i,t,e,s){const y=i[Ua];throw t[Jp]&&y.unshift(t[Jp]),i.message=function xM(i,t,e,s=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let y=de(t);if(Array.isArray(t))y=t.map(de).join(" -> ");else if("object"==typeof t){let D=[];for(let b in t)if(t.hasOwnProperty(b)){let O=t[b];D.push(b+":"+("string"==typeof O?JSON.stringify(O):de(O)))}y=`{${D.join(", ")}}`}return`${e}${s?"("+s+")":""}[${y}]: ${i.replace(dM,"\n  ")}`}("\n"+i.message,y,e,s),i.ngTokenPath=y,i[Ua]=null,i}(b,t,"R3InjectorError",this.source)}throw b}finally{or(D),qp(y)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((s,y)=>t.push(de(y))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new At(205,!1)}processInjectorType(t,e,s){if(!(t=jt(t)))return!1;let y=sp(t);const D=null==y&&t.ngModule||void 0,b=void 0===D?t:D,O=-1!==s.indexOf(b);if(void 0!==D&&(y=sp(D)),null==y)return!1;if(null!=y.imports&&!O){let k;s.push(b);try{Pn(y.imports,Q=>{this.processInjectorType(Q,e,s)&&(void 0===k&&(k=[]),k.push(Q))})}finally{}if(void 0!==k)for(let Q=0;Q<k.length;Q++){const{ngModule:it,providers:nt}=k[Q];Pn(nt,st=>this.processProvider(st,it,nt||Te))}}this.injectorDefTypes.add(b);const N=br(b)||(()=>new b);this.records.set(b,Es(N,Ro));const z=y.providers;if(null!=z&&!O){const k=t;Pn(z,Q=>this.processProvider(Q,k,z))}return void 0!==D&&void 0!==t.providers}processProvider(t,e,s){let y=Ss(t=jt(t))?t:jt(t&&t.provide);const D=function HD(i,t,e){return Om(i)?Es(void 0,i.useValue):Es(wm(i),Ro)}(t);if(Ss(t)||!0!==t.multi)this.records.get(y);else{let b=this.records.get(y);b||(b=Es(void 0,Ro,!0),b.factory=()=>cu(b.multi),this.records.set(y,b)),y=t,b.multi.push(t)}this.records.set(y,D)}hydrate(t,e){return e.value===Ro&&(e.value=VD,e.value=e.factory()),"object"==typeof e.value&&e.value&&function kD(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=jt(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function hf(i){const t=wh(i),e=null!==t?t.factory:br(i);if(null!==e)return e;if(i instanceof Dt)throw new At(204,!1);if(i instanceof Function)return function UD(i){const t=i.length;if(t>0)throw po(t,"?"),new At(204,!1);const e=function tS(i){const t=i&&(i[ga]||i[op]);if(t){const e=function eS(i){if(i.hasOwnProperty("name"))return i.name;const t=(""+i).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(i);return null!==e?()=>e.factory(i):()=>new i}(i);throw new At(204,!1)}function wm(i,t,e){let s;if(Ss(i)){const y=jt(i);return br(y)||hf(y)}if(Om(i))s=()=>jt(i.useValue);else if(function YD(i){return!(!i||!i.useFactory)}(i))s=()=>i.useFactory(...cu(i.deps||[]));else if(function zD(i){return!(!i||!i.useExisting)}(i))s=()=>pt(jt(i.useExisting));else{const y=jt(i&&(i.useClass||i.provide));if(!function WD(i){return!!i.deps}(i))return br(y)||hf(y);s=()=>new y(...cu(i.deps))}return s}function Es(i,t,e=!1){return{factory:i,value:t,multi:e?[]:void 0}}function Om(i){return null!==i&&"object"==typeof i&&vM in i}function Ss(i){return"function"==typeof i}let Mi=(()=>{class i{static create(e,s){var y;if(Array.isArray(e))return bm({name:""},s,e,"");{const D=null!==(y=e.name)&&void 0!==y?y:"";return bm({name:D},e.parent,e.providers,D)}}}return i.THROW_IF_NOT_FOUND=vo,i.NULL=new Pm,i.\u0275prov=wt({token:i,providedIn:"any",factory:()=>pt(sf)}),i.__NG_ELEMENT_ID__=-1,i})();function t1(i,t){Ra(Eu(i)[1],Ze())}function Jt(i){let t=function Wm(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),e=!0;const s=[i];for(;t;){let y;if(dn(i))y=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new At(903,"");y=t.\u0275dir}if(y){if(e){s.push(y);const b=i;b.inputs=cf(i.inputs),b.declaredInputs=cf(i.declaredInputs),b.outputs=cf(i.outputs);const O=y.hostBindings;O&&s1(i,O);const N=y.viewQuery,z=y.contentQueries;if(N&&n1(i,N),z&&r1(i,z),Rh(i.inputs,y.inputs),Rh(i.declaredInputs,y.declaredInputs),Rh(i.outputs,y.outputs),dn(y)&&y.data.animation){const k=i.data;k.animation=(k.animation||[]).concat(y.data.animation)}}const D=y.features;if(D)for(let b=0;b<D.length;b++){const O=D[b];O&&O.ngInherit&&O(i),O===Jt&&(e=!1)}}t=Object.getPrototypeOf(t)}!function e1(i){let t=0,e=null;for(let s=i.length-1;s>=0;s--){const y=i[s];y.hostVars=t+=y.hostVars,y.hostAttrs=Oa(y.hostAttrs,e=Oa(e,y.hostAttrs))}}(s)}function cf(i){return i===ts?{}:i===Te?[]:i}function n1(i,t){const e=i.viewQuery;i.viewQuery=e?(s,y)=>{t(s,y),e(s,y)}:t}function r1(i,t){const e=i.contentQueries;i.contentQueries=e?(s,y,D)=>{t(s,y,D),e(s,y,D)}:t}function s1(i,t){const e=i.hostBindings;i.hostBindings=e?(s,y)=>{t(s,y),e(s,y)}:t}let tl=null;function Ms(){if(!tl){const i=me.Symbol;if(i&&i.iterator)tl=i.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const s=t[e];"entries"!==s&&"size"!==s&&Map.prototype[s]===Map.prototype.entries&&(tl=s)}}}return tl}function bo(i){return!!df(i)&&(Array.isArray(i)||!(i instanceof Map)&&Ms()in i)}function df(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function On(i,t,e){return i[t]=e}function di(i,t,e){return!Object.is(i[t],e)&&(i[t]=e,!0)}function Lr(i,t,e,s){const y=di(i,t,e);return di(i,t+1,s)||y}function ze(i,t,e,s){const y=vt();return di(y,os(),t)&&(se(),wn(Le(),y,i,t,e,s)),ze}function Ps(i,t,e,s,y,D){const O=Lr(i,function kn(){return zt.lFrame.bindingIndex}(),e,y);return jn(2),O?t+Ht(e)+s+Ht(y)+D:Yt}function Qi(i,t,e,s,y,D,b,O){const N=vt(),z=se(),k=i+20,Q=z.firstCreatePass?function c1(i,t,e,s,y,D,b,O,N){const z=t.consts,k=xs(t,i,4,b||null,hr(z,O));Ju(t,e,k,hr(z,N)),Ra(t,k);const Q=k.tViews=Ja(2,k,s,y,D,t.directiveRegistry,t.pipeRegistry,null,t.schemas,z);return null!==t.queries&&(t.queries.template(t,k),Q.queries=t.queries.embeddedTView(k)),k}(k,z,N,t,e,s,y,D,b):z.data[k];Dn(Q,!1);const it=N[11].createComment("");ja(z,N,it,Q),ci(it,N),qa(N,N[k]=Cm(it,N,it,Q)),Sa(Q)&&Zu(z,N,Q),null!=b&&Qu(N,Q,O)}function Ls(i){return ss(function LS(){return zt.lFrame.contextLView}(),20+i)}function ht(i,t=Xt.Default){const e=vt();return null===e?pt(i,t):zp(Ze(),e,jt(i),t)}function Kt(i,t,e){const s=vt();return di(s,os(),t)&&Li(se(),Le(),s,i,t,s[11],e,!1),Kt}function yf(i,t,e,s,y){const b=y?"class":"style";Dm(i,e,t.inputs[b],b,s)}function Mt(i,t,e,s){const y=vt(),D=se(),b=20+i,O=y[11],N=y[b]=Fu(O,t,function XS(){return zt.lFrame.currentNamespace}()),z=D.firstCreatePass?function I1(i,t,e,s,y,D,b){const O=t.consts,z=xs(t,i,2,y,hr(O,D));return Ju(t,e,z,hr(O,b)),null!==z.attrs&&_a(z,z.attrs,!1),null!==z.mergedAttrs&&_a(z,z.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,z),z}(b,D,y,0,t,e,s):D.data[b];Dn(z,!0);const k=z.mergedAttrs;null!==k&&wa(O,N,k);const Q=z.classes;null!==Q&&Bu(O,N,Q);const it=z.styles;return null!==it&&Xv(O,N,it),64!=(64&z.flags)&&ja(D,y,N,z),0===function bS(){return zt.lFrame.elementDepthCount}()&&ci(N,y),function FS(){zt.lFrame.elementDepthCount++}(),Sa(z)&&(Zu(D,y,z),lm(D,z,y)),null!==s&&Qu(y,z),Mt}function Ot(){let i=Ze();Zh()?Qh():(i=i.parent,Dn(i,!1));const t=i;!function wS(){zt.lFrame.elementDepthCount--}();const e=se();return e.firstCreatePass&&(Ra(e,i),Gh(i)&&e.queries.elementEnd(i)),null!=t.classesWithoutHost&&function KS(i){return 0!=(16&i.flags)}(t)&&yf(e,t,vt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function ZS(i){return 0!=(32&i.flags)}(t)&&yf(e,t,vt(),t.stylesWithoutHost,!1),Ot}function Je(i,t,e,s){return Mt(i,t,e,s),Ot(),Je}function wo(i,t,e){const s=vt(),y=se(),D=i+20,b=y.firstCreatePass?function L1(i,t,e,s,y){const D=t.consts,b=hr(D,s),O=xs(t,i,8,"ng-container",b);return null!==b&&_a(O,b,!0),Ju(t,e,O,hr(D,y)),null!==t.queries&&t.queries.elementStart(t,O),O}(D,y,s,t,e):y.data[D];Dn(b,!0);const O=s[D]=s[11].createComment("");return ja(y,s,O,b),ci(O,s),Sa(b)&&(Zu(y,s,b),lm(y,b,s)),null!=e&&Qu(s,b),wo}function Oo(){let i=Ze();const t=se();return Zh()?Qh():(i=i.parent,Dn(i,!1)),t.firstCreatePass&&(Ra(t,i),Gh(i)&&t.queries.elementEnd(i)),Oo}function xf(){return vt()}function nl(i){return!!i&&"function"==typeof i.then}function cg(i){return!!i&&"function"==typeof i.subscribe}const dg=cg;function le(i,t,e,s){const y=vt(),D=se(),b=Ze();return function vg(i,t,e,s,y,D,b,O){const N=Sa(s),k=i.firstCreatePass&&Sm(i),Q=t[8],it=Em(t);let nt=!0;if(3&s.type||O){const dt=$i(s,t),yt=O?O(dt):dt,ut=it.length,Tt=O?Ft=>O(He(Ft[s.index])):s.index;if(Ie(e)){let Ft=null;if(!O&&N&&(Ft=function N1(i,t,e,s){const y=i.cleanup;if(null!=y)for(let D=0;D<y.length-1;D+=2){const b=y[D];if(b===e&&y[D+1]===s){const O=t[7],N=y[D+2];return O.length>N?O[N]:null}"string"==typeof b&&(D+=2)}return null}(i,t,y,s.index)),null!==Ft)(Ft.__ngLastListenerFn__||Ft).__ngNextListenerFn__=D,Ft.__ngLastListenerFn__=D,nt=!1;else{D=Cf(s,t,Q,D,!1);const Qt=e.listen(yt,y,D);it.push(D,Qt),k&&k.push(y,Tt,ut,ut+1)}}else D=Cf(s,t,Q,D,!0),yt.addEventListener(y,D,b),it.push(D),k&&k.push(y,Tt,ut,b)}else D=Cf(s,t,Q,D,!1);const st=s.outputs;let lt;if(nt&&null!==st&&(lt=st[y])){const dt=lt.length;if(dt)for(let yt=0;yt<dt;yt+=2){const be=t[lt[yt]][lt[yt+1]].subscribe(D),we=it.length;it.push(D,be),k&&k.push(y,s.index,we,-(we+1))}}}(D,y,y[11],b,i,t,!!e,s),le}function mg(i,t,e,s){try{return!1!==e(s)}catch(y){return Am(i,y),!1}}function Cf(i,t,e,s,y){return function D(b){if(b===Function)return s;const O=2&i.flags?Fi(i.index,t):t;0==(32&t[2])&&tf(O);let N=mg(t,0,s,b),z=D.__ngNextListenerFn__;for(;z;)N=mg(t,0,z,b)&&N,z=z.__ngNextListenerFn__;return y&&!1===N&&(b.preventDefault(),b.returnValue=!1),N}}function In(i=1){return function US(i){return(zt.lFrame.contextLView=function HS(i,t){for(;i>0;)t=t[15],i--;return t}(i,zt.lFrame.contextLView))[8]}(i)}function B1(i,t){let e=null;const s=function kA(i){const t=i.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(i);for(let y=0;y<t.length;y++){const D=t[y];if("*"!==D){if(null===s?$v(i,D,!0):KA(s,D))return y}else e=y}return e}function Bs(i){const t=vt()[16][6];if(!t.projection){const s=t.projection=po(i?i.length:1,null),y=s.slice();let D=t.child;for(;null!==D;){const b=i?B1(D,i):0;null!==b&&(y[b]?y[b].projectionNext=D:s[b]=D,y[b]=D),D=D.next}}}function Ni(i,t=0,e){const s=vt(),y=se(),D=xs(y,20+i,16,null,e||null);null===D.projection&&(D.projection=t),Qh(),64!=(64&D.flags)&&function GA(i,t,e){Yv(t[11],0,t,e,Ov(i,e,t),Bv(e.parent||t[6],e,t))}(y,s,D)}function Dg(i,t,e,s,y){const D=i[e+1],b=null===t;let O=s?vn(D):$n(D),N=!1;for(;0!==O&&(!1===N||b);){const k=i[O+1];U1(i[O],t)&&(N=!0,i[O+1]=s?Uu(k):Vu(k)),O=s?vn(k):$n(k)}N&&(i[e+1]=s?Vu(D):Uu(D))}function U1(i,t){return null===i||null==t||(Array.isArray(i)?i[1]:i)===t||!(!Array.isArray(i)||"string"!=typeof t)&&ps(i,t)>=0}function Ef(i,t,e){return gn(i,t,e,!1),Ef}function ii(i,t){return gn(i,t,null,!0),ii}function gn(i,t,e,s){const y=vt(),D=se(),b=jn(2);D.firstUpdatePass&&function Lg(i,t,e,s){const y=i.data;if(null===y[e+1]){const D=y[vi()],b=function Ig(i,t){return t>=i.expandoStartIndex}(i,e);(function Gg(i,t){return 0!=(i.flags&(t?16:32))})(D,s)&&null===t&&!b&&(t=!1),t=function K1(i,t,e,s){const y=function qh(i){const t=zt.lFrame.currentDirectiveIndex;return-1===t?null:i[t]}(i);let D=s?t.residualClasses:t.residualStyles;if(null===y)0===(s?t.classBindings:t.styleBindings)&&(e=Io(e=Sf(null,i,t,e,s),t.attrs,s),D=null);else{const b=t.directiveStylingLast;if(-1===b||i[b]!==y)if(e=Sf(y,i,t,e,s),null===D){let N=function Z1(i,t,e){const s=e?t.classBindings:t.styleBindings;if(0!==$n(s))return i[vn(s)]}(i,t,s);void 0!==N&&Array.isArray(N)&&(N=Sf(null,i,t,N[1],s),N=Io(N,t.attrs,s),function Q1(i,t,e,s){i[vn(e?t.classBindings:t.styleBindings)]=s}(i,t,s,N))}else D=function J1(i,t,e){let s;const y=t.directiveEnd;for(let D=1+t.directiveStylingLast;D<y;D++)s=Io(s,i[D].hostAttrs,e);return Io(s,t.attrs,e)}(i,t,s)}return void 0!==D&&(s?t.residualClasses=D:t.residualStyles=D),e}(y,D,t,s),function V1(i,t,e,s,y,D){let b=D?t.classBindings:t.styleBindings,O=vn(b),N=$n(b);i[s]=e;let k,z=!1;if(Array.isArray(e)){const Q=e;k=Q[1],(null===k||ps(Q,k)>0)&&(z=!0)}else k=e;if(y)if(0!==N){const it=vn(i[O+1]);i[s+1]=Ka(it,O),0!==it&&(i[it+1]=Gu(i[it+1],s)),i[O+1]=function qA(i,t){return 131071&i|t<<17}(i[O+1],s)}else i[s+1]=Ka(O,0),0!==O&&(i[O+1]=Gu(i[O+1],s)),O=s;else i[s+1]=Ka(N,0),0===O?O=s:i[N+1]=Gu(i[N+1],s),N=s;z&&(i[s+1]=Vu(i[s+1])),Dg(i,k,s,!0),Dg(i,k,s,!1),function G1(i,t,e,s,y){const D=y?i.residualClasses:i.residualStyles;null!=D&&"string"==typeof t&&ps(D,t)>=0&&(e[s+1]=Uu(e[s+1]))}(t,k,i,s,D),b=Ka(O,N),D?t.classBindings=b:t.styleBindings=b}(y,D,t,e,b,s)}}(D,i,b,s),t!==Yt&&di(y,b,t)&&function Bg(i,t,e,s,y,D,b,O){if(!(3&t.type))return;const N=i.data,z=N[O+1];rl(function qv(i){return 1==(1&i)}(z)?Vg(N,t,e,y,$n(z),b):void 0)||(rl(D)||function Jv(i){return 2==(2&i)}(z)&&(D=Vg(N,null,e,y,O,b)),function HA(i,t,e,s,y){const D=Ie(i);if(t)y?D?i.addClass(e,s):e.classList.add(s):D?i.removeClass(e,s):e.classList.remove(s);else{let b=-1===s.indexOf("-")?void 0:Ii.DashCase;if(null==y)D?i.removeStyle(e,s,b):e.style.removeProperty(s);else{const O="string"==typeof y&&y.endsWith("!important");O&&(y=y.slice(0,-10),b|=Ii.Important),D?i.setStyle(e,s,y,b):e.style.setProperty(s,y,O?"important":"")}}}(s,b,Ma(vi(),e),y,D))}(D,D.data[vi()],y,y[11],i,y[b+1]=function tP(i,t){return null==i||("string"==typeof t?i+=t:"object"==typeof i&&(i=de(Oi(i)))),i}(t,e),s,b)}function Sf(i,t,e,s,y){let D=null;const b=e.directiveEnd;let O=e.directiveStylingLast;for(-1===O?O=e.directiveStart:O++;O<b&&(D=t[O],s=Io(s,D.hostAttrs,y),D!==i);)O++;return null!==i&&(e.directiveStylingLast=O),s}function Io(i,t,e){const s=e?1:2;let y=-1;if(null!==t)for(let D=0;D<t.length;D++){const b=t[D];"number"==typeof b?y=b:y===s&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),wi(i,b,!!e||t[++D]))}return void 0===i?null:i}function Vg(i,t,e,s,y,D){const b=null===t;let O;for(;y>0;){const N=i[y],z=Array.isArray(N),k=z?N[1]:N,Q=null===k;let it=e[y+1];it===Yt&&(it=Q?Te:void 0);let nt=Q?hu(it,s):k===s?it:void 0;if(z&&!rl(nt)&&(nt=hu(N,s)),rl(nt)&&(O=nt,b))return O;const st=i[y+1];y=b?vn(st):$n(st)}if(null!==t){let N=D?t.residualClasses:t.residualStyles;null!=N&&(O=hu(N,s))}return O}function rl(i){return void 0!==i}function ue(i,t=""){const e=vt(),s=se(),y=i+20,D=s.firstCreatePass?xs(s,y,1,t,null):s.data[y],b=e[y]=function bu(i,t){return Ie(i)?i.createText(t):i.createTextNode(t)}(e[11],t);ja(s,e,b,D),Dn(D,!1)}function Gs(i){return Lo("",i,""),Gs}function Lo(i,t,e){const s=vt(),y=function Ds(i,t,e,s){return di(i,os(),e)?t+Ht(e)+s:Yt}(s,i,t,e);return y!==Yt&&Kn(s,vi(),y),Lo}function Mf(i,t,e,s,y){const D=vt(),b=Ps(D,i,t,e,s,y);return b!==Yt&&Kn(D,vi(),b),Mf}function No(i,t,e){const s=vt();return di(s,os(),t)&&Li(se(),Le(),s,i,t,s[11],e,!0),No}const Nr=void 0;var CP=["en",[["a","p"],["AM","PM"],Nr],[["AM","PM"],Nr,Nr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nr,"{1} 'at' {0}",Nr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xP(i){const e=Math.floor(Math.abs(i)),s=i.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===s?1:5}];let Us={};function gi(i){const t=function TP(i){return i.toLowerCase().replace(/_/g,"-")}(i);let e=ny(t);if(e)return e;const s=t.split("-")[0];if(e=ny(s),e)return e;if("en"===s)return CP;throw new Error(`Missing locale data for the locale "${i}".`)}function ny(i){return i in Us||(Us[i]=me.ng&&me.ng.common&&me.ng.common.locales&&me.ng.common.locales[i]),Us[i]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const sl="en-US";let ry=sl;function Pf(i,t,e,s,y){if(i=jt(i),Array.isArray(i))for(let D=0;D<i.length;D++)Pf(i[D],t,e,s,y);else{const D=se(),b=vt();let O=Ss(i)?i:jt(i.provide),N=wm(i);const z=Ze(),k=1048575&z.providerIndexes,Q=z.directiveStart,it=z.providerIndexes>>20;if(Ss(i)||!i.multi){const nt=new ao(N,y,ht),st=bf(O,t,y?k:k+it,Q);-1===st?(Na(ho(z,b),D,O),Rf(D,i,t.length),t.push(O),z.directiveStart++,z.directiveEnd++,y&&(z.providerIndexes+=1048576),e.push(nt),b.push(nt)):(e[st]=nt,b[st]=nt)}else{const nt=bf(O,t,k+it,Q),st=bf(O,t,k,k+it),lt=nt>=0&&e[nt],dt=st>=0&&e[st];if(y&&!dt||!y&&!lt){Na(ho(z,b),D,O);const yt=function xR(i,t,e,s,y){const D=new ao(i,e,ht);return D.multi=[],D.index=t,D.componentProviders=0,Ry(D,y,s&&!e),D}(y?yR:gR,e.length,y,s,N);!y&&dt&&(e[st].providerFactory=yt),Rf(D,i,t.length,0),t.push(O),z.directiveStart++,z.directiveEnd++,y&&(z.providerIndexes+=1048576),e.push(yt),b.push(yt)}else Rf(D,i,nt>-1?nt:st,Ry(e[y?st:nt],N,!y&&s));!y&&s&&dt&&e[st].componentProviders++}}}function Rf(i,t,e,s){const y=Ss(t),D=function XD(i){return!!i.useClass}(t);if(y||D){const N=(D?jt(t.useClass):t).prototype.ngOnDestroy;if(N){const z=i.destroyHooks||(i.destroyHooks=[]);if(!y&&t.multi){const k=z.indexOf(e);-1===k?z.push(e,[s,N]):z[k+1].push(s,N)}else z.push(e,N)}}}function Ry(i,t,e){return e&&i.componentProviders++,i.multi.push(t)-1}function bf(i,t,e,s){for(let y=e;y<s;y++)if(t[y]===i)return y;return-1}function gR(i,t,e,s){return Ff(this.multi,[])}function yR(i,t,e,s){const y=this.multi;let D;if(this.providerFactory){const b=this.providerFactory.componentProviders,O=uo(e,e[1],this.providerFactory.index,s);D=O.slice(0,b),Ff(y,D);for(let N=b;N<O.length;N++)D.push(O[N])}else D=[],Ff(y,D);return D}function Ff(i,t){for(let e=0;e<i.length;e++)t.push((0,i[e])());return t}function ce(i,t=[]){return e=>{e.providersResolver=(s,y)=>function mR(i,t,e){const s=se();if(s.firstCreatePass){const y=dn(i);Pf(e,s.data,s.blueprint,y,!0),Pf(t,s.data,s.blueprint,y,!1)}}(s,y?y(i):i,t)}}class by{}class ER{resolveComponentFactory(t){throw function TR(i){const t=Error(`No component factory found for ${de(i)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=i,t}(t)}}let Ho=(()=>{class i{}return i.NULL=new ER,i})();function SR(){return zs(Ze(),vt())}function zs(i,t){return new Re($i(i,t))}let Re=(()=>{class i{constructor(e){this.nativeElement=e}}return i.__NG_ELEMENT_ID__=SR,i})();function MR(i){return i instanceof Re?i.nativeElement:i}class zo{}let Br=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function DR(){const i=vt(),e=Fi(Ze().index,i);return function AR(i){return i[11]}(Mn(e)?e:i)}(),i})(),PR=(()=>{class i{}return i.\u0275prov=wt({token:i,providedIn:"root",factory:()=>null}),i})();class Ys{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const RR=new Ys("13.3.8"),wf={};function ul(i,t,e,s,y=!1){for(;null!==e;){const D=t[e.index];if(null!==D&&s.push(He(D)),cn(D))for(let O=10;O<D.length;O++){const N=D[O],z=N[1].firstChild;null!==z&&ul(N[1],N,z,s)}const b=e.type;if(8&b)ul(i,t,e.child,s);else if(32&b){const O=Du(e,t);let N;for(;N=O();)s.push(N)}else if(16&b){const O=Hv(t,e);if(Array.isArray(O))s.push(...O);else{const N=Mo(t[16]);ul(N[1],N,O,s,!0)}}e=y?e.projectionNext:e.next}return s}class Yo{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ul(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(cn(t)){const e=t[8],s=e?e.indexOf(this):-1;s>-1&&(wu(t,s),Va(e,s))}this._attachedToViewContainer=!1}wv(this._lView[1],this._lView)}onDestroy(t){cm(this._lView[1],this._lView,null,t)}markForCheck(){tf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function nf(i,t,e){const s=t[10];s.begin&&s.begin();try{Ts(i,t,i.template,e)}catch(y){throw Am(t,y),y}finally{s.end&&s.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new At(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function FA(i,t){Ao(i,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new At(902,"");this._appRef=t}}class bR extends Yo{constructor(t){super(t),this._view=t}detectChanges(){Tm(this._view)}checkNoChanges(){}get context(){return null}}class wy extends Ho{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ui(t);return new Of(e,this.ngModule)}}function Oy(i){const t=[];for(let e in i)i.hasOwnProperty(e)&&t.push({propName:i[e],templateName:e});return t}class Of extends by{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function QA(i){return i.map(ZA).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Oy(this.componentDef.inputs)}get outputs(){return Oy(this.componentDef.outputs)}create(t,e,s,y){const D=(y=y||this.ngModule)?function wR(i,t){return{get:(e,s,y)=>{const D=i.get(e,wf,y);return D!==wf||s===wf?D:t.get(e,s,y)}}}(t,y.injector):t,b=D.get(zo,gp),O=D.get(PR,null),N=b.createRenderer(null,this.componentDef),z=this.componentDef.selectors[0][0]||"div",k=s?function fm(i,t,e){if(Ie(i))return i.selectRootElement(t,e===hn.ShadowDom);let s="string"==typeof t?i.querySelector(t):t;return s.textContent="",s}(N,s,this.componentDef.encapsulation):Fu(b.createRenderer(null,this.componentDef),z,function FR(i){const t=i.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(z)),Q=this.componentDef.onPush?576:528,it=function Xm(i,t){return{components:[],scheduler:i||EA,clean:LD,playerHandler:t||null,flags:0}}(),nt=Ja(0,null,null,1,0,null,null,null,null,null),st=Do(null,nt,it,Q,null,null,b,N,O,D);let lt,dt;Da(st);try{const yt=function zm(i,t,e,s,y,D){const b=e[1];e[20]=i;const N=xs(b,20,2,"#host",null),z=N.mergedAttrs=t.hostAttrs;null!==z&&(_a(N,z,!0),null!==i&&(wa(y,i,z),null!==N.classes&&Bu(y,i,N.classes),null!==N.styles&&Xv(y,i,N.styles)));const k=s.createRenderer(i,t),Q=Do(e,hm(t),null,t.onPush?64:16,e[20],N,s,k,D||null,null);return b.firstCreatePass&&(Na(ho(N,e),b,t.type),gm(b,N),ym(N,e.length,1)),qa(e,Q),e[20]=Q}(k,this.componentDef,st,b,N);if(k)if(s)wa(N,k,["ng-version",RR.full]);else{const{attrs:ut,classes:Tt}=function JA(i){const t=[],e=[];let s=1,y=2;for(;s<i.length;){let D=i[s];if("string"==typeof D)2===y?""!==D&&t.push(D,i[++s]):8===y&&e.push(D);else{if(!pn(y))break;y=D}s++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);ut&&wa(N,k,ut),Tt&&Tt.length>0&&Bu(N,k,Tt.join(" "))}if(dt=kh(nt,20),void 0!==e){const ut=dt.projection=[];for(let Tt=0;Tt<this.ngContentSelectors.length;Tt++){const Ft=e[Tt];ut.push(null!=Ft?Array.from(Ft):null)}}lt=function Ym(i,t,e,s,y){const D=e[1],b=function yD(i,t,e){const s=Ze();i.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),xm(i,s,t,Cs(i,t,1,null),e));const y=uo(t,i,s.directiveStart,s);ci(y,t);const D=$i(s,t);return D&&ci(D,t),y}(D,e,t);if(s.components.push(b),i[8]=b,y&&y.forEach(N=>N(b,t)),t.contentQueries){const N=Ze();t.contentQueries(1,b,N.directiveStart)}const O=Ze();return!D.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ur(O.index),vm(e[1],O,0,O.directiveStart,O.directiveEnd,t),mm(t,b)),b}(yt,this.componentDef,st,it,[t1]),Po(nt,st,null)}finally{Pa()}return new IR(this.componentType,lt,zs(dt,st),st,dt)}}class IR extends class CR{}{constructor(t,e,s,y,D){super(),this.location=s,this._rootLView=y,this._tNode=D,this.instance=e,this.hostView=this.changeDetectorRef=new bR(y),this.componentType=t}get injector(){return new hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Xs{}const Ws=new Map;class Ny extends Xs{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wy(this);const s=Wi(t);this._bootstrapComponents=Fn(s.bootstrap),this._r3Injector=Fm(t,e,[{provide:Xs,useValue:this},{provide:Ho,useValue:this.componentFactoryResolver}],de(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Mi.THROW_IF_NOT_FOUND,s=Xt.Default){return t===Mi||t===Xs||t===sf?this:this._r3Injector.get(t,e,s)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class If extends class NR{}{constructor(t){super(),this.moduleType=t,null!==Wi(t)&&function BR(i){const t=new Set;!function e(s){const y=Wi(s,!0),D=y.id;null!==D&&(function Iy(i,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${i} - ${de(t)} vs ${de(t.name)}`)}(D,Ws.get(D),s),Ws.set(D,s));const b=Fn(y.imports);for(const O of b)t.has(O)||(t.add(O),e(O))}(i)}(t)}create(t){return new Ny(this.moduleType,t)}}function Xo(i,t){const e=i[t];return e===Yt?void 0:e}function Vy(i,t,e,s,y,D){const b=t+e;return di(i,b,y)?On(i,b+1,D?s.call(D,y):s(y)):Xo(i,b+1)}function fl(i,t){const e=se();let s;const y=i+20;e.firstCreatePass?(s=function jR(i,t){if(t)for(let e=t.length-1;e>=0;e--){const s=t[e];if(i===s.name)return s}}(t,e.pipeRegistry),e.data[y]=s,s.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(y,s.onDestroy)):s=e.data[y];const D=s.factory||(s.factory=br(s.type)),b=or(ht);try{const O=Ia(!1),N=D();return Ia(O),function d1(i,t,e,s){e>=i.data.length&&(i.data[e]=null,i.blueprint[e]=null),t[e]=s}(e,vt(),y,N),N}finally{or(b)}}function Lf(i,t,e,s){const y=i+20,D=vt(),b=ss(D,y);return Wo(D,y)?function Gy(i,t,e,s,y,D,b){const O=t+e;return Lr(i,O,y,D)?On(i,O+2,b?s.call(b,y,D):s(y,D)):Xo(i,O+2)}(D,pi(),t,b.transform,e,s,b):b.transform(e,s)}function Wo(i,t){return i[1].data[t].pure}function Nf(i){return t=>{setTimeout(i,void 0,t)}}const qt=class QR extends Y{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,s){var y,D,b;let O=t,N=e||(()=>null),z=s;if(t&&"object"==typeof t){const Q=t;O=null===(y=Q.next)||void 0===y?void 0:y.bind(Q),N=null===(D=Q.error)||void 0===D?void 0:D.bind(Q),z=null===(b=Q.complete)||void 0===b?void 0:b.bind(Q)}this.__isAsync&&(N=Nf(N),O&&(O=Nf(O)),z&&(z=Nf(z)));const k=super.subscribe({next:O,error:N,complete:z});return t instanceof r&&t.add(k),k}};function JR(){return this._results[Ms()]()}class Bf{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ms(),s=Bf.prototype;s[e]||(s[e]=JR)}get changes(){return this._changes||(this._changes=new qt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const s=this;s.dirty=!1;const y=Ki(t);(this._changesDetected=!function rM(i,t,e){if(i.length!==t.length)return!1;for(let s=0;s<i.length;s++){let y=i[s],D=t[s];if(e&&(y=e(y),D=e(D)),D!==y)return!1}return!0}(s._results,y,e))&&(s._results=y,s.length=y.length,s.last=y[this.length-1],s.first=y[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Zn=(()=>{class i{}return i.__NG_ELEMENT_ID__=tb,i})();const qR=Zn,_R=class extends qR{constructor(t,e,s){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=s}createEmbeddedView(t){const e=this._declarationTContainer.tViews,s=Do(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);s[17]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[19];return null!==D&&(s[19]=D.createEmbeddedView(e)),Po(e,s,t),new Yo(s)}};function tb(){return cl(Ze(),vt())}function cl(i,t){return 4&i.type?new _R(t,i,zs(i,t)):null}let xn=(()=>{class i{}return i.__NG_ELEMENT_ID__=eb,i})();function eb(){return ky(Ze(),vt())}const ib=xn,Xy=class extends ib{constructor(t,e,s){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=s}get element(){return zs(this._hostTNode,this._hostLView)}get injector(){return new hs(this._hostTNode,this._hostLView)}get parentInjector(){const t=La(this._hostTNode,this._hostLView);if(Bp(t)){const e=ls(t,this._hostLView),s=as(t);return new hs(e[1].data[s+8],e)}return new hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Wy(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,s){const y=t.createEmbeddedView(e||{});return this.insert(y,s),y}createComponent(t,e,s,y,D){const b=t&&!function co(i){return"function"==typeof i}(t);let O;if(b)O=e;else{const Q=e||{};O=Q.index,s=Q.injector,y=Q.projectableNodes,D=Q.ngModuleRef}const N=b?t:new Of(ui(t)),z=s||this.parentInjector;if(!D&&null==N.ngModule){const it=(b?z:this.parentInjector).get(Xs,null);it&&(D=it)}const k=N.create(z,y,void 0,D);return this.insert(k.hostView,O),k}insert(t,e){const s=t._lView,y=s[1];if(function RS(i){return cn(i[3])}(s)){const k=this.indexOf(t);if(-1!==k)this.detach(k);else{const Q=s[3],it=new Xy(Q,Q[6],Q[3]);it.detach(it.indexOf(t))}}const D=this._adjustIndex(e),b=this._lContainer;!function OA(i,t,e,s){const y=10+s,D=e.length;s>0&&(e[y-1][4]=t),s<D-10?(t[4]=e[y],jp(e,10+s,t)):(e.push(t),t[4]=null),t[3]=e;const b=t[17];null!==b&&e!==b&&function IA(i,t){const e=i[9];t[16]!==t[3][3][16]&&(i[2]=!0),null===e?i[9]=[t]:e.push(t)}(b,t);const O=t[19];null!==O&&O.insertView(i),t[2]|=128}(y,s,b,D);const O=Lu(D,b),N=s[11],z=ka(N,b[7]);return null!==z&&function bA(i,t,e,s,y,D){s[0]=y,s[6]=t,Ao(i,s,e,1,y,D)}(y,b[6],N,s,z,O),t.attachToViewContainerRef(),jp(Vf(b),D,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Wy(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),s=wu(this._lContainer,e);s&&(Va(Vf(this._lContainer),e),wv(s[1],s))}detach(t){const e=this._adjustIndex(t,-1),s=wu(this._lContainer,e);return s&&null!=Va(Vf(this._lContainer),e)?new Yo(s):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Wy(i){return i[8]}function Vf(i){return i[8]||(i[8]=[])}function ky(i,t){let e;const s=t[i.index];if(cn(s))e=s;else{let y;if(8&i.type)y=He(s);else{const D=t[11];y=D.createComment("");const b=$i(i,t);Ir(D,ka(D,b),y,function VA(i,t){return Ie(i)?i.nextSibling(t):t.nextSibling}(D,b),!1)}t[i.index]=e=Cm(s,t,y,i),qa(t,e)}return new Xy(e,i,t)}class Gf{constructor(t){this.queryList=t,this.matches=null}clone(){return new Gf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Uf{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const s=null!==t.contentQueries?t.contentQueries[0]:e.length,y=[];for(let D=0;D<s;D++){const b=e.getByIndex(D);y.push(this.queries[b.indexInDeclarationView].clone())}return new Uf(y)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Qy(t,e).matches&&this.queries[e].setDirty()}}class jy{constructor(t,e,s=null){this.predicate=t,this.flags=e,this.read=s}}class Hf{constructor(t=[]){this.queries=t}elementStart(t,e){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let s=0;s<this.length;s++){const y=null!==e?e.length:0,D=this.getByIndex(s).embeddedTView(t,y);D&&(D.indexInDeclarationView=s,null!==e?e.push(D):e=[D])}return null!==e?new Hf(e):null}template(t,e){for(let s=0;s<this.queries.length;s++)this.queries[s].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class zf{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new zf(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let s=t.parent;for(;null!==s&&8&s.type&&s.index!==e;)s=s.parent;return e===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const s=this.metadata.predicate;if(Array.isArray(s))for(let y=0;y<s.length;y++){const D=s[y];this.matchTNodeWithReadOption(t,e,sb(e,D)),this.matchTNodeWithReadOption(t,e,Ba(e,t,D,!1,!1))}else s===Zn?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ba(e,t,s,!1,!1))}matchTNodeWithReadOption(t,e,s){if(null!==s){const y=this.metadata.read;if(null!==y)if(y===Re||y===xn||y===Zn&&4&e.type)this.addMatch(e.index,-2);else{const D=Ba(e,t,y,!1,!1);null!==D&&this.addMatch(e.index,D)}else this.addMatch(e.index,s)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function sb(i,t){const e=i.localNames;if(null!==e)for(let s=0;s<e.length;s+=2)if(e[s]===t)return e[s+1];return null}function ab(i,t,e,s){return-1===e?function ob(i,t){return 11&i.type?zs(i,t):4&i.type?cl(i,t):null}(t,i):-2===e?function lb(i,t,e){return e===Re?zs(t,i):e===Zn?cl(t,i):e===xn?ky(t,i):void 0}(i,t,s):uo(i,i[1],e,t)}function $y(i,t,e,s){const y=t[19].queries[s];if(null===y.matches){const D=i.data,b=e.matches,O=[];for(let N=0;N<b.length;N+=2){const z=b[N];O.push(z<0?null:ab(t,D[z],b[N+1],e.metadata.read))}y.matches=O}return y.matches}function Yf(i,t,e,s){const y=i.queries.getByIndex(e),D=y.matches;if(null!==D){const b=$y(i,t,y,e);for(let O=0;O<D.length;O+=2){const N=D[O];if(N>0)s.push(b[O/2]);else{const z=D[O+1],k=t[-N];for(let Q=10;Q<k.length;Q++){const it=k[Q];it[17]===it[3]&&Yf(it[1],it,z,s)}if(null!==k[9]){const Q=k[9];for(let it=0;it<Q.length;it++){const nt=Q[it];Yf(nt[1],nt,z,s)}}}}}return s}function Ye(i){const t=vt(),e=se(),s=Ap();_h(s+1);const y=Qy(e,s);if(i.dirty&&yp(t)===(2==(2&y.metadata.flags))){if(null===y.matches)i.reset([]);else{const D=y.crossesNgTemplate?Yf(e,t,s,[]):$y(e,t,y,s);i.reset(D,MR),i.notifyOnChanges()}return!0}return!1}function Bn(i,t,e){const s=se();s.firstCreatePass&&(Zy(s,new jy(i,t,e),-1),2==(2&t)&&(s.staticViewQueries=!0)),Ky(s,vt(),t)}function Cn(i,t,e,s){const y=se();if(y.firstCreatePass){const D=Ze();Zy(y,new jy(t,e,s),D.index),function ub(i,t){const e=i.contentQueries||(i.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(i.queries.length-1,t)}(y,i),2==(2&e)&&(y.staticContentQueries=!0)}Ky(y,vt(),e)}function Xe(){return function hb(i,t){return i[19].queries[t].queryList}(vt(),Ap())}function Ky(i,t,e){const s=new Bf(4==(4&e));cm(i,t,s,s.destroy),null===t[19]&&(t[19]=new Uf),t[19].queries.push(new Gf(s))}function Zy(i,t,e){null===i.queries&&(i.queries=new Hf),i.queries.track(new zf(t,e))}function Qy(i,t){return i.queries.getByIndex(t)}function vl(...i){}const dx=new Dt("Application Initializer");let Kf=(()=>{class i{constructor(e){this.appInits=e,this.resolve=vl,this.reject=vl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,y)=>{this.resolve=s,this.reject=y})}runInitializers(){if(this.initialized)return;const e=[],s=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let y=0;y<this.appInits.length;y++){const D=this.appInits[y]();if(nl(D))e.push(D);else if(dg(D)){const b=new Promise((O,N)=>{D.subscribe({complete:O,error:N})});e.push(b)}}Promise.all(e).then(()=>{s()}).catch(y=>{this.reject(y)}),0===e.length&&s(),this.initialized=!0}}return i.\u0275fac=function(e){return new(e||i)(pt(dx,8))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const jo=new Dt("AppId",{providedIn:"root",factory:function px(){return`${Zf()}${Zf()}${Zf()}`}});function Zf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vx=new Dt("Platform Initializer"),Qf=new Dt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Rb=new Dt("appBootstrapListener"),Qn=new Dt("LocaleId",{providedIn:"root",factory:()=>Ha(Qn,Xt.Optional|Xt.SkipSelf)||function bb(){return"undefined"!=typeof $localize&&$localize.locale||sl}()}),Ib=(()=>Promise.resolve(0))();function Jf(i){"undefined"==typeof Zone?Ib.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class oe{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qt(!1),this.onMicrotaskEmpty=new qt(!1),this.onStable=new qt(!1),this.onError=new qt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const y=this;y._nesting=0,y._outer=y._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(y._inner=y._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(y._inner=y._inner.fork(Zone.longStackTraceZoneSpec)),y.shouldCoalesceEventChangeDetection=!s&&e,y.shouldCoalesceRunChangeDetection=s,y.lastRequestAnimationFrameId=-1,y.nativeRequestAnimationFrame=function Lb(){let i=me.requestAnimationFrame,t=me.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&t){const e=i[Zone.__symbol__("OriginalDelegate")];e&&(i=e);const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Vb(i){const t=()=>{!function Bb(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(me,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,_f(i),i.isCheckStableRunning=!0,qf(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),_f(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,s,y,D,b,O)=>{try{return mx(i),e.invokeTask(y,D,b,O)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===D.type||i.shouldCoalesceRunChangeDetection)&&t(),gx(i)}},onInvoke:(e,s,y,D,b,O,N)=>{try{return mx(i),e.invoke(y,D,b,O,N)}finally{i.shouldCoalesceRunChangeDetection&&t(),gx(i)}},onHasTask:(e,s,y,D)=>{e.hasTask(y,D),s===y&&("microTask"==D.change?(i._hasPendingMicrotasks=D.microTask,_f(i),qf(i)):"macroTask"==D.change&&(i.hasPendingMacrotasks=D.macroTask))},onHandleError:(e,s,y,D)=>(e.handleError(y,D),i.runOutsideAngular(()=>i.onError.emit(D)),!1)})}(y)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!oe.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(oe.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,s){return this._inner.run(t,e,s)}runTask(t,e,s,y){const D=this._inner,b=D.scheduleEventTask("NgZoneEvent: "+y,t,Nb,vl,vl);try{return D.runTask(b,e,s)}finally{D.cancelTask(b)}}runGuarded(t,e,s){return this._inner.runGuarded(t,e,s)}runOutsideAngular(t){return this._outer.run(t)}}const Nb={};function qf(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function _f(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function mx(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function gx(i){i._nesting--,qf(i)}class Gb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qt,this.onMicrotaskEmpty=new qt,this.onStable=new qt,this.onError=new qt}run(t,e,s){return t.apply(e,s)}runGuarded(t,e,s){return t.apply(e,s)}runOutsideAngular(t){return t()}runTask(t,e,s,y){return t.apply(e,s)}}let tc=(()=>{class i{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{oe.assertNotInAngularZone(),Jf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jf(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(e)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,s,y){let D=-1;s&&s>0&&(D=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==D),e(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:e,timeoutId:D,updateCb:y})}whenStable(e,s,y){if(y&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,s,y),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,s,y){return[]}}return i.\u0275fac=function(e){return new(e||i)(pt(oe))},i.\u0275prov=wt({token:i,factory:i.\u0275fac}),i})(),Ub=(()=>{class i{constructor(){this._applications=new Map,ec.addToWindow(this)}registerApplication(e,s){this._applications.set(e,s)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,s=!0){return ec.findTestabilityInTree(this,e,s)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();class Hb{addToWindow(t){}findTestabilityInTree(t,e,s){return null}}let ec=new Hb,Vr=null;const yx=new Dt("AllowMultipleToken"),xx=new Dt("PlatformOnDestroy");function Cx(i,t,e=[]){const s=`Platform: ${t}`,y=new Dt(s);return(D=[])=>{let b=ic();if(!b||b.injector.get(yx,!1)){const O=[...e,...D,{provide:y,useValue:!0}];i?i(O):function Wb(i){if(Vr&&!Vr.get(yx,!1))throw new At(400,"");Vr=i;const t=i.get(Tx),e=i.get(vx,null);e&&e.forEach(s=>s())}(function jb(i=[],t){return Mi.create({name:t,providers:[{provide:af,useValue:"platform"},{provide:xx,useValue:()=>Vr=null},...i]})}(O,s))}return function kb(i){const t=ic();if(!t)throw new At(401,"");return t}()}}function ic(){var i;return null!==(i=null==Vr?void 0:Vr.get(Tx))&&void 0!==i?i:null}let Tx=(()=>{class i{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,s){const O=function $b(i,t){let e;return e="noop"===i?new Gb:("zone.js"===i?void 0:i)||new oe({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(s?s.ngZone:void 0,{ngZoneEventCoalescing:s&&s.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:s&&s.ngZoneRunCoalescing||!1}),N=[{provide:oe,useValue:O}];return O.run(()=>{const z=Mi.create({providers:N,parent:this.injector,name:e.moduleType.name}),k=e.create(z),Q=k.injector.get(cr,null);if(!Q)throw new At(402,"");return O.runOutsideAngular(()=>{const it=O.onError.subscribe({next:nt=>{Q.handleError(nt)}});k.onDestroy(()=>{rc(this._modules,k),it.unsubscribe()})}),function Kb(i,t,e){try{const s=e();return nl(s)?s.catch(y=>{throw t.runOutsideAngular(()=>i.handleError(y)),y}):s}catch(s){throw t.runOutsideAngular(()=>i.handleError(s)),s}}(Q,O,()=>{const it=k.injector.get(Kf);return it.runInitializers(),it.donePromise.then(()=>(function AP(i){Ri(i,"Expected localeId to be defined"),"string"==typeof i&&(ry=i.toLowerCase().replace(/_/g,"-"))}(k.injector.get(Qn,sl)||sl),this._moduleDoBootstrap(k),k))})})}bootstrapModule(e,s=[]){const y=Ex({},s);return function Yb(i,t,e){const s=new If(e);return Promise.resolve(s)}(0,0,e).then(D=>this.bootstrapModuleFactory(D,y))}_moduleDoBootstrap(e){const s=e.injector.get(nc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(y=>s.bootstrap(y));else{if(!e.instance.ngDoBootstrap)throw new At(403,"");e.instance.ngDoBootstrap(s)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new At(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const e=this._injector.get(xx,null);null==e||e(),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(e){return new(e||i)(pt(Mi))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Ex(i,t){return Array.isArray(t)?t.reduce(Ex,i):Object.assign(Object.assign({},i),t)}let nc=(()=>{class i{constructor(e,s,y,D){this._zone=e,this._injector=s,this._exceptionHandler=y,this._initStatus=D,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new w(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),O=new w(N=>{let z;this._zone.runOutsideAngular(()=>{z=this._zone.onStable.subscribe(()=>{oe.assertNotInAngularZone(),Jf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{oe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{z.unsubscribe(),k.unsubscribe()}});this.isStable=ti(b,O.pipe(ip()))}bootstrap(e,s){if(!this._initStatus.done)throw new At(405,"");let y;y=e instanceof by?e:this._injector.get(Ho).resolveComponentFactory(e),this.componentTypes.push(y.componentType);const D=function Xb(i){return i.isBoundToModule}(y)?void 0:this._injector.get(Xs),O=y.create(Mi.NULL,[],s||y.selector,D),N=O.location.nativeElement,z=O.injector.get(tc,null),k=z&&O.injector.get(Ub);return z&&k&&k.registerApplication(N,z),O.onDestroy(()=>{this.detachView(O.hostView),rc(this.components,O),k&&k.unregisterApplication(N)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new At(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const s=e;this._views.push(s),s.attachToAppRef(this)}detachView(e){const s=e;rc(this._views,s),s.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Rb,[]).concat(this._bootstrapListeners).forEach(y=>y(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(e){return new(e||i)(pt(oe),pt(Mi),pt(cr),pt(Kf))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function rc(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}let Mx=!0,Jn=(()=>{class i{}return i.__NG_ELEMENT_ID__=Jb,i})();function Jb(i){return function qb(i,t,e){if(Ea(i)&&!e){const s=Fi(i.index,t);return new Yo(s,s)}return 47&i.type?new Yo(t[16],t):null}(Ze(),vt(),16==(16&i))}class bx{constructor(){}supports(t){return bo(t)}create(t){return new rF(t)}}const nF=(i,t)=>t;class rF{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||nF}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,s=this._removalsHead,y=0,D=null;for(;e||s;){const b=!s||e&&e.currentIndex<wx(s,y,D)?e:s,O=wx(b,y,D),N=b.currentIndex;if(b===s)y--,s=s._nextRemoved;else if(e=e._next,null==b.previousIndex)y++;else{D||(D=[]);const z=O-y,k=N-y;if(z!=k){for(let it=0;it<z;it++){const nt=it<D.length?D[it]:D[it]=0,st=nt+it;k<=st&&st<z&&(D[it]=nt+1)}D[b.previousIndex]=k-z}}O!==N&&t(b,O,N)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!bo(t))throw new At(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let y,D,b,e=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let O=0;O<this.length;O++)D=t[O],b=this._trackByFn(O,D),null!==e&&Object.is(e.trackById,b)?(s&&(e=this._verifyReinsertion(e,D,b,O)),Object.is(e.item,D)||this._addIdentityChange(e,D)):(e=this._mismatch(e,D,b,O),s=!0),e=e._next}else y=0,function f1(i,t){if(Array.isArray(i))for(let e=0;e<i.length;e++)t(i[e]);else{const e=i[Ms()]();let s;for(;!(s=e.next()).done;)t(s.value)}}(t,O=>{b=this._trackByFn(y,O),null!==e&&Object.is(e.trackById,b)?(s&&(e=this._verifyReinsertion(e,O,b,y)),Object.is(e.item,O)||this._addIdentityChange(e,O)):(e=this._mismatch(e,O,b,y),s=!0),e=e._next,y++}),this.length=y;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,s,y){let D;return null===t?D=this._itTail:(D=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,D,y)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(s,y))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,D,y)):t=this._addAfter(new sF(e,s),D,y),t}_verifyReinsertion(t,e,s,y){let D=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==D?t=this._reinsertAfter(D,t._prev,y):t.currentIndex!=y&&(t.currentIndex=y,this._addToMoves(t,y)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const y=t._prevRemoved,D=t._nextRemoved;return null===y?this._removalsHead=D:y._nextRemoved=D,null===D?this._removalsTail=y:D._prevRemoved=y,this._insertAfter(t,e,s),this._addToMoves(t,s),t}_moveAfter(t,e,s){return this._unlink(t),this._insertAfter(t,e,s),this._addToMoves(t,s),t}_addAfter(t,e,s){return this._insertAfter(t,e,s),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,s){const y=null===e?this._itHead:e._next;return t._next=y,t._prev=e,null===y?this._itTail=t:y._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Fx),this._linkedRecords.put(t),t.currentIndex=s,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,s=t._next;return null===e?this._itHead=s:e._next=s,null===s?this._itTail=e:s._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Fx),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class sF{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oF{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===e||e<=s.currentIndex)&&Object.is(s.trackById,t))return s;return null}remove(t){const e=t._prevDup,s=t._nextDup;return null===e?this._head=s:e._nextDup=s,null===s?this._tail=e:s._prevDup=e,null===this._head}}class Fx{constructor(){this.map=new Map}put(t){const e=t.trackById;let s=this.map.get(e);s||(s=new oF,this.map.set(e,s)),s.add(t)}get(t,e){const y=this.map.get(t);return y?y.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wx(i,t,e){const s=i.previousIndex;if(null===s)return s;let y=0;return e&&s<e.length&&(y=e[s]),s+t+y}class Ox{constructor(){}supports(t){return t instanceof Map||df(t)}create(){return new aF}}class aF{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||df(t)))throw new At(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(s,y)=>{if(e&&e.key===y)this._maybeAddToChanges(e,s),this._appendAfter=e,e=e._next;else{const D=this._getOrCreateRecordForKey(y,s);e=this._insertBeforeOrAppend(e,D)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let s=e;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const s=t._prev;return e._next=t,e._prev=s,t._prev=e,s&&(s._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const y=this._records.get(t);this._maybeAddToChanges(y,e);const D=y._prev,b=y._next;return D&&(D._next=b),b&&(b._prev=D),y._next=null,y._prev=null,y}const s=new lF(t);return this._records.set(t,s),s.currentValue=e,this._addToAdditions(s),s}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(s=>e(t[s],s))}}class lF{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ix(){return new yl([new bx])}let yl=(()=>{class i{constructor(e){this.factories=e}static create(e,s){if(null!=s){const y=s.factories.slice();e=e.concat(y)}return new i(e)}static extend(e){return{provide:i,useFactory:s=>i.create(e,s||Ix()),deps:[[i,new yo,new wr]]}}find(e){const s=this.factories.find(y=>y.supports(e));if(null!=s)return s;throw new At(901,"")}}return i.\u0275prov=wt({token:i,providedIn:"root",factory:Ix}),i})();function Lx(){return new $o([new Ox])}let $o=(()=>{class i{constructor(e){this.factories=e}static create(e,s){if(s){const y=s.factories.slice();e=e.concat(y)}return new i(e)}static extend(e){return{provide:i,useFactory:s=>i.create(e,s||Lx()),deps:[[i,new yo,new wr]]}}find(e){const s=this.factories.find(D=>D.supports(e));if(s)return s;throw new At(901,"")}}return i.\u0275prov=wt({token:i,providedIn:"root",factory:Lx}),i})();const fF=Cx(null,"core",[]);let cF=(()=>{class i{constructor(e){}}return i.\u0275fac=function(e){return new(e||i)(pt(nc))},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({}),i})(),xl=null;function Vn(){return xl}const re=new Dt("DocumentToken");let Ko=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=wt({token:i,factory:function(){return function mF(){return pt(Nx)}()},providedIn:"platform"}),i})(),Nx=(()=>{class i extends Ko{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vn().getBaseHref(this._doc)}onPopState(e){const s=Vn().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=Vn().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,y){Bx()?this._history.pushState(e,s,y):this.location.hash=y}replaceState(e,s,y){Bx()?this._history.replaceState(e,s,y):this.location.hash=y}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(pt(re))},i.\u0275prov=wt({token:i,factory:function(){return function gF(){return new Nx(pt(re))}()},providedIn:"platform"}),i})();function Bx(){return!!window.history.pushState}function Vx(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function Gx(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function Ur(i){return i&&"?"!==i[0]?"?"+i:i}let hc=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=wt({token:i,factory:function(){return function yF(i){const t=pt(re).location;return new CF(pt(Ko),t&&t.origin||"")}()},providedIn:"root"}),i})();const xF=new Dt("appBaseHref");let CF=(()=>{class i extends hc{constructor(e,s){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Vx(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+Ur(this._platformLocation.search),y=this._platformLocation.hash;return y&&e?`${s}${y}`:s}pushState(e,s,y,D){const b=this.prepareExternalUrl(y+Ur(D));this._platformLocation.pushState(e,s,b)}replaceState(e,s,y,D){const b=this.prepareExternalUrl(y+Ur(D));this._platformLocation.replaceState(e,s,b)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,y;null===(y=(s=this._platformLocation).historyGo)||void 0===y||y.call(s,e)}}return i.\u0275fac=function(e){return new(e||i)(pt(Ko),pt(xF,8))},i.\u0275prov=wt({token:i,factory:i.\u0275fac}),i})(),Ux=(()=>{class i{constructor(e,s){this._subject=new qt,this._urlChangeListeners=[],this._platformStrategy=e;const y=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=Gx(Hx(y)),this._platformStrategy.onPopState(D=>{this._subject.emit({url:this.path(!0),pop:!0,state:D.state,type:D.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+Ur(s))}normalize(e){return i.stripTrailingSlash(function EF(i,t){return i&&t.startsWith(i)?t.substring(i.length):t}(this._baseHref,Hx(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,s="",y=null){this._platformStrategy.pushState(y,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ur(s)),y)}replaceState(e,s="",y=null){this._platformStrategy.replaceState(y,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ur(s)),y)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var s,y;null===(y=(s=this._platformStrategy).historyGo)||void 0===y||y.call(s,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(y=>y(e,s))}subscribe(e,s,y){return this._subject.subscribe({next:e,error:s,complete:y})}}return i.normalizeQueryParams=Ur,i.joinWithSlash=Vx,i.stripTrailingSlash=Gx,i.\u0275fac=function(e){return new(e||i)(pt(hc),pt(Ko))},i.\u0275prov=wt({token:i,factory:function(){return function TF(){return new Ux(pt(hc),pt(Ko))}()},providedIn:"root"}),i})();function Hx(i){return i.replace(/\/index.html$/,"")}var Ai=(()=>((Ai=Ai||{})[Ai.Decimal=0]="Decimal",Ai[Ai.Percent=1]="Percent",Ai[Ai.Currency=2]="Currency",Ai[Ai.Scientific=3]="Scientific",Ai))(),Bt=(()=>((Bt=Bt||{})[Bt.Decimal=0]="Decimal",Bt[Bt.Group=1]="Group",Bt[Bt.List=2]="List",Bt[Bt.PercentSign=3]="PercentSign",Bt[Bt.PlusSign=4]="PlusSign",Bt[Bt.MinusSign=5]="MinusSign",Bt[Bt.Exponential=6]="Exponential",Bt[Bt.SuperscriptingExponent=7]="SuperscriptingExponent",Bt[Bt.PerMille=8]="PerMille",Bt[Bt.Infinity=9]="Infinity",Bt[Bt.NaN=10]="NaN",Bt[Bt.TimeSeparator=11]="TimeSeparator",Bt[Bt.CurrencyDecimal=12]="CurrencyDecimal",Bt[Bt.CurrencyGroup=13]="CurrencyGroup",Bt))();function Ji(i,t){const e=gi(i),s=e[St.NumberSymbols][t];if(void 0===s){if(t===Bt.CurrencyDecimal)return e[St.NumberSymbols][Bt.Decimal];if(t===Bt.CurrencyGroup)return e[St.NumberSymbols][Bt.Group]}return s}const KF=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function gc(i){const t=parseInt(i);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+i);return t}let Zx=(()=>{class i{constructor(e,s,y,D){this._iterableDiffers=e,this._keyValueDiffers=s,this._ngEl=y,this._renderer=D,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(bo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${de(s.item)}`);this._toggleClass(s.item,!0)}),e.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!0)):Object.keys(e).forEach(s=>this._toggleClass(s,!!e[s])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!1)):Object.keys(e).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(e,s){(e=e.trim())&&e.split(/\s+/g).forEach(y=>{s?this._renderer.addClass(this._ngEl.nativeElement,y):this._renderer.removeClass(this._ngEl.nativeElement,y)})}}return i.\u0275fac=function(e){return new(e||i)(ht(yl),ht($o),ht(Re),ht(Br))},i.\u0275dir=It({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})(),Jx=(()=>{class i{constructor(e,s){this._viewContainer=e,this._context=new hw,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){qx("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){qx("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,s){return!0}}return i.\u0275fac=function(e){return new(e||i)(ht(xn),ht(Zn))},i.\u0275dir=It({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class hw{constructor(){this.$implicit=null,this.ngIf=null}}function qx(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${de(t)}'.`)}class xc{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let bl=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const s=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=It({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),_x=(()=>{class i{constructor(e,s,y){this.ngSwitch=y,y._addCase(),this._view=new xc(e,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(e){return new(e||i)(ht(xn),ht(Zn),ht(bl,9))},i.\u0275dir=It({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})(),Cc=(()=>{class i{constructor(e,s,y){this._ngEl=e,this._differs=s,this._renderer=y,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,s){const[y,D]=e.split(".");null!=(s=null!=s&&D?`${s}${D}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,y,s):this._renderer.removeStyle(this._ngEl.nativeElement,y)}_applyChanges(e){e.forEachRemovedItem(s=>this._setStyle(s.key,null)),e.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),e.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return i.\u0275fac=function(e){return new(e||i)(ht(Re),ht($o),ht(Br))},i.\u0275dir=It({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),i})();function En(i,t){return new At(2100,"")}class dw{createSubscription(t,e){return t.subscribe({next:e,error:s=>{throw s}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class pw{createSubscription(t,e){return t.then(e,s=>{throw s})}dispose(t){}onDestroy(t){}}const vw=new pw,mw=new dw;let e0=(()=>{class i{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,s=>this._updateLatestValue(e,s))}_selectStrategy(e){if(nl(e))return vw;if(cg(e))return mw;throw En()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,s){e===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return i.\u0275fac=function(e){return new(e||i)(ht(Jn,16))},i.\u0275pipe=Ei({name:"async",type:i,pure:!1}),i})(),r0=(()=>{class i{constructor(e){this._locale=e}transform(e,s,y){if(!function Tc(i){return!(null==i||""===i||i!=i)}(e))return null;y=y||this._locale;try{return function tw(i,t,e){return function vc(i,t,e,s,y,D,b=!1){let O="",N=!1;if(isFinite(i)){let z=function iw(i){let s,y,D,b,O,t=Math.abs(i)+"",e=0;for((y=t.indexOf("."))>-1&&(t=t.replace(".","")),(D=t.search(/e/i))>0?(y<0&&(y=D),y+=+t.slice(D+1),t=t.substring(0,D)):y<0&&(y=t.length),D=0;"0"===t.charAt(D);D++);if(D===(O=t.length))s=[0],y=1;else{for(O--;"0"===t.charAt(O);)O--;for(y-=D,s=[],b=0;D<=O;D++,b++)s[b]=Number(t.charAt(D))}return y>22&&(s=s.splice(0,21),e=y-1,y=1),{digits:s,exponent:e,integerLen:y}}(i);b&&(z=function ew(i){if(0===i.digits[0])return i;const t=i.digits.length-i.integerLen;return i.exponent?i.exponent+=2:(0===t?i.digits.push(0,0):1===t&&i.digits.push(0),i.integerLen+=2),i}(z));let k=t.minInt,Q=t.minFrac,it=t.maxFrac;if(D){const ut=D.match(KF);if(null===ut)throw new Error(`${D} is not a valid digit info`);const Tt=ut[1],Ft=ut[3],Qt=ut[5];null!=Tt&&(k=gc(Tt)),null!=Ft&&(Q=gc(Ft)),null!=Qt?it=gc(Qt):null!=Ft&&Q>it&&(it=Q)}!function nw(i,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let s=i.digits,y=s.length-i.integerLen;const D=Math.min(Math.max(t,y),e);let b=D+i.integerLen,O=s[b];if(b>0){s.splice(Math.max(i.integerLen,b));for(let Q=b;Q<s.length;Q++)s[Q]=0}else{y=Math.max(0,y),i.integerLen=1,s.length=Math.max(1,b=D+1),s[0]=0;for(let Q=1;Q<b;Q++)s[Q]=0}if(O>=5)if(b-1<0){for(let Q=0;Q>b;Q--)s.unshift(0),i.integerLen++;s.unshift(1),i.integerLen++}else s[b-1]++;for(;y<Math.max(0,D);y++)s.push(0);let N=0!==D;const z=t+i.integerLen,k=s.reduceRight(function(Q,it,nt,st){return st[nt]=(it+=Q)<10?it:it-10,N&&(0===st[nt]&&nt>=z?st.pop():N=!1),it>=10?1:0},0);k&&(s.unshift(k),i.integerLen++)}(z,Q,it);let nt=z.digits,st=z.integerLen;const lt=z.exponent;let dt=[];for(N=nt.every(ut=>!ut);st<k;st++)nt.unshift(0);for(;st<0;st++)nt.unshift(0);st>0?dt=nt.splice(st,nt.length):(dt=nt,nt=[0]);const yt=[];for(nt.length>=t.lgSize&&yt.unshift(nt.splice(-t.lgSize,nt.length).join(""));nt.length>t.gSize;)yt.unshift(nt.splice(-t.gSize,nt.length).join(""));nt.length&&yt.unshift(nt.join("")),O=yt.join(Ji(e,s)),dt.length&&(O+=Ji(e,y)+dt.join("")),lt&&(O+=Ji(e,Bt.Exponential)+"+"+lt)}else O=Ji(e,Bt.Infinity);return O=i<0&&!N?t.negPre+O+t.negSuf:t.posPre+O+t.posSuf,O}(i,function mc(i,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},s=i.split(";"),y=s[0],D=s[1],b=-1!==y.indexOf(".")?y.split("."):[y.substring(0,y.lastIndexOf("0")+1),y.substring(y.lastIndexOf("0")+1)],O=b[0],N=b[1]||"";e.posPre=O.substr(0,O.indexOf("#"));for(let k=0;k<N.length;k++){const Q=N.charAt(k);"0"===Q?e.minFrac=e.maxFrac=k+1:"#"===Q?e.maxFrac=k+1:e.posSuf+=Q}const z=O.split(",");if(e.gSize=z[1]?z[1].length:0,e.lgSize=z[2]||z[1]?(z[2]||z[1]).length:0,D){const k=y.length-e.posPre.length-e.posSuf.length,Q=D.indexOf("#");e.negPre=D.substr(0,Q).replace(/'/g,""),e.negSuf=D.substr(Q+k).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function uc(i,t){return gi(i)[St.NumberFormats][t]}(t,Ai.Decimal),Ji(t,Bt.MinusSign)),t,Bt.Group,Bt.Decimal,e)}(function Ec(i){if("string"==typeof i&&!isNaN(Number(i)-parseFloat(i)))return Number(i);if("number"!=typeof i)throw new Error(`${i} is not a number`);return i}(e),y,s)}catch(D){throw En()}}}return i.\u0275fac=function(e){return new(e||i)(ht(Qn,16))},i.\u0275pipe=Ei({name:"number",type:i,pure:!0}),i})();let Fl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({}),i})();const s0="browser";class Sc extends class Gw extends class vF{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function pF(i){xl||(xl=i)}(new Sc)}onAndCancel(t,e,s){return t.addEventListener(e,s,!1),()=>{t.removeEventListener(e,s,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Uw(){return Jo=Jo||document.querySelector("base"),Jo?Jo.getAttribute("href"):null}();return null==e?null:function Hw(i){wl=wl||document.createElement("a"),wl.setAttribute("href",i);const t=wl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Jo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function sw(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const s=e.indexOf("="),[y,D]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(y.trim()===t)return decodeURIComponent(D)}return null}(document.cookie,t)}}let wl,Jo=null;const a0=new Dt("TRANSITION_ID"),Yw=[{provide:dx,useFactory:function zw(i,t,e){return()=>{e.get(Kf).donePromise.then(()=>{const s=Vn(),y=t.querySelectorAll(`style[ng-transition="${i}"]`);for(let D=0;D<y.length;D++)s.remove(y[D])})}},deps:[a0,re,Mi],multi:!0}];class Mc{static init(){!function zb(i){ec=i}(new Mc)}addToWindow(t){me.getAngularTestability=(s,y=!0)=>{const D=t.findTestabilityInTree(s,y);if(null==D)throw new Error("Could not find testability for element.");return D},me.getAllAngularTestabilities=()=>t.getAllTestabilities(),me.getAllAngularRootElements=()=>t.getAllRootElements(),me.frameworkStabilizers||(me.frameworkStabilizers=[]),me.frameworkStabilizers.push(s=>{const y=me.getAllAngularTestabilities();let D=y.length,b=!1;const O=function(N){b=b||N,D--,0==D&&s(b)};y.forEach(function(N){N.whenStable(O)})})}findTestabilityInTree(t,e,s){if(null==e)return null;const y=t.getTestability(e);return null!=y?y:s?Vn().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Xw=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=wt({token:i,factory:i.\u0275fac}),i})();const Ol=new Dt("EventManagerPlugins");let Il=(()=>{class i{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(y=>y.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,y){return this._findPluginFor(s).addEventListener(e,s,y)}addGlobalEventListener(e,s,y){return this._findPluginFor(s).addGlobalEventListener(e,s,y)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const y=this._plugins;for(let D=0;D<y.length;D++){const b=y[D];if(b.supports(e))return this._eventNameToPlugin.set(e,b),b}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(pt(Ol),pt(oe))},i.\u0275prov=wt({token:i,factory:i.\u0275fac}),i})();class l0{constructor(t){this._doc=t}addGlobalEventListener(t,e,s){const y=Vn().getGlobalEventTarget(this._doc,t);if(!y)throw new Error(`Unsupported event target ${y} for event ${e}`);return this.addEventListener(y,e,s)}}let h0=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(y=>{this._stylesSet.has(y)||(this._stylesSet.add(y),s.add(y))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=wt({token:i,factory:i.\u0275fac}),i})(),qo=(()=>{class i extends h0{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,y){e.forEach(D=>{const b=this._doc.createElement("style");b.textContent=D,y.push(s.appendChild(b))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(u0),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,y)=>{this._addStylesToHost(e,y,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(u0))}}return i.\u0275fac=function(e){return new(e||i)(pt(re))},i.\u0275prov=wt({token:i,factory:i.\u0275fac}),i})();function u0(i){Vn().remove(i)}const Ac={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Dc=/%COMP%/g;function Ll(i,t,e){for(let s=0;s<t.length;s++){let y=t[s];Array.isArray(y)?Ll(i,y,e):(y=y.replace(Dc,i),e.push(y))}return e}function d0(i){return t=>{if("__ngUnwrap__"===t)return i;!1===i(t)&&(t.preventDefault(),t.returnValue=!1)}}let Nl=(()=>{class i{constructor(e,s,y){this.eventManager=e,this.sharedStylesHost=s,this.appId=y,this.rendererByCompId=new Map,this.defaultRenderer=new Pc(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case hn.Emulated:{let y=this.rendererByCompId.get(s.id);return y||(y=new Zw(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,y)),y.applyToHost(e),y}case 1:case hn.ShadowDom:return new Qw(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const y=Ll(s.id,s.styles,[]);this.sharedStylesHost.addStyles(y),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(pt(Il),pt(qo),pt(jo))},i.\u0275prov=wt({token:i,factory:i.\u0275fac}),i})();class Pc{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ac[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,s){t&&t.insertBefore(e,s)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error(`The selector "${t}" did not match any elements`);return e||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,s,y){if(y){e=y+":"+e;const D=Ac[y];D?t.setAttributeNS(D,e,s):t.setAttribute(e,s)}else t.setAttribute(e,s)}removeAttribute(t,e,s){if(s){const y=Ac[s];y?t.removeAttributeNS(y,e):t.removeAttribute(`${s}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,s,y){y&(Ii.DashCase|Ii.Important)?t.style.setProperty(e,s,y&Ii.Important?"important":""):t.style[e]=s}removeStyle(t,e,s){s&Ii.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,s){t[e]=s}setValue(t,e){t.nodeValue=e}listen(t,e,s){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,d0(s)):this.eventManager.addEventListener(t,e,d0(s))}}class Zw extends Pc{constructor(t,e,s,y){super(t),this.component=s;const D=Ll(y+"-"+s.id,s.styles,[]);e.addStyles(D),this.contentAttr=function jw(i){return"_ngcontent-%COMP%".replace(Dc,i)}(y+"-"+s.id),this.hostAttr=function $w(i){return"_nghost-%COMP%".replace(Dc,i)}(y+"-"+s.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const s=super.createElement(t,e);return super.setAttribute(s,this.contentAttr,""),s}}class Qw extends Pc{constructor(t,e,s,y){super(t),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const D=Ll(y.id,y.styles,[]);for(let b=0;b<D.length;b++){const O=document.createElement("style");O.textContent=D[b],this.shadowRoot.appendChild(O)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,s){return super.insertBefore(this.nodeOrShadowRoot(t),e,s)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Jw=(()=>{class i extends l0{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,y){return e.addEventListener(s,y,!1),()=>this.removeEventListener(e,s,y)}removeEventListener(e,s,y){return e.removeEventListener(s,y)}}return i.\u0275fac=function(e){return new(e||i)(pt(re))},i.\u0275prov=wt({token:i,factory:i.\u0275fac}),i})();const v0=["alt","control","meta","shift"],_w={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},m0={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},tO={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let eO=(()=>{class i extends l0{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,s,y){const D=i.parseEventName(s),b=i.eventCallback(D.fullKey,y,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vn().onAndCancel(e,D.domEventName,b))}static parseEventName(e){const s=e.toLowerCase().split("."),y=s.shift();if(0===s.length||"keydown"!==y&&"keyup"!==y)return null;const D=i._normalizeKey(s.pop());let b="";if(v0.forEach(N=>{const z=s.indexOf(N);z>-1&&(s.splice(z,1),b+=N+".")}),b+=D,0!=s.length||0===D.length)return null;const O={};return O.domEventName=y,O.fullKey=b,O}static getEventFullKey(e){let s="",y=function iO(i){let t=i.key;if(null==t){if(t=i.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===i.location&&m0.hasOwnProperty(t)&&(t=m0[t]))}return _w[t]||t}(e);return y=y.toLowerCase()," "===y?y="space":"."===y&&(y="dot"),v0.forEach(D=>{D!=y&&tO[D](e)&&(s+=D+".")}),s+=y,s}static eventCallback(e,s,y){return D=>{i.getEventFullKey(D)===e&&y.runGuarded(()=>s(D))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return i.\u0275fac=function(e){return new(e||i)(pt(re))},i.\u0275prov=wt({token:i,factory:i.\u0275fac}),i})();const oO=Cx(fF,"browser",[{provide:Qf,useValue:s0},{provide:vx,useValue:function nO(){Sc.makeCurrent(),Mc.init()},multi:!0},{provide:re,useFactory:function sO(){return function MS(i){Xh=i}(document),document},deps:[]}]),aO=[{provide:af,useValue:"root"},{provide:cr,useFactory:function rO(){return new cr},deps:[]},{provide:Ol,useClass:Jw,multi:!0,deps:[re,oe,Qf]},{provide:Ol,useClass:eO,multi:!0,deps:[re]},{provide:Nl,useClass:Nl,deps:[Il,qo,jo]},{provide:zo,useExisting:Nl},{provide:h0,useExisting:qo},{provide:qo,useClass:qo,deps:[re]},{provide:tc,useClass:tc,deps:[oe]},{provide:Il,useClass:Il,deps:[Ol,oe]},{provide:class Vw{},useClass:Xw,deps:[]}];let g0=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:jo,useValue:e.appId},{provide:a0,useExisting:jo},Yw]}}}return i.\u0275fac=function(e){return new(e||i)(pt(i,12))},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({providers:aO,imports:[Fl,cF]}),i})();"undefined"!=typeof window&&window;let bc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=wt({token:i,factory:function(e){let s=null;return s=e?new(e||i):pt(C0),s},providedIn:"root"}),i})(),C0=(()=>{class i extends bc{constructor(e){super(),this._doc=e}sanitize(e,s){if(null==s)return null;switch(e){case he.NONE:return s;case he.HTML:return Rn(s,"HTML")?Oi(s):vv(this._doc,String(s)).toString();case he.STYLE:return Rn(s,"Style")?Oi(s):s;case he.SCRIPT:if(Rn(s,"Script"))return Oi(s);throw new Error("unsafe value used in a script context");case he.URL:return av(s),Rn(s,"URL")?Oi(s):Co(String(s));case he.RESOURCE_URL:if(Rn(s,"ResourceURL"))return Oi(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function NM(i){return new FM(i)}(e)}bypassSecurityTrustStyle(e){return function BM(i){return new wM(i)}(e)}bypassSecurityTrustScript(e){return function VM(i){return new OM(i)}(e)}bypassSecurityTrustUrl(e){return function GM(i){return new IM(i)}(e)}bypassSecurityTrustResourceUrl(e){return function UM(i){return new LM(i)}(e)}}return i.\u0275fac=function(e){return new(e||i)(pt(re))},i.\u0275prov=wt({token:i,factory:function(e){let s=null;return s=e?new e:function gO(i){return new C0(i.get(re))}(pt(Mi)),s},providedIn:"root"}),i})();function T0(...i){if(1===i.length){const t=i[0];if(h(t))return Bl(t,null);if(o(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Bl(e.map(s=>t[s]),e)}}if("function"==typeof i[i.length-1]){const t=i.pop();return Bl(i=1===i.length&&h(i[0])?i[0]:i,null).pipe(_(e=>t(...e)))}return Bl(i,null)}function Bl(i,t){return new w(e=>{const s=i.length;if(0===s)return void e.complete();const y=new Array(s);let D=0,b=0;for(let O=0;O<s;O++){const N=bt(i[O]);let z=!1;e.add(N.subscribe({next:k=>{z||(z=!0,b++),y[O]=k},error:k=>e.error(k),complete:()=>{D++,(D===s||!z)&&(b===s&&e.next(t?t.reduce((k,Q,it)=>(k[Q]=y[it],k),{}):y),e.complete())}}))}})}const Bi=new Dt("NgValueAccessor");function mr(i){return null==i||0===i.length}function M0(i){return null!=i&&"number"==typeof i.length}const ai=new Dt("NgValidators"),gr=new Dt("NgAsyncValidators"),EO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class SO{static min(t){return function A0(i){return t=>{if(mr(t.value)||mr(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}(t)}static max(t){return function D0(i){return t=>{if(mr(t.value)||mr(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}(t)}static required(t){return function P0(i){return mr(i.value)?{required:!0}:null}(t)}static requiredTrue(t){return function R0(i){return!0===i.value?null:{required:!0}}(t)}static email(t){return function b0(i){return mr(i.value)||EO.test(i.value)?null:{email:!0}}(t)}static minLength(t){return function F0(i){return t=>mr(t.value)||!M0(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function w0(i){return t=>M0(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static pattern(t){return function O0(i){if(!i)return Vl;let t,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),s=>{if(mr(s.value))return null;const y=s.value;return t.test(y)?null:{pattern:{requiredPattern:e,actualValue:y}}}}(t)}static nullValidator(t){return null}static compose(t){return G0(t)}static composeAsync(t){return U0(t)}}function Vl(i){return null}function I0(i){return null!=i}function L0(i){const t=nl(i)?bt(i):i;return dg(t),t}function N0(i){let t={};return i.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function B0(i,t){return t.map(e=>e(i))}function V0(i){return i.map(t=>function MO(i){return!i.validate}(t)?t:e=>t.validate(e))}function G0(i){if(!i)return null;const t=i.filter(I0);return 0==t.length?null:function(e){return N0(B0(e,t))}}function wc(i){return null!=i?G0(V0(i)):null}function U0(i){if(!i)return null;const t=i.filter(I0);return 0==t.length?null:function(e){return T0(B0(e,t).map(L0)).pipe(_(N0))}}function Oc(i){return null!=i?U0(V0(i)):null}function H0(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function z0(i){return i._rawValidators}function Y0(i){return i._rawAsyncValidators}function Ic(i){return i?Array.isArray(i)?i:[i]:[]}function Gl(i,t){return Array.isArray(i)?i.includes(t):i===t}function X0(i,t){const e=Ic(t);return Ic(i).forEach(y=>{Gl(e,y)||e.push(y)}),e}function W0(i,t){return Ic(t).filter(e=>!Gl(i,e))}class k0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=wc(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Oc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class _n extends k0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xi extends k0{get formDirective(){return null}get path(){return null}}function _o(i,t){Bc(i,t),t.valueAccessor.writeValue(i.value),function LO(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&K0(i,t)})}(i,t),function BO(i,t){const e=(s,y)=>{t.valueAccessor.writeValue(s),y&&t.viewToModelUpdate(s)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function NO(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&K0(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function IO(i,t){if(t.valueAccessor.setDisabledState){const e=s=>{t.valueAccessor.setDisabledState(s)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function zl(i,t,e=!0){const s=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(s),t.valueAccessor.registerOnTouched(s)),Xl(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Yl(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Bc(i,t){const e=z0(i);null!==t.validator?i.setValidators(H0(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const s=Y0(i);null!==t.asyncValidator?i.setAsyncValidators(H0(s,t.asyncValidator)):"function"==typeof s&&i.setAsyncValidators([s]);const y=()=>i.updateValueAndValidity();Yl(t._rawValidators,y),Yl(t._rawAsyncValidators,y)}function Xl(i,t){let e=!1;if(null!==i){if(null!==t.validator){const y=z0(i);if(Array.isArray(y)&&y.length>0){const D=y.filter(b=>b!==t.validator);D.length!==y.length&&(e=!0,i.setValidators(D))}}if(null!==t.asyncValidator){const y=Y0(i);if(Array.isArray(y)&&y.length>0){const D=y.filter(b=>b!==t.asyncValidator);D.length!==y.length&&(e=!0,i.setAsyncValidators(D))}}}const s=()=>{};return Yl(t._rawValidators,s),Yl(t._rawAsyncValidators,s),e}function K0(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Z0(i,t){Bc(i,t)}function J0(i,t){i._syncPendingControls(),t.forEach(e=>{const s=e.control;"submit"===s.updateOn&&s._pendingChange&&(e.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function Uc(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const ta="VALID",Wl="INVALID",js="PENDING",ea="DISABLED";function zc(i){return(kl(i)?i.validators:i)||null}function q0(i){return Array.isArray(i)?wc(i):i||null}function Yc(i,t){return(kl(t)?t.asyncValidators:i)||null}function _0(i){return Array.isArray(i)?Oc(i):i||null}function kl(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}const tC=i=>i instanceof rC,Xc=i=>i instanceof kc;function eC(i){return tC(i)?i.value:i.getRawValue()}function iC(i,t){const e=Xc(i),s=i.controls;if(!(e?Object.keys(s):s).length)throw new At(1e3,"");if(!s[t])throw new At(1001,"")}function nC(i,t){Xc(i),i._forEachChild((s,y)=>{if(void 0===t[y])throw new At(1002,"")})}class Wc{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=q0(this._rawValidators),this._composedAsyncValidatorFn=_0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ta}get invalid(){return this.status===Wl}get pending(){return this.status==js}get disabled(){return this.status===ea}get enabled(){return this.status!==ea}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=q0(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=_0(t)}addValidators(t){this.setValidators(X0(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(X0(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(W0(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(W0(t,this._rawAsyncValidators))}hasValidator(t){return Gl(this._rawValidators,t)}hasAsyncValidator(t){return Gl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=js,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ea,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ta,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ta||this.status===js)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ea:ta}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=js,this._hasOwnPendingAsyncValidator=!0;const e=L0(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function HO(i,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let s=i;return t.forEach(y=>{s=Xc(s)?s.controls.hasOwnProperty(y)?s.controls[y]:null:(i=>i instanceof YO)(s)&&s.at(y)||null}),s}(this,t,".")}getError(t,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new qt,this.statusChanges=new qt}_calculateStatus(){return this._allControlsDisabled()?ea:this.errors?Wl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(js)?js:this._anyControlsHaveStatus(Wl)?Wl:ta}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){kl(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class rC extends Wc{constructor(t=null,e,s){super(zc(e),Yc(s,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kl(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Uc(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Uc(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class kc extends Wc{constructor(t,e,s){super(zc(e),Yc(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,s={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){nC(this,t),Object.keys(t).forEach(s=>{iC(this,s),this.controls[s].setValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((s,y)=>{s.reset(t[y],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,s)=>(t[s]=eC(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&t(s,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const s=this.controls[e];if(this.contains(e)&&t(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,s)=>((e.enabled||this.disabled)&&(t[s]=e.value),t))}_reduceChildren(t,e){let s=t;return this._forEachChild((y,D)=>{s=e(s,y,D)}),s}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class YO extends Wc{constructor(t,e,s){super(zc(e),Yc(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,s={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){nC(this,t),t.forEach((s,y)=>{iC(this,y),this.at(y).setValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((s,y)=>{this.at(y)&&this.at(y).patchValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((s,y)=>{s.reset(t[y],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>eC(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,s)=>!!s._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,s)=>{t(e,s)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const XO={provide:xi,useExisting:fe(()=>jl)},ia=(()=>Promise.resolve(null))();let jl=(()=>{class i extends xi{constructor(e,s){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new qt,this.form=new kc({},wc(e),Oc(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ia.then(()=>{const s=this._findContainer(e.path);e.control=s.registerControl(e.name,e.control),_o(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ia.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ia.then(()=>{const s=this._findContainer(e.path),y=new kc({});Z0(y,e),s.registerControl(e.name,y),y.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ia.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,s){ia.then(()=>{this.form.get(e.path).setValue(s)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,J0(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(ht(ai,10),ht(gr,10))},i.\u0275dir=It({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,s){1&e&&le("submit",function(D){return s.onSubmit(D)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ce([XO]),Jt]}),i})(),uC=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({}),i})();const qO={provide:xi,useExisting:fe(()=>$l)};let $l=(()=>{class i extends xi{constructor(e,s){super(),this.validators=e,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new qt,this._setValidators(e),this._setAsyncValidators(s)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const s=this.form.get(e.path);return _o(s,e),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),s}getControl(e){return this.form.get(e.path)}removeControl(e){zl(e.control||null,e,!1),Uc(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,s){this.form.get(e.path).setValue(s)}onSubmit(e){return this.submitted=!0,J0(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const s=e.control,y=this.form.get(e.path);s!==y&&(zl(s||null,e),tC(y)&&(_o(y,e),e.control=y))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const s=this.form.get(e.path);Z0(s,e),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const s=this.form.get(e.path);s&&function VO(i,t){return Xl(i,t)}(s,e)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Bc(this.form,this),this._oldForm&&Xl(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(ht(ai,10),ht(gr,10))},i.\u0275dir=It({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,s){1&e&&le("submit",function(D){return s.onSubmit(D)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ce([qO]),Jt,An]}),i})(),gI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({imports:[[uC]]}),i})(),yI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({imports:[gI]}),i})();class PC{}const tr="*";function RC(i,t){return{type:7,name:i,definitions:t,options:{}}}function qc(i,t=null){return{type:4,styles:t,timings:i}}function bC(i,t=null){return{type:2,steps:i,options:t}}function Gn(i){return{type:6,styles:i,offset:null}}function _c(i,t,e){return{type:0,name:i,styles:t,options:e}}function td(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}function FC(i){Promise.resolve(null).then(i)}class na{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){FC(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class wC{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,s=0,y=0;const D=this.players.length;0==D?FC(()=>this._onFinish()):this.players.forEach(b=>{b.onDone(()=>{++e==D&&this._onFinish()}),b.onDestroy(()=>{++s==D&&this._onDestroy()}),b.onStart(()=>{++y==D&&this._onStart()})}),this.totalTime=this.players.reduce((b,O)=>Math.max(b,O.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(s=>{const y=s.totalTime?Math.min(1,e/s.totalTime):1;s.setPosition(y)})}getPosition(){const t=this.players.reduce((e,s)=>null===e||s.totalTime>e.totalTime?s:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}const ne=!1;function OC(i){return new At(3e3,ne)}function tL(){return"undefined"!=typeof window&&void 0!==window.document}function id(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function yr(i){switch(i.length){case 0:return new na;case 1:return i[0];default:return new wC(i)}}function IC(i,t,e,s,y={},D={}){const b=[],O=[];let N=-1,z=null;if(s.forEach(k=>{const Q=k.offset,it=Q==N,nt=it&&z||{};Object.keys(k).forEach(st=>{let lt=st,dt=k[st];if("offset"!==st)switch(lt=t.normalizePropertyName(lt,b),dt){case"!":dt=y[st];break;case tr:dt=D[st];break;default:dt=t.normalizeStyleValue(st,lt,dt,b)}nt[lt]=dt}),it||O.push(nt),z=nt,N=Q}),b.length)throw function XI(i){return new At(3502,ne)}();return O}function nd(i,t,e,s){switch(t){case"start":i.onStart(()=>s(e&&rd(e,"start",i)));break;case"done":i.onDone(()=>s(e&&rd(e,"done",i)));break;case"destroy":i.onDestroy(()=>s(e&&rd(e,"destroy",i)))}}function rd(i,t,e){const s=e.totalTime,D=sd(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,null==s?i.totalTime:s,!!e.disabled),b=i._data;return null!=b&&(D._data=b),D}function sd(i,t,e,s,y="",D=0,b){return{element:i,triggerName:t,fromState:e,toState:s,phaseName:y,totalTime:D,disabled:!!b}}function Vi(i,t,e){let s;return i instanceof Map?(s=i.get(t),s||i.set(t,s=e)):(s=i[t],s||(s=i[t]=e)),s}function LC(i){const t=i.indexOf(":");return[i.substring(1,t),i.substr(t+1)]}let od=(i,t)=>!1,NC=(i,t,e)=>[],BC=null;function ad(i){const t=i.parentNode||i.host;return t===BC?null:t}(id()||"undefined"!=typeof Element)&&(tL()?(BC=(()=>document.documentElement)(),od=(i,t)=>{for(;t;){if(t===i)return!0;t=ad(t)}return!1}):od=(i,t)=>i.contains(t),NC=(i,t,e)=>{if(e)return Array.from(i.querySelectorAll(t));const s=i.querySelector(t);return s?[s]:[]});let Yr=null,VC=!1;function GC(i){Yr||(Yr=function iL(){return"undefined"!=typeof document?document.body:null}()||{},VC=!!Yr.style&&"WebkitAppearance"in Yr.style);let t=!0;return Yr.style&&!function eL(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in Yr.style,!t&&VC&&(t="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in Yr.style)),t}const UC=od,HC=NC;let zC=(()=>{class i{validateStyleProperty(e){return GC(e)}matchesElement(e,s){return!1}containsElement(e,s){return UC(e,s)}getParentElement(e){return ad(e)}query(e,s,y){return HC(e,s,y)}computeStyle(e,s,y){return y||""}animate(e,s,y,D,b,O=[],N){return new na(y,D)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=wt({token:i,factory:i.\u0275fac}),i})(),ld=(()=>{class i{}return i.NOOP=new zC,i})();const hd="ng-enter",Zl="ng-leave",Ql="ng-trigger",Jl=".ng-trigger",XC="ng-animating",ud=".ng-animating";function Xr(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:fd(parseFloat(t[1]),t[2])}function fd(i,t){return"s"===t?1e3*i:i}function ql(i,t,e){return i.hasOwnProperty("duration")?i:function sL(i,t,e){let y,D=0,b="";if("string"==typeof i){const O=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===O)return t.push(OC()),{duration:0,delay:0,easing:""};y=fd(parseFloat(O[1]),O[2]);const N=O[3];null!=N&&(D=fd(parseFloat(N),O[4]));const z=O[5];z&&(b=z)}else y=i;if(!e){let O=!1,N=t.length;y<0&&(t.push(function TI(){return new At(3100,ne)}()),O=!0),D<0&&(t.push(function EI(){return new At(3101,ne)}()),O=!0),O&&t.splice(N,0,OC())}return{duration:y,delay:D,easing:b}}(i,t,e)}function $s(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function xr(i,t,e={}){if(t)for(let s in i)e[s]=i[s];else $s(i,e);return e}function kC(i,t,e){return e?t+":"+e+";":""}function jC(i){let t="";for(let e=0;e<i.style.length;e++){const s=i.style.item(e);t+=kC(0,s,i.style.getPropertyValue(s))}for(const e in i.style)i.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=kC(0,lL(e),i.style[e]));i.setAttribute("style",t)}function Un(i,t,e){i.style&&(Object.keys(t).forEach(s=>{const y=dd(s);e&&!e.hasOwnProperty(s)&&(e[s]=i.style[y]),i.style[y]=t[s]}),id()&&jC(i))}function Wr(i,t){i.style&&(Object.keys(t).forEach(e=>{const s=dd(e);i.style[s]=""}),id()&&jC(i))}function ra(i){return Array.isArray(i)?1==i.length?i[0]:bC(i):i}const cd=new RegExp("{{\\s*(.+?)\\s*}}","g");function $C(i){let t=[];if("string"==typeof i){let e;for(;e=cd.exec(i);)t.push(e[1]);cd.lastIndex=0}return t}function _l(i,t,e){const s=i.toString(),y=s.replace(cd,(D,b)=>{let O=t[b];return t.hasOwnProperty(b)||(e.push(function MI(i){return new At(3003,ne)}()),O=""),O.toString()});return y==s?i:y}function th(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const aL=/-+([a-z0-9])/g;function dd(i){return i.replace(aL,(...t)=>t[1].toUpperCase())}function lL(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Gi(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw function AI(i){return new At(3004,ne)}()}}function KC(i,t){return window.getComputedStyle(i)[t]}function pL(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(s=>function vL(i,t,e){if(":"==i[0]){const N=function mL(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,s)=>parseFloat(s)>parseFloat(e);case":decrement":return(e,s)=>parseFloat(s)<parseFloat(e);default:return t.push(function UI(i){return new At(3016,ne)}()),"* => *"}}(i,e);if("function"==typeof N)return void t.push(N);i=N}const s=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return e.push(function GI(i){return new At(3015,ne)}()),t;const y=s[1],D=s[2],b=s[3];t.push(ZC(y,b));"<"==D[0]&&!("*"==y&&"*"==b)&&t.push(ZC(b,y))}(s,e,t)):e.push(i),e}const rh=new Set(["true","1"]),sh=new Set(["false","0"]);function ZC(i,t){const e=rh.has(i)||sh.has(i),s=rh.has(t)||sh.has(t);return(y,D)=>{let b="*"==i||i==y,O="*"==t||t==D;return!b&&e&&"boolean"==typeof y&&(b=y?rh.has(i):sh.has(i)),!O&&s&&"boolean"==typeof D&&(O=D?rh.has(t):sh.has(t)),b&&O}}const gL=new RegExp("s*:selfs*,?","g");function pd(i,t,e,s){return new yL(i).build(t,e,s)}class yL{constructor(t){this._driver=t}build(t,e,s){const y=new TL(e);this._resetContextStyleTimingState(y);const D=Gi(this,ra(t),y);return y.unsupportedCSSPropertiesFound.size&&y.unsupportedCSSPropertiesFound.keys(),D}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let s=e.queryCount=0,y=e.depCount=0;const D=[],b=[];return"@"==t.name.charAt(0)&&e.errors.push(function PI(){return new At(3006,ne)}()),t.definitions.forEach(O=>{if(this._resetContextStyleTimingState(e),0==O.type){const N=O,z=N.name;z.toString().split(/\s*,\s*/).forEach(k=>{N.name=k,D.push(this.visitState(N,e))}),N.name=z}else if(1==O.type){const N=this.visitTransition(O,e);s+=N.queryCount,y+=N.depCount,b.push(N)}else e.errors.push(function RI(){return new At(3007,ne)}())}),{type:7,name:t.name,states:D,transitions:b,queryCount:s,depCount:y,options:null}}visitState(t,e){const s=this.visitStyle(t.styles,e),y=t.options&&t.options.params||null;if(s.containsDynamicStyles){const D=new Set,b=y||{};s.styles.forEach(O=>{if(oh(O)){const N=O;Object.keys(N).forEach(z=>{$C(N[z]).forEach(k=>{b.hasOwnProperty(k)||D.add(k)})})}}),D.size&&(th(D.values()),e.errors.push(function bI(i,t){return new At(3008,ne)}()))}return{type:0,name:t.name,style:s,options:y?{params:y}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const s=Gi(this,ra(t.animation),e);return{type:1,matchers:pL(t.expr,e.errors),animation:s,queryCount:e.queryCount,depCount:e.depCount,options:kr(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(s=>Gi(this,s,e)),options:kr(t.options)}}visitGroup(t,e){const s=e.currentTime;let y=0;const D=t.steps.map(b=>{e.currentTime=s;const O=Gi(this,b,e);return y=Math.max(y,e.currentTime),O});return e.currentTime=y,{type:3,steps:D,options:kr(t.options)}}visitAnimate(t,e){const s=function SL(i,t){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return vd(ql(i,t).duration,0,"");const e=i;if(e.split(/\s+/).some(D=>"{"==D.charAt(0)&&"{"==D.charAt(1))){const D=vd(0,0,"");return D.dynamic=!0,D.strValue=e,D}const y=ql(e,t);return vd(y.duration,y.delay,y.easing)}(t.timings,e.errors);e.currentAnimateTimings=s;let y,D=t.styles?t.styles:Gn({});if(5==D.type)y=this.visitKeyframes(D,e);else{let b=t.styles,O=!1;if(!b){O=!0;const z={};s.easing&&(z.easing=s.easing),b=Gn(z)}e.currentTime+=s.duration+s.delay;const N=this.visitStyle(b,e);N.isEmptyStep=O,y=N}return e.currentAnimateTimings=null,{type:4,timings:s,style:y,options:null}}visitStyle(t,e){const s=this._makeStyleAst(t,e);return this._validateStyleAst(s,e),s}_makeStyleAst(t,e){const s=[];Array.isArray(t.styles)?t.styles.forEach(b=>{"string"==typeof b?b==tr?s.push(b):e.errors.push(function FI(i){return new At(3002,ne)}()):s.push(b)}):s.push(t.styles);let y=!1,D=null;return s.forEach(b=>{if(oh(b)){const O=b,N=O.easing;if(N&&(D=N,delete O.easing),!y)for(let z in O)if(O[z].toString().indexOf("{{")>=0){y=!0;break}}}),{type:6,styles:s,easing:D,offset:t.offset,containsDynamicStyles:y,options:null}}_validateStyleAst(t,e){const s=e.currentAnimateTimings;let y=e.currentTime,D=e.currentTime;s&&D>0&&(D-=s.duration+s.delay),t.styles.forEach(b=>{"string"!=typeof b&&Object.keys(b).forEach(O=>{if(!this._driver.validateStyleProperty(O))return delete b[O],void e.unsupportedCSSPropertiesFound.add(O);const N=e.collectedStyles[e.currentQuerySelector],z=N[O];let k=!0;z&&(D!=y&&D>=z.startTime&&y<=z.endTime&&(e.errors.push(function wI(i,t,e,s,y){return new At(3010,ne)}()),k=!1),D=z.startTime),k&&(N[O]={startTime:D,endTime:y}),e.options&&function oL(i,t,e){const s=t.params||{},y=$C(i);y.length&&y.forEach(D=>{s.hasOwnProperty(D)||e.push(function SI(i){return new At(3001,ne)}())})}(b[O],e.options,e.errors)})})}visitKeyframes(t,e){const s={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function OI(){return new At(3011,ne)}()),s;let D=0;const b=[];let O=!1,N=!1,z=0;const k=t.steps.map(yt=>{const ut=this._makeStyleAst(yt,e);let Tt=null!=ut.offset?ut.offset:function EL(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(oh(e)&&e.hasOwnProperty("offset")){const s=e;t=parseFloat(s.offset),delete s.offset}});else if(oh(i)&&i.hasOwnProperty("offset")){const e=i;t=parseFloat(e.offset),delete e.offset}return t}(ut.styles),Ft=0;return null!=Tt&&(D++,Ft=ut.offset=Tt),N=N||Ft<0||Ft>1,O=O||Ft<z,z=Ft,b.push(Ft),ut});N&&e.errors.push(function II(){return new At(3012,ne)}()),O&&e.errors.push(function LI(){return new At(3200,ne)}());const Q=t.steps.length;let it=0;D>0&&D<Q?e.errors.push(function NI(){return new At(3202,ne)}()):0==D&&(it=1/(Q-1));const nt=Q-1,st=e.currentTime,lt=e.currentAnimateTimings,dt=lt.duration;return k.forEach((yt,ut)=>{const Tt=it>0?ut==nt?1:it*ut:b[ut],Ft=Tt*dt;e.currentTime=st+lt.delay+Ft,lt.duration=Ft,this._validateStyleAst(yt,e),yt.offset=Tt,s.styles.push(yt)}),s}visitReference(t,e){return{type:8,animation:Gi(this,ra(t.animation),e),options:kr(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:kr(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:kr(t.options)}}visitQuery(t,e){const s=e.currentQuerySelector,y=t.options||{};e.queryCount++,e.currentQuery=t;const[D,b]=function xL(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(gL,"")),i=i.replace(/@\*/g,Jl).replace(/@\w+/g,e=>Jl+"-"+e.substr(1)).replace(/:animating/g,ud),[i,t]}(t.selector);e.currentQuerySelector=s.length?s+" "+D:D,Vi(e.collectedStyles,e.currentQuerySelector,{});const O=Gi(this,ra(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=s,{type:11,selector:D,limit:y.limit||0,optional:!!y.optional,includeSelf:b,animation:O,originalSelector:t.selector,options:kr(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function BI(){return new At(3013,ne)}());const s="full"===t.timings?{duration:0,delay:0,easing:"full"}:ql(t.timings,e.errors,!0);return{type:12,animation:Gi(this,ra(t.animation),e),timings:s,options:null}}}class TL{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function oh(i){return!Array.isArray(i)&&"object"==typeof i}function kr(i){return i?(i=$s(i)).params&&(i.params=function CL(i){return i?$s(i):null}(i.params)):i={},i}function vd(i,t,e){return{duration:i,delay:t,easing:e}}function md(i,t,e,s,y,D,b=null,O=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:s,duration:y,delay:D,totalTime:y+D,easing:b,subTimeline:O}}class ah{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let s=this._map.get(t);s||this._map.set(t,s=[]),s.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const DL=new RegExp(":enter","g"),RL=new RegExp(":leave","g");function gd(i,t,e,s,y,D={},b={},O,N,z=[]){return(new bL).buildKeyframes(i,t,e,s,y,D,b,O,N,z)}class bL{buildKeyframes(t,e,s,y,D,b,O,N,z,k=[]){z=z||new ah;const Q=new yd(t,e,z,y,D,k,[]);Q.options=N,Q.currentTimeline.setStyles([b],null,Q.errors,N),Gi(this,s,Q);const it=Q.timelines.filter(nt=>nt.containsAnimation());if(Object.keys(O).length){let nt;for(let st=it.length-1;st>=0;st--){const lt=it[st];if(lt.element===e){nt=lt;break}}nt&&!nt.allowOnlyTimelineStyles()&&nt.setStyles([O],null,Q.errors,N)}return it.length?it.map(nt=>nt.buildKeyframes()):[md(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const s=e.subInstructions.get(e.element);if(s){const y=e.createSubContext(t.options),D=e.currentTimeline.currentTime,b=this._visitSubInstructions(s,y,y.options);D!=b&&e.transformIntoNewTimeline(b)}e.previousNode=t}visitAnimateRef(t,e){const s=e.createSubContext(t.options);s.transformIntoNewTimeline(),this.visitReference(t.animation,s),e.transformIntoNewTimeline(s.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,s){let D=e.currentTimeline.currentTime;const b=null!=s.duration?Xr(s.duration):null,O=null!=s.delay?Xr(s.delay):null;return 0!==b&&t.forEach(N=>{const z=e.appendInstructionToTimeline(N,b,O);D=Math.max(D,z.duration+z.delay)}),D}visitReference(t,e){e.updateOptions(t.options,!0),Gi(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const s=e.subContextCount;let y=e;const D=t.options;if(D&&(D.params||D.delay)&&(y=e.createSubContext(D),y.transformIntoNewTimeline(),null!=D.delay)){6==y.previousNode.type&&(y.currentTimeline.snapshotCurrentStyles(),y.previousNode=lh);const b=Xr(D.delay);y.delayNextStep(b)}t.steps.length&&(t.steps.forEach(b=>Gi(this,b,y)),y.currentTimeline.applyStylesToKeyframe(),y.subContextCount>s&&y.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const s=[];let y=e.currentTimeline.currentTime;const D=t.options&&t.options.delay?Xr(t.options.delay):0;t.steps.forEach(b=>{const O=e.createSubContext(t.options);D&&O.delayNextStep(D),Gi(this,b,O),y=Math.max(y,O.currentTimeline.currentTime),s.push(O.currentTimeline)}),s.forEach(b=>e.currentTimeline.mergeTimelineCollectedStyles(b)),e.transformIntoNewTimeline(y),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const s=t.strValue;return ql(e.params?_l(s,e.params,e.errors):s,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const s=e.currentAnimateTimings=this._visitTiming(t.timings,e),y=e.currentTimeline;s.delay&&(e.incrementTime(s.delay),y.snapshotCurrentStyles());const D=t.style;5==D.type?this.visitKeyframes(D,e):(e.incrementTime(s.duration),this.visitStyle(D,e),y.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const s=e.currentTimeline,y=e.currentAnimateTimings;!y&&s.getCurrentStyleProperties().length&&s.forwardFrame();const D=y&&y.easing||t.easing;t.isEmptyStep?s.applyEmptyStep(D):s.setStyles(t.styles,D,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const s=e.currentAnimateTimings,y=e.currentTimeline.duration,D=s.duration,O=e.createSubContext().currentTimeline;O.easing=s.easing,t.styles.forEach(N=>{O.forwardTime((N.offset||0)*D),O.setStyles(N.styles,N.easing,e.errors,e.options),O.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(O),e.transformIntoNewTimeline(y+D),e.previousNode=t}visitQuery(t,e){const s=e.currentTimeline.currentTime,y=t.options||{},D=y.delay?Xr(y.delay):0;D&&(6===e.previousNode.type||0==s&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=lh);let b=s;const O=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!y.optional,e.errors);e.currentQueryTotal=O.length;let N=null;O.forEach((z,k)=>{e.currentQueryIndex=k;const Q=e.createSubContext(t.options,z);D&&Q.delayNextStep(D),z===e.element&&(N=Q.currentTimeline),Gi(this,t.animation,Q),Q.currentTimeline.applyStylesToKeyframe(),b=Math.max(b,Q.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(b),N&&(e.currentTimeline.mergeTimelineCollectedStyles(N),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const s=e.parentContext,y=e.currentTimeline,D=t.timings,b=Math.abs(D.duration),O=b*(e.currentQueryTotal-1);let N=b*e.currentQueryIndex;switch(D.duration<0?"reverse":D.easing){case"reverse":N=O-N;break;case"full":N=s.currentStaggerTime}const k=e.currentTimeline;N&&k.delayNextStep(N);const Q=k.currentTime;Gi(this,t.animation,e),e.previousNode=t,s.currentStaggerTime=y.currentTime-Q+(y.startTime-s.currentTimeline.startTime)}}const lh={};class yd{constructor(t,e,s,y,D,b,O,N){this._driver=t,this.element=e,this.subInstructions=s,this._enterClassName=y,this._leaveClassName=D,this.errors=b,this.timelines=O,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=N||new hh(this._driver,e,0),O.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const s=t;let y=this.options;null!=s.duration&&(y.duration=Xr(s.duration)),null!=s.delay&&(y.delay=Xr(s.delay));const D=s.params;if(D){let b=y.params;b||(b=this.options.params={}),Object.keys(D).forEach(O=>{(!e||!b.hasOwnProperty(O))&&(b[O]=_l(D[O],b,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const s=t.params={};Object.keys(e).forEach(y=>{s[y]=e[y]})}}return t}createSubContext(t=null,e,s){const y=e||this.element,D=new yd(this._driver,y,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(y,s||0));return D.previousNode=this.previousNode,D.currentAnimateTimings=this.currentAnimateTimings,D.options=this._copyOptions(),D.updateOptions(t),D.currentQueryIndex=this.currentQueryIndex,D.currentQueryTotal=this.currentQueryTotal,D.parentContext=this,this.subContextCount++,D}transformIntoNewTimeline(t){return this.previousNode=lh,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,s){const y={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+t.delay,easing:""},D=new FL(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,y,t.stretchStartingKeyframe);return this.timelines.push(D),y}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,s,y,D,b){let O=[];if(y&&O.push(this.element),t.length>0){t=(t=t.replace(DL,"."+this._enterClassName)).replace(RL,"."+this._leaveClassName);let z=this._driver.query(this.element,t,1!=s);0!==s&&(z=s<0?z.slice(z.length+s,z.length):z.slice(0,s)),O.push(...z)}return!D&&0==O.length&&b.push(function VI(i){return new At(3014,ne)}()),O}}class hh{constructor(t,e,s,y){this._driver=t,this.element=e,this.startTime=s,this._elementTimelineStylesLookup=y,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new hh(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||tr,this._currentKeyframe[e]=tr}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,s,y){e&&(this._previousKeyframe.easing=e);const D=y&&y.params||{},b=function wL(i,t){const e={};let s;return i.forEach(y=>{"*"===y?(s=s||Object.keys(t),s.forEach(D=>{e[D]=tr})):xr(y,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(b).forEach(O=>{const N=_l(b[O],D,s);this._pendingStyles[O]=N,this._localTimelineStyles.hasOwnProperty(O)||(this._backFill[O]=this._globalTimelineStyles.hasOwnProperty(O)?this._globalTimelineStyles[O]:tr),this._updateStyle(O,N)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(s=>{this._currentKeyframe[s]=t[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const s=this._styleSummary[e],y=t._styleSummary[e];(!s||y.time>s.time)&&this._updateStyle(e,y.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,s=1===this._keyframes.size&&0===this.duration;let y=[];this._keyframes.forEach((O,N)=>{const z=xr(O,!0);Object.keys(z).forEach(k=>{const Q=z[k];"!"==Q?t.add(k):Q==tr&&e.add(k)}),s||(z.offset=N/this.duration),y.push(z)});const D=t.size?th(t.values()):[],b=e.size?th(e.values()):[];if(s){const O=y[0],N=$s(O);O.offset=0,N.offset=1,y=[O,N]}return md(this.element,y,D,b,this.duration,this.startTime,this.easing,!1)}}class FL extends hh{constructor(t,e,s,y,D,b,O=!1){super(t,e,b.delay),this.keyframes=s,this.preStyleProps=y,this.postStyleProps=D,this._stretchStartingKeyframe=O,this.timings={duration:b.duration,delay:b.delay,easing:b.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:s,easing:y}=this.timings;if(this._stretchStartingKeyframe&&e){const D=[],b=s+e,O=e/b,N=xr(t[0],!1);N.offset=0,D.push(N);const z=xr(t[0],!1);z.offset=qC(O),D.push(z);const k=t.length-1;for(let Q=1;Q<=k;Q++){let it=xr(t[Q],!1);it.offset=qC((e+it.offset*s)/b),D.push(it)}s=b,e=0,y="",t=D}return md(this.element,t,this.preStyleProps,this.postStyleProps,s,e,y,!0)}}function qC(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}class xd{}class OL extends xd{normalizePropertyName(t,e){return dd(t)}normalizeStyleValue(t,e,s,y){let D="";const b=s.toString().trim();if(IL[e]&&0!==s&&"0"!==s)if("number"==typeof s)D="px";else{const O=s.match(/^[+-]?[\d\.]+([a-z]*)$/);O&&0==O[1].length&&y.push(function DI(i,t){return new At(3005,ne)}())}return b+D}}const IL=(()=>function LL(i){const t={};return i.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function _C(i,t,e,s,y,D,b,O,N,z,k,Q,it){return{type:0,element:i,triggerName:t,isRemovalTransition:y,fromState:e,fromStyles:D,toState:s,toStyles:b,timelines:O,queriedElements:N,preStyleProps:z,postStyleProps:k,totalTime:Q,errors:it}}const Cd={};class tT{constructor(t,e,s){this._triggerName=t,this.ast=e,this._stateStyles=s}match(t,e,s,y){return function NL(i,t,e,s,y){return i.some(D=>D(t,e,s,y))}(this.ast.matchers,t,e,s,y)}buildStyles(t,e,s){const y=this._stateStyles["*"],D=this._stateStyles[t],b=y?y.buildStyles(e,s):{};return D?D.buildStyles(e,s):b}build(t,e,s,y,D,b,O,N,z,k){const Q=[],it=this.ast.options&&this.ast.options.params||Cd,st=this.buildStyles(s,O&&O.params||Cd,Q),lt=N&&N.params||Cd,dt=this.buildStyles(y,lt,Q),yt=new Set,ut=new Map,Tt=new Map,Ft="void"===y,Qt={params:Object.assign(Object.assign({},it),lt)},be=k?[]:gd(t,e,this.ast.animation,D,b,st,dt,Qt,z,Q);let we=0;if(be.forEach(Hi=>{we=Math.max(Hi.duration+Hi.delay,we)}),Q.length)return _C(e,this._triggerName,s,y,Ft,st,dt,[],[],ut,Tt,we,Q);be.forEach(Hi=>{const zi=Hi.element,_s=Vi(ut,zi,{});Hi.preStyleProps.forEach(Sn=>_s[Sn]=!0);const sr=Vi(Tt,zi,{});Hi.postStyleProps.forEach(Sn=>sr[Sn]=!0),zi!==e&&yt.add(zi)});const Ui=th(yt.values());return _C(e,this._triggerName,s,y,Ft,st,dt,be,Ui,ut,Tt,we)}}class BL{constructor(t,e,s){this.styles=t,this.defaultParams=e,this.normalizer=s}buildStyles(t,e){const s={},y=$s(this.defaultParams);return Object.keys(t).forEach(D=>{const b=t[D];null!=b&&(y[D]=b)}),this.styles.styles.forEach(D=>{if("string"!=typeof D){const b=D;Object.keys(b).forEach(O=>{let N=b[O];N.length>1&&(N=_l(N,y,e));const z=this.normalizer.normalizePropertyName(O,e);N=this.normalizer.normalizeStyleValue(O,z,N,e),s[z]=N})}}),s}}class GL{constructor(t,e,s){this.name=t,this.ast=e,this._normalizer=s,this.transitionFactories=[],this.states={},e.states.forEach(y=>{this.states[y.name]=new BL(y.style,y.options&&y.options.params||{},s)}),eT(this.states,"true","1"),eT(this.states,"false","0"),e.transitions.forEach(y=>{this.transitionFactories.push(new tT(t,y,this.states))}),this.fallbackTransition=function UL(i,t,e){return new tT(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(b,O)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,s,y){return this.transitionFactories.find(b=>b.match(t,e,s,y))||null}matchStyles(t,e,s){return this.fallbackTransition.buildStyles(t,e,s)}}function eT(i,t,e){i.hasOwnProperty(t)?i.hasOwnProperty(e)||(i[e]=i[t]):i.hasOwnProperty(e)&&(i[t]=i[e])}const HL=new ah;class zL{constructor(t,e,s){this.bodyNode=t,this._driver=e,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(t,e){const s=[],D=pd(this._driver,e,s,[]);if(s.length)throw function WI(i){return new At(3503,ne)}();this._animations[t]=D}_buildPlayer(t,e,s){const y=t.element,D=IC(0,this._normalizer,0,t.keyframes,e,s);return this._driver.animate(y,D,t.duration,t.delay,t.easing,[],!0)}create(t,e,s={}){const y=[],D=this._animations[t];let b;const O=new Map;if(D?(b=gd(this._driver,e,D,hd,Zl,{},{},s,HL,y),b.forEach(k=>{const Q=Vi(O,k.element,{});k.postStyleProps.forEach(it=>Q[it]=null)})):(y.push(function kI(){return new At(3300,ne)}()),b=[]),y.length)throw function jI(i){return new At(3504,ne)}();O.forEach((k,Q)=>{Object.keys(k).forEach(it=>{k[it]=this._driver.computeStyle(Q,it,tr)})});const z=yr(b.map(k=>{const Q=O.get(k.element);return this._buildPlayer(k,{},Q)}));return this._playersById[t]=z,z.onDestroy(()=>this.destroy(t)),this.players.push(z),z}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const s=this.players.indexOf(e);s>=0&&this.players.splice(s,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function $I(i){return new At(3301,ne)}();return e}listen(t,e,s,y){const D=sd(e,"","","");return nd(this._getPlayer(t),s,D,y),()=>{}}command(t,e,s,y){if("register"==s)return void this.register(t,y[0]);if("create"==s)return void this.create(t,e,y[0]||{});const D=this._getPlayer(t);switch(s){case"play":D.play();break;case"pause":D.pause();break;case"reset":D.reset();break;case"restart":D.restart();break;case"finish":D.finish();break;case"init":D.init();break;case"setPosition":D.setPosition(parseFloat(y[0]));break;case"destroy":this.destroy(t)}}}const iT="ng-animate-queued",Td="ng-animate-disabled",jL=[],nT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$L={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_i="__ng_removed";class Ed{constructor(t,e=""){this.namespaceId=e;const s=t&&t.hasOwnProperty("value");if(this.value=function JL(i){return null!=i?i:null}(s?t.value:t),s){const D=$s(t);delete D.value,this.options=D}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const s=this.options.params;Object.keys(e).forEach(y=>{null==s[y]&&(s[y]=e[y])})}}}const sa="void",Sd=new Ed(sa);class KL{constructor(t,e,s){this.id=t,this.hostElement=e,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,tn(e,this._hostClassName)}listen(t,e,s,y){if(!this._triggers.hasOwnProperty(e))throw function KI(i,t){return new At(3302,ne)}();if(null==s||0==s.length)throw function ZI(i){return new At(3303,ne)}();if(!function qL(i){return"start"==i||"done"==i}(s))throw function QI(i,t){return new At(3400,ne)}();const D=Vi(this._elementListeners,t,[]),b={name:e,phase:s,callback:y};D.push(b);const O=Vi(this._engine.statesByElement,t,{});return O.hasOwnProperty(e)||(tn(t,Ql),tn(t,Ql+"-"+e),O[e]=Sd),()=>{this._engine.afterFlush(()=>{const N=D.indexOf(b);N>=0&&D.splice(N,1),this._triggers[e]||delete O[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function JI(i){return new At(3401,ne)}();return e}trigger(t,e,s,y=!0){const D=this._getTrigger(e),b=new Md(this.id,e,t);let O=this._engine.statesByElement.get(t);O||(tn(t,Ql),tn(t,Ql+"-"+e),this._engine.statesByElement.set(t,O={}));let N=O[e];const z=new Ed(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&N&&z.absorbOptions(N.options),O[e]=z,N||(N=Sd),z.value!==sa&&N.value===z.value){if(!function eN(i,t){const e=Object.keys(i),s=Object.keys(t);if(e.length!=s.length)return!1;for(let y=0;y<e.length;y++){const D=e[y];if(!t.hasOwnProperty(D)||i[D]!==t[D])return!1}return!0}(N.params,z.params)){const lt=[],dt=D.matchStyles(N.value,N.params,lt),yt=D.matchStyles(z.value,z.params,lt);lt.length?this._engine.reportError(lt):this._engine.afterFlush(()=>{Wr(t,dt),Un(t,yt)})}return}const it=Vi(this._engine.playersByElement,t,[]);it.forEach(lt=>{lt.namespaceId==this.id&&lt.triggerName==e&&lt.queued&&lt.destroy()});let nt=D.matchTransition(N.value,z.value,t,z.params),st=!1;if(!nt){if(!y)return;nt=D.fallbackTransition,st=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:nt,fromState:N,toState:z,player:b,isFallbackTransition:st}),st||(tn(t,iT),b.onStart(()=>{Ks(t,iT)})),b.onDone(()=>{let lt=this.players.indexOf(b);lt>=0&&this.players.splice(lt,1);const dt=this._engine.playersByElement.get(t);if(dt){let yt=dt.indexOf(b);yt>=0&&dt.splice(yt,1)}}),this.players.push(b),it.push(b),b}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,s)=>{delete e[t]}),this._elementListeners.forEach((e,s)=>{this._elementListeners.set(s,e.filter(y=>y.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(s=>s.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const s=this._engine.driver.query(t,Jl,!0);s.forEach(y=>{if(y[_i])return;const D=this._engine.fetchNamespacesByElement(y);D.size?D.forEach(b=>b.triggerLeaveAnimation(y,e,!1,!0)):this.clearElementCache(y)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(y=>this.clearElementCache(y)))}triggerLeaveAnimation(t,e,s,y){const D=this._engine.statesByElement.get(t),b=new Map;if(D){const O=[];if(Object.keys(D).forEach(N=>{if(b.set(N,D[N].value),this._triggers[N]){const z=this.trigger(t,N,sa,y);z&&O.push(z)}}),O.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,b),s&&yr(O).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),s=this._engine.statesByElement.get(t);if(e&&s){const y=new Set;e.forEach(D=>{const b=D.name;if(y.has(b))return;y.add(b);const N=this._triggers[b].fallbackTransition,z=s[b]||Sd,k=new Ed(sa),Q=new Md(this.id,b,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:b,transition:N,fromState:z,toState:k,player:Q,isFallbackTransition:!0})})}}removeNode(t,e){const s=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let y=!1;if(s.totalAnimations){const D=s.players.length?s.playersByQueriedElement.get(t):[];if(D&&D.length)y=!0;else{let b=t;for(;b=b.parentNode;)if(s.statesByElement.get(b)){y=!0;break}}}if(this.prepareLeaveAnimationListeners(t),y)s.markElementAsRemoved(this.id,t,!1,e);else{const D=t[_i];(!D||D===nT)&&(s.afterFlush(()=>this.clearElementCache(t)),s.destroyInnerAnimations(t),s._onRemovalComplete(t,e))}}insertNode(t,e){tn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(s=>{const y=s.player;if(y.destroyed)return;const D=s.element,b=this._elementListeners.get(D);b&&b.forEach(O=>{if(O.name==s.triggerName){const N=sd(D,s.triggerName,s.fromState.value,s.toState.value);N._data=t,nd(s.player,O.phase,N,O.callback)}}),y.markedForDestroy?this._engine.afterFlush(()=>{y.destroy()}):e.push(s)}),this._queue=[],e.sort((s,y)=>{const D=s.transition.ast.depCount,b=y.transition.ast.depCount;return 0==D||0==b?D-b:this._engine.driver.containsElement(s.element,y.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(s=>s.element===t)||e,e}}class ZL{constructor(t,e,s){this.bodyNode=t,this.driver=e,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(y,D)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(s=>{s.queued&&t.push(s)})}),t}createNamespace(t,e){const s=new KL(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(s,e):(this.newHostElements.set(e,s),this.collectEnterElement(e)),this._namespaceLookup[t]=s}_balanceNamespaceList(t,e){const s=this._namespaceList,y=this.namespacesByHostElement,D=s.length-1;if(D>=0){let b=!1;if(void 0!==this.driver.getParentElement){let O=this.driver.getParentElement(e);for(;O;){const N=y.get(O);if(N){const z=s.indexOf(N);s.splice(z+1,0,t),b=!0;break}O=this.driver.getParentElement(O)}}else for(let O=D;O>=0;O--)if(this.driver.containsElement(s[O].hostElement,e)){s.splice(O+1,0,t),b=!0;break}b||s.unshift(t)}else s.push(t);return y.set(e,t),t}register(t,e){let s=this._namespaceLookup[t];return s||(s=this.createNamespace(t,e)),s}registerTrigger(t,e,s){let y=this._namespaceLookup[t];y&&y.register(e,s)&&this.totalAnimations++}destroy(t,e){if(!t)return;const s=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[t];const y=this._namespaceList.indexOf(s);y>=0&&this._namespaceList.splice(y,1)}),this.afterFlushAnimationsDone(()=>s.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,s=this.statesByElement.get(t);if(s){const y=Object.keys(s);for(let D=0;D<y.length;D++){const b=s[y[D]].namespaceId;if(b){const O=this._fetchNamespace(b);O&&e.add(O)}}}return e}trigger(t,e,s,y){if(uh(e)){const D=this._fetchNamespace(t);if(D)return D.trigger(e,s,y),!0}return!1}insertNode(t,e,s,y){if(!uh(e))return;const D=e[_i];if(D&&D.setForRemoval){D.setForRemoval=!1,D.setForMove=!0;const b=this.collectedLeaveElements.indexOf(e);b>=0&&this.collectedLeaveElements.splice(b,1)}if(t){const b=this._fetchNamespace(t);b&&b.insertNode(e,s)}y&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),tn(t,Td)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ks(t,Td))}removeNode(t,e,s,y){if(uh(e)){const D=t?this._fetchNamespace(t):null;if(D?D.removeNode(e,y):this.markElementAsRemoved(t,e,!1,y),s){const b=this.namespacesByHostElement.get(e);b&&b.id!==t&&b.removeNode(e,y)}}else this._onRemovalComplete(e,y)}markElementAsRemoved(t,e,s,y,D){this.collectedLeaveElements.push(e),e[_i]={namespaceId:t,setForRemoval:y,hasAnimation:s,removedBeforeQueried:!1,previousTriggersValues:D}}listen(t,e,s,y,D){return uh(e)?this._fetchNamespace(t).listen(e,s,y,D):()=>{}}_buildInstruction(t,e,s,y,D){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,s,y,t.fromState.options,t.toState.options,e,D)}destroyInnerAnimations(t){let e=this.driver.query(t,Jl,!0);e.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,ud,!0),e.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return yr(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const s=t[_i];if(s&&s.setForRemoval){if(t[_i]=nT,s.namespaceId){this.destroyInnerAnimations(t);const y=this._fetchNamespace(s.namespaceId);y&&y.clearElementCache(t)}this._onRemovalComplete(t,s.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Td))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(y=>{this.markElementAsDisabled(y,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,y)=>this._balanceNamespaceList(s,y)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)tn(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{e=this._flushAnimations(s,t)}finally{for(let y=0;y<s.length;y++)s[y]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],e.length?yr(e).onDone(()=>{s.forEach(y=>y())}):s.forEach(y=>y())}}reportError(t){throw function qI(i){return new At(3402,ne)}()}_flushAnimations(t,e){const s=new ah,y=[],D=new Map,b=[],O=new Map,N=new Map,z=new Map,k=new Set;this.disabledNodes.forEach(Pt=>{k.add(Pt);const Lt=this.driver.query(Pt,".ng-animate-queued",!0);for(let Ut=0;Ut<Lt.length;Ut++)k.add(Lt[Ut])});const Q=this.bodyNode,it=Array.from(this.statesByElement.keys()),nt=oT(it,this.collectedEnterElements),st=new Map;let lt=0;nt.forEach((Pt,Lt)=>{const Ut=hd+lt++;st.set(Lt,Ut),Pt.forEach(ae=>tn(ae,Ut))});const dt=[],yt=new Set,ut=new Set;for(let Pt=0;Pt<this.collectedLeaveElements.length;Pt++){const Lt=this.collectedLeaveElements[Pt],Ut=Lt[_i];Ut&&Ut.setForRemoval&&(dt.push(Lt),yt.add(Lt),Ut.hasAnimation?this.driver.query(Lt,".ng-star-inserted",!0).forEach(ae=>yt.add(ae)):ut.add(Lt))}const Tt=new Map,Ft=oT(it,Array.from(yt));Ft.forEach((Pt,Lt)=>{const Ut=Zl+lt++;Tt.set(Lt,Ut),Pt.forEach(ae=>tn(ae,Ut))}),t.push(()=>{nt.forEach((Pt,Lt)=>{const Ut=st.get(Lt);Pt.forEach(ae=>Ks(ae,Ut))}),Ft.forEach((Pt,Lt)=>{const Ut=Tt.get(Lt);Pt.forEach(ae=>Ks(ae,Ut))}),dt.forEach(Pt=>{this.processLeaveNode(Pt)})});const Qt=[],be=[];for(let Pt=this._namespaceList.length-1;Pt>=0;Pt--)this._namespaceList[Pt].drainQueuedTransitions(e).forEach(Ut=>{const ae=Ut.player,ni=Ut.element;if(Qt.push(ae),this.collectedEnterElements.length){const Ti=ni[_i];if(Ti&&Ti.setForMove){if(Ti.previousTriggersValues&&Ti.previousTriggersValues.has(Ut.triggerName)){const qr=Ti.previousTriggersValues.get(Ut.triggerName),Mr=this.statesByElement.get(Ut.element);Mr&&Mr[Ut.triggerName]&&(Mr[Ut.triggerName].value=qr)}return void ae.destroy()}}const Yn=!Q||!this.driver.containsElement(Q,ni),Yi=Tt.get(ni),Sr=st.get(ni),Oe=this._buildInstruction(Ut,s,Sr,Yi,Yn);if(Oe.errors&&Oe.errors.length)return void be.push(Oe);if(Yn)return ae.onStart(()=>Wr(ni,Oe.fromStyles)),ae.onDestroy(()=>Un(ni,Oe.toStyles)),void y.push(ae);if(Ut.isFallbackTransition)return ae.onStart(()=>Wr(ni,Oe.fromStyles)),ae.onDestroy(()=>Un(ni,Oe.toStyles)),void y.push(ae);const WE=[];Oe.timelines.forEach(Ti=>{Ti.stretchStartingKeyframe=!0,this.disabledNodes.has(Ti.element)||WE.push(Ti)}),Oe.timelines=WE,s.append(ni,Oe.timelines),b.push({instruction:Oe,player:ae,element:ni}),Oe.queriedElements.forEach(Ti=>Vi(O,Ti,[]).push(ae)),Oe.preStyleProps.forEach((Ti,qr)=>{const Mr=Object.keys(Ti);if(Mr.length){let _r=N.get(qr);_r||N.set(qr,_r=new Set),Mr.forEach(ep=>_r.add(ep))}}),Oe.postStyleProps.forEach((Ti,qr)=>{const Mr=Object.keys(Ti);let _r=z.get(qr);_r||z.set(qr,_r=new Set),Mr.forEach(ep=>_r.add(ep))})});if(be.length){const Pt=[];be.forEach(Lt=>{Pt.push(function _I(i,t){return new At(3505,ne)}())}),Qt.forEach(Lt=>Lt.destroy()),this.reportError(Pt)}const we=new Map,Ui=new Map;b.forEach(Pt=>{const Lt=Pt.element;s.has(Lt)&&(Ui.set(Lt,Lt),this._beforeAnimationBuild(Pt.player.namespaceId,Pt.instruction,we))}),y.forEach(Pt=>{const Lt=Pt.element;this._getPreviousPlayers(Lt,!1,Pt.namespaceId,Pt.triggerName,null).forEach(ae=>{Vi(we,Lt,[]).push(ae),ae.destroy()})});const Hi=dt.filter(Pt=>lT(Pt,N,z)),zi=new Map;sT(zi,this.driver,ut,z,tr).forEach(Pt=>{lT(Pt,N,z)&&Hi.push(Pt)});const sr=new Map;nt.forEach((Pt,Lt)=>{sT(sr,this.driver,new Set(Pt),N,"!")}),Hi.forEach(Pt=>{const Lt=zi.get(Pt),Ut=sr.get(Pt);zi.set(Pt,Object.assign(Object.assign({},Lt),Ut))});const Sn=[],to=[],eo={};b.forEach(Pt=>{const{element:Lt,player:Ut,instruction:ae}=Pt;if(s.has(Lt)){if(k.has(Lt))return Ut.onDestroy(()=>Un(Lt,ae.toStyles)),Ut.disabled=!0,Ut.overrideTotalTime(ae.totalTime),void y.push(Ut);let ni=eo;if(Ui.size>1){let Yi=Lt;const Sr=[];for(;Yi=Yi.parentNode;){const Oe=Ui.get(Yi);if(Oe){ni=Oe;break}Sr.push(Yi)}Sr.forEach(Oe=>Ui.set(Oe,ni))}const Yn=this._buildAnimation(Ut.namespaceId,ae,we,D,sr,zi);if(Ut.setRealPlayer(Yn),ni===eo)Sn.push(Ut);else{const Yi=this.playersByElement.get(ni);Yi&&Yi.length&&(Ut.parentPlayer=yr(Yi)),y.push(Ut)}}else Wr(Lt,ae.fromStyles),Ut.onDestroy(()=>Un(Lt,ae.toStyles)),to.push(Ut),k.has(Lt)&&y.push(Ut)}),to.forEach(Pt=>{const Lt=D.get(Pt.element);if(Lt&&Lt.length){const Ut=yr(Lt);Pt.setRealPlayer(Ut)}}),y.forEach(Pt=>{Pt.parentPlayer?Pt.syncPlayerEvents(Pt.parentPlayer):Pt.destroy()});for(let Pt=0;Pt<dt.length;Pt++){const Lt=dt[Pt],Ut=Lt[_i];if(Ks(Lt,Zl),Ut&&Ut.hasAnimation)continue;let ae=[];if(O.size){let Yn=O.get(Lt);Yn&&Yn.length&&ae.push(...Yn);let Yi=this.driver.query(Lt,ud,!0);for(let Sr=0;Sr<Yi.length;Sr++){let Oe=O.get(Yi[Sr]);Oe&&Oe.length&&ae.push(...Oe)}}const ni=ae.filter(Yn=>!Yn.destroyed);ni.length?_L(this,Lt,ni):this.processLeaveNode(Lt)}return dt.length=0,Sn.forEach(Pt=>{this.players.push(Pt),Pt.onDone(()=>{Pt.destroy();const Lt=this.players.indexOf(Pt);this.players.splice(Lt,1)}),Pt.play()}),Sn}elementContainsData(t,e){let s=!1;const y=e[_i];return y&&y.setForRemoval&&(s=!0),this.playersByElement.has(e)&&(s=!0),this.playersByQueriedElement.has(e)&&(s=!0),this.statesByElement.has(e)&&(s=!0),this._fetchNamespace(t).elementContainsData(e)||s}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,s,y,D){let b=[];if(e){const O=this.playersByQueriedElement.get(t);O&&(b=O)}else{const O=this.playersByElement.get(t);if(O){const N=!D||D==sa;O.forEach(z=>{z.queued||!N&&z.triggerName!=y||b.push(z)})}}return(s||y)&&(b=b.filter(O=>!(s&&s!=O.namespaceId||y&&y!=O.triggerName))),b}_beforeAnimationBuild(t,e,s){const D=e.element,b=e.isRemovalTransition?void 0:t,O=e.isRemovalTransition?void 0:e.triggerName;for(const N of e.timelines){const z=N.element,k=z!==D,Q=Vi(s,z,[]);this._getPreviousPlayers(z,k,b,O,e.toState).forEach(nt=>{const st=nt.getRealPlayer();st.beforeDestroy&&st.beforeDestroy(),nt.destroy(),Q.push(nt)})}Wr(D,e.fromStyles)}_buildAnimation(t,e,s,y,D,b){const O=e.triggerName,N=e.element,z=[],k=new Set,Q=new Set,it=e.timelines.map(st=>{const lt=st.element;k.add(lt);const dt=lt[_i];if(dt&&dt.removedBeforeQueried)return new na(st.duration,st.delay);const yt=lt!==N,ut=function tN(i){const t=[];return aT(i,t),t}((s.get(lt)||jL).map(we=>we.getRealPlayer())).filter(we=>!!we.element&&we.element===lt),Tt=D.get(lt),Ft=b.get(lt),Qt=IC(0,this._normalizer,0,st.keyframes,Tt,Ft),be=this._buildPlayer(st,Qt,ut);if(st.subTimeline&&y&&Q.add(lt),yt){const we=new Md(t,O,lt);we.setRealPlayer(be),z.push(we)}return be});z.forEach(st=>{Vi(this.playersByQueriedElement,st.element,[]).push(st),st.onDone(()=>function QL(i,t,e){let s;if(i instanceof Map){if(s=i.get(t),s){if(s.length){const y=s.indexOf(e);s.splice(y,1)}0==s.length&&i.delete(t)}}else if(s=i[t],s){if(s.length){const y=s.indexOf(e);s.splice(y,1)}0==s.length&&delete i[t]}return s}(this.playersByQueriedElement,st.element,st))}),k.forEach(st=>tn(st,XC));const nt=yr(it);return nt.onDestroy(()=>{k.forEach(st=>Ks(st,XC)),Un(N,e.toStyles)}),Q.forEach(st=>{Vi(y,st,[]).push(nt)}),nt}_buildPlayer(t,e,s){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,s):new na(t.duration,t.delay)}}class Md{constructor(t,e,s){this.namespaceId=t,this.triggerName=e,this.element=s,this._player=new na,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(s=>nd(t,e,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Vi(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function uh(i){return i&&1===i.nodeType}function rT(i,t){const e=i.style.display;return i.style.display=null!=t?t:"none",e}function sT(i,t,e,s,y){const D=[];e.forEach(N=>D.push(rT(N)));const b=[];s.forEach((N,z)=>{const k={};N.forEach(Q=>{const it=k[Q]=t.computeStyle(z,Q,y);(!it||0==it.length)&&(z[_i]=$L,b.push(z))}),i.set(z,k)});let O=0;return e.forEach(N=>rT(N,D[O++])),b}function oT(i,t){const e=new Map;if(i.forEach(O=>e.set(O,[])),0==t.length)return e;const y=new Set(t),D=new Map;function b(O){if(!O)return 1;let N=D.get(O);if(N)return N;const z=O.parentNode;return N=e.has(z)?z:y.has(z)?1:b(z),D.set(O,N),N}return t.forEach(O=>{const N=b(O);1!==N&&e.get(N).push(O)}),e}function tn(i,t){var e;null===(e=i.classList)||void 0===e||e.add(t)}function Ks(i,t){var e;null===(e=i.classList)||void 0===e||e.remove(t)}function _L(i,t,e){yr(e).onDone(()=>i.processLeaveNode(t))}function aT(i,t){for(let e=0;e<i.length;e++){const s=i[e];s instanceof wC?aT(s.players,t):t.push(s)}}function lT(i,t,e){const s=e.get(i);if(!s)return!1;let y=t.get(i);return y?s.forEach(D=>y.add(D)):t.set(i,s),e.delete(i),!0}class fh{constructor(t,e,s){this.bodyNode=t,this._driver=e,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(y,D)=>{},this._transitionEngine=new ZL(t,e,s),this._timelineEngine=new zL(t,e,s),this._transitionEngine.onRemovalComplete=(y,D)=>this.onRemovalComplete(y,D)}registerTrigger(t,e,s,y,D){const b=t+"-"+y;let O=this._triggerCache[b];if(!O){const N=[],k=pd(this._driver,D,N,[]);if(N.length)throw function YI(i,t){return new At(3404,ne)}();O=function VL(i,t,e){return new GL(i,t,e)}(y,k,this._normalizer),this._triggerCache[b]=O}this._transitionEngine.registerTrigger(e,y,O)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,s,y){this._transitionEngine.insertNode(t,e,s,y)}onRemove(t,e,s,y){this._transitionEngine.removeNode(t,e,y||!1,s)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,s,y){if("@"==s.charAt(0)){const[D,b]=LC(s);this._timelineEngine.command(D,e,b,y)}else this._transitionEngine.trigger(t,e,s,y)}listen(t,e,s,y,D){if("@"==s.charAt(0)){const[b,O]=LC(s);return this._timelineEngine.listen(b,e,O,D)}return this._transitionEngine.listen(t,e,s,y,D)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let nN=(()=>{class i{constructor(e,s,y){this._element=e,this._startStyles=s,this._endStyles=y,this._state=0;let D=i.initialStylesByElement.get(e);D||i.initialStylesByElement.set(e,D={}),this._initialStyles=D}start(){this._state<1&&(this._startStyles&&Un(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Un(this._element,this._initialStyles),this._endStyles&&(Un(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Wr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wr(this._element,this._endStyles),this._endStyles=null),Un(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function Ad(i){let t=null;const e=Object.keys(i);for(let s=0;s<e.length;s++){const y=e[s];rN(y)&&(t=t||{},t[y]=i[y])}return t}function rN(i){return"display"===i||"position"===i}class hT{constructor(t,e,s,y){this.element=t,this.keyframes=e,this.options=s,this._specialStyles=y,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,s){return t.animate(e,s)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(s=>{"offset"!=s&&(t[s]=this._finished?e[s]:KC(this.element,s))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class sN{validateStyleProperty(t){return GC(t)}matchesElement(t,e){return!1}containsElement(t,e){return UC(t,e)}getParentElement(t){return ad(t)}query(t,e,s){return HC(t,e,s)}computeStyle(t,e,s){return window.getComputedStyle(t)[e]}animate(t,e,s,y,D,b=[]){const N={duration:s,delay:y,fill:0==y?"both":"forwards"};D&&(N.easing=D);const z={},k=b.filter(it=>it instanceof hT);(function hL(i,t){return 0===i||0===t})(s,y)&&k.forEach(it=>{let nt=it.currentSnapshot;Object.keys(nt).forEach(st=>z[st]=nt[st])}),e=function uL(i,t,e){const s=Object.keys(e);if(s.length&&t.length){let D=t[0],b=[];if(s.forEach(O=>{D.hasOwnProperty(O)||b.push(O),D[O]=e[O]}),b.length)for(var y=1;y<t.length;y++){let O=t[y];b.forEach(function(N){O[N]=KC(i,N)})}}return t}(t,e=e.map(it=>xr(it,!1)),z);const Q=function iN(i,t){let e=null,s=null;return Array.isArray(t)&&t.length?(e=Ad(t[0]),t.length>1&&(s=Ad(t[t.length-1]))):t&&(e=Ad(t)),e||s?new nN(i,e,s):null}(t,e);return new hT(t,e,N,Q)}}let oN=(()=>{class i extends PC{constructor(e,s){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(s.body,{id:"0",encapsulation:hn.None,styles:[],data:{animation:[]}})}build(e){const s=this._nextAnimationId.toString();this._nextAnimationId++;const y=Array.isArray(e)?bC(e):e;return uT(this._renderer,null,s,"register",[y]),new aN(s,this._renderer)}}return i.\u0275fac=function(e){return new(e||i)(pt(zo),pt(re))},i.\u0275prov=wt({token:i,factory:i.\u0275fac}),i})();class aN extends class xI{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new lN(this._id,t,e||{},this._renderer)}}class lN{constructor(t,e,s,y){this.id=t,this.element=e,this._renderer=y,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return uT(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function uT(i,t,e,s,y){return i.setProperty(t,`@@${e}:${s}`,y)}const fT="@.disabled";let hN=(()=>{class i{constructor(e,s,y){this.delegate=e,this.engine=s,this._zone=y,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(D,b)=>{const O=null==b?void 0:b.parentNode(D);O&&b.removeChild(O,D)}}createRenderer(e,s){const D=this.delegate.createRenderer(e,s);if(!(e&&s&&s.data&&s.data.animation)){let k=this._rendererCache.get(D);return k||(k=new cT("",D,this.engine),this._rendererCache.set(D,k)),k}const b=s.id,O=s.id+"-"+this._currentId;this._currentId++,this.engine.register(O,e);const N=k=>{Array.isArray(k)?k.forEach(N):this.engine.registerTrigger(b,O,e,k.name,k)};return s.data.animation.forEach(N),new uN(this,O,D,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,s,y){e>=0&&e<this._microtaskId?this._zone.run(()=>s(y)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(D=>{const[b,O]=D;b(O)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,y]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(e){return new(e||i)(pt(zo),pt(fh),pt(oe))},i.\u0275prov=wt({token:i,factory:i.\u0275fac}),i})();class cT{constructor(t,e,s){this.namespaceId=t,this.delegate=e,this.engine=s,this.destroyNode=this.delegate.destroyNode?y=>e.destroyNode(y):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,s,y=!0){this.delegate.insertBefore(t,e,s),this.engine.onInsert(this.namespaceId,e,t,y)}removeChild(t,e,s){this.engine.onRemove(this.namespaceId,e,this.delegate,s)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,s,y){this.delegate.setAttribute(t,e,s,y)}removeAttribute(t,e,s){this.delegate.removeAttribute(t,e,s)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,s,y){this.delegate.setStyle(t,e,s,y)}removeStyle(t,e,s){this.delegate.removeStyle(t,e,s)}setProperty(t,e,s){"@"==e.charAt(0)&&e==fT?this.disableAnimations(t,!!s):this.delegate.setProperty(t,e,s)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,s){return this.delegate.listen(t,e,s)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class uN extends cT{constructor(t,e,s,y){super(e,s,y),this.factory=t,this.namespaceId=e}setProperty(t,e,s){"@"==e.charAt(0)?"."==e.charAt(1)&&e==fT?this.disableAnimations(t,s=void 0===s||!!s):this.engine.process(this.namespaceId,t,e.substr(1),s):this.delegate.setProperty(t,e,s)}listen(t,e,s){if("@"==e.charAt(0)){const y=function fN(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let D=e.substr(1),b="";return"@"!=D.charAt(0)&&([D,b]=function cN(i){const t=i.indexOf(".");return[i.substring(0,t),i.substr(t+1)]}(D)),this.engine.listen(this.namespaceId,y,D,b,O=>{this.factory.scheduleListenerCallback(O._data||-1,s,O)})}return this.delegate.listen(t,e,s)}}let dN=(()=>{class i extends fh{constructor(e,s,y){super(e.body,s,y)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(e){return new(e||i)(pt(re),pt(ld),pt(xd))},i.\u0275prov=wt({token:i,factory:i.\u0275fac}),i})();const er=new Dt("AnimationModuleType"),dT=[{provide:PC,useClass:oN},{provide:xd,useFactory:function pN(){return new OL}},{provide:fh,useClass:dN},{provide:zo,useFactory:function vN(i,t,e){return new hN(i,t,e)},deps:[Nl,fh,oe]}],pT=[{provide:ld,useFactory:()=>new sN},{provide:er,useValue:"BrowserAnimations"},...dT],mN=[{provide:ld,useClass:zC},{provide:er,useValue:"NoopAnimations"},...dT];let gN=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?mN:pT}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({providers:pT,imports:[g0]}),i})();const yN=new Dt("cdk-dir-doc",{providedIn:"root",factory:function xN(){return Ha(re)}}),CN=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Dd,dh=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new qt,e){const y=e.documentElement?e.documentElement.dir:null;this.value=function TN(i){const t=(null==i?void 0:i.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?CN.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||y||"ltr")}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(pt(yN,8))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),oa=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({}),i})();try{Dd="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){Dd=!1}let Zs,Ci=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Nw(i){return i===s0}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Dd)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(pt(Qf))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const mT=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function gT(){if(Zs)return Zs;if("object"!=typeof document||!document)return Zs=new Set(mT),Zs;let i=document.createElement("input");return Zs=new Set(mT.filter(t=>(i.setAttribute("type",t),i.type===t))),Zs}let aa,jr,Pd;function Qs(i){return function EN(){if(null==aa&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>aa=!0}))}finally{aa=aa||!1}return aa}()?i:!!i.capture}function SN(){if(null==jr){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return jr=!1,jr;if("scrollBehavior"in document.documentElement.style)jr=!0;else{const i=Element.prototype.scrollTo;jr=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return jr}function $r(i){return i.composedPath?i.composedPath()[0]:i.target}function Rd(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}class yT extends Y{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new B;return this._value}next(t){super.next(this._value=t)}}function ir(...i){let t=i[i.length-1];return J(t)?(i.pop(),xt(i,t)):Ke(i)}function xT(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function CT(i){return t=>t.lift(new HN(i))}class HN{constructor(t){this.total=t}call(t,e){return e.subscribe(new zN(t,this.total))}}class zN extends v{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}class XN{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new WN(t,this.compare,this.keySelector))}}class WN extends v{constructor(t,e,s){super(t),this.keySelector=s,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:y}=this;e=y?y(t):t}catch(y){return this.destination.error(y)}let s=!1;if(this.hasKey)try{const{compare:y}=this;s=y(this.key,e)}catch(y){return this.destination.error(y)}else this.hasKey=!0;s||(this.key=e,this.destination.next(t))}}function Di(i){return t=>t.lift(new kN(i))}class kN{constructor(t){this.notifier=t}call(t,e){const s=new jN(t),y=$e(this.notifier,new gt(s));return y&&!s.seenValue?(s.add(y),e.subscribe(s)):s}}class jN extends Rt{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Ue(i){return null!=i&&"false"!=`${i}`}function nr(i,t=0){return function $N(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):t}function vh(i){return Array.isArray(i)?i:[i]}function je(i){return null==i?"":"string"==typeof i?i:`${i}px`}function rr(i){return i instanceof Re?i.nativeElement:i}class KN extends r{constructor(t,e){super()}schedule(t,e=0){return this}}class bd extends KN{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const s=this.id,y=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(y,s,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(y,this.id,e),this}requestAsyncId(t,e,s=0){return setInterval(t.flush.bind(t,this),s)}recycleAsyncId(t,e,s=0){if(null!==s&&this.delay===s&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(t,e);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let y,s=!1;try{this.work(t)}catch(D){s=!0,y=!!D&&D||new Error(D)}if(s)return this.unsubscribe(),y}_unsubscribe(){const t=this.id,e=this.scheduler,s=e.actions,y=s.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==y&&s.splice(y,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let TT=(()=>{class i{constructor(e,s=i.now){this.SchedulerAction=e,this.now=s}schedule(e,s=0,y){return new this.SchedulerAction(this,e).schedule(y,s)}}return i.now=()=>Date.now(),i})();class Hn extends TT{constructor(t,e=TT.now){super(t,()=>Hn.delegate&&Hn.delegate!==this?Hn.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,s){return Hn.delegate&&Hn.delegate!==this?Hn.delegate.schedule(t,e,s):super.schedule(t,e,s)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let s;this.active=!0;do{if(s=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,s){for(;t=e.shift();)t.unsubscribe();throw s}}}const Fd=new Hn(bd);function ET(i,t=Fd){return e=>e.lift(new ZN(i,t))}class ZN{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new QN(t,this.dueTime,this.scheduler))}}class QN extends v{constructor(t,e,s){super(t),this.dueTime=e,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(JN,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function JN(i){i.debouncedNext()}let ST=(()=>{class i{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),qN=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,s)=>this._cleanupObserver(s))}observe(e){const s=rr(e);return new w(y=>{const b=this._observeElement(s).subscribe(y);return()=>{b.unsubscribe(),this._unobserveElement(s)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const s=new Y,y=this._mutationObserverFactory.create(D=>s.next(D));y&&y.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:y,stream:s,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:s,stream:y}=this._observedElements.get(e);s&&s.disconnect(),y.complete(),this._observedElements.delete(e)}}}return i.\u0275fac=function(e){return new(e||i)(pt(ST))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),MT=(()=>{class i{constructor(e,s,y){this._contentObserver=e,this._elementRef=s,this._ngZone=y,this.event=new qt,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Ue(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=nr(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(ET(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(ht(qN),ht(Re),ht(oe))},i.\u0275dir=It({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),wd=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({providers:[ST]}),i})();function mh(i,t){return(i.getAttribute(t)||"").match(/\S+/g)||[]}const DT="cdk-describedby-message",gh="cdk-describedby-host";let PT=0,eB=(()=>{class i{constructor(e,s){this._platform=s,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+PT++,this._document=e}describe(e,s,y){if(!this._canBeDescribed(e,s))return;const D=Od(s,y);"string"!=typeof s?(RT(s),this._messageRegistry.set(D,{messageElement:s,referenceCount:0})):this._messageRegistry.has(D)||this._createMessageElement(s,y),this._isElementDescribedByMessage(e,D)||this._addMessageReference(e,D)}removeDescription(e,s,y){var D;if(!s||!this._isElementNode(e))return;const b=Od(s,y);if(this._isElementDescribedByMessage(e,b)&&this._removeMessageReference(e,b),"string"==typeof s){const O=this._messageRegistry.get(b);O&&0===O.referenceCount&&this._deleteMessageElement(b)}0===(null===(D=this._messagesContainer)||void 0===D?void 0:D.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var e;const s=this._document.querySelectorAll(`[${gh}="${this._id}"]`);for(let y=0;y<s.length;y++)this._removeCdkDescribedByReferenceIds(s[y]),s[y].removeAttribute(gh);null===(e=this._messagesContainer)||void 0===e||e.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,s){const y=this._document.createElement("div");RT(y),y.textContent=e,s&&y.setAttribute("role",s),this._createMessagesContainer(),this._messagesContainer.appendChild(y),this._messageRegistry.set(Od(e,s),{messageElement:y,referenceCount:0})}_deleteMessageElement(e){var s,y;null===(y=null===(s=this._messageRegistry.get(e))||void 0===s?void 0:s.messageElement)||void 0===y||y.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",s=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let D=0;D<s.length;D++)s[D].remove();const y=this._document.createElement("div");y.style.visibility="hidden",y.classList.add(e),y.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&y.setAttribute("platform","server"),this._document.body.appendChild(y),this._messagesContainer=y}_removeCdkDescribedByReferenceIds(e){const s=mh(e,"aria-describedby").filter(y=>0!=y.indexOf(DT));e.setAttribute("aria-describedby",s.join(" "))}_addMessageReference(e,s){const y=this._messageRegistry.get(s);(function _N(i,t,e){const s=mh(i,t);s.some(y=>y.trim()==e.trim())||(s.push(e.trim()),i.setAttribute(t,s.join(" ")))})(e,"aria-describedby",y.messageElement.id),e.setAttribute(gh,this._id),y.referenceCount++}_removeMessageReference(e,s){const y=this._messageRegistry.get(s);y.referenceCount--,function tB(i,t,e){const y=mh(i,t).filter(D=>D!=e.trim());y.length?i.setAttribute(t,y.join(" ")):i.removeAttribute(t)}(e,"aria-describedby",y.messageElement.id),e.removeAttribute(gh)}_isElementDescribedByMessage(e,s){const y=mh(e,"aria-describedby"),D=this._messageRegistry.get(s),b=D&&D.messageElement.id;return!!b&&-1!=y.indexOf(b)}_canBeDescribed(e,s){if(!this._isElementNode(e))return!1;if(s&&"object"==typeof s)return!0;const y=null==s?"":`${s}`.trim(),D=e.getAttribute("aria-label");return!(!y||D&&D.trim()===y)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return i.\u0275fac=function(e){return new(e||i)(pt(re),pt(Ci))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Od(i,t){return"string"==typeof i?`${t||""}/${i}`:i}function RT(i){i.id||(i.id=`${DT}-${PT++}`)}function FT(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function wT(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const aB=new Dt("cdk-input-modality-detector-options"),lB={ignoreKeys:[18,17,224,91,16]},Js=Qs({passive:!0,capture:!0});let hB=(()=>{class i{constructor(e,s,y,D){this._platform=e,this._mostRecentTarget=null,this._modality=new yT(null),this._lastTouchMs=0,this._onKeydown=b=>{var O,N;(null===(N=null===(O=this._options)||void 0===O?void 0:O.ignoreKeys)||void 0===N?void 0:N.some(z=>z===b.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=$r(b))},this._onMousedown=b=>{Date.now()-this._lastTouchMs<650||(this._modality.next(FT(b)?"keyboard":"mouse"),this._mostRecentTarget=$r(b))},this._onTouchstart=b=>{wT(b)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=$r(b))},this._options=Object.assign(Object.assign({},lB),D),this.modalityDetected=this._modality.pipe(CT(1)),this.modalityChanged=this.modalityDetected.pipe(function YN(i,t){return e=>e.lift(new XN(i,t))}()),e.isBrowser&&s.runOutsideAngular(()=>{y.addEventListener("keydown",this._onKeydown,Js),y.addEventListener("mousedown",this._onMousedown,Js),y.addEventListener("touchstart",this._onTouchstart,Js)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Js),document.removeEventListener("mousedown",this._onMousedown,Js),document.removeEventListener("touchstart",this._onTouchstart,Js))}}return i.\u0275fac=function(e){return new(e||i)(pt(Ci),pt(oe),pt(re),pt(aB,8))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const fB=new Dt("cdk-focus-monitor-default-options"),yh=Qs({passive:!0,capture:!0});let la=(()=>{class i{constructor(e,s,y,D,b){this._ngZone=e,this._platform=s,this._inputModalityDetector=y,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Y,this._rootNodeFocusAndBlurListener=O=>{const N=$r(O),z="focus"===O.type?this._onFocus:this._onBlur;for(let k=N;k;k=k.parentElement)z.call(this,O,k)},this._document=D,this._detectionMode=(null==b?void 0:b.detectionMode)||0}monitor(e,s=!1){const y=rr(e);if(!this._platform.isBrowser||1!==y.nodeType)return ir(null);const D=function AN(i){if(function MN(){if(null==Pd){const i="undefined"!=typeof document?document.head:null;Pd=!(!i||!i.createShadowRoot&&!i.attachShadow)}return Pd}()){const t=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(y)||this._getDocument(),b=this._elementInfo.get(y);if(b)return s&&(b.checkChildren=!0),b.subject;const O={checkChildren:s,subject:new Y,rootNode:D};return this._elementInfo.set(y,O),this._registerGlobalListeners(O),O.subject}stopMonitoring(e){const s=rr(e),y=this._elementInfo.get(s);y&&(y.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(y))}focusVia(e,s,y){const D=rr(e);D===this._getDocument().activeElement?this._getClosestElementsInfo(D).forEach(([O,N])=>this._originChanged(O,s,N)):(this._setOrigin(s),"function"==typeof D.focus&&D.focus(y))}ngOnDestroy(){this._elementInfo.forEach((e,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,s){e.classList.toggle("cdk-focused",!!s),e.classList.toggle("cdk-touch-focused","touch"===s),e.classList.toggle("cdk-keyboard-focused","keyboard"===s),e.classList.toggle("cdk-mouse-focused","mouse"===s),e.classList.toggle("cdk-program-focused","program"===s)}_setOrigin(e,s=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&s,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,s){const y=this._elementInfo.get(s),D=$r(e);!y||!y.checkChildren&&s!==D||this._originChanged(s,this._getFocusOrigin(D),y)}_onBlur(e,s){const y=this._elementInfo.get(s);!y||y.checkChildren&&e.relatedTarget instanceof Node&&s.contains(e.relatedTarget)||(this._setClasses(s),this._emitOrigin(y.subject,null))}_emitOrigin(e,s){this._ngZone.run(()=>e.next(s))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const s=e.rootNode,y=this._rootNodeFocusListenerCount.get(s)||0;y||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,yh),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,yh)}),this._rootNodeFocusListenerCount.set(s,y+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Di(this._stopInputModalityDetector)).subscribe(D=>{this._setOrigin(D,!0)}))}_removeGlobalListeners(e){const s=e.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const y=this._rootNodeFocusListenerCount.get(s);y>1?this._rootNodeFocusListenerCount.set(s,y-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,yh),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,yh),this._rootNodeFocusListenerCount.delete(s))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,s,y){this._setClasses(e,s),this._emitOrigin(y.subject,s),this._lastFocusOrigin=s}_getClosestElementsInfo(e){const s=[];return this._elementInfo.forEach((y,D)=>{(D===e||y.checkChildren&&D.contains(e))&&s.push([D,y])}),s}}return i.\u0275fac=function(e){return new(e||i)(pt(oe),pt(Ci),pt(hB),pt(re,8),pt(fB,8))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const IT="cdk-high-contrast-black-on-white",LT="cdk-high-contrast-white-on-black",Id="cdk-high-contrast-active";let NT=(()=>{class i{constructor(e,s){this._platform=e,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const s=this._document.defaultView||window,y=s&&s.getComputedStyle?s.getComputedStyle(e):null,D=(y&&y.backgroundColor||"").replace(/ /g,"");switch(e.remove(),D){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Id),e.remove(IT),e.remove(LT),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(e.add(Id),e.add(IT)):2===s&&(e.add(Id),e.add(LT))}}}return i.\u0275fac=function(e){return new(e||i)(pt(Ci),pt(re))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),cB=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(e){return new(e||i)(pt(NT))},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({imports:[[wd]]}),i})();const pB=new Dt("mat-sanity-checks",{providedIn:"root",factory:function dB(){return!0}});let li=(()=>{class i{constructor(e,s,y){this._sanityChecks=s,this._document=y,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Rd()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return i.\u0275fac=function(e){return new(e||i)(pt(NT),pt(pB,8),pt(re))},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({imports:[[oa],oa]}),i})();function Ld(i){return class extends i{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Ue(t)}}}function ha(i,t){return class extends i{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const s=e||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function Nd(i){return class extends i{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ue(t)}}}function VT(i,t=0){return class extends i{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?nr(e):this.defaultTabIndex}}}function vB(i){return class extends i{constructor(...t){super(...t),this.stateChanges=new Y,this.errorState=!1}updateErrorState(){const t=this.errorState,D=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);D!==t&&(this.errorState=D,this.stateChanges.next())}}}let GT=(()=>{class i{isErrorState(e,s){return!!(e&&e.invalid&&(e.touched||s&&s.submitted))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class gB{constructor(t,e,s){this._renderer=t,this.element=e,this.config=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const UT={enterDuration:225,exitDuration:150},Bd=Qs({passive:!0}),HT=["mousedown","touchstart"],zT=["mouseup","mouseleave","touchend","touchcancel"];class xB{constructor(t,e,s,y){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,y.isBrowser&&(this._containerElement=rr(s))}fadeInRipple(t,e,s={}){const y=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),D=Object.assign(Object.assign({},UT),s.animation);s.centered&&(t=y.left+y.width/2,e=y.top+y.height/2);const b=s.radius||function TB(i,t,e){const s=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),y=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(s*s+y*y)}(t,e,y),O=t-y.left,N=e-y.top,z=D.enterDuration,k=document.createElement("div");k.classList.add("mat-ripple-element"),k.style.left=O-b+"px",k.style.top=N-b+"px",k.style.height=2*b+"px",k.style.width=2*b+"px",null!=s.color&&(k.style.backgroundColor=s.color),k.style.transitionDuration=`${z}ms`,this._containerElement.appendChild(k),function CB(i){window.getComputedStyle(i).getPropertyValue("opacity")}(k),k.style.transform="scale(1)";const Q=new gB(this,k,s);return Q.state=0,this._activeRipples.add(Q),s.persistent||(this._mostRecentTransientRipple=Q),this._runTimeoutOutsideZone(()=>{const it=Q===this._mostRecentTransientRipple;Q.state=1,!s.persistent&&(!it||!this._isPointerDown)&&Q.fadeOut()},z),Q}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const s=t.element,y=Object.assign(Object.assign({},UT),t.config.animation);s.style.transitionDuration=`${y.exitDuration}ms`,s.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,s.remove()},y.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=rr(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(HT))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(zT),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=FT(t),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!s&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!wT(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let s=0;s<e.length;s++)this.fadeInRipple(e[s].clientX,e[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Bd)})})}_removeTriggerEvents(){this._triggerElement&&(HT.forEach(t=>{this._triggerElement.removeEventListener(t,this,Bd)}),this._pointerUpEventsRegistered&&zT.forEach(t=>{this._triggerElement.removeEventListener(t,this,Bd)}))}}const EB=new Dt("mat-ripple-global-options");let fa=(()=>{class i{constructor(e,s,y,D,b){this._elementRef=e,this._animationMode=b,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=D||{},this._rippleRenderer=new xB(this,s,e,y)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,s=0,y){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,s,Object.assign(Object.assign({},this.rippleConfig),y)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return i.\u0275fac=function(e){return new(e||i)(ht(Re),ht(oe),ht(Ci),ht(EB,8),ht(er,8))},i.\u0275dir=It({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,s){2&e&&ii("mat-ripple-unbounded",s.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),Vd=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({imports:[[li],li]}),i})();const SB=["sliderWrapper"],en=Qs({passive:!1}),RB={provide:Bi,useExisting:fe(()=>YT),multi:!0};class bB{}const FB=VT(ha(Ld(class{constructor(i){this._elementRef=i}}),"accent"));let YT=(()=>{class i extends FB{constructor(e,s,y,D,b,O,N,z){super(e),this._focusMonitor=s,this._changeDetectorRef=y,this._dir=D,this._ngZone=O,this._animationMode=z,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new qt,this.input=new qt,this.valueChange=new qt,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=r.EMPTY,this._pointerDown=k=>{this.disabled||this._isSliding||!ca(k)&&0!==k.button||this._ngZone.run(()=>{this._touchId=ca(k)?function wB(i,t){for(let e=0;e<i.touches.length;e++){const s=i.touches[e].target;if(t===s||t.contains(s))return i.touches[e].identifier}}(k,this._elementRef.nativeElement):void 0;const Q=WT(k,this._touchId);if(Q){const it=this.value;this._isSliding="pointer",this._lastPointerEvent=k,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(k),this._focusHostElement(),this._updateValueFromPosition(Q),this._valueOnSlideStart=it,k.cancelable&&k.preventDefault(),it!=this.value&&this._emitInputEvent()}})},this._pointerMove=k=>{if("pointer"===this._isSliding){const Q=WT(k,this._touchId);if(Q){k.preventDefault();const it=this.value;this._lastPointerEvent=k,this._updateValueFromPosition(Q),it!=this.value&&this._emitInputEvent()}}},this._pointerUp=k=>{"pointer"===this._isSliding&&(!ca(k)||"number"!=typeof this._touchId||Gd(k.changedTouches,this._touchId))&&(k.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=N,this.tabIndex=parseInt(b)||0,O.runOutsideAngular(()=>{const k=e.nativeElement;k.addEventListener("mousedown",this._pointerDown,en),k.addEventListener("touchstart",this._pointerDown,en)})}get invert(){return this._invert}set invert(e){this._invert=Ue(e)}get max(){return this._max}set max(e){this._max=nr(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(e){this._min=nr(e,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(e){this._step=nr(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(e){this._thumbLabel=Ue(e)}get tickInterval(){return this._tickInterval}set tickInterval(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?nr(e,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(e){if(e!==this._value){let s=nr(e,0);this._roundToDecimal&&s!==this.min&&s!==this.max&&(s=parseFloat(s.toFixed(this._roundToDecimal))),this._value=s,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(e){this._vertical=Ue(e)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(e){this._focusHostElement(e)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const s=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${s})`}}_getTrackFillStyles(){const e=this.percent,y=this.vertical?`1, ${e}, 1`:`${e}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${y})`,display:0===e?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let e=100*this._tickIntervalPercent,O={backgroundSize:this.vertical?`2px ${e}%`:`${e}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${e/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const N=this._shouldInvertAxis();let z;z=this.vertical?N?"Bottom":"Top":N?"Right":"Left",O[`padding${z}`]=`${this._getThumbGap()}px`}return O}_getThumbContainerStyles(){const e=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?e:!e)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const e=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?e:!e}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{this._isActive=!!e&&"keyboard"!==e,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mousedown",this._pointerDown,en),e.removeEventListener("touchstart",this._pointerDown,en),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(e){if(this.disabled||xT(e)||this._isSliding&&"keyboard"!==this._isSliding)return;const s=this.value;switch(e.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}s!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",e.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(e){const s=this._document,y=ca(e),b=y?"touchend":"mouseup";s.addEventListener(y?"touchmove":"mousemove",this._pointerMove,en),s.addEventListener(b,this._pointerUp,en),y&&s.addEventListener("touchcancel",this._pointerUp,en);const O=this._getWindow();void 0!==O&&O&&O.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const e=this._document;e.removeEventListener("mousemove",this._pointerMove,en),e.removeEventListener("mouseup",this._pointerUp,en),e.removeEventListener("touchmove",this._pointerMove,en),e.removeEventListener("touchend",this._pointerUp,en),e.removeEventListener("touchcancel",this._pointerUp,en);const s=this._getWindow();void 0!==s&&s&&s.removeEventListener("blur",this._windowBlur)}_increment(e){const s=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(s+this.step*e,this.min,this.max)}_updateValueFromPosition(e){if(!this._sliderDimensions)return;let b=this._clamp(((this.vertical?e.y:e.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(b=1-b),0===b)this.value=this.min;else if(1===b)this.value=this.max;else{const O=this._calculateValue(b),N=Math.round((O-this.min)/this.step)*this.step+this.min;this.value=this._clamp(N,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let e;if("auto"==this.tickInterval){let s=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;e=Math.ceil(30/(s*this.step/(this.max-this.min)))*this.step/s}else e=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=XT(e)?e:0}_createChangeEvent(e=this.value){let s=new bB;return s.source=this,s.value=e,s}_calculatePercentage(e){const s=((e||0)-this.min)/(this.max-this.min);return XT(s)?s:0}_calculateValue(e){return this.min+e*(this.max-this.min)}_clamp(e,s=0,y=1){return Math.max(s,Math.min(e,y))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(e){this._elementRef.nativeElement.focus(e)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(e){this.value=e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return i.\u0275fac=function(e){return new(e||i)(ht(Re),ht(la),ht(Jn),ht(dh,8),Fr("tabindex"),ht(oe),ht(re),ht(er,8))},i.\u0275cmp=un({type:i,selectors:[["mat-slider"]],viewQuery:function(e,s){if(1&e&&Bn(SB,5),2&e){let y;Ye(y=Xe())&&(s._sliderWrapper=y.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(e,s){1&e&&le("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()})("keydown",function(D){return s._onKeydown(D)})("keyup",function(){return s._onKeyup()})("mouseenter",function(){return s._onMouseenter()})("selectstart",function(D){return D.preventDefault()}),2&e&&(No("tabIndex",s.tabIndex),ze("aria-disabled",s.disabled)("aria-valuemax",s.max)("aria-valuemin",s.min)("aria-valuenow",s.value)("aria-valuetext",null==s.valueText?s.displayValue:s.valueText)("aria-orientation",s.vertical?"vertical":"horizontal"),ii("mat-slider-disabled",s.disabled)("mat-slider-has-ticks",s.tickInterval)("mat-slider-horizontal",!s.vertical)("mat-slider-axis-inverted",s._shouldInvertAxis())("mat-slider-invert-mouse-coords",s._shouldInvertMouseCoords())("mat-slider-sliding",s._isSliding)("mat-slider-thumb-label-showing",s.thumbLabel)("mat-slider-vertical",s.vertical)("mat-slider-min-value",s._isMinValue())("mat-slider-hide-last-tick",s.disabled||s._isMinValue()&&s._getThumbGap()&&s._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===s._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[ce([RB]),Jt],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(e,s){1&e&&(Mt(0,"div",0,1)(2,"div",2),Je(3,"div",3)(4,"div",4),Ot(),Mt(5,"div",5),Je(6,"div",6),Ot(),Mt(7,"div",7),Je(8,"div",8)(9,"div",9),Mt(10,"div",10)(11,"span",11),ue(12),Ot()()()()),2&e&&(Wt(3),Kt("ngStyle",s._getTrackBackgroundStyles()),Wt(1),Kt("ngStyle",s._getTrackFillStyles()),Wt(1),Kt("ngStyle",s._getTicksContainerStyles()),Wt(1),Kt("ngStyle",s._getTicksStyles()),Wt(1),Kt("ngStyle",s._getThumbContainerStyles()),Wt(5),Gs(s.displayValue))},directives:[Cc],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),i})();function XT(i){return!isNaN(i)&&isFinite(i)}function ca(i){return"t"===i.type[0]}function WT(i,t){let e;return e=ca(i)?"number"==typeof t?Gd(i.touches,t)||Gd(i.changedTouches,t):i.touches[0]||i.changedTouches[0]:i,e?{x:e.clientX,y:e.clientY}:void 0}function Gd(i,t){for(let e=0;e<i.length;e++)if(i[e].identifier===t)return i[e]}let OB=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({imports:[[Fl,li],li]}),i})();function Ud(i,t,e,s){return n(e)&&(s=e,e=void 0),s?Ud(i,t,e).pipe(_(y=>h(y)?s(...y):s(y))):new w(y=>{kT(i,t,function D(b){y.next(arguments.length>1?Array.prototype.slice.call(arguments):b)},y,e)})}function kT(i,t,e,s,y){let D;if(function NB(i){return i&&"function"==typeof i.addEventListener&&"function"==typeof i.removeEventListener}(i)){const b=i;i.addEventListener(t,e,y),D=()=>b.removeEventListener(t,e,y)}else if(function LB(i){return i&&"function"==typeof i.on&&"function"==typeof i.off}(i)){const b=i;i.on(t,e),D=()=>b.off(t,e)}else if(function IB(i){return i&&"function"==typeof i.addListener&&"function"==typeof i.removeListener}(i)){const b=i;i.addListener(t,e),D=()=>b.removeListener(t,e)}else{if(!i||!i.length)throw new TypeError("Invalid event target");for(let b=0,O=i.length;b<O;b++)kT(i[b],t,e,s,y)}s.add(D)}function Hd(...i){return function BB(){return ve(1)}()(ir(...i))}function xh(...i){const t=i[i.length-1];return J(t)?(i.pop(),e=>Hd(i,e,t)):e=>Hd(i,e)}const VB=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})(),jT=new w(i=>i.complete());function da(i){return t=>0===i?function GB(i){return i?function UB(i){return new w(t=>i.schedule(()=>t.complete()))}(i):jT}():t.lift(new HB(i))}class HB{constructor(t){if(this.total=t,this.total<0)throw new VB}call(t,e){return e.subscribe(new zB(t,this.total))}}class zB extends v{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,s=++this.count;s<=e&&(this.destination.next(t),s===e&&(this.destination.complete(),this.unsubscribe()))}}const YB=["connectionContainer"],XB=["inputContainer"],WB=["label"];function kB(i,t){1&i&&(wo(0),Mt(1,"div",14),Je(2,"div",15)(3,"div",16)(4,"div",17),Ot(),Mt(5,"div",18),Je(6,"div",15)(7,"div",16)(8,"div",17),Ot(),Oo())}function jB(i,t){if(1&i){const e=xf();Mt(0,"div",19),le("cdkObserveContent",function(){return Kh(e),In().updateOutlineGap()}),Ni(1,1),Ot()}2&i&&Kt("cdkObserveContentDisabled","outline"!=In().appearance)}function $B(i,t){if(1&i&&(wo(0),Ni(1,2),Mt(2,"span"),ue(3),Ot(),Oo()),2&i){const e=In(2);Wt(3),Gs(e._control.placeholder)}}function KB(i,t){1&i&&Ni(0,3,["*ngSwitchCase","true"])}function ZB(i,t){1&i&&(Mt(0,"span",23),ue(1," *"),Ot())}function QB(i,t){if(1&i){const e=xf();Mt(0,"label",20,21),le("cdkObserveContent",function(){return Kh(e),In().updateOutlineGap()}),Qi(2,$B,4,1,"ng-container",12),Qi(3,KB,1,0,"ng-content",12),Qi(4,ZB,2,0,"span",22),Ot()}if(2&i){const e=In();ii("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),Kt("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),ze("for",e._control.id)("aria-owns",e._control.id),Wt(2),Kt("ngSwitchCase",!1),Wt(1),Kt("ngSwitchCase",!0),Wt(1),Kt("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function JB(i,t){1&i&&(Mt(0,"div",24),Ni(1,4),Ot())}function qB(i,t){if(1&i&&(Mt(0,"div",25),Je(1,"span",26),Ot()),2&i){const e=In();Wt(1),ii("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function _B(i,t){1&i&&(Mt(0,"div"),Ni(1,5),Ot()),2&i&&Kt("@transitionMessages",In()._subscriptAnimationState)}function tV(i,t){if(1&i&&(Mt(0,"div",30),ue(1),Ot()),2&i){const e=In(2);Kt("id",e._hintLabelId),Wt(1),Gs(e.hintLabel)}}function eV(i,t){if(1&i&&(Mt(0,"div",27),Qi(1,tV,2,2,"div",28),Ni(2,6),Je(3,"div",29),Ni(4,7),Ot()),2&i){const e=In();Kt("@transitionMessages",e._subscriptAnimationState),Wt(1),Kt("ngIf",e.hintLabel)}}const iV=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],nV=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],rV=new Dt("MatError"),sV={transitionMessages:RC("transitionMessages",[_c("enter",Gn({opacity:1,transform:"translateY(0%)"})),td("void => enter",[Gn({opacity:0,transform:"translateY(-5px)"}),qc("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let zd=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=It({type:i}),i})();const oV=new Dt("MatHint");let Yd=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=It({type:i,selectors:[["mat-label"]]}),i})(),aV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=It({type:i,selectors:[["mat-placeholder"]]}),i})();const lV=new Dt("MatPrefix"),hV=new Dt("MatSuffix");let $T=0;const fV=ha(class{constructor(i){this._elementRef=i}},"primary"),cV=new Dt("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ZT=new Dt("MatFormField");let dV=(()=>{class i extends fV{constructor(e,s,y,D,b,O,N){super(e),this._changeDetectorRef=s,this._dir=y,this._defaults=D,this._platform=b,this._ngZone=O,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Y,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+$T++,this._labelId="mat-form-field-label-"+$T++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==N,this.appearance=D&&D.appearance?D.appearance:"legacy",this._hideRequiredMarker=!(!D||null==D.hideRequiredMarker)&&D.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const s=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&s!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Ue(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(xh(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Di(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Di(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),ti(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(xh(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(xh(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Di(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const s=this._control?this._control.ngControl:null;return s&&s[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ud(this._label.nativeElement,"transitionend").pipe(da(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const s=this._hintChildren?this._hintChildren.find(D=>"start"===D.align):null,y=this._hintChildren?this._hintChildren.find(D=>"end"===D.align):null;s?e.push(s.id):this._hintLabel&&e.push(this._hintLabelId),y&&e.push(y.id)}else this._errorChildren&&e.push(...this._errorChildren.map(s=>s.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,s=this._connectionContainerRef.nativeElement,y=".mat-form-field-outline-start",D=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const k=s.querySelectorAll(`${y}, ${D}`);for(let Q=0;Q<k.length;Q++)k[Q].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let b=0,O=0;const N=s.querySelectorAll(y),z=s.querySelectorAll(D);if(this._label&&this._label.nativeElement.children.length){const k=s.getBoundingClientRect();if(0===k.width&&0===k.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const Q=this._getStartEnd(k),it=e.children,nt=this._getStartEnd(it[0].getBoundingClientRect());let st=0;for(let lt=0;lt<it.length;lt++)st+=it[lt].offsetWidth;b=Math.abs(nt-Q)-5,O=st>0?.75*st+10:0}for(let k=0;k<N.length;k++)N[k].style.width=`${b}px`;for(let k=0;k<z.length;k++)z[k].style.width=`${O}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const s=e.getRootNode();return s&&s!==e}return document.documentElement.contains(e)}}return i.\u0275fac=function(e){return new(e||i)(ht(Re),ht(Jn),ht(dh,8),ht(cV,8),ht(Ci),ht(oe),ht(er,8))},i.\u0275cmp=un({type:i,selectors:[["mat-form-field"]],contentQueries:function(e,s,y){if(1&e&&(Cn(y,zd,5),Cn(y,zd,7),Cn(y,Yd,5),Cn(y,Yd,7),Cn(y,aV,5),Cn(y,rV,5),Cn(y,oV,5),Cn(y,lV,5),Cn(y,hV,5)),2&e){let D;Ye(D=Xe())&&(s._controlNonStatic=D.first),Ye(D=Xe())&&(s._controlStatic=D.first),Ye(D=Xe())&&(s._labelChildNonStatic=D.first),Ye(D=Xe())&&(s._labelChildStatic=D.first),Ye(D=Xe())&&(s._placeholderChild=D.first),Ye(D=Xe())&&(s._errorChildren=D),Ye(D=Xe())&&(s._hintChildren=D),Ye(D=Xe())&&(s._prefixChildren=D),Ye(D=Xe())&&(s._suffixChildren=D)}},viewQuery:function(e,s){if(1&e&&(Bn(YB,7),Bn(XB,5),Bn(WB,5)),2&e){let y;Ye(y=Xe())&&(s._connectionContainerRef=y.first),Ye(y=Xe())&&(s._inputContainerRef=y.first),Ye(y=Xe())&&(s._label=y.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,s){2&e&&ii("mat-form-field-appearance-standard","standard"==s.appearance)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-appearance-legacy","legacy"==s.appearance)("mat-form-field-invalid",s._control.errorState)("mat-form-field-can-float",s._canLabelFloat())("mat-form-field-should-float",s._shouldLabelFloat())("mat-form-field-has-label",s._hasFloatingLabel())("mat-form-field-hide-placeholder",s._hideControlPlaceholder())("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-focused",s._control.focused)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))("_mat-animation-noopable",!s._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[ce([{provide:ZT,useExisting:i}]),Jt],ngContentSelectors:nV,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,s){1&e&&(Bs(iV),Mt(0,"div",0)(1,"div",1,2),le("click",function(D){return s._control.onContainerClick&&s._control.onContainerClick(D)}),Qi(3,kB,9,0,"ng-container",3),Qi(4,jB,2,1,"div",4),Mt(5,"div",5,6),Ni(7),Mt(8,"span",7),Qi(9,QB,5,16,"label",8),Ot()(),Qi(10,JB,2,0,"div",9),Ot(),Qi(11,qB,2,4,"div",10),Mt(12,"div",11),Qi(13,_B,2,1,"div",12),Qi(14,eV,5,2,"div",13),Ot()()),2&e&&(Wt(3),Kt("ngIf","outline"==s.appearance),Wt(1),Kt("ngIf",s._prefixChildren.length),Wt(5),Kt("ngIf",s._hasFloatingLabel()),Wt(1),Kt("ngIf",s._suffixChildren.length),Wt(1),Kt("ngIf","outline"!=s.appearance),Wt(1),Kt("ngSwitch",s._getDisplayedMessages()),Wt(1),Kt("ngSwitchCase","error"),Wt(1),Kt("ngSwitchCase","hint"))},directives:[Jx,MT,bl,_x],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[sV.transitionMessages]},changeDetection:0}),i})(),Xd=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({imports:[[Fl,li,wd],li]}),i})();const QT=Qs({passive:!0});let pV=(()=>{class i{constructor(e,s){this._platform=e,this._ngZone=s,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return jT;const s=rr(e),y=this._monitoredElements.get(s);if(y)return y.subject;const D=new Y,b="cdk-text-field-autofilled",O=N=>{"cdk-text-field-autofill-start"!==N.animationName||s.classList.contains(b)?"cdk-text-field-autofill-end"===N.animationName&&s.classList.contains(b)&&(s.classList.remove(b),this._ngZone.run(()=>D.next({target:N.target,isAutofilled:!1}))):(s.classList.add(b),this._ngZone.run(()=>D.next({target:N.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{s.addEventListener("animationstart",O,QT),s.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(s,{subject:D,unlisten:()=>{s.removeEventListener("animationstart",O,QT)}}),D}stopMonitoring(e){const s=rr(e),y=this._monitoredElements.get(s);y&&(y.unlisten(),y.subject.complete(),s.classList.remove("cdk-text-field-autofill-monitored"),s.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(s))}ngOnDestroy(){this._monitoredElements.forEach((e,s)=>this.stopMonitoring(s))}}return i.\u0275fac=function(e){return new(e||i)(pt(Ci),pt(oe))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),JT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({}),i})();const vV=new Dt("MAT_INPUT_VALUE_ACCESSOR"),mV=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let gV=0;const yV=vB(class{constructor(i,t,e,s){this._defaultErrorStateMatcher=i,this._parentForm=t,this._parentFormGroup=e,this.ngControl=s}});let xV=(()=>{class i extends yV{constructor(e,s,y,D,b,O,N,z,k,Q){super(O,D,b,y),this._elementRef=e,this._platform=s,this._autofillMonitor=z,this._formField=Q,this._uid="mat-input-"+gV++,this.focused=!1,this.stateChanges=new Y,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(st=>gT().has(st)),this._iOSKeyupListener=st=>{const lt=st.target;!lt.value&&0===lt.selectionStart&&0===lt.selectionEnd&&(lt.setSelectionRange(1,1),lt.setSelectionRange(0,0))};const it=this._elementRef.nativeElement,nt=it.nodeName.toLowerCase();this._inputValueAccessor=N||it,this._previousNativeValue=this.value,this.id=this.id,s.IOS&&k.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===nt,this._isTextarea="textarea"===nt,this._isInFormField=!!Q,this._isNativeSelect&&(this.controlType=it.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Ue(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,s,y,D;return null!==(D=null!==(e=this._required)&&void 0!==e?e:null===(y=null===(s=this.ngControl)||void 0===s?void 0:s.control)||void 0===y?void 0:y.hasValidator(SO.required))&&void 0!==D&&D}set required(e){this._required=Ue(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&gT().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Ue(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,s;const y=(null===(s=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===s?void 0:s.call(e))?null:this.placeholder;if(y!==this._previousPlaceholder){const D=this._elementRef.nativeElement;this._previousPlaceholder=y,y?D.setAttribute("placeholder",y):D.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){mV.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,s=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&s&&s.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return i.\u0275fac=function(e){return new(e||i)(ht(Re),ht(Ci),ht(_n,10),ht(jl,8),ht($l,8),ht(GT),ht(vV,10),ht(pV),ht(oe),ht(ZT,8))},i.\u0275dir=It({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,s){1&e&&le("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&e&&(No("disabled",s.disabled)("required",s.required),ze("id",s.id)("data-placeholder",s.placeholder)("name",s.name||null)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required),ii("mat-input-server",s._isServer)("mat-native-select-inline",s._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[ce([{provide:zd,useExisting:i}]),Jt,An]}),i})(),CV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({providers:[GT],imports:[[JT,Xd,li],JT,Xd]}),i})();const TV=["input"],EV=function(i){return{enterDuration:i}},SV=["*"],MV=new Dt("mat-checkbox-default-options",{providedIn:"root",factory:qT});function qT(){return{color:"accent",clickAction:"check-indeterminate"}}let AV=0;const _T=qT(),DV={provide:Bi,useExisting:fe(()=>tE),multi:!0};class PV{}const RV=VT(ha(Nd(Ld(class{constructor(i){this._elementRef=i}}))));let tE=(()=>{class i extends RV{constructor(e,s,y,D,b,O,N){super(e),this._changeDetectorRef=s,this._focusMonitor=y,this._ngZone=D,this._animationMode=O,this._options=N,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++AV,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new qt,this.indeterminateChange=new qt,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||_T,this.color=this.defaultColor=this._options.color||_T.color,this.tabIndex=parseInt(b)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Ue(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){const s=Ue(e);s!=this.checked&&(this._checked=s,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const s=Ue(e);s!==this.disabled&&(this._disabled=s,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const s=e!=this._indeterminate;this._indeterminate=Ue(e),s&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let s=this._currentCheckState,y=this._elementRef.nativeElement;if(s!==e&&(this._currentAnimationClass.length>0&&y.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(s,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){y.classList.add(this._currentAnimationClass);const D=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{y.classList.remove(D)},1e3)})}}_emitChangeEvent(){const e=new PV;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_onInputClick(e){var s;const y=null===(s=this._options)||void 0===s?void 0:s.clickAction;e.stopPropagation(),this.disabled||"noop"===y?!this.disabled&&"noop"===y&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==y&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,s){e?this._focusMonitor.focusVia(this._inputElement,e,s):this._inputElement.nativeElement.focus(s)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,s){if("NoopAnimations"===this._animationMode)return"";let y="";switch(e){case 0:if(1===s)y="unchecked-checked";else{if(3!=s)return"";y="unchecked-indeterminate"}break;case 2:y=1===s?"unchecked-checked":"unchecked-indeterminate";break;case 1:y=2===s?"checked-unchecked":"checked-indeterminate";break;case 3:y=1===s?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${y}`}_syncIndeterminate(e){const s=this._inputElement;s&&(s.nativeElement.indeterminate=e)}}return i.\u0275fac=function(e){return new(e||i)(ht(Re),ht(Jn),ht(la),ht(oe),Fr("tabindex"),ht(er,8),ht(MV,8))},i.\u0275cmp=un({type:i,selectors:[["mat-checkbox"]],viewQuery:function(e,s){if(1&e&&(Bn(TV,5),Bn(fa,5)),2&e){let y;Ye(y=Xe())&&(s._inputElement=y.first),Ye(y=Xe())&&(s.ripple=y.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,s){2&e&&(No("id",s.id),ze("tabindex",null)("aria-label",null)("aria-labelledby",null),ii("mat-checkbox-indeterminate",s.indeterminate)("mat-checkbox-checked",s.checked)("mat-checkbox-disabled",s.disabled)("mat-checkbox-label-before","before"==s.labelPosition)("_mat-animation-noopable","NoopAnimations"===s._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[ce([DV]),Jt],ngContentSelectors:SV,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,s){if(1&e&&(Bs(),Mt(0,"label",0,1)(2,"span",2)(3,"input",3,4),le("change",function(D){return s._onInteractionEvent(D)})("click",function(D){return s._onInputClick(D)}),Ot(),Mt(5,"span",5),Je(6,"span",6),Ot(),Je(7,"span",7),Mt(8,"span",8),function wp(){zt.lFrame.currentNamespace="svg"}(),Mt(9,"svg",9),Je(10,"path",10),Ot(),function Op(){!function YS(){zt.lFrame.currentNamespace=null}()}(),Je(11,"span",11),Ot()(),Mt(12,"span",12,13),le("cdkObserveContent",function(){return s._onLabelTextChange()}),Mt(14,"span",14),ue(15,"\xa0"),Ot(),Ni(16),Ot()()),2&e){const y=Ls(1),D=Ls(13);ze("for",s.inputId),Wt(2),ii("mat-checkbox-inner-container-no-side-margin",!D.textContent||!D.textContent.trim()),Wt(1),Kt("id",s.inputId)("required",s.required)("checked",s.checked)("disabled",s.disabled)("tabIndex",s.tabIndex),ze("value",s.value)("name",s.name)("aria-label",s.ariaLabel||null)("aria-labelledby",s.ariaLabelledby)("aria-checked",s._getAriaChecked())("aria-describedby",s.ariaDescribedby),Wt(2),Kt("matRippleTrigger",y)("matRippleDisabled",s._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",function By(i,t,e,s){return Vy(vt(),pi(),i,t,e,s)}(19,EV,"NoopAnimations"===s._animationMode?0:150))}},directives:[fa,MT],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),i})(),eE=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({}),i})(),wV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({imports:[[Vd,li,wd,eE],li,eE]}),i})();class OV{constructor(t=!1,e,s=!0){this._multiple=t,this._emitChanges=s,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Y,e&&e.length&&(t?e.forEach(y=>this._markSelected(y)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const IV=["button"],LV=["*"],iE=new Dt("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),nE=new Dt("MatButtonToggleGroup"),NV={provide:Bi,useExisting:fe(()=>oE),multi:!0};let rE=0;class sE{constructor(t,e){this.source=t,this.value=e}}let oE=(()=>{class i{constructor(e,s){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+rE++,this.valueChange=new qt,this.change=new qt,this.appearance=s&&s.appearance?s.appearance:"standard"}get name(){return this._name}set name(e){this._name=e,this._buttonToggles&&this._buttonToggles.forEach(s=>{s.name=this._name,s._markForCheck()})}get vertical(){return this._vertical}set vertical(e){this._vertical=Ue(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(s=>s.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=Ue(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=Ue(e),this._buttonToggles&&this._buttonToggles.forEach(s=>s._markForCheck())}ngOnInit(){this._selectionModel=new OV(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(){const e=this.selected,s=Array.isArray(e)?e[e.length-1]:e,y=new sE(s,this.value);this._controlValueAccessorChangeFn(y.value),this.change.emit(y)}_syncButtonToggle(e,s,y=!1,D=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?s?this._selectionModel.select(e):this._selectionModel.deselect(e):D=!0,D?Promise.resolve().then(()=>this._updateModelValue(y)):this._updateModelValue(y)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(s=>null!=e.value&&s===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(s=>this._selectValue(s))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const s=this._buttonToggles.find(y=>null!=y.value&&y.value===e);s&&(s.checked=!0,this._selectionModel.select(s))}_updateModelValue(e){e&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return i.\u0275fac=function(e){return new(e||i)(ht(Jn),ht(iE,8))},i.\u0275dir=It({type:i,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,s,y){if(1&e&&Cn(y,aE,5),2&e){let D;Ye(D=Xe())&&(s._buttonToggles=D)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,s){2&e&&(ze("aria-disabled",s.disabled),ii("mat-button-toggle-vertical",s.vertical)("mat-button-toggle-group-appearance-standard","standard"===s.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[ce([NV,{provide:nE,useExisting:i}])]}),i})();const BV=Nd(class{});let aE=(()=>{class i extends BV{constructor(e,s,y,D,b,O){super(),this._changeDetectorRef=s,this._elementRef=y,this._focusMonitor=D,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new qt;const N=Number(b);this.tabIndex=N||0===N?N:null,this.buttonToggleGroup=e,this.appearance=O&&O.appearance?O.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const s=Ue(e);s!==this._checked&&(this._checked=s,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=Ue(e)}ngOnInit(){const e=this.buttonToggleGroup;this._isSingleSelector=e&&!e.multiple,this.id=this.id||"mat-button-toggle-"+rE++,this._isSingleSelector&&(this.name=e.name),e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new sE(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(ht(nE,8),ht(Jn),ht(Re),ht(la),Fr("tabindex"),ht(iE,8))},i.\u0275cmp=un({type:i,selectors:[["mat-button-toggle"]],viewQuery:function(e,s){if(1&e&&Bn(IV,5),2&e){let y;Ye(y=Xe())&&(s._buttonElement=y.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,s){1&e&&le("focus",function(){return s.focus()}),2&e&&(ze("aria-label",null)("aria-labelledby",null)("id",s.id)("name",null),ii("mat-button-toggle-standalone",!s.buttonToggleGroup)("mat-button-toggle-checked",s.checked)("mat-button-toggle-disabled",s.disabled)("mat-button-toggle-appearance-standard","standard"===s.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[Jt],ngContentSelectors:LV,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,s){if(1&e&&(Bs(),Mt(0,"button",0,1),le("click",function(){return s._onButtonClick()}),Mt(2,"span",2),Ni(3),Ot()(),Je(4,"span",3)(5,"span",4)),2&e){const y=Ls(1);Kt("id",s.buttonId)("disabled",s.disabled||null),ze("tabindex",s.disabled?-1:s.tabIndex)("aria-pressed",s.checked)("name",s.name||null)("aria-label",s.ariaLabel)("aria-labelledby",s.ariaLabelledby),Wt(5),Kt("matRippleTrigger",y)("matRippleDisabled",s.disableRipple||s.disabled)}},directives:[fa],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent;transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .cdk-high-contrast-active .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),i})(),VV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({imports:[[li,Vd],li]}),i})();const GV=["mat-button",""],UV=["*"],zV=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],YV=ha(Ld(Nd(class{constructor(i){this._elementRef=i}})));let XV=(()=>{class i extends YV{constructor(e,s,y){super(e),this._focusMonitor=s,this._animationMode=y,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const D of zV)this._hasHostAttributes(D)&&this._getHostElement().classList.add(D);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,s){e?this._focusMonitor.focusVia(this._getHostElement(),e,s):this._getHostElement().focus(s)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(s=>this._getHostElement().hasAttribute(s))}}return i.\u0275fac=function(e){return new(e||i)(ht(Re),ht(la),ht(er,8))},i.\u0275cmp=un({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,s){if(1&e&&Bn(fa,5),2&e){let y;Ye(y=Xe())&&(s.ripple=y.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,s){2&e&&(ze("disabled",s.disabled||null),ii("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Jt],attrs:GV,ngContentSelectors:UV,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,s){1&e&&(Bs(),Mt(0,"span",0),Ni(1),Ot(),Je(2,"span",1)(3,"span",2)),2&e&&(Wt(2),ii("mat-button-ripple-round",s.isRoundButton||s.isIconButton),Kt("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[fa],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),i})(),WV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({imports:[[Vd,li],li]}),i})();function jV({error:i,subscriber:t}){t.error(i)}function Cr(){}function Wd(i,t,e){return function(y){return y.lift(new $V(i,t,e))}}class $V{constructor(t,e,s){this.nextOrObserver=t,this.error=e,this.complete=s}call(t,e){return e.subscribe(new KV(t,this.nextOrObserver,this.error,this.complete))}}class KV extends v{constructor(t,e,s,y){super(t),this._tapNext=Cr,this._tapError=Cr,this._tapComplete=Cr,this._tapError=s||Cr,this._tapComplete=y||Cr,n(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Cr,this._tapError=e.error||Cr,this._tapComplete=e.complete||Cr)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class QV{constructor(t){this.selector=t}call(t,e){return e.subscribe(new JV(t,this.selector,this.caught))}}class JV extends Rt{constructor(t,e,s){super(t),this.selector=e,this.caught=s}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(D){return void super.error(D)}this._unsubscribeAndRecycle();const s=new gt(this);this.add(s);const y=$e(e,s);y!==s&&this.add(y)}}}class _V{constructor(t){this.callback=t}call(t,e){return e.subscribe(new t2(t,this.callback))}}class t2 extends v{constructor(t,e){super(t),this.add(new r(e))}}function kd(i,t){return function(s){return s.lift(new n2(i,t))}}class n2{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new r2(t,this.predicate,this.thisArg))}}class r2 extends v{constructor(t,e,s){super(t),this.predicate=e,this.thisArg=s,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(s){return void this.destination.error(s)}e&&this.destination.next(t)}}class s2{}class Tr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const s=e.indexOf(":");if(s>0){const y=e.slice(0,s),D=y.toLowerCase(),b=e.slice(s+1).trim();this.maybeSetNormalizedName(y,D),this.headers.has(D)?this.headers.get(D).push(b):this.headers.set(D,[b])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let s=t[e];const y=e.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(y,s),this.maybeSetNormalizedName(e,y))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Tr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Tr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Tr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let s=t.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(t.name,e);const y=("a"===t.op?this.headers.get(e):void 0)||[];y.push(...s),this.headers.set(e,y);break;case"d":const D=t.value;if(D){let b=this.headers.get(e);if(!b)return;b=b.filter(O=>-1===D.indexOf(O)),0===b.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,b)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class o2{encodeKey(t){return lE(t)}encodeValue(t){return lE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const l2=/%(\d[a-f0-9])/gi,h2={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function lE(i){return encodeURIComponent(i).replace(l2,(t,e)=>{var s;return null!==(s=h2[e])&&void 0!==s?s:t})}function hE(i){return`${i}`}class Er{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new o2,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function a2(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(y=>{const D=y.indexOf("="),[b,O]=-1==D?[t.decodeKey(y),""]:[t.decodeKey(y.slice(0,D)),t.decodeValue(y.slice(D+1))],N=e.get(b)||[];N.push(O),e.set(b,N)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const s=t.fromObject[e];this.map.set(e,Array.isArray(s)?s:[s])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(s=>{const y=t[s];Array.isArray(y)?y.forEach(D=>{e.push({param:s,value:D,op:"a"})}):e.push({param:s,value:y,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(s=>e+"="+this.encoder.encodeValue(s)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Er({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(hE(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let s=this.map.get(t.param)||[];const y=s.indexOf(hE(t.value));-1!==y&&s.splice(y,1),s.length>0?this.map.set(t.param,s):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class u2{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function uE(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function fE(i){return"undefined"!=typeof Blob&&i instanceof Blob}function cE(i){return"undefined"!=typeof FormData&&i instanceof FormData}class pa{constructor(t,e,s,y){let D;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function f2(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||y?(this.body=void 0!==s?s:null,D=y):D=s,D&&(this.reportProgress=!!D.reportProgress,this.withCredentials=!!D.withCredentials,D.responseType&&(this.responseType=D.responseType),D.headers&&(this.headers=D.headers),D.context&&(this.context=D.context),D.params&&(this.params=D.params)),this.headers||(this.headers=new Tr),this.context||(this.context=new u2),this.params){const b=this.params.toString();if(0===b.length)this.urlWithParams=e;else{const O=e.indexOf("?");this.urlWithParams=e+(-1===O?"?":O<e.length-1?"&":"")+b}}else this.params=new Er,this.urlWithParams=e}serializeBody(){return null===this.body?null:uE(this.body)||fE(this.body)||cE(this.body)||function c2(i){return"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Er?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||cE(this.body)?null:fE(this.body)?this.body.type||null:uE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Er?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const s=t.method||this.method,y=t.url||this.url,D=t.responseType||this.responseType,b=void 0!==t.body?t.body:this.body,O=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,N=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let z=t.headers||this.headers,k=t.params||this.params;const Q=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(z=Object.keys(t.setHeaders).reduce((it,nt)=>it.set(nt,t.setHeaders[nt]),z)),t.setParams&&(k=Object.keys(t.setParams).reduce((it,nt)=>it.set(nt,t.setParams[nt]),k)),new pa(s,y,b,{params:k,headers:z,context:Q,reportProgress:N,responseType:D,withCredentials:O})}}var hi=(()=>((hi=hi||{})[hi.Sent=0]="Sent",hi[hi.UploadProgress=1]="UploadProgress",hi[hi.ResponseHeader=2]="ResponseHeader",hi[hi.DownloadProgress=3]="DownloadProgress",hi[hi.Response=4]="Response",hi[hi.User=5]="User",hi))();class jd extends class d2{constructor(t,e=200,s="OK"){this.headers=t.headers||new Tr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||s,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=hi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new jd({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function $d(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let pE=(()=>{class i{constructor(e){this.handler=e}request(e,s,y={}){let D;if(e instanceof pa)D=e;else{let N,z;N=y.headers instanceof Tr?y.headers:new Tr(y.headers),y.params&&(z=y.params instanceof Er?y.params:new Er({fromObject:y.params})),D=new pa(e,s,void 0!==y.body?y.body:null,{headers:N,context:y.context,params:z,reportProgress:y.reportProgress,responseType:y.responseType||"json",withCredentials:y.withCredentials})}const b=ir(D).pipe(function e2(i,t){return ri(i,t,1)}(N=>this.handler.handle(N)));if(e instanceof pa||"events"===y.observe)return b;const O=b.pipe(kd(N=>N instanceof jd));switch(y.observe||"body"){case"body":switch(D.responseType){case"arraybuffer":return O.pipe(_(N=>{if(null!==N.body&&!(N.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return N.body}));case"blob":return O.pipe(_(N=>{if(null!==N.body&&!(N.body instanceof Blob))throw new Error("Response is not a Blob.");return N.body}));case"text":return O.pipe(_(N=>{if(null!==N.body&&"string"!=typeof N.body)throw new Error("Response is not a string.");return N.body}));default:return O.pipe(_(N=>N.body))}case"response":return O;default:throw new Error(`Unreachable: unhandled observe type ${y.observe}}`)}}delete(e,s={}){return this.request("DELETE",e,s)}get(e,s={}){return this.request("GET",e,s)}head(e,s={}){return this.request("HEAD",e,s)}jsonp(e,s){return this.request("JSONP",e,{params:(new Er).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,s={}){return this.request("OPTIONS",e,s)}patch(e,s,y={}){return this.request("PATCH",e,$d(y,s))}post(e,s,y={}){return this.request("POST",e,$d(y,s))}put(e,s,y={}){return this.request("PUT",e,$d(y,s))}}return i.\u0275fac=function(e){return new(e||i)(pt(s2))},i.\u0275prov=wt({token:i,factory:i.\u0275fac}),i})();const v2=["*"];let Ch;function va(i){var t;return(null===(t=function m2(){if(void 0===Ch&&(Ch=null,"undefined"!=typeof window)){const i=window;void 0!==i.trustedTypes&&(Ch=i.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Ch}())||void 0===t?void 0:t.createHTML(i))||i}function vE(i){return Error(`Unable to find icon with the name "${i}"`)}function mE(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function gE(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class Kr{constructor(t,e,s){this.url=t,this.svgText=e,this.options=s}}let Th=(()=>{class i{constructor(e,s,y,D){this._httpClient=e,this._sanitizer=s,this._errorHandler=D,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=y}addSvgIcon(e,s,y){return this.addSvgIconInNamespace("",e,s,y)}addSvgIconLiteral(e,s,y){return this.addSvgIconLiteralInNamespace("",e,s,y)}addSvgIconInNamespace(e,s,y,D){return this._addSvgIconConfig(e,s,new Kr(y,null,D))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,s,y,D){const b=this._sanitizer.sanitize(he.HTML,y);if(!b)throw gE(y);const O=va(b);return this._addSvgIconConfig(e,s,new Kr("",O,D))}addSvgIconSet(e,s){return this.addSvgIconSetInNamespace("",e,s)}addSvgIconSetLiteral(e,s){return this.addSvgIconSetLiteralInNamespace("",e,s)}addSvgIconSetInNamespace(e,s,y){return this._addSvgIconSetConfig(e,new Kr(s,null,y))}addSvgIconSetLiteralInNamespace(e,s,y){const D=this._sanitizer.sanitize(he.HTML,s);if(!D)throw gE(s);const b=va(D);return this._addSvgIconSetConfig(e,new Kr("",b,y))}registerFontClassAlias(e,s=e){return this._fontCssClassesByAlias.set(e,s),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const s=this._sanitizer.sanitize(he.RESOURCE_URL,e);if(!s)throw mE(e);const y=this._cachedIconsByUrl.get(s);return y?ir(Eh(y)):this._loadSvgIconFromConfig(new Kr(e,null)).pipe(Wd(D=>this._cachedIconsByUrl.set(s,D)),_(D=>Eh(D)))}getNamedSvgIcon(e,s=""){const y=yE(s,e);let D=this._svgIconConfigs.get(y);if(D)return this._getSvgFromConfig(D);if(D=this._getIconConfigFromResolvers(s,e),D)return this._svgIconConfigs.set(y,D),this._getSvgFromConfig(D);const b=this._iconSetConfigs.get(s);return b?this._getSvgFromIconSetConfigs(e,b):function kV(i,t){return new w(t?e=>t.schedule(jV,0,{error:i,subscriber:e}):e=>e.error(i))}(vE(y))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ir(Eh(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(_(s=>Eh(s)))}_getSvgFromIconSetConfigs(e,s){const y=this._extractIconWithNameFromAnySet(e,s);if(y)return ir(y);const D=s.filter(b=>!b.svgText).map(b=>this._loadSvgIconSetFromConfig(b).pipe(function ZV(i){return function(e){const s=new QV(i),y=e.lift(s);return s.caught=y}}(O=>{const z=`Loading icon set URL: ${this._sanitizer.sanitize(he.RESOURCE_URL,b.url)} failed: ${O.message}`;return this._errorHandler.handleError(new Error(z)),ir(null)})));return T0(D).pipe(_(()=>{const b=this._extractIconWithNameFromAnySet(e,s);if(!b)throw vE(e);return b}))}_extractIconWithNameFromAnySet(e,s){for(let y=s.length-1;y>=0;y--){const D=s[y];if(D.svgText&&D.svgText.toString().indexOf(e)>-1){const b=this._svgElementFromConfig(D),O=this._extractSvgIconFromSet(b,e,D.options);if(O)return O}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Wd(s=>e.svgText=s),_(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ir(null):this._fetchIcon(e).pipe(Wd(s=>e.svgText=s))}_extractSvgIconFromSet(e,s,y){const D=e.querySelector(`[id="${s}"]`);if(!D)return null;const b=D.cloneNode(!0);if(b.removeAttribute("id"),"svg"===b.nodeName.toLowerCase())return this._setSvgAttributes(b,y);if("symbol"===b.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(b),y);const O=this._svgElementFromString(va("<svg></svg>"));return O.appendChild(b),this._setSvgAttributes(O,y)}_svgElementFromString(e){const s=this._document.createElement("DIV");s.innerHTML=e;const y=s.querySelector("svg");if(!y)throw Error("<svg> tag not found");return y}_toSvgElement(e){const s=this._svgElementFromString(va("<svg></svg>")),y=e.attributes;for(let D=0;D<y.length;D++){const{name:b,value:O}=y[D];"id"!==b&&s.setAttribute(b,O)}for(let D=0;D<e.childNodes.length;D++)e.childNodes[D].nodeType===this._document.ELEMENT_NODE&&s.appendChild(e.childNodes[D].cloneNode(!0));return s}_setSvgAttributes(e,s){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),s&&s.viewBox&&e.setAttribute("viewBox",s.viewBox),e}_fetchIcon(e){var s;const{url:y,options:D}=e,b=null!==(s=null==D?void 0:D.withCredentials)&&void 0!==s&&s;if(!this._httpClient)throw function g2(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==y)throw Error(`Cannot fetch icon from URL "${y}".`);const O=this._sanitizer.sanitize(he.RESOURCE_URL,y);if(!O)throw mE(y);const N=this._inProgressUrlFetches.get(O);if(N)return N;const z=this._httpClient.get(O,{responseType:"text",withCredentials:b}).pipe(_(k=>va(k)),function qV(i){return t=>t.lift(new _V(i))}(()=>this._inProgressUrlFetches.delete(O)),ip());return this._inProgressUrlFetches.set(O,z),z}_addSvgIconConfig(e,s,y){return this._svgIconConfigs.set(yE(e,s),y),this}_addSvgIconSetConfig(e,s){const y=this._iconSetConfigs.get(e);return y?y.push(s):this._iconSetConfigs.set(e,[s]),this}_svgElementFromConfig(e){if(!e.svgElement){const s=this._svgElementFromString(e.svgText);this._setSvgAttributes(s,e.options),e.svgElement=s}return e.svgElement}_getIconConfigFromResolvers(e,s){for(let y=0;y<this._resolvers.length;y++){const D=this._resolvers[y](s,e);if(D)return x2(D)?new Kr(D.url,null,D.options):new Kr(D,null)}}}return i.\u0275fac=function(e){return new(e||i)(pt(pE,8),pt(bc),pt(re,8),pt(cr))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Eh(i){return i.cloneNode(!0)}function yE(i,t){return i+":"+t}function x2(i){return!(!i.url||!i.options)}const C2=ha(class{constructor(i){this._elementRef=i}}),T2=new Dt("mat-icon-location",{providedIn:"root",factory:function E2(){const i=Ha(re),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),xE=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],S2=xE.map(i=>`[${i}]`).join(", "),M2=/^url\(['"]?#(.*?)['"]?\)$/;let A2=(()=>{class i extends C2{constructor(e,s,y,D,b){super(e),this._iconRegistry=s,this._location=D,this._errorHandler=b,this._inline=!1,this._currentIconFetch=r.EMPTY,y||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Ue(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const s=this._cleanupFontValue(e);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const s=this._cleanupFontValue(e);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const s=e.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const s=this._location.getPathname();this._previousPath=s,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(s),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let s=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const y=e.childNodes[s];(1!==y.nodeType||"svg"===y.nodeName.toLowerCase())&&y.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,s=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();s!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),s&&e.classList.add(s),this._previousFontSetClass=s),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const s=this._elementsWithExternalReferences;s&&s.forEach((y,D)=>{y.forEach(b=>{D.setAttribute(b.name,`url('${e}#${b.value}')`)})})}_cacheChildrenWithExternalReferences(e){const s=e.querySelectorAll(S2),y=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let D=0;D<s.length;D++)xE.forEach(b=>{const O=s[D],N=O.getAttribute(b),z=N?N.match(M2):null;if(z){let k=y.get(O);k||(k=[],y.set(O,k)),k.push({name:b,value:z[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[s,y]=this._splitIconName(e);s&&(this._svgNamespace=s),y&&(this._svgName=y),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(y,s).pipe(da(1)).subscribe(D=>this._setSvgElement(D),D=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${y}! ${D.message}`))})}}}return i.\u0275fac=function(e){return new(e||i)(ht(Re),ht(Th),Fr("aria-hidden"),ht(T2),ht(cr))},i.\u0275cmp=un({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,s){2&e&&(ze("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet),ii("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Jt],ngContentSelectors:v2,decls:1,vars:0,template:function(e,s){1&e&&(Bs(),Ni(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),i})(),D2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({imports:[[li],li]}),i})();new class R2 extends Hn{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let s,y=-1,D=e.length;t=t||e.shift();do{if(s=t.execute(t.state,t.delay))break}while(++y<D&&(t=e.shift()));if(this.active=!1,s){for(;++y<D&&(t=e.shift());)t.unsubscribe();throw s}}}(class P2 extends bd{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,s=0){return null!==s&&s>0?super.requestAsyncId(t,e,s):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(t,e,s);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let F2=1;const w2=Promise.resolve(),Sh={};function CE(i){return i in Sh&&(delete Sh[i],!0)}const TE={setImmediate(i){const t=F2++;return Sh[t]=!0,w2.then(()=>CE(t)&&i()),t},clearImmediate(i){CE(i)}};new class I2 extends Hn{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let s,y=-1,D=e.length;t=t||e.shift();do{if(s=t.execute(t.state,t.delay))break}while(++y<D&&(t=e.shift()));if(this.active=!1,s){for(;++y<D&&(t=e.shift());)t.unsubscribe();throw s}}}(class O2 extends bd{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,s=0){return null!==s&&s>0?super.requestAsyncId(t,e,s):(t.actions.push(this),t.scheduled||(t.scheduled=TE.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(t,e,s);0===t.actions.length&&(TE.clearImmediate(e),t.scheduled=void 0)}});class B2{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new V2(t,this.durationSelector))}}class V2 extends Rt{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:y}=this;e=y(t)}catch(y){return this.destination.error(y)}const s=$e(e,new gt(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:t,hasValue:e,throttled:s}=this;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function EE(i){return!h(i)&&i-parseFloat(i)+1>=0}function U2(i){const{index:t,period:e,subscriber:s}=i;if(s.next(t),!s.closed){if(-1===e)return s.complete();i.index=t+1,this.schedule(i,e)}}function SE(i,t=Fd){return function N2(i){return function(e){return e.lift(new B2(i))}}(()=>function G2(i=0,t,e){let s=-1;return EE(t)?s=Number(t)<1?1:Number(t):J(t)&&(e=t),J(e)||(e=Fd),new w(y=>{const D=EE(i)?i:+i-e.now();return e.schedule(U2,D,{index:0,period:s,subscriber:y})})}(i,t))}let ME=(()=>{class i{constructor(e,s,y){this._ngZone=e,this._platform=s,this._scrolled=new Y,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=y}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const s=this.scrollContainers.get(e);s&&(s.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new w(s=>{this._globalSubscription||this._addGlobalListener();const y=e>0?this._scrolled.pipe(SE(e)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{y.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ir()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(e,s){const y=this.getAncestorScrollContainers(e);return this.scrolled(s).pipe(kd(D=>!D||y.indexOf(D)>-1))}getAncestorScrollContainers(e){const s=[];return this.scrollContainers.forEach((y,D)=>{this._scrollableContainsElement(D,e)&&s.push(D)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,s){let y=rr(s),D=e.getElementRef().nativeElement;do{if(y==D)return!0}while(y=y.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ud(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(pt(oe),pt(Ci),pt(re,8))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),AE=(()=>{class i{constructor(e,s,y){this._platform=e,this._change=new Y,this._changeListener=D=>{this._change.next(D)},this._document=y,s.runOutsideAngular(()=>{if(e.isBrowser){const D=this._getWindow();D.addEventListener("resize",this._changeListener),D.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:s,height:y}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+y,right:e.left+s,height:y,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,s=this._getWindow(),y=e.documentElement,D=y.getBoundingClientRect();return{top:-D.top||e.body.scrollTop||s.scrollY||y.scrollTop||0,left:-D.left||e.body.scrollLeft||s.scrollX||y.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(SE(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(pt(Ci),pt(oe),pt(re,8))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Kd=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({}),i})(),DE=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({imports:[[oa,Kd],oa,Kd]}),i})();class Zd{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class PE extends Zd{constructor(t,e,s,y){super(),this.component=t,this.viewContainerRef=e,this.injector=s,this.componentFactoryResolver=y}}class Y2 extends Zd{constructor(t,e,s){super(),this.templateRef=t,this.viewContainerRef=e,this.context=s}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class X2 extends Zd{constructor(t){super(),this.element=t instanceof Re?t.nativeElement:t}}class k2 extends class W2{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof PE?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Y2?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof X2?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,s,y,D){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=s,this._defaultInjector=y,this.attachDomPortal=b=>{const O=b.element,N=this._document.createComment("dom-portal");O.parentNode.insertBefore(N,O),this.outletElement.appendChild(O),this._attachedPortal=b,super.setDisposeFn(()=>{N.parentNode&&N.parentNode.replaceChild(O,N)})},this._document=D}attachComponentPortal(t){const s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let y;return t.viewContainerRef?(y=t.viewContainerRef.createComponent(s,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>y.destroy())):(y=s.create(t.injector||this._defaultInjector||Mi.NULL),this._appRef.attachView(y.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(y.hostView),y.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(y)),this._attachedPortal=t,y}attachTemplatePortal(t){let e=t.viewContainerRef,s=e.createEmbeddedView(t.templateRef,t.context);return s.rootNodes.forEach(y=>this.outletElement.appendChild(y)),s.detectChanges(),this.setDisposeFn(()=>{let y=e.indexOf(s);-1!==y&&e.remove(y)}),this._attachedPortal=t,s}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let j2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({}),i})();const RE=SN();class $2{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=je(-this._previousScrollPosition.left),t.style.top=je(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,s=t.style,y=this._document.body.style,D=s.scrollBehavior||"",b=y.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),RE&&(s.scrollBehavior=y.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),RE&&(s.scrollBehavior=D,y.scrollBehavior=b)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,s=this._viewportRuler.getViewportSize();return e.scrollHeight>s.height||e.scrollWidth>s.width}}class K2{constructor(t,e,s,y){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=s,this._config=y,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class bE{enable(){}disable(){}attach(){}}function Qd(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function FE(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class Z2{constructor(t,e,s,y){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=s,this._config=y,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:y}=this._viewportRuler.getViewportSize();Qd(e,[{width:s,height:y,bottom:y,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Q2=(()=>{class i{constructor(e,s,y,D){this._scrollDispatcher=e,this._viewportRuler=s,this._ngZone=y,this.noop=()=>new bE,this.close=b=>new K2(this._scrollDispatcher,this._ngZone,this._viewportRuler,b),this.block=()=>new $2(this._viewportRuler,this._document),this.reposition=b=>new Z2(this._scrollDispatcher,this._viewportRuler,this._ngZone,b),this._document=D}}return i.\u0275fac=function(e){return new(e||i)(pt(ME),pt(AE),pt(oe),pt(re))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class J2{constructor(t){if(this.scrollStrategy=new bE,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const s of e)void 0!==t[s]&&(this[s]=t[s])}}}class q2{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class _2{constructor(t,e,s,y,D,b,O,N,z){this._portalOutlet=t,this._host=e,this._pane=s,this._config=y,this._ngZone=D,this._keyboardDispatcher=b,this._document=O,this._location=N,this._outsideClickDispatcher=z,this._backdropElement=null,this._backdropClick=new Y,this._attachments=new Y,this._detachments=new Y,this._locationChanges=r.EMPTY,this._backdropClickHandler=k=>this._backdropClick.next(k),this._backdropTransitionendHandler=k=>{this._disposeBackdrop(k.target)},this._keydownEvents=new Y,this._outsidePointerEvents=new Y,y.scrollStrategy&&(this._scrollStrategy=y.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=y.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(da(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=je(this._config.width),t.height=je(this._config.height),t.minWidth=je(this._config.minWidth),t.minHeight=je(this._config.minHeight),t.maxWidth=je(this._config.maxWidth),t.maxHeight=je(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,s){const y=vh(e||[]).filter(D=>!!D);y.length&&(s?t.classList.add(...y):t.classList.remove(...y))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Di(ti(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let wE=(()=>{class i{constructor(e,s){this._platform=s,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Rd()){const y=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let D=0;D<y.length;D++)y[D].remove()}const s=this._document.createElement("div");s.classList.add(e),Rd()?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return i.\u0275fac=function(e){return new(e||i)(pt(re),pt(Ci))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const OE="cdk-overlay-connected-position-bounding-box",tG=/([A-Za-z%]+)$/;class eG{constructor(t,e,s,y,D){this._viewportRuler=e,this._document=s,this._platform=y,this._overlayContainer=D,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Y,this._resizeSubscription=r.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(OE),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,s=this._viewportRect,y=this._containerRect,D=[];let b;for(let O of this._preferredPositions){let N=this._getOriginPoint(t,y,O),z=this._getOverlayPoint(N,e,O),k=this._getOverlayFit(z,e,s,O);if(k.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(O,N);this._canFitWithFlexibleDimensions(k,z,s)?D.push({position:O,origin:N,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(N,O)}):(!b||b.overlayFit.visibleArea<k.visibleArea)&&(b={overlayFit:k,overlayPoint:z,originPoint:N,position:O,overlayRect:e})}if(D.length){let O=null,N=-1;for(const z of D){const k=z.boundingBoxRect.width*z.boundingBoxRect.height*(z.position.weight||1);k>N&&(N=k,O=z)}return this._isPushed=!1,void this._applyPosition(O.position,O.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(b.position,b.originPoint);this._applyPosition(b.position,b.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Zr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(OE),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,s){let y,D;if("center"==s.originX)y=t.left+t.width/2;else{const b=this._isRtl()?t.right:t.left,O=this._isRtl()?t.left:t.right;y="start"==s.originX?b:O}return e.left<0&&(y-=e.left),D="center"==s.originY?t.top+t.height/2:"top"==s.originY?t.top:t.bottom,e.top<0&&(D-=e.top),{x:y,y:D}}_getOverlayPoint(t,e,s){let y,D;return y="center"==s.overlayX?-e.width/2:"start"===s.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,D="center"==s.overlayY?-e.height/2:"top"==s.overlayY?0:-e.height,{x:t.x+y,y:t.y+D}}_getOverlayFit(t,e,s,y){const D=LE(e);let{x:b,y:O}=t,N=this._getOffset(y,"x"),z=this._getOffset(y,"y");N&&(b+=N),z&&(O+=z);let it=0-O,nt=O+D.height-s.height,st=this._subtractOverflows(D.width,0-b,b+D.width-s.width),lt=this._subtractOverflows(D.height,it,nt),dt=st*lt;return{visibleArea:dt,isCompletelyWithinViewport:D.width*D.height===dt,fitsInViewportVertically:lt===D.height,fitsInViewportHorizontally:st==D.width}}_canFitWithFlexibleDimensions(t,e,s){if(this._hasFlexibleDimensions){const y=s.bottom-e.y,D=s.right-e.x,b=IE(this._overlayRef.getConfig().minHeight),O=IE(this._overlayRef.getConfig().minWidth),z=t.fitsInViewportHorizontally||null!=O&&O<=D;return(t.fitsInViewportVertically||null!=b&&b<=y)&&z}return!1}_pushOverlayOnScreen(t,e,s){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const y=LE(e),D=this._viewportRect,b=Math.max(t.x+y.width-D.width,0),O=Math.max(t.y+y.height-D.height,0),N=Math.max(D.top-s.top-t.y,0),z=Math.max(D.left-s.left-t.x,0);let k=0,Q=0;return k=y.width<=D.width?z||-b:t.x<this._viewportMargin?D.left-s.left-t.x:0,Q=y.height<=D.height?N||-O:t.y<this._viewportMargin?D.top-s.top-t.y:0,this._previousPushAmount={x:k,y:Q},{x:t.x+k,y:t.y+Q}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const s=this._getScrollVisibility(),y=new q2(t,s);this._positionChanges.next(y)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,y=t.overlayY;s="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let D=0;D<e.length;D++)e[D].style.transformOrigin=`${s} ${y}`}_calculateBoundingBoxRect(t,e){const s=this._viewportRect,y=this._isRtl();let D,b,O,k,Q,it;if("top"===e.overlayY)b=t.y,D=s.height-b+this._viewportMargin;else if("bottom"===e.overlayY)O=s.height-t.y+2*this._viewportMargin,D=s.height-O+this._viewportMargin;else{const nt=Math.min(s.bottom-t.y+s.top,t.y),st=this._lastBoundingBoxSize.height;D=2*nt,b=t.y-nt,D>st&&!this._isInitialRender&&!this._growAfterOpen&&(b=t.y-st/2)}if("end"===e.overlayX&&!y||"start"===e.overlayX&&y)it=s.width-t.x+this._viewportMargin,k=t.x-this._viewportMargin;else if("start"===e.overlayX&&!y||"end"===e.overlayX&&y)Q=t.x,k=s.right-t.x;else{const nt=Math.min(s.right-t.x+s.left,t.x),st=this._lastBoundingBoxSize.width;k=2*nt,Q=t.x-nt,k>st&&!this._isInitialRender&&!this._growAfterOpen&&(Q=t.x-st/2)}return{top:b,left:Q,bottom:O,right:it,width:k,height:D}}_setBoundingBoxStyles(t,e){const s=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const y={};if(this._hasExactPosition())y.top=y.left="0",y.bottom=y.right=y.maxHeight=y.maxWidth="",y.width=y.height="100%";else{const D=this._overlayRef.getConfig().maxHeight,b=this._overlayRef.getConfig().maxWidth;y.height=je(s.height),y.top=je(s.top),y.bottom=je(s.bottom),y.width=je(s.width),y.left=je(s.left),y.right=je(s.right),y.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",y.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",D&&(y.maxHeight=je(D)),b&&(y.maxWidth=je(b))}this._lastBoundingBoxSize=s,Zr(this._boundingBox.style,y)}_resetBoundingBoxStyles(){Zr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Zr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const s={},y=this._hasExactPosition(),D=this._hasFlexibleDimensions,b=this._overlayRef.getConfig();if(y){const k=this._viewportRuler.getViewportScrollPosition();Zr(s,this._getExactOverlayY(e,t,k)),Zr(s,this._getExactOverlayX(e,t,k))}else s.position="static";let O="",N=this._getOffset(e,"x"),z=this._getOffset(e,"y");N&&(O+=`translateX(${N}px) `),z&&(O+=`translateY(${z}px)`),s.transform=O.trim(),b.maxHeight&&(y?s.maxHeight=je(b.maxHeight):D&&(s.maxHeight="")),b.maxWidth&&(y?s.maxWidth=je(b.maxWidth):D&&(s.maxWidth="")),Zr(this._pane.style,s)}_getExactOverlayY(t,e,s){let y={top:"",bottom:""},D=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(D=this._pushOverlayOnScreen(D,this._overlayRect,s)),"bottom"===t.overlayY?y.bottom=this._document.documentElement.clientHeight-(D.y+this._overlayRect.height)+"px":y.top=je(D.y),y}_getExactOverlayX(t,e,s){let b,y={left:"",right:""},D=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(D=this._pushOverlayOnScreen(D,this._overlayRect,s)),b=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===b?y.right=this._document.documentElement.clientWidth-(D.x+this._overlayRect.width)+"px":y.left=je(D.x),y}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),s=this._scrollables.map(y=>y.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:FE(t,s),isOriginOutsideView:Qd(t,s),isOverlayClipped:FE(e,s),isOverlayOutsideView:Qd(e,s)}}_subtractOverflows(t,...e){return e.reduce((s,y)=>s-Math.max(y,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+t-this._viewportMargin,bottom:s.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&vh(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Re)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,s=t.height||0;return{top:t.y,bottom:t.y+s,left:t.x,right:t.x+e,height:s,width:e}}}function Zr(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function IE(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(tG);return e&&"px"!==e?null:parseFloat(t)}return i||null}function LE(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const NE="cdk-global-overlay-wrapper";class iG{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(NE),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:y,height:D,maxWidth:b,maxHeight:O}=s,N=!("100%"!==y&&"100vw"!==y||b&&"100%"!==b&&"100vw"!==b),z=!("100%"!==D&&"100vh"!==D||O&&"100%"!==O&&"100vh"!==O);t.position=this._cssPosition,t.marginLeft=N?"0":this._leftOffset,t.marginTop=z?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,N?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=z?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,s=e.style;e.classList.remove(NE),s.justifyContent=s.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let nG=(()=>{class i{constructor(e,s,y,D){this._viewportRuler=e,this._document=s,this._platform=y,this._overlayContainer=D}global(){return new iG}flexibleConnectedTo(e){return new eG(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(e){return new(e||i)(pt(AE),pt(re),pt(Ci),pt(wE))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),BE=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const s=this._attachedOverlays.indexOf(e);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(e){return new(e||i)(pt(re))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),rG=(()=>{class i extends BE{constructor(e,s){super(e),this._ngZone=s,this._keydownListener=y=>{const D=this._attachedOverlays;for(let b=D.length-1;b>-1;b--)if(D[b]._keydownEvents.observers.length>0){const O=D[b]._keydownEvents;this._ngZone?this._ngZone.run(()=>O.next(y)):O.next(y);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(e){return new(e||i)(pt(re),pt(oe,8))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),sG=(()=>{class i extends BE{constructor(e,s,y){super(e),this._platform=s,this._ngZone=y,this._cursorStyleIsSet=!1,this._pointerDownListener=D=>{this._pointerDownEventTarget=$r(D)},this._clickListener=D=>{const b=$r(D),O="click"===D.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:b;this._pointerDownEventTarget=null;const N=this._attachedOverlays.slice();for(let z=N.length-1;z>-1;z--){const k=N[z];if(k._outsidePointerEvents.observers.length<1||!k.hasAttached())continue;if(k.overlayElement.contains(b)||k.overlayElement.contains(O))break;const Q=k._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Q.next(D)):Q.next(D)}}}add(e){if(super.add(e),!this._isAttached){const s=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(s)):this._addEventListeners(s),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return i.\u0275fac=function(e){return new(e||i)(pt(re),pt(Ci),pt(oe,8))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),oG=0,Mh=(()=>{class i{constructor(e,s,y,D,b,O,N,z,k,Q,it){this.scrollStrategies=e,this._overlayContainer=s,this._componentFactoryResolver=y,this._positionBuilder=D,this._keyboardDispatcher=b,this._injector=O,this._ngZone=N,this._document=z,this._directionality=k,this._location=Q,this._outsideClickDispatcher=it}create(e){const s=this._createHostElement(),y=this._createPaneElement(s),D=this._createPortalOutlet(y),b=new J2(e);return b.direction=b.direction||this._directionality.value,new _2(D,s,y,b,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const s=this._document.createElement("div");return s.id="cdk-overlay-"+oG++,s.classList.add("cdk-overlay-pane"),e.appendChild(s),s}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(nc)),new k2(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(e){return new(e||i)(pt(Q2),pt(wE),pt(Ho),pt(nG),pt(rG),pt(Mi),pt(oe),pt(re),pt(dh),pt(Ux),pt(sG))},i.\u0275prov=wt({token:i,factory:i.\u0275fac}),i})();const hG={provide:new Dt("cdk-connected-overlay-scroll-strategy"),deps:[Mh],useFactory:function lG(i){return()=>i.scrollStrategies.reposition()}};let uG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({providers:[Mh,hG],imports:[[oa,j2,DE],DE]}),i})();class fG extends v{notifyNext(t,e,s,y,D){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class cG extends v{constructor(t,e,s){super(),this.parent=t,this.outerValue=e,this.outerIndex=s,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function dG(i,t,e,s,y=new cG(i,e,s)){if(!y.closed)return t instanceof w?t.subscribe(y):at(t)(y)}const VE={};class vG{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new mG(t,this.resultSelector))}}class mG extends fG{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(VE),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let s=0;s<e;s++)this.add(dG(this,t[s],void 0,s))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,s){const y=this.values,b=this.toRespond?y[s]===VE?--this.toRespond:this.toRespond:0;y[s]=e,0===b&&(this.resultSelector?this._tryResultSelector(y):this.destination.next(y.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}const GE=new Set;let qs,gG=(()=>{class i{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):xG}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function yG(i){if(!GE.has(i))try{qs||(qs=document.createElement("style"),qs.setAttribute("type","text/css"),document.head.appendChild(qs)),qs.sheet&&(qs.sheet.insertRule(`@media ${i} {body{ }}`,0),GE.add(i))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return i.\u0275fac=function(e){return new(e||i)(pt(Ci))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function xG(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let CG=(()=>{class i{constructor(e,s){this._mediaMatcher=e,this._zone=s,this._queries=new Map,this._destroySubject=new Y}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return UE(vh(e)).some(y=>this._registerQuery(y).mql.matches)}observe(e){let D=function pG(...i){let t,e;return J(i[i.length-1])&&(e=i.pop()),"function"==typeof i[i.length-1]&&(t=i.pop()),1===i.length&&h(i[0])&&(i=i[0]),Ke(i,e).lift(new vG(t))}(UE(vh(e)).map(b=>this._registerQuery(b).observable));return D=Hd(D.pipe(da(1)),D.pipe(CT(1),ET(0))),D.pipe(_(b=>{const O={matches:!1,breakpoints:{}};return b.forEach(({matches:N,query:z})=>{O.matches=O.matches||N,O.breakpoints[z]=N}),O}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const s=this._mediaMatcher.matchMedia(e),D={observable:new w(b=>{const O=N=>this._zone.run(()=>b.next(N));return s.addListener(O),()=>{s.removeListener(O)}}).pipe(xh(s),_(({matches:b})=>({query:e,matches:b})),Di(this._destroySubject)),mql:s};return this._queries.set(e,D),D}}return i.\u0275fac=function(e){return new(e||i)(pt(gG),pt(oe))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function UE(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const EG=["tooltip"],HE="tooltip-panel",zE=Qs({passive:!0}),YE=new Dt("mat-tooltip-scroll-strategy"),DG={provide:YE,deps:[Mh],useFactory:function AG(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}},PG=new Dt("mat-tooltip-default-options",{providedIn:"root",factory:function RG(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let bG=(()=>{class i{constructor(e,s,y,D,b,O,N,z,k,Q,it,nt){this._overlay=e,this._elementRef=s,this._scrollDispatcher=y,this._viewContainerRef=D,this._ngZone=b,this._platform=O,this._ariaDescriber=N,this._focusMonitor=z,this._dir=Q,this._defaultOptions=it,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Y,this._scrollStrategy=k,this._document=nt,it&&(it.position&&(this.position=it.position),it.touchGestures&&(this.touchGestures=it.touchGestures)),Q.change.pipe(Di(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){var s;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(s=this._tooltipInstance)||void 0===s||s.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Ue(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=nr(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=nr(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Di(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([s,y])=>{e.removeEventListener(s,y,zE)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const s=this._createOverlay();this._detach(),this._portal=this._portal||new PE(this._tooltipComponent,this._viewContainerRef);const y=this._tooltipInstance=s.attach(this._portal).instance;y._triggerElement=this._elementRef.nativeElement,y._mouseLeaveHideDelay=this._hideDelay,y.afterHidden().pipe(Di(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),y.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var e;if(this._overlayRef)return this._overlayRef;const s=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),y=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(s);return y.positionChanges.pipe(Di(this._destroyed)).subscribe(D=>{this._updateCurrentPositionClass(D.connectionPair),this._tooltipInstance&&D.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:y,panelClass:`${this._cssClassPrefix}-${HE}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Di(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Di(this._destroyed)).subscribe(()=>{var D;return null===(D=this._tooltipInstance)||void 0===D?void 0:D._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe(Di(this._destroyed)).subscribe(D=>{this._isTooltipVisible()&&27===D.keyCode&&!xT(D)&&(D.preventDefault(),D.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null===(e=this._defaultOptions)||void 0===e?void 0:e.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const s=e.getConfig().positionStrategy,y=this._getOrigin(),D=this._getOverlayPosition();s.withPositions([this._addOffset(Object.assign(Object.assign({},y.main),D.main)),this._addOffset(Object.assign(Object.assign({},y.fallback),D.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,s=this.position;let y;"above"==s||"below"==s?y={originX:"center",originY:"above"==s?"top":"bottom"}:"before"==s||"left"==s&&e||"right"==s&&!e?y={originX:"start",originY:"center"}:("after"==s||"right"==s&&e||"left"==s&&!e)&&(y={originX:"end",originY:"center"});const{x:D,y:b}=this._invertPosition(y.originX,y.originY);return{main:y,fallback:{originX:D,originY:b}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,s=this.position;let y;"above"==s?y={overlayX:"center",overlayY:"bottom"}:"below"==s?y={overlayX:"center",overlayY:"top"}:"before"==s||"left"==s&&e||"right"==s&&!e?y={overlayX:"end",overlayY:"center"}:("after"==s||"right"==s&&e||"left"==s&&!e)&&(y={overlayX:"start",overlayY:"center"});const{x:D,y:b}=this._invertPosition(y.overlayX,y.overlayY);return{main:y,fallback:{overlayX:D,overlayY:b}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(da(1),Di(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,s){return"above"===this.position||"below"===this.position?"top"===s?s="bottom":"bottom"===s&&(s="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:s}}_updateCurrentPositionClass(e){const{overlayY:s,originX:y,originY:D}=e;let b;if(b="center"===s?this._dir&&"rtl"===this._dir.value?"end"===y?"left":"right":"start"===y?"left":"right":"bottom"===s&&"top"===D?"above":"below",b!==this._currentPosition){const O=this._overlayRef;if(O){const N=`${this._cssClassPrefix}-${HE}-`;O.removePanelClass(N+this._currentPosition),O.addPanelClass(N+b)}this._currentPosition=b}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",s=>{var y;const D=s.relatedTarget;(!D||!(null===(y=this._overlayRef)||void 0===y?void 0:y.overlayElement.contains(D)))&&this.hide()}],["wheel",s=>this._wheelListener(s)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const s=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",s],["touchcancel",s])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([s,y])=>{this._elementRef.nativeElement.addEventListener(s,y,zE)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const s=this._document.elementFromPoint(e.clientX,e.clientY),y=this._elementRef.nativeElement;s!==y&&!y.contains(s)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const s=this._elementRef.nativeElement,y=s.style;("on"===e||"INPUT"!==s.nodeName&&"TEXTAREA"!==s.nodeName)&&(y.userSelect=y.msUserSelect=y.webkitUserSelect=y.MozUserSelect="none"),("on"===e||!s.draggable)&&(y.webkitUserDrag="none"),y.touchAction="none",y.webkitTapHighlightColor="transparent"}}}return i.\u0275fac=function(e){!function ug(){throw new Error("invalid")}()},i.\u0275dir=It({type:i,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),i})(),FG=(()=>{class i extends bG{constructor(e,s,y,D,b,O,N,z,k,Q,it,nt){super(e,s,y,D,b,O,N,z,k,Q,it,nt),this._tooltipComponent=OG}}return i.\u0275fac=function(e){return new(e||i)(ht(Mh),ht(Re),ht(ME),ht(xn),ht(oe),ht(Ci),ht(eB),ht(la),ht(YE),ht(dh,8),ht(PG,8),ht(re))},i.\u0275dir=It({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[Jt]}),i})(),wG=(()=>{class i{constructor(e,s){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Y,this._animationsDisabled="NoopAnimations"===s}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const s=this._tooltip.nativeElement,y=this._showAnimation,D=this._hideAnimation;if(s.classList.remove(e?D:y),s.classList.add(e?y:D),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const b=getComputedStyle(s);("0s"===b.getPropertyValue("animation-duration")||"none"===b.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(s.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return i.\u0275fac=function(e){return new(e||i)(ht(Jn),ht(er,8))},i.\u0275dir=It({type:i}),i})(),OG=(()=>{class i extends wG{constructor(e,s,y){super(e,y),this._breakpointObserver=s,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return i.\u0275fac=function(e){return new(e||i)(ht(Jn),ht(CG),ht(er,8))},i.\u0275cmp=un({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(e,s){if(1&e&&Bn(EG,7),2&e){let y;Ye(y=Xe())&&(s._tooltip=y.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,s){1&e&&le("mouseleave",function(D){return s._handleMouseLeave(D)}),2&e&&Ef("zoom",s.isVisible()?1:null)},features:[Jt],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,s){if(1&e&&(Mt(0,"div",0,1),le("animationend",function(D){return s._handleAnimationEnd(D)}),fl(2,"async"),ue(3),Ot()),2&e){let y;ii("mat-tooltip-handset",null==(y=function Yy(i,t,e){const s=i+20,y=vt(),D=ss(y,s);return Wo(y,s)?Vy(y,pi(),t,D.transform,e,D):D.transform(e)}(2,4,s._isHandset))?null:y.matches),Kt("ngClass",s.tooltipClass),Wt(3),Gs(s.message)}},directives:[Zx],pipes:[e0],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),i})(),IG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i}),i.\u0275inj=pe({providers:[DG],imports:[[cB,Fl,uG,li],li,Kd]}),i})();var LG=F(472),Jd=F.n(LG),De=(()=>(function(i){i.up="up",i.down="down",i.left="left",i.right="right"}(De||(De={})),De))(),Qr=(()=>(function(i){i.still="still",i.transitioning="transitioning"}(Qr||(Qr={})),Qr))(),Ah=(()=>(function(i){i.addingGridCells="addingGridCells",i.removingTiles="removingTiles",i.transitioningTiles="transitioningTiles",i.showingPlaceholders="showingPlaceholders",i.addingTiles="addingTiles"}(Ah||(Ah={})),Ah))();class Ee{constructor(t,e){this.x=t,this.y=e}static fromDirection(t){switch(t){case De.up:return new Ee(0,1);case De.down:return new Ee(0,-1);case De.left:return new Ee(-1,0);case De.right:return new Ee(1,0)}}}class Dh{constructor(t,e,s){this.centerPos=t,this.direction=e,this.phase=s,this.state=Qr.still,this.directionVersor=Ee.fromDirection(e),this.destCenterPos=Object.assign({},t)}getState(){return this.state}getCenterPos(){return Object.assign({},this.centerPos)}getDestCenterPos(){return Object.assign({},this.destCenterPos)}getOccupGridCells(){const t=new Ee(this.directionVersor.y,-this.directionVersor.x);return{centerPos1:new Ee(this.destCenterPos.x-.5*t.x,this.destCenterPos.y-.5*t.y),centerPos2:new Ee(this.destCenterPos.x+.5*t.x,this.destCenterPos.y+.5*t.y)}}getDirection(){return this.direction}getDirectionVersor(){return this.directionVersor}getRotationAngleRads(){switch(this.direction){case De.up:return 0;case De.left:return 3*Math.PI/2;case De.down:return Math.PI;case De.right:return Math.PI/2}}startTransition(t){this.state=Qr.transitioning,this.transition=t,this.destCenterPos=this.transition.start(this.centerPos,this.direction,this.phase)}update(t){this.phase=t,this.state===Qr.transitioning&&(this.centerPos=this.transition.calcPosition(t),this.transition.getTransitionPhase(t)>=1&&(this.state=Qr.still))}}class BG{constructor(t){this.centerPos=t}getCenterPos(){return Object.assign({},this.centerPos)}}const Ph={addingGridCells:{phaseDuration:1},removingTiles:{phaseDuration:2},transitioningTiles:{phaseDuration:2},showingPlaceholders:{phaseDuration:2},addingTiles:{phaseDuration:1}},_d=Object.keys(Ph),XE=Object.values(Ph).map(i=>i.phaseDuration).reduce((i,t)=>i+t,0);class zG{constructor(t){this.stateSubject=new yT(null),this.state$=this.stateSubject.asObservable(),this.lastTransitionPhase=t}update(t){const e=t-this.lastTransitionPhase,s=this.stateSubject.getValue()||_d[_d.length-1],D=e-Ph[s].phaseDuration;if(D>=0){const b=_d,N=(b.findIndex(k=>k===s)+1)%b.length;this.stateSubject.next(b[N]),this.lastTransitionPhase=t-D}}}class XG extends class YG{constructor(){}start(t,e,s){return this.startPosition=t,this.directionVersor=Ee.fromDirection(e),this.startPhase=s,new Ee(t.x+this.directionVersor.x,t.y+this.directionVersor.y)}getTransitionPhase(t){return Math.min(t-this.startPhase,1)}calcPosition(t){return this.calcPositionImpl(this.getTransitionPhase(t))}}{calcPositionImpl(t){return new Ee(this.startPosition.x+t*this.directionVersor.x,this.startPosition.y+t*this.directionVersor.y)}}class WG{constructor(t,e){this.tiles=t,this.gridCells=e,this.initCells()}initCells(){const e=(Math.sqrt(1+2*this.gridCells.length)-1)/2;this.matrixSize=2*e,this.cells=[];for(let s=0;s<this.matrixSize;s++){const y=[];for(let D=0;D<this.matrixSize;D++)y.push({hasGridCell:!1,hasTile:!1});this.cells.push(y)}this.gridCells.forEach(s=>{const y=this.transformPosToGridCoords(s.getCenterPos());this.cells[y.u][y.v].hasGridCell=!0}),this.tiles.forEach(s=>{this.addTile(s)})}addTile(t){const e=t.getOccupGridCells(),s=this.transformPosToGridCoords(e.centerPos1);this.cells[s.u][s.v].hasTile=!0,this.cells[s.u][s.v].tile=t;const y=this.transformPosToGridCoords(e.centerPos2);this.cells[y.u][y.v].hasTile=!0,this.cells[y.u][y.v].tile=t}removeTile(t){const e=t.getOccupGridCells(),s=this.transformPosToGridCoords(e.centerPos1);this.cells[s.u][s.v].hasTile=!1,this.cells[s.u][s.v].tile=null;const y=this.transformPosToGridCoords(e.centerPos2);this.cells[y.u][y.v].hasTile=!1,this.cells[y.u][y.v].tile=null}transformPosToGridCoords(t){return{u:Math.floor(t.x+this.matrixSize/2),v:Math.floor(t.y+this.matrixSize/2)}}transformGridCoordsToPos(t){return new Ee(t.u-this.matrixSize/2+.5,t.v-this.matrixSize/2+.5)}getCellAtCoords(t){return t.u<0||t.u>this.matrixSize-1||t.v<0||t.v>this.matrixSize-1?{hasGridCell:!1,hasTile:!1}:this.cells[t.u][t.v]}setCellAtCoords(t,e){this.cells[t.u][t.v]=Object.assign({},e)}getCellAtPos(t){return this.getCellAtCoords(this.transformPosToGridCoords(t))}isCellEmpty(t){const e=this.getCellAtCoords(t);return e.hasGridCell&&!e.hasTile}isCellUnusable(t){const e=this.getCellAtCoords(t);return!e.hasGridCell||e.hasTile}getEmptyCellsCoords(){const t=[];for(let e=0;e<this.matrixSize;e++)for(let s=0;s<this.matrixSize;s++)this.isCellEmpty({u:e,v:s})&&t.push({u:e,v:s});return t}}class kG{constructor(t){this.matrix=t}findTilePairsInsertionPoints(){const t=this.matrix.getEmptyCellsCoords().length,e=[];for(let s=0;s<t/4;s++){const y=this.findAllTwoByTwoEmptySpaces();if(0===y.length)break;const D=this.findTwoByTwoEmptySpacesInCorners(y);this.markTwoByTwoSpacesAsOccupied(D),e.push(...D)}return e.map(s=>this.matrix.transformGridCoordsToPos(s)).map(s=>new Ee(s.x+.5,s.y+.5))}findAllTwoByTwoEmptySpaces(){const t=[];return this.matrix.getEmptyCellsCoords().forEach(e=>{this.matrix.isCellEmpty({u:e.u+0,v:e.v+0})&&this.matrix.isCellEmpty({u:e.u+1,v:e.v+0})&&this.matrix.isCellEmpty({u:e.u+0,v:e.v+1})&&this.matrix.isCellEmpty({u:e.u+1,v:e.v+1})&&t.push(e)}),t}findTwoByTwoEmptySpacesInCorners(t){const e=[];return t.forEach((s,y)=>{const D=[[{u:s.u+0-1,v:s.v+0+0},{u:s.u+0+0,v:s.v+0-1}],[{u:s.u+1+1,v:s.v+0+0},{u:s.u+1+0,v:s.v+0-1}],[{u:s.u+0-1,v:s.v+1+0},{u:s.u+0+0,v:s.v+1+1}],[{u:s.u+1+1,v:s.v+1+0},{u:s.u+1+0,v:s.v+1+1}]];for(const b of D)if(this.matrix.isCellUnusable(b[0])&&this.matrix.isCellUnusable(b[1])){e.push(s);break}}),e}markTwoByTwoSpacesAsOccupied(t){const e={hasGridCell:!0,hasTile:!0};t.forEach(s=>{this.matrix.setCellAtCoords({u:s.u+0,v:s.v+0},e),this.matrix.setCellAtCoords({u:s.u+1,v:s.v+0},e),this.matrix.setCellAtCoords({u:s.u+0,v:s.v+1},e),this.matrix.setCellAtCoords({u:s.u+1,v:s.v+1},e)})}}class jG{constructor(t,e){this.tiles=t,this.matrix=e}findClashingTilePairs(){const t=this.getPointingUpOrRightTiles();return this.getClashes(t)}getPointingUpOrRightTiles(){return this.tiles.filter(t=>t.getDirection()===De.up||t.getDirection()===De.right)}getClashes(t){const e=[];return t.forEach(s=>{const y=this.matrix.transformPosToGridCoords(s.getOccupGridCells().centerPos1),D={u:y.u+s.getDirectionVersor().x,v:y.v+s.getDirectionVersor().y},b=this.matrix.getCellAtCoords(D).tile;b&&((i,t)=>i===De.up&&t===De.down||i===De.down&&t===De.up||i===De.left&&t===De.right||i===De.right&&t===De.left)(s.getDirection(),b.getDirection())&&e.push({tile1:s,tile2:b,clashingCenterPos:new Ee((s.getDestCenterPos().x+b.getDestCenterPos().x)/2,(s.getDestCenterPos().y+b.getDestCenterPos().y)/2)})}),e}}var tp=F(340),Jr=(()=>(function(i){i.colors="colors",i.arrows="arrows,"}(Jr||(Jr={})),Jr))();class $G{constructor(t){this.params=t,this.random=tp(),this.tiles=[],this.gridCells=[],this.iterationStarted=new qt,this.runningStateChange=new qt,this.placeholdersAdded=new qt,this.tilesAdded=new qt,this.tilesRemoved=new qt,this.gridCellsAdded=new qt,this.phaseStateChange=new qt,this.maxIterationsChange=new qt,this.randomSeedChange=new qt,this.randomBiasCoefChange=new qt,this.arcticCircleActiveChange=new qt,this.displayModeChange=new qt,this.phase=0,this.iterationIndex=0,this.setRunningState(!0),this.random=tp(t.randomSeed),this.phaseStateHandler=new zG(this.phase),this.phaseStateHandler.state$.pipe(kd(e=>!!e)).subscribe(e=>{this.phaseState=e,this.phaseStateChange.emit(e),this.onPhaseStateChange()})}getParams(){return Object.assign({},this.params)}setMaxIterations(t){if(t<1)throw new Error(`Invalid maxIterations value: ${t}`);this.params.maxIterations=t,this.maxIterationsChange.emit(t)}setRandomSeed(t){this.params.randomSeed=t,this.random=tp(t),this.randomSeedChange.emit(t)}setRandomBiasCoef(t){if(t<0||t>1)throw new Error(`Invalid randomBiasCoef value: ${t}`);this.params.randomBiasCoef=t,this.randomBiasCoefChange.emit(t)}setArcticCircleActiveState(t){this.params.isArcticCircleActive=t,this.arcticCircleActiveChange.emit(t)}setDisplayMode(t){this.params.displayMode=t,this.displayModeChange.emit(t)}getPhase(){return this.phase}getTiles(){return[...this.tiles]}update(t){!this.isRunning||(this.phase=t,this.tiles.forEach(e=>{e.update(t)}),this.phaseStateHandler.update(t))}setRunningState(t){this.isRunning=t,this.runningStateChange.emit(t)}onPhaseStateChange(){({addingGridCells:this.addGridCells,removingTiles:this.removeTiles,transitioningTiles:this.transitionTiles,showingPlaceholders:this.showPlaceholders,addingTiles:this.addTiles})[this.phaseState].call(this),this.phaseState===Ah.addingGridCells&&(this.iterationIndex++,this.iterationStarted.emit(this.iterationIndex))}addGridCells(){const t=1+this.iterationIndex,e=1+this.iterationIndex,s=[];for(let y=0;y<4;y++){const O=new Ee(e*(0===y?1:2===y?-1:0),e*(1===y?1:3===y?-1:0)),k=new Ee(0===y||1===y?-1:1,0===y||3===y?1:-1);for(let Q=0;Q<t;Q++){const it=new Ee(O.x+(Q+.5)*k.x,O.y+(Q+.5)*k.y);s.push(new BG(it))}}this.gridCells.push(...s),this.gridCellsAdded.emit(s)}removeTiles(){const s=new jG(this.tiles,this.matrix).findClashingTilePairs().reduce((y,D)=>[...y,D.tile1,D.tile2],[]);s.forEach(y=>{const D=this.tiles.indexOf(y);this.tiles.splice(D,1),this.matrix.removeTile(y)}),this.tilesRemoved.emit(s)}transitionTiles(){this.tiles.forEach(t=>{t.startTransition(new XG)})}showPlaceholders(){this.matrix=new WG(this.tiles,this.gridCells);const t=new kG(this.matrix);this.insertionPoints=t.findTilePairsInsertionPoints(),this.placeholdersAdded.emit(this.insertionPoints)}addTiles(){const t=[];this.insertionPoints.forEach(e=>{let s,y;this.random()>this.params.randomBiasCoef?(s=new Dh(new Ee(e.x,e.y+.5),De.up,this.phase),y=new Dh(new Ee(e.x,e.y-.5),De.down,this.phase)):(s=new Dh(new Ee(e.x+.5,e.y),De.right,this.phase),y=new Dh(new Ee(e.x-.5,e.y),De.left,this.phase)),this.tiles.push(s),this.tiles.push(y),t.push(s,y)}),t.forEach(e=>{this.matrix.addTile(e)}),this.tilesAdded.emit(t),this.iterationIndex>=this.params.maxIterations&&this.setRunningState(!1)}}const KG={active:!1,visible:!1,key:"Game"};class ZG extends Phaser.Scene{constructor(t,e){super(KG),this.simulatorModel=t,this.simulatorTimer=e,this.gridCells=[],this.tiles=[],this.modelSubscriptions=new r}preload(){this.iterationIndex=0,this.load.setBaseURL("assets/img/"),this.load.image("tileUp","tile_up.png"),this.load.image("tileDown","tile_down.png"),this.load.image("tileLeft","tile_left.png"),this.load.image("tileRight","tile_right.png"),this.load.image("arrowTileGray","arrow_tile_gray.png"),this.load.image("arrowTileOrange","arrow_tile_orange.png"),this.load.image("arrowTileYellow","arrow_tile_yellow.png"),this.load.image("arrowTileWhite","arrow_tile_white.png"),this.load.image("placeholderOrange","placeholder_orange.png"),this.load.image("placeholderWhite","placeholder_white.png"),this.load.image("gridCell","grid_cell.png"),this.camera=this.cameras.cameras[0],this.updateCamera()}create(){this.gridLayer=this.add.layer().setDepth(0),this.placeholderLayer=this.add.layer().setDepth(50),this.tileLayer=this.add.layer().setDepth(100),this.arcticCircleLayer=this.add.layer().setDepth(150),this.arcticCircle=this.add.ellipse(0,0,128,128),this.arcticCircle.setAlpha(0),this.arcticCircleLayer.add(this.arcticCircle);const t=this.simulatorModel.getParams();this.setArcticCircleActiveState(t.isArcticCircleActive),this.setDisplayMode(t.displayMode),this.createDummyBoard(),this.modelSubscriptions.add(this.simulatorModel.iterationStarted.subscribe(e=>this.onIterationStarted(e))).add(this.simulatorModel.gridCellsAdded.subscribe(e=>this.onGridCellsAdded(e))).add(this.simulatorModel.placeholdersAdded.subscribe(e=>this.onPlaceholdersAdded(e))).add(this.simulatorModel.tilesAdded.subscribe(e=>this.onTilesAdded(e))).add(this.simulatorModel.tilesRemoved.subscribe(e=>this.onTilesRemoved(e))).add(this.simulatorModel.arcticCircleActiveChange.subscribe(e=>this.setArcticCircleActiveState(e))).add(this.simulatorModel.displayModeChange.subscribe(e=>this.setDisplayMode(e)))}destroy(){this.modelSubscriptions.unsubscribe(),this.sys.game.destroy(!0)}createDummyBoard(){[new Ee(-.5,-.5),new Ee(.5,-.5),new Ee(-.5,.5),new Ee(.5,.5)].forEach(e=>{const s=this.transformToViewSpace(e),y=this.add.image(s.x,s.y,this.getTextureName("gridCell"));y.setAlpha(0);const D=2500*this.getUnitPhaseDurationSecs();this.tweens.add({targets:y,alpha:{from:0,to:1},ease:"Linear",duration:D,repeat:0,yoyo:!1}),this.gridLayer.add(y)})}update(){this.phase=this.simulatorModel.getPhase(),this.tiles.forEach(t=>{const e=this.transformToViewSpace(t.model.getCenterPos());t.img.setPosition(e.x,e.y)}),this.updateCamera(),this.updateArcticCircle()}updateCamera(){const e=2*(1+this.phase/XE)*64,s=Math.min(this.camera.width,this.camera.height);this.camera.setZoom(s/(e+192)),this.camera.setScroll(-this.camera.width/2,-this.camera.height/2)}updateArcticCircle(){const e=Math.max(1,this.phase/XE),s=this.simulatorModel.getParams().randomBiasCoef,y=2*Math.sqrt(1-s)*e*64,D=2*Math.sqrt(s)*e*64,b=Math.min(this.camera.displayWidth,this.camera.displayHeight);this.arcticCircle.setSize(y,D),this.arcticCircle.setPosition(-y/2+64,-D/2+64),this.arcticCircle.setStrokeStyle(.008*b,16776960)}onIterationStarted(t){this.iterationIndex=t}onGridCellsAdded(t){t.forEach(e=>{const s=this.transformToViewSpace(e.getCenterPos()),y=this.add.image(s.x,s.y,this.getTextureName("gridCell"));y.setAlpha(0);const D=2500*this.getUnitPhaseDurationSecs();this.tweens.add({targets:y,alpha:{from:0,to:1},ease:"Linear",duration:D,repeat:0,yoyo:!1}),this.gridCells.push({model:e,img:y}),this.gridLayer.add(y)})}onPlaceholdersAdded(t){t.forEach(e=>{const s=this.transformToViewSpace(e),y=this.add.image(s.x,s.y,this.getTextureName("placeholder"));y.setAlpha(0);const b=1e3*(Ph.showingPlaceholders.phaseDuration+Ph.addingGridCells.phaseDuration)*this.getUnitPhaseDurationSecs();this.tweens.add({targets:y,alpha:{from:0,to:1},ease:"Linear",duration:.25*b,repeat:0,yoyo:!1,completeDelay:.75*b,onComplete:()=>y.destroy()}),this.placeholderLayer.add(y)})}onTilesAdded(t){t.forEach(e=>{const s=this.transformToViewSpace(e.getCenterPos()),y=e.getRotationAngleRads(),D=this.add.image(s.x,s.y,this.getTileTexture(e)).setRotation(y);D.setAlpha(0);const b=500*this.getUnitPhaseDurationSecs();this.tweens.add({targets:D,alpha:{from:0,to:1},ease:"Linear",duration:b,repeat:0,yoyo:!1}),this.tiles.push({model:e,img:D}),this.tileLayer.add(D)})}onTilesRemoved(t){t.forEach(e=>{const s=this.tiles.findIndex(b=>b.model===e),y=this.tiles[s];y.img.setTexture(this.getTextureName("clashingTile"));const D=2500*this.getUnitPhaseDurationSecs();this.tweens.add({targets:y.img,alpha:{from:1,to:0},ease:"Linear",duration:.5*D,repeat:0,yoyo:!1,delay:.5*D,onComplete:()=>y.img.destroy()}),this.tiles.splice(s,1)})}setArcticCircleActiveState(t){this.isArcticCircleActive=t,this.tweens.add({targets:this.arcticCircle,alpha:t?{from:this.arcticCircle.alpha,to:1}:{from:this.arcticCircle.alpha,to:0},ease:"Linear",duration:200,repeat:0,yoyo:!1})}setDisplayMode(t){this.displayMode=t,this.tiles.forEach(e=>{e.img.setTexture(this.getTileTexture(e.model))})}transformToViewSpace(t){return new Ee(64*t.x,64*-t.y)}getUnitPhaseDurationSecs(){return 1/this.simulatorTimer.getSimulationSpeed()}getTextureName(t){if(this.displayMode===Jr.colors)switch(t){case"gridCell":return"gridCell";case"placeholder":return"placeholderWhite";case"tileUp":return"tileUp";case"tileDown":return"tileDown";case"tileLeft":return"tileLeft";case"tileRight":return"tileRight";case"clashingTile":return"arrowTileWhite";default:throw new Error("No texture defined for kind: "+t)}if(this.displayMode===Jr.arrows)switch(t){case"gridCell":return"gridCell";case"placeholder":return"placeholderOrange";case"tileUp":case"tileDown":case"tileLeft":case"tileRight":return"arrowTileGray";case"clashingTile":return"arrowTileYellow";default:throw new Error("No texture defined for kind: "+t)}throw new Error("No textures defined for display mode: "+this.displayMode)}getTileTexture(t){return this.getTextureName({up:"tileUp",down:"tileDown",left:"tileLeft",right:"tileRight"}[t.getDirection()])}}class QG{constructor(t,e,s){this.simulatorModel=t,this.stepIntervalMillisecs=e,this.elapsedPhasePerSec=s,this.isActive=!1,this.phase=0}setSimulationSpeed(t){this.elapsedPhasePerSec=t}getSimulationSpeed(){return this.elapsedPhasePerSec}play(){this.isActive||(this.timer=setInterval(()=>this.onTimerStep(),this.stepIntervalMillisecs),this.isActive=!0)}pause(){!this.isActive||(clearInterval(this.timer),this.isActive=!1)}onTimerStep(){this.phase+=this.elapsedPhasePerSec*this.stepIntervalMillisecs/1e3,this.simulatorModel.update(this.phase)}}let JG=(()=>{class i{constructor(){this.isPlaying=!0,this.iterationIndex=0,this.maxIterations=100,this.simulationSpeed=2,this.minSimulationSpeed=1,this.maxSimulationSpeed=10,this.randomBiasCoef=.5,this.isArcticCircleActive=!1,this.DisplayMode=Jr,this.displayMode=Jr.colors,this.controlPanelStyle={width:300},this.modelSubscriptions=new r}ngOnInit(){this.regenerateRandomSeed(),this.initSimulation(),this.simulatorTimer.play()}ngOnDestroy(){this.modelSubscriptions.unsubscribe()}onPlayClick(){this.playSimulation()}onPauseClick(){this.pauseSimulation()}onRestartClick(){this.restartSimulation()}onRandomSeedChange(e){this.randomSeed=e,this.simulatorModel.setRandomSeed(e)}onRegenerateRandomSeedClick(){this.regenerateRandomSeed(),this.simulatorModel.setRandomSeed(this.randomSeed)}onMaxIterationsChange(e){this.maxIterations=e=e<1?1:e,this.simulatorModel.setMaxIterations(e)}onSimulationSpeedSliderChange(e){this.simulationSpeed=e,this.simulatorTimer.setSimulationSpeed(e)}onRandomBiasCoefSliderChange(e){this.randomBiasCoef=e,this.simulatorModel.setRandomBiasCoef(e)}onArcticCircleCheckboxChange(e){this.isArcticCircleActive=e,this.simulatorModel.setArcticCircleActiveState(e)}onDisplayModeChange(e){this.displayMode=e,this.simulatorModel.setDisplayMode(e)}regenerateRandomSeed(){this.randomSeed=Math.floor(Math.random()*(Math.pow(2,31)-1))}initSimulation(){this.modelSubscriptions.unsubscribe(),this.config&&this.config.scene&&(this.simulatorTimer.pause(),this.config.scene.destroy()),this.simulatorModel=new $G({maxIterations:this.maxIterations,randomSeed:this.randomSeed,randomBiasCoef:this.randomBiasCoef,isArcticCircleActive:this.isArcticCircleActive,displayMode:this.displayMode}),this.simulatorTimer=new QG(this.simulatorModel,1e3/30,this.simulationSpeed);const e=new ZG(this.simulatorModel,this.simulatorTimer);this.config={title:"Magic Square Dance",type:Jd().AUTO,scale:{width:window.innerWidth-300,height:window.innerHeight-60,mode:Jd().Scale.NONE},physics:{default:"arcade",arcade:{debug:!1}},parent:"phaser-canvas",backgroundColor:"#CCC",scene:e},this.phaser=new(Jd().Game)(this.config),window.addEventListener("resize",()=>{this.phaser.scale.resize(window.innerWidth-300,window.innerHeight-60)}),this.modelSubscriptions=new r,this.modelSubscriptions.add(this.simulatorModel.iterationStarted.subscribe(y=>this.iterationIndex=y))}playSimulation(){this.simulatorTimer.play(),this.isPlaying=!0}pauseSimulation(){this.simulatorTimer.pause(),this.isPlaying=!1}restartSimulation(){this.initSimulation(),this.isPlaying&&this.simulatorTimer.play()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=un({type:i,selectors:[["app-simulator"]],decls:75,vars:23,consts:[["id","container"],["id","control-panel",3,"ngStyle"],["id","sim-control-panel"],["id","play-btn","mat-mini-fab","","color","primary","matTooltip","Play",3,"disabled","click"],["id","pause-btn","mat-mini-fab","","color","primary","matTooltip","Pause",3,"disabled","click"],["id","progress"],["id","restart-btn","mat-mini-fab","","color","primary","matTooltip","Restart",3,"click"],["id","max-iterations",1,"input-field"],["matInput","","type","number","autocomplete","false","min","1",3,"value","change"],["id","random-seed",1,"input-field"],["matInput","","type","number","autocomplete","false",3,"value","change"],["mat-icon-button","",1,"icon-button",3,"click"],["id","simulation-speed",1,"slider-field"],["color","primary","step","1",3,"min","max","value","change"],["simulationSpeedSlider",""],["id","random-bias-coef",1,"slider-field"],["color","primary","min","0","max","1","step","0.01",3,"value","change","input"],["randomBiasCoefSlider",""],["id","arctic-circle",1,"checkbox-field"],["color","primary",3,"checked","change"],["id","display-mode",1,"toggle-field"],["name","displayMode","aria-label","Display mode",3,"value","change"],[3,"value"],["id","about"],["href","https://www.youtube.com/watch?v=Yy7Q8IWNfHM&ab_channel=Mathologer","target","_blank"],["href","https://twitter.com/charlymarchiaro","target","_blank"],["href","https://github.com/charlymarchiaro/magic-square-dance","target","_blank"],["id","phaser-canvas"]],template:function(e,s){if(1&e&&(Mt(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),le("click",function(){return s.onPlayClick()}),Mt(4,"mat-icon"),ue(5,"play_arrow"),Ot()(),Mt(6,"button",4),le("click",function(){return s.onPauseClick()}),Mt(7,"mat-icon"),ue(8,"pause"),Ot()(),Mt(9,"div",5)(10,"mat-label"),ue(11),Ot()(),Mt(12,"button",6),le("click",function(){return s.onRestartClick()}),Mt(13,"mat-icon"),ue(14,"replay"),Ot()()(),Mt(15,"div",7)(16,"mat-label"),ue(17,"Max iterations:"),Ot(),Mt(18,"mat-form-field")(19,"input",8),le("change",function(D){return s.onMaxIterationsChange(D.target.value)}),Ot()()(),Mt(20,"div",9)(21,"mat-label"),ue(22,"Random seed:"),Ot(),Mt(23,"mat-form-field")(24,"input",10),le("change",function(D){return s.onRandomSeedChange(D.target.value)}),Ot()(),Mt(25,"button",11),le("click",function(){return s.onRegenerateRandomSeedClick()}),Mt(26,"mat-icon"),ue(27,"refresh"),Ot()()(),Mt(28,"div",12)(29,"mat-label"),ue(30,"Simul. speed:"),Ot(),Mt(31,"mat-slider",13,14),le("change",function(D){return s.onSimulationSpeedSliderChange(D.value)}),Ot(),Mt(33,"div"),ue(34),fl(35,"number"),Ot()(),Mt(36,"div",15)(37,"mat-label"),ue(38,"Random bias coefficient:"),Ot(),Mt(39,"mat-slider",16,17),le("change",function(D){return s.onRandomBiasCoefSliderChange(D.value)})("input",function(D){return s.onRandomBiasCoefSliderChange(D.value)}),Ot(),Mt(41,"div"),ue(42),fl(43,"number"),Ot()(),Mt(44,"div",18)(45,"mat-checkbox",19),le("change",function(D){return s.onArcticCircleCheckboxChange(D.checked)}),Mt(46,"mat-label"),ue(47,"Show arctic circle"),Ot()()(),Mt(48,"div",20)(49,"mat-label"),ue(50,"Display mode:"),Ot(),Mt(51,"mat-button-toggle-group",21),le("change",function(D){return s.onDisplayModeChange(D.value)}),Mt(52,"mat-button-toggle",22),ue(53,"Colors"),Ot(),Mt(54,"mat-button-toggle",22),ue(55,"Arrows"),Ot()()(),Je(56,"hr"),Mt(57,"div",23)(58,"h1"),ue(59,"About this project"),Ot(),Mt(60,"p")(61,"i"),ue(62,"Magic Square Dance"),Ot(),ue(63," simulator, as described in this Mathologer "),Mt(64,"a",24),ue(65," video. "),Ot()(),Mt(66,"p"),ue(67,"Author: Carlos A. Marchiaro - "),Mt(68,"a",25),ue(69," @charlymarchiaro "),Ot()(),Mt(70,"p"),ue(71,"Github repository: "),Mt(72,"a",26),ue(73," magic-square-dance "),Ot()()()(),Je(74,"div",27),Ot()),2&e){const y=Ls(32),D=Ls(40);Wt(1),Kt("ngStyle",s.controlPanelStyle),Wt(2),Kt("disabled",s.isPlaying),Wt(3),Kt("disabled",!s.isPlaying),Wt(5),Mf(" Iteration: ",s.iterationIndex,"/",s.maxIterations," "),Wt(8),Kt("value",s.maxIterations.toString()),Wt(5),Kt("value",s.randomSeed.toString()),Wt(7),Kt("min",s.minSimulationSpeed)("max",s.maxSimulationSpeed)("value",s.simulationSpeed),Wt(3),Lo(" ",Lf(35,17,y.value,"1.1")," "),Wt(5),Kt("value",s.randomBiasCoef),Wt(3),Lo(" ",Lf(43,20,D.value,"1.2")," "),Wt(3),Kt("checked",s.isArcticCircleActive),Wt(6),Kt("value",s.displayMode),Wt(1),Kt("value",s.DisplayMode.colors),Wt(2),Kt("value",s.DisplayMode.arrows)}},directives:[Cc,XV,FG,A2,Yd,dV,xV,YT,tE,oE,aE],pipes:[r0],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;text-align:center}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%]{margin:0!important;padding:0!important;overflow:hidden!important}[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:7px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:7px;background:#dddddd}#container[_ngcontent-%COMP%]{display:flex}#container[_ngcontent-%COMP%]   #control-panel[_ngcontent-%COMP%]{height:calc(100vh - 60px);padding:10px 15px 10px 20px;box-sizing:border-box;overflow-y:auto}#container[_ngcontent-%COMP%]   #control-panel[_ngcontent-%COMP%]     .icon-button .mat-icon{font-size:22px}#container[_ngcontent-%COMP%]   #control-panel[_ngcontent-%COMP%]   #sim-control-panel[_ngcontent-%COMP%]{display:flex;justify-content:left;align-items:center;font-size:12px;height:48px;padding:0 5px 0 0}#container[_ngcontent-%COMP%]   #control-panel[_ngcontent-%COMP%]   #sim-control-panel[_ngcontent-%COMP%]   #play-btn[_ngcontent-%COMP%]{margin-right:5px}#container[_ngcontent-%COMP%]   #control-panel[_ngcontent-%COMP%]   #sim-control-panel[_ngcontent-%COMP%]   #progress[_ngcontent-%COMP%]{flex-grow:1}#container[_ngcontent-%COMP%]   #control-panel[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;height:48px}#container[_ngcontent-%COMP%]   #control-panel[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{max-width:85px;min-width:85px;text-align:left}#container[_ngcontent-%COMP%]   #control-panel[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin:0 0 0 18px;min-width:112px;max-width:112px}#container[_ngcontent-%COMP%]   #control-panel[_ngcontent-%COMP%]   .slider-field[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;height:48px}#container[_ngcontent-%COMP%]   #control-panel[_ngcontent-%COMP%]   .slider-field[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{max-width:85px;min-width:85px;text-align:left}#container[_ngcontent-%COMP%]   #control-panel[_ngcontent-%COMP%]   .slider-field[_ngcontent-%COMP%]   .mat-slider[_ngcontent-%COMP%]{margin:0 10px;min-width:128px;max-width:128px}#container[_ngcontent-%COMP%]   #control-panel[_ngcontent-%COMP%]   .checkbox-field[_ngcontent-%COMP%], #container[_ngcontent-%COMP%]   #control-panel[_ngcontent-%COMP%]   .toggle-field[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;height:48px}#container[_ngcontent-%COMP%]   #control-panel[_ngcontent-%COMP%]   .toggle-field[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{max-width:85px;min-width:85px;text-align:left}#container[_ngcontent-%COMP%]   #control-panel[_ngcontent-%COMP%]   .toggle-field[_ngcontent-%COMP%]     .mat-button-toggle{min-width:75px}#container[_ngcontent-%COMP%]   #control-panel[_ngcontent-%COMP%]   .toggle-field[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:30px}#container[_ngcontent-%COMP%]   #control-panel[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:12px;h1-font-size:20px;h1-margin-bottom:6px;p-margin:0 0 8px}"]}),i})(),qG=(()=>{class i{constructor(){this.title="magic-square-dance"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=un({type:i,selectors:[["app-root"]],decls:7,vars:0,consts:[["role","banner",1,"toolbar"],["id","logo-frame"],["src","assets/logo/favicon-32x32.png","width","32","height","32"],["role","main",1,"content"]],template:function(e,s){1&e&&(Mt(0,"div",0)(1,"div",1),Je(2,"img",2),Ot(),Mt(3,"h1"),ue(4,"Magic Square Dance"),Ot()(),Mt(5,"div",3),Je(6,"app-simulator"),Ot())},directives:[JG],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;text-align:center}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%]{margin:0!important;padding:0!important;overflow:hidden!important}[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:7px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:7px;background:#dddddd}.toolbar[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;right:0;height:60px;padding:5px 12px;background-color:#3f51b5;box-sizing:border-box;align-items:center}.toolbar[_ngcontent-%COMP%]   #logo-frame[_ngcontent-%COMP%]{background-color:#0006a35e;width:44px;height:44px;display:flex;justify-content:center;align-items:center;border-radius:50%;box-sizing:border-box;margin-right:11px;line-height:44px}.toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:22px;margin:0;color:#fff}.content[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;top:60px;height:calc(100vh - 60px)}@media screen and (max-width: 767px){.card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]:not(.highlight-card){height:16px;margin:8px 0}.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:72px}svg#rocket-smoke[_ngcontent-%COMP%]{right:120px;transform:rotate(-5deg)}}@media screen and (max-width: 575px){svg#rocket-smoke[_ngcontent-%COMP%]{display:none;visibility:hidden}}"]}),i})(),_G=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=ge({type:i,bootstrap:[qG]}),i.\u0275inj=pe({providers:[],imports:[[g0,gN,yI,OB,Xd,CV,wV,VV,WV,D2,IG]]}),i})();(function Qb(){Mx=!1})(),oO().bootstrapModule(_G).catch(i=>console.error(i))},472:ee=>{window,ee.exports=function(C){var F={};function n(l){if(F[l])return F[l].exports;var g=F[l]={i:l,l:!1,exports:{}};return C[l].call(g.exports,g,g.exports,n),g.l=!0,g.exports}return n.m=C,n.c=F,n.d=function(l,g,f){n.o(l,g)||Object.defineProperty(l,g,{enumerable:!0,get:f})},n.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},n.t=function(l,g){if(1&g&&(l=n(l)),8&g||4&g&&"object"==typeof l&&l&&l.__esModule)return l;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:l}),2&g&&"string"!=typeof l)for(var u in l)n.d(f,u,function(h){return l[h]}.bind(null,u));return f},n.n=function(l){var g=l&&l.__esModule?function(){return l.default}:function(){return l};return n.d(g,"a",g),g},n.o=function(l,g){return Object.prototype.hasOwnProperty.call(l,g)},n.p="",n(n.s=1497)}([function(C,F){function l(o,a,d){var r=d?o[a]:Object.getOwnPropertyDescriptor(o,a);return!d&&r.value&&"object"==typeof r.value&&(r=r.value),!(!r||!function n(o){return!!o.get&&"function"==typeof o.get||!!o.set&&"function"==typeof o.set}(r))&&(void 0===r.enumerable&&(r.enumerable=!0),void 0===r.configurable&&(r.configurable=!0),r)}function g(o,a){var d=Object.getOwnPropertyDescriptor(o,a);return!!d&&(d.value&&"object"==typeof d.value&&(d=d.value),!1===d.configurable)}function f(o,a,d,r){for(var c in a)if(a.hasOwnProperty(c)){var p=l(a,c,d);if(!1!==p){if(g((r||o).prototype,c)){if(h.ignoreFinals)continue;throw new Error("cannot override final property '"+c+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(o.prototype,c,p)}else o.prototype[c]=a[c]}}function u(o,a){if(a){Array.isArray(a)||(a=[a]);for(var d=0;d<a.length;d++)f(o,a[d].prototype||a[d])}}function h(o){var a,d;if(o||(o={}),o.initialize){if("function"!=typeof o.initialize)throw new Error("initialize must be a function");a=o.initialize,delete o.initialize}else if(o.Extends){var r=o.Extends;a=function(){r.apply(this,arguments)}}else a=function(){};o.Extends?(a.prototype=Object.create(o.Extends.prototype),a.prototype.constructor=a,d=o.Extends,delete o.Extends):a.prototype.constructor=a;var c=null;return o.Mixins&&(c=o.Mixins,delete o.Mixins),u(a,c),f(a,o,!0,d),a}h.extend=f,h.mixin=u,h.ignoreFinals=!1,C.exports=h},function(C,F){C.exports=function(){}},function(C,F){C.exports=function(l,g,f){var u=typeof l;return l&&"number"!==u&&"string"!==u&&l.hasOwnProperty(g)&&void 0!==l[g]?l[g]:f}},function(C,F,n){var l=n(0),g=n(123),f=new l({initialize:function(h,o){this.x=0,this.y=0,"object"==typeof h?(this.x=h.x||0,this.y=h.y||0):(void 0===o&&(o=h),this.x=h||0,this.y=o||0)},clone:function(){return new f(this.x,this.y)},copy:function(u){return this.x=u.x||0,this.y=u.y||0,this},setFromObject:function(u){return this.x=u.x||0,this.y=u.y||0,this},set:function(u,h){return void 0===h&&(h=u),this.x=u,this.y=h,this},setTo:function(u,h){return this.set(u,h)},setToPolar:function(u,h){return null==h&&(h=1),this.x=Math.cos(u)*h,this.y=Math.sin(u)*h,this},equals:function(u){return this.x===u.x&&this.y===u.y},fuzzyEquals:function(u,h){return g(this.x,u.x,h)&&g(this.y,u.y,h)},angle:function(){var u=Math.atan2(this.y,this.x);return u<0&&(u+=2*Math.PI),u},setAngle:function(u){return this.setToPolar(u,this.length())},add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.x-=u.x,this.y-=u.y,this},multiply:function(u){return this.x*=u.x,this.y*=u.y,this},scale:function(u){return isFinite(u)?(this.x*=u,this.y*=u):(this.x=0,this.y=0),this},divide:function(u){return this.x/=u.x,this.y/=u.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(u){var h=u.x-this.x,o=u.y-this.y;return Math.sqrt(h*h+o*o)},distanceSq:function(u){var h=u.x-this.x,o=u.y-this.y;return h*h+o*o},length:function(){var u=this.x,h=this.y;return Math.sqrt(u*u+h*h)},setLength:function(u){return this.normalize().scale(u)},lengthSq:function(){var u=this.x,h=this.y;return u*u+h*h},normalize:function(){var u=this.x,h=this.y,o=u*u+h*h;return o>0&&(o=1/Math.sqrt(o),this.x=u*o,this.y=h*o),this},normalizeRightHand:function(){var u=this.x;return this.x=-1*this.y,this.y=u,this},normalizeLeftHand:function(){var u=this.x;return this.x=this.y,this.y=-1*u,this},dot:function(u){return this.x*u.x+this.y*u.y},cross:function(u){return this.x*u.y-this.y*u.x},lerp:function(u,h){void 0===h&&(h=0);var o=this.x,a=this.y;return this.x=o+h*(u.x-o),this.y=a+h*(u.y-a),this},transformMat3:function(u){var h=this.x,o=this.y,a=u.val;return this.x=a[0]*h+a[3]*o+a[6],this.y=a[1]*h+a[4]*o+a[7],this},transformMat4:function(u){var h=this.x,o=this.y,a=u.val;return this.x=a[0]*h+a[4]*o+a[12],this.y=a[1]*h+a[5]*o+a[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(u){var h=this.length();return h&&h>u&&this.scale(u/h),this},reflect:function(u){return u=u.clone().normalize(),this.subtract(u.scale(2*this.dot(u)))},mirror:function(u){return this.reflect(u).negate()},rotate:function(u){var h=Math.cos(u),o=Math.sin(u);return this.set(h*this.x-o*this.y,o*this.x+h*this.y)}});f.ZERO=new f,f.RIGHT=new f(1,0),f.LEFT=new f(-1,0),f.UP=new f(0,-1),f.DOWN=new f(0,1),f.ONE=new f(1,1),C.exports=f},function(C,F,n){var l=n(0),g=n(55),f=new l({initialize:function(h,o){void 0===h&&(h=0),void 0===o&&(o=h),this.type=g.POINT,this.x=h,this.y=o},setTo:function(u,h){return void 0===u&&(u=0),void 0===h&&(h=u),this.x=u,this.y=h,this}});C.exports=f},function(C,F,n){var l=n(0),g=n(24),f=n(21),u=new l({initialize:function(o){this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},existing:function(h){return(h.renderCanvas||h.renderWebGL)&&this.displayList.add(h),h.preUpdate&&this.updateList.add(h),h},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});u.register=function(h,o){u.prototype.hasOwnProperty(h)||(u.prototype[h]=o)},u.remove=function(h){u.prototype.hasOwnProperty(h)&&delete u.prototype[h]},g.register("GameObjectFactory",u,"add"),C.exports=u},function(C,F){C.exports=function(l,g,f){if(!l||"number"==typeof l)return f;if(l.hasOwnProperty(g))return l[g];if(-1!==g.indexOf(".")){for(var u=g.split("."),h=l,o=f,a=0;a<u.length;a++){if(!h.hasOwnProperty(u[a])){o=f;break}o=h[u[a]],h=h[u[a]]}return o}return f}},function(C,F){C.exports=function(l){if("object"!=typeof l||l.nodeType||l===l.window)return!1;try{if(l.constructor&&!{}.hasOwnProperty.call(l.constructor.prototype,"isPrototypeOf"))return!1}catch(g){return!1}return!0}},function(C,F){var n={};C.exports={install:function(g){for(var f in n)g[f]=n[f]},register:function(g,f){n[g]=f},destroy:function(){n={}}}},function(C,F,n){"use strict";var l=Object.prototype.hasOwnProperty,g="~";function f(){}function u(d,r,c){this.fn=d,this.context=r,this.once=c||!1}function h(d,r,c,p,m){if("function"!=typeof c)throw new TypeError("The listener must be a function");var v=new u(c,p||d,m),x=g?g+r:r;return d._events[x]?d._events[x].fn?d._events[x]=[d._events[x],v]:d._events[x].push(v):(d._events[x]=v,d._eventsCount++),d}function o(d,r){0==--d._eventsCount?d._events=new f:delete d._events[r]}function a(){this._events=new f,this._eventsCount=0}Object.create&&(f.prototype=Object.create(null),(new f).__proto__||(g=!1)),a.prototype.eventNames=function(){var c,p,r=[];if(0===this._eventsCount)return r;for(p in c=this._events)l.call(c,p)&&r.push(g?p.slice(1):p);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(c)):r},a.prototype.listeners=function(r){var p=this._events[g?g+r:r];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,v=p.length,x=new Array(v);m<v;m++)x[m]=p[m].fn;return x},a.prototype.listenerCount=function(r){var p=this._events[g?g+r:r];return p?p.fn?1:p.length:0},a.prototype.emit=function(r,c,p,m,v,x){var T=g?g+r:r;if(!this._events[T])return!1;var S,P,E=this._events[T],M=arguments.length;if(E.fn){switch(E.once&&this.removeListener(r,E.fn,void 0,!0),M){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,c),!0;case 3:return E.fn.call(E.context,c,p),!0;case 4:return E.fn.call(E.context,c,p,m),!0;case 5:return E.fn.call(E.context,c,p,m,v),!0;case 6:return E.fn.call(E.context,c,p,m,v,x),!0}for(P=1,S=new Array(M-1);P<M;P++)S[P-1]=arguments[P];E.fn.apply(E.context,S)}else{var w,R=E.length;for(P=0;P<R;P++)switch(E[P].once&&this.removeListener(r,E[P].fn,void 0,!0),M){case 1:E[P].fn.call(E[P].context);break;case 2:E[P].fn.call(E[P].context,c);break;case 3:E[P].fn.call(E[P].context,c,p);break;case 4:E[P].fn.call(E[P].context,c,p,m);break;default:if(!S)for(w=1,S=new Array(M-1);w<M;w++)S[w-1]=arguments[w];E[P].fn.apply(E[P].context,S)}}return!0},a.prototype.on=function(r,c,p){return h(this,r,c,p,!1)},a.prototype.once=function(r,c,p){return h(this,r,c,p,!0)},a.prototype.removeListener=function(r,c,p,m){var v=g?g+r:r;if(!this._events[v])return this;if(!c)return o(this,v),this;var x=this._events[v];if(x.fn)x.fn===c&&(!m||x.once)&&(!p||x.context===p)&&o(this,v);else{for(var T=0,E=[],M=x.length;T<M;T++)(x[T].fn!==c||m&&!x[T].once||p&&x[T].context!==p)&&E.push(x[T]);E.length?this._events[v]=1===E.length?E[0]:E:o(this,v)}return this},a.prototype.removeAllListeners=function(r){var c;return r?this._events[c=g?g+r:r]&&o(this,c):(this._events=new f,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=g,a.EventEmitter=a,C.exports=a},function(C,F,n){var l=n(0),g=n(56),f=n(167),u=n(300),h=n(55),o=n(45),a=n(170),d=new l({initialize:function(c,p,m,v){void 0===c&&(c=0),void 0===p&&(p=0),void 0===m&&(m=0),void 0===v&&(v=0),this.type=h.RECTANGLE,this.x=c,this.y=p,this.width=m,this.height=v},contains:function(r,c){return g(this,r,c)},getPoint:function(r,c){return f(this,r,c)},getPoints:function(r,c,p){return u(this,r,c,p)},getRandomPoint:function(r){return a(this,r)},setTo:function(r,c,p,m){return this.x=r,this.y=c,this.width=p,this.height=m,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(r,c){return void 0===c&&(c=r),this.x=r,this.y=c,this},setSize:function(r,c){return void 0===c&&(c=r),this.width=r,this.height=c,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(r){return void 0===r&&(r=new o),r.setTo(this.x,this.y,this.right,this.y),r},getLineB:function(r){return void 0===r&&(r=new o),r.setTo(this.right,this.y,this.right,this.bottom),r},getLineC:function(r){return void 0===r&&(r=new o),r.setTo(this.right,this.bottom,this.x,this.bottom),r},getLineD:function(r){return void 0===r&&(r=new o),r.setTo(this.x,this.bottom,this.x,this.y),r},left:{get:function(){return this.x},set:function(r){this.width=r>=this.right?0:this.right-r,this.x=r}},right:{get:function(){return this.x+this.width},set:function(r){this.width=r<=this.x?0:r-this.x}},top:{get:function(){return this.y},set:function(r){this.height=r>=this.bottom?0:this.bottom-r,this.y=r}},bottom:{get:function(){return this.y+this.height},set:function(r){this.height=r<=this.y?0:r-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(r){this.x=r-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(r){this.y=r-this.height/2}}});C.exports=d},function(C,F,n){C.exports={Alpha:n(605),AlphaSingle:n(297),BlendMode:n(298),ComputedSize:n(606),Crop:n(607),Depth:n(299),Flip:n(608),GetBounds:n(609),Mask:n(303),Origin:n(630),PathFollower:n(631),Pipeline:n(171),ScrollFactor:n(306),Size:n(632),Texture:n(633),TextureCrop:n(634),Tint:n(635),ToJSON:n(173),Transform:n(307),TransformMatrix:n(25),Visible:n(308)}},function(C,F){function n(l){for(var g="",f=0;f<l;++f)f>0&&(g+="\nelse "),f<l-1&&(g+="if(test == "+f+".0){}");return g}C.exports={getTintFromFloats:function(l,g,f,u){return((255&(255*u|0))<<24|(255&(255*l|0))<<16|(255&(255*g|0))<<8|255&(255*f|0))>>>0},getTintAppendFloatAlpha:function(l,g){return((255&(255*g|0))<<24|l)>>>0},getTintAppendFloatAlphaAndSwap:function(l,g){return((255&(255*g|0))<<24|(255&(0|l))<<16|(255&(l>>8|0))<<8|255&(l>>16|0))>>>0},getFloatsFromUintRGB:function(l){return[(255&(l>>16|0))/255,(255&(l>>8|0))/255,(255&(0|l))/255]},checkShaderMax:function(l,g){(!g||-1===g)&&(g=l.getParameter(l.MAX_TEXTURE_IMAGE_UNITS));for(var f=l.createShader(l.FRAGMENT_SHADER),u=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");;){var h=u.replace(/%forloop%/gi,n(g));if(l.shaderSource(f,h),l.compileShader(f),l.getShaderParameter(f,l.COMPILE_STATUS))break;g=g/2|0}return g},parseFragmentShaderMaxTextures:function(l,g){if(!l)return"";for(var f="",u=0;u<g;u++)u>0&&(f+="\n\telse "),u<g-1&&(f+="if (outTexId < "+u+".5)"),f+="\n\t{",f+="\n\t\ttexture = texture2D(uMainSampler["+u+"], outTexCoord);",f+="\n\t}";return(l=l.replace(/%count%/gi,g.toString())).replace(/%forloop%/gi,f)}}},function(C,F,n){var l=n(190),g=n(6);C.exports=function(u,h,o){var a=g(u,h,null);if(null===a)return o;if(Array.isArray(a))return l.RND.pick(a);if("object"==typeof a){if(a.hasOwnProperty("randInt"))return l.RND.integerInRange(a.randInt[0],a.randInt[1]);if(a.hasOwnProperty("randFloat"))return l.RND.realInRange(a.randFloat[0],a.randFloat[1])}else if("function"==typeof a)return a(h);return a}},function(C,F){var n={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};C.exports=n},function(C,F,n){var l=n(0),g=n(173),f=n(98),u=n(9),h=n(75),o=new l({Extends:u,initialize:function(d,r){u.call(this),this.scene=d,this.displayList=null,this.type=r,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(h.ADDED_TO_SCENE,this.addedToScene,this),this.on(h.REMOVED_FROM_SCENE,this.removedFromScene,this),d.sys.queueDepthSort()},setActive:function(a){return this.active=a,this},setName:function(a){return this.name=a,this},setState:function(a){return this.state=a,this},setDataEnabled:function(){return this.data||(this.data=new f(this)),this},setData:function(a,d){return this.data||(this.data=new f(this)),this.data.set(a,d),this},incData:function(a,d){return this.data||(this.data=new f(this)),this.data.inc(a,d),this},toggleData:function(a){return this.data||(this.data=new f(this)),this.data.toggle(a),this},getData:function(a){return this.data||(this.data=new f(this)),this.data.get(a)},setInteractive:function(a,d,r){return this.scene.sys.input.enable(this,a,d,r),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return g(this)},willRender:function(a){return!(o.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&a.id)},getIndexList:function(){for(var a=this,d=this.parentContainer,r=[];d&&(r.unshift(d.getIndex(a)),a=d,d.parentContainer);)d=d.parentContainer;return r.unshift(this.scene.sys.displayList.getIndex(a)),r},destroy:function(){!this.scene||this.ignoreDestroy||(this.preDestroy&&this.preDestroy.call(this),this.emit(h.DESTROY,this),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.displayList&&(this.displayList.queueDepthSort(),this.displayList.remove(this)),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.displayList=void 0,this.parentContainer=void 0)}});o.RENDER_MASK=15,C.exports=o},function(C,F,n){var l=n(0),g=n(24),f=n(21),u=new l({initialize:function(o){this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});u.register=function(h,o){u.prototype.hasOwnProperty(h)||(u.prototype[h]=o)},u.remove=function(h){u.prototype.hasOwnProperty(h)&&delete u.prototype[h]},g.register("GameObjectCreator",u,"make"),C.exports=u},function(C,F,n){var l=n(7),g=function(){var f,u,h,o,a,d,r=arguments[0]||{},c=1,p=arguments.length,m=!1;for("boolean"==typeof r&&(m=r,r=arguments[1]||{},c=2),p===c&&(r=this,--c);c<p;c++)if(null!=(f=arguments[c]))for(u in f)h=r[u],r!==(o=f[u])&&(m&&o&&(l(o)||(a=Array.isArray(o)))?(a?(a=!1,d=h&&Array.isArray(h)?h:[]):d=h&&l(h)?h:{},r[u]=g(m,d,o)):void 0!==o&&(r[u]=o));return r};C.exports=g},function(C,F){C.exports=function(l,g,f){return Math.max(g,Math.min(f,l))}},function(C,F,n){var l=n(25),g=new l,f=new l,u=new l,h={camera:g,sprite:f,calc:u};C.exports=function(a,d,r){var c=g,p=f,m=u;return p.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),c.copyFrom(d.matrix),r?(c.multiplyWithOffset(r,-d.scrollX*a.scrollFactorX,-d.scrollY*a.scrollFactorY),p.e=a.x,p.f=a.y):(p.e-=d.scrollX*a.scrollFactorX,p.f-=d.scrollY*a.scrollFactorY),c.multiply(p,m),h}},function(C,F){C.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19}},function(C,F,n){C.exports={ADDED_TO_SCENE:n(782),BOOT:n(783),CREATE:n(784),DESTROY:n(785),PAUSE:n(786),POST_UPDATE:n(787),PRE_UPDATE:n(788),READY:n(789),REMOVED_FROM_SCENE:n(790),RENDER:n(791),RESUME:n(792),SHUTDOWN:n(793),SLEEP:n(794),START:n(795),TRANSITION_COMPLETE:n(796),TRANSITION_INIT:n(797),TRANSITION_OUT:n(798),TRANSITION_START:n(799),TRANSITION_WAKE:n(800),UPDATE:n(801),WAKE:n(802)}},function(C,F,n){C.exports={BLUR:n(610),BOOT:n(611),CONTEXT_LOST:n(612),CONTEXT_RESTORED:n(613),DESTROY:n(614),FOCUS:n(615),HIDDEN:n(616),PAUSE:n(617),POST_RENDER:n(618),POST_STEP:n(619),PRE_RENDER:n(620),PRE_STEP:n(621),READY:n(622),RESUME:n(623),STEP:n(624),VISIBLE:n(625)}},function(C,F,n){var l=n(0),g=n(20),f=n(91),u=n(2),h=n(153),o=n(237),a=n(511),d=n(154),r=new l({initialize:function(p,m){this.loader=p,this.cache=u(m,"cache",!1),this.type=u(m,"type",!1),this.key=u(m,"key",!1);var v=this.key;if(p.prefix&&""!==p.prefix&&(this.key=p.prefix+v),!this.type||!this.key)throw new Error("Invalid Loader."+this.type+" key");var x=u(m,"url");void 0===x?x=p.path+v+"."+u(m,"extension",""):"string"==typeof x&&!x.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)&&(x=p.path+x),this.url=x,this.src="",this.xhrSettings=d(u(m,"responseType",void 0)),u(m,"xhrSettings",!1)&&(this.xhrSettings=o(this.xhrSettings,u(m,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"==typeof this.url?g.FILE_POPULATED:g.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=u(m,"config",{})},setLink:function(c){this.linkFile=c,c.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===g.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=g.FILE_LOADING,this.src=h(this,this.loader.baseURL),0===this.src.indexOf("data:")?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=a(this,this.loader.xhr))},onLoad:function(c,p){var m=c.responseURL&&0===c.responseURL.indexOf("file://")&&0===p.target.status,v=!(p.target&&200!==p.target.status)||m;4===c.readyState&&c.status>=400&&c.status<=599&&(v=!1),this.state=g.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,v)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(c){c.lengthComputable&&(this.bytesLoaded=c.loaded,this.bytesTotal=c.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=g.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=g.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=g.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(c){void 0===c&&(c=this.data);var p=this.key,m=this.type;this.loader.emit(f.FILE_COMPLETE,p,m,c),this.loader.emit(f.FILE_KEY_COMPLETE+m+"-"+p,p,m,c),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});r.createObjectURL=function(c,p,m){if("function"==typeof URL)c.src=URL.createObjectURL(p);else{var v=new FileReader;v.onload=function(){c.removeAttribute("crossOrigin"),c.src="data:"+(p.type||m)+";base64,"+v.result.split(",")[1]},v.onerror=c.onerror,v.readAsDataURL(p)}},r.revokeObjectURL=function(c){"function"==typeof URL&&URL.revokeObjectURL(c.src)},C.exports=r},function(C,F){var n={},l={};C.exports={register:function(f,u,h,o){void 0===o&&(o=!1),n[f]={plugin:u,mapping:h,custom:o}},registerCustom:function(f,u,h,o){l[f]={plugin:u,mapping:h,data:o}},hasCore:function(f){return n.hasOwnProperty(f)},hasCustom:function(f){return l.hasOwnProperty(f)},getCore:function(f){return n[f]},getCustom:function(f){return l[f]},getCustomClass:function(f){return l.hasOwnProperty(f)?l[f].plugin:null},remove:function(f){n.hasOwnProperty(f)&&delete n[f]},removeCustom:function(f){l.hasOwnProperty(f)&&delete l[f]},destroyCorePlugins:function(){for(var f in n)n.hasOwnProperty(f)&&delete n[f]},destroyCustomPlugins:function(){for(var f in l)l.hasOwnProperty(f)&&delete l[f]}}},function(C,F,n){var l=n(0),g=n(14),f=n(3),u=new l({initialize:function(o,a,d,r,c,p){void 0===o&&(o=1),void 0===a&&(a=0),void 0===d&&(d=0),void 0===r&&(r=1),void 0===c&&(c=0),void 0===p&&(p=0),this.matrix=new Float32Array([o,a,d,r,c,p,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(h){this.matrix[0]=h}},b:{get:function(){return this.matrix[1]},set:function(h){this.matrix[1]=h}},c:{get:function(){return this.matrix[2]},set:function(h){this.matrix[2]=h}},d:{get:function(){return this.matrix[3]},set:function(h){this.matrix[3]=h}},e:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},f:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},tx:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},ty:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var h=this.matrix,o=h[0],a=h[1],d=h[2],r=h[3];return o||a?a>0?Math.acos(o/this.scaleX):-Math.acos(o/this.scaleX):d||r?g.TAU-(r>0?Math.acos(-d/this.scaleY):-Math.acos(d/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var h=this.matrix;return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,this},translate:function(h,o){var a=this.matrix;return a[4]=a[0]*h+a[2]*o+a[4],a[5]=a[1]*h+a[3]*o+a[5],this},scale:function(h,o){var a=this.matrix;return a[0]*=h,a[1]*=h,a[2]*=o,a[3]*=o,this},rotate:function(h){var o=Math.sin(h),a=Math.cos(h),d=this.matrix,r=d[0],c=d[1],p=d[2],m=d[3];return d[0]=r*a+p*o,d[1]=c*a+m*o,d[2]=r*-o+p*a,d[3]=c*-o+m*a,this},multiply:function(h,o){var a=this.matrix,d=h.matrix,r=a[0],c=a[1],p=a[2],m=a[3],v=a[4],x=a[5],T=d[0],E=d[1],M=d[2],S=d[3],P=d[4],R=d[5],w=void 0===o?this:o;return w.a=T*r+E*p,w.b=T*c+E*m,w.c=M*r+S*p,w.d=M*c+S*m,w.e=P*r+R*p+v,w.f=P*c+R*m+x,w},multiplyWithOffset:function(h,o,a){var d=this.matrix,r=h.matrix,c=d[0],p=d[1],m=d[2],v=d[3],E=o*c+a*m+d[4],M=o*p+a*v+d[5],S=r[0],P=r[1],R=r[2],w=r[3],L=r[4],I=r[5];return d[0]=S*c+P*m,d[1]=S*p+P*v,d[2]=R*c+w*m,d[3]=R*p+w*v,d[4]=L*c+I*m+E,d[5]=L*p+I*v+M,this},transform:function(h,o,a,d,r,c){var p=this.matrix,m=p[0],v=p[1],x=p[2],T=p[3],E=p[4],M=p[5];return p[0]=h*m+o*x,p[1]=h*v+o*T,p[2]=a*m+d*x,p[3]=a*v+d*T,p[4]=r*m+c*x+E,p[5]=r*v+c*T+M,this},transformPoint:function(h,o,a){void 0===a&&(a={x:0,y:0});var d=this.matrix,c=d[1],m=d[3],x=d[5];return a.x=h*d[0]+o*d[2]+d[4],a.y=h*c+o*m+x,a},invert:function(){var h=this.matrix,o=h[0],a=h[1],d=h[2],r=h[3],c=h[4],p=h[5],m=o*r-a*d;return h[0]=r/m,h[1]=-a/m,h[2]=-d/m,h[3]=o/m,h[4]=(d*p-r*c)/m,h[5]=-(o*p-a*c)/m,this},copyFrom:function(h){var o=this.matrix;return o[0]=h.a,o[1]=h.b,o[2]=h.c,o[3]=h.d,o[4]=h.e,o[5]=h.f,this},copyFromArray:function(h){var o=this.matrix;return o[0]=h[0],o[1]=h[1],o[2]=h[2],o[3]=h[3],o[4]=h[4],o[5]=h[5],this},copyToContext:function(h){var o=this.matrix;return h.transform(o[0],o[1],o[2],o[3],o[4],o[5]),h},setToContext:function(h){var o=this.matrix;return h.setTransform(o[0],o[1],o[2],o[3],o[4],o[5]),h},copyToArray:function(h){var o=this.matrix;return void 0===h?h=[o[0],o[1],o[2],o[3],o[4],o[5]]:(h[0]=o[0],h[1]=o[1],h[2]=o[2],h[3]=o[3],h[4]=o[4],h[5]=o[5]),h},setTransform:function(h,o,a,d,r,c){var p=this.matrix;return p[0]=h,p[1]=o,p[2]=a,p[3]=d,p[4]=r,p[5]=c,this},decomposeMatrix:function(){var h=this.decomposedMatrix,o=this.matrix,a=o[0],d=o[1],r=o[2],c=o[3],p=a*c-d*r;if(h.translateX=o[4],h.translateY=o[5],a||d){var m=Math.sqrt(a*a+d*d);h.rotation=d>0?Math.acos(a/m):-Math.acos(a/m),h.scaleX=m,h.scaleY=p/m}else if(r||c){var v=Math.sqrt(r*r+c*c);h.rotation=.5*Math.PI-(c>0?Math.acos(-r/v):-Math.acos(r/v)),h.scaleX=p/v,h.scaleY=v}else h.rotation=0,h.scaleX=0,h.scaleY=0;return h},applyITRS:function(h,o,a,d,r){var c=this.matrix,p=Math.sin(a),m=Math.cos(a);return c[4]=h,c[5]=o,c[0]=m*d,c[1]=p*d,c[2]=-p*r,c[3]=m*r,this},applyInverse:function(h,o,a){void 0===a&&(a=new f);var d=this.matrix,r=d[0],c=d[1],p=d[2],m=d[3],v=d[4],x=d[5],T=1/(r*m+p*-c);return a.x=m*T*h+-p*T*o+(x*p-v*m)*T,a.y=r*T*o+-c*T*h+(-x*r+v*c)*T,a},getX:function(h,o){return h*this.a+o*this.c+this.e},getY:function(h,o){return h*this.b+o*this.d+this.f},getXRound:function(h,o,a){var d=this.getX(h,o);return a&&(d=Math.round(d)),d},getYRound:function(h,o,a){var d=this.getY(h,o);return a&&(d=Math.round(d)),d},getCSSMatrix:function(){var h=this.matrix;return"matrix("+h[0]+","+h[1]+","+h[2]+","+h[3]+","+h[4]+","+h[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});C.exports=u},function(C,F,n){var l=n(2);C.exports=function(f,u,h,o,a,d){void 0===f&&(f=0),void 0===u&&(u=0),void 0===h&&(h=d.width),void 0===o&&(o=d.height),a||(a={});var r=l(a,"isNotEmpty",!1),c=l(a,"isColliding",!1),p=l(a,"hasInterestingFace",!1);f<0&&(h+=f,f=0),u<0&&(o+=u,u=0),f+h>d.width&&(h=Math.max(d.width-f,0)),u+o>d.height&&(o=Math.max(d.height-u,0));for(var m=[],v=u;v<u+o;v++)for(var x=f;x<f+h;x++){var T=d.data[v][x];if(null!==T){if(r&&-1===T.index||c&&!T.collides||p&&!T.hasInterestingFace)continue;m.push(T)}}return m}},function(C,F){C.exports=function(l,g,f,u,h,o){void 0===u&&(u=0),void 0===h&&(h=0),void 0===o&&(o=1);var a,d=0,r=l.length;if(1===o)for(a=h;a<r;a++)l[a][g]=f+d*u,d++;else for(a=h;a>=0;a--)l[a][g]=f+d*u,d++;return l}},function(C,F,n){var l=n(33),g=n(13);C.exports=function(u,h,o){h.x=g(o,"x",0),h.y=g(o,"y",0),h.depth=g(o,"depth",0),h.flipX=g(o,"flipX",!1),h.flipY=g(o,"flipY",!1);var a=g(o,"scale",null);"number"==typeof a?h.setScale(a):null!==a&&(h.scaleX=g(a,"x",1),h.scaleY=g(a,"y",1));var d=g(o,"scrollFactor",null);"number"==typeof d?h.setScrollFactor(d):null!==d&&(h.scrollFactorX=g(d,"x",1),h.scrollFactorY=g(d,"y",1)),h.rotation=g(o,"rotation",0);var r=g(o,"angle",null);null!==r&&(h.angle=r),h.alpha=g(o,"alpha",1);var c=g(o,"origin",null);if("number"==typeof c)h.setOrigin(c);else if(null!==c){var p=g(c,"x",.5),m=g(c,"y",.5);h.setOrigin(p,m)}return h.blendMode=g(o,"blendMode",l.NORMAL),h.visible=g(o,"visible",!0),g(o,"add",!0)&&u.sys.displayList.add(h),h.preUpdate&&u.sys.updateList.add(h),h}},function(C,F){C.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},function(C,F,n){var l=n(19);C.exports=function(f,u,h,o,a){var d=o.alpha*h.alpha;if(d<=0)return!1;var r=l(h,o,a).calc;return u.globalCompositeOperation=f.blendModes[h.blendMode],u.globalAlpha=d,u.save(),r.setToContext(u),u.imageSmoothingEnabled=!(!f.antialias||h.frame&&h.frame.source.scaleMode),!0}},function(C,F,n){var o,d,r,c,p,l=n(39),g=n(189),f=[],u=!1;C.exports=(d=function(T,E,M){return o(T,E,M,l.WEBGL)},c=function(T){var E=T instanceof HTMLCanvasElement;f.forEach(function(M){(E&&M.canvas===T||!E&&M.parent===T)&&(M.parent=null,M.canvas.width=1,M.canvas.height=1)})},p=function(){var T=0;return f.forEach(function(E){E.parent&&T++}),T},{create2D:function(T,E,M){return o(T,E,M,l.CANVAS)},create:o=function(T,E,M,S,P){void 0===E&&(E=1),void 0===M&&(M=1),void 0===S&&(S=l.CANVAS),void 0===P&&(P=!1);var R,w=r(S);return null===w?(w={parent:T,canvas:document.createElement("canvas"),type:S},S===l.CANVAS&&f.push(w),R=w.canvas):(w.parent=T,R=w.canvas),P&&(w.parent=R),R.width=E,R.height=M,u&&S===l.CANVAS&&g.disable(R.getContext("2d")),R},createWebGL:d,disableSmoothing:function(){u=!0},enableSmoothing:function(){u=!1},first:r=function(T){if(void 0===T&&(T=l.CANVAS),T===l.WEBGL)return null;for(var E=0;E<f.length;E++){var M=f[E];if(!M.parent&&M.type===T)return M}return null},free:function(){return f.length-p()},pool:f,remove:c,total:p})},function(C,F,n){var l=n(0),g=n(11),f=n(15),u=n(45),h=n(65),o=new l({Extends:f,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.ScrollFactor,g.Transform,g.Visible],initialize:function(d,r,c){void 0===r&&(r="Shape"),f.call(this,d,r),this.geom=c,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new u,this.width=0,this.height=0,this.initPipeline(h.GRAPHICS_PIPELINE)},setFillStyle:function(a,d){return void 0===d&&(d=1),void 0===a?this.isFilled=!1:(this.fillColor=a,this.fillAlpha=d,this.isFilled=!0),this},setStrokeStyle:function(a,d,r){return void 0===r&&(r=1),void 0===a?this.isStroked=!1:(this.lineWidth=a,this.strokeColor=d,this.strokeAlpha=r,this.isStroked=!0),this},setClosePath:function(a){return this.closePath=a,this},setSize:function(a,d){return this.width=a,this.height=d,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(a){this.scaleX=a/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(a){this.scaleY=a/this.height}}});C.exports=o},function(C,F){C.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(C,F,n){var l=n(14);C.exports=function(f){return f*l.DEG_TO_RAD}},function(C,F,n){C.exports={DESTROY:n(719),FADE_IN_COMPLETE:n(720),FADE_IN_START:n(721),FADE_OUT_COMPLETE:n(722),FADE_OUT_START:n(723),FLASH_COMPLETE:n(724),FLASH_START:n(725),FOLLOW_UPDATE:n(726),PAN_COMPLETE:n(727),PAN_START:n(728),POST_RENDER:n(729),PRE_RENDER:n(730),ROTATE_COMPLETE:n(731),ROTATE_START:n(732),SHAKE_COMPLETE:n(733),SHAKE_START:n(734),ZOOM_COMPLETE:n(735),ZOOM_START:n(736)}},function(C,F,n){var l=n(0),g=n(100),f=n(322),u=n(185),h=n(323),o=new l({initialize:function(d,r,c,p){void 0===d&&(d=0),void 0===r&&(r=0),void 0===c&&(c=0),void 0===p&&(p=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(d,r,c,p)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(a,d,r,c,p){return void 0===c&&(c=255),void 0===p&&(p=!0),this._locked=!0,this.red=a,this.green=d,this.blue=r,this.alpha=c,this._locked=!1,this.update(p)},setGLTo:function(a,d,r,c){return void 0===c&&(c=1),this._locked=!0,this.redGL=a,this.greenGL=d,this.blueGL=r,this.alphaGL=c,this._locked=!1,this.update(!0)},setFromRGB:function(a){return this._locked=!0,this.red=a.r,this.green=a.g,this.blue=a.b,a.hasOwnProperty("a")&&(this.alpha=a.a),this._locked=!1,this.update(!0)},setFromHSV:function(a,d,r){return u(a,d,r,this)},update:function(a){if(void 0===a&&(a=!1),this._locked)return this;var d=this.r,r=this.g,c=this.b,p=this.a;return this._color=g(d,r,c),this._color32=f(d,r,c,p),this._rgba="rgba("+d+","+r+","+c+","+p/255+")",a&&h(d,r,c,this),this},updateHSV:function(){return h(this.r,this.g,this.b,this),this},clone:function(){return new o(this.r,this.g,this.b,this.a)},gray:function(a){return this.setTo(a,a,a)},random:function(a,d){void 0===a&&(a=0),void 0===d&&(d=255);var r=Math.floor(a+Math.random()*(d-a)),c=Math.floor(a+Math.random()*(d-a)),p=Math.floor(a+Math.random()*(d-a));return this.setTo(r,c,p)},randomGray:function(a,d){void 0===a&&(a=0),void 0===d&&(d=255);var r=Math.floor(a+Math.random()*(d-a));return this.setTo(r,r,r)},saturate:function(a){return this.s+=a/100,this},desaturate:function(a){return this.s-=a/100,this},lighten:function(a){return this.v+=a/100,this},darken:function(a){return this.v-=a/100,this},brighten:function(a){var d=this.r,r=this.g,c=this.b;return d=Math.max(0,Math.min(255,d-Math.round(-a/100*255))),r=Math.max(0,Math.min(255,r-Math.round(-a/100*255))),c=Math.max(0,Math.min(255,c-Math.round(-a/100*255))),this.setTo(d,r,c)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(a){this.gl[0]=Math.min(Math.abs(a),1),this.r=Math.floor(255*this.gl[0]),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(a){this.gl[1]=Math.min(Math.abs(a),1),this.g=Math.floor(255*this.gl[1]),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(a){this.gl[2]=Math.min(Math.abs(a),1),this.b=Math.floor(255*this.gl[2]),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(a){this.gl[3]=Math.min(Math.abs(a),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(a){a=Math.floor(Math.abs(a)),this.r=Math.min(a,255),this.gl[0]=a/255,this.update(!0)}},green:{get:function(){return this.g},set:function(a){a=Math.floor(Math.abs(a)),this.g=Math.min(a,255),this.gl[1]=a/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(a){a=Math.floor(Math.abs(a)),this.b=Math.min(a,255),this.gl[2]=a/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(a){a=Math.floor(Math.abs(a)),this.a=Math.min(a,255),this.gl[3]=a/255,this.update()}},h:{get:function(){return this._h},set:function(a){this._h=a,u(a,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(a){this._s=a,u(this._h,a,this._v,this)}},v:{get:function(){return this._v},set:function(a){this._v=a,u(this._h,this._s,a,this)}}});C.exports=o},function(C,F,n){var g=new(n(0))({initialize:function(u,h,o){this.x=0,this.y=0,this.z=0,"object"==typeof u?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0):(this.x=u||0,this.y=h||0,this.z=o||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(f){return this.x=Math.min(this.x,f.x),this.y=Math.min(this.y,f.y),this.z=Math.min(this.z,f.z),this},max:function(f){return this.x=Math.max(this.x,f.x),this.y=Math.max(this.y,f.y),this.z=Math.max(this.z,f.z),this},clone:function(){return new g(this.x,this.y,this.z)},addVectors:function(f,u){return this.x=f.x+u.x,this.y=f.y+u.y,this.z=f.z+u.z,this},crossVectors:function(f,u){var h=f.x,o=f.y,a=f.z,d=u.x,r=u.y,c=u.z;return this.x=o*c-a*r,this.y=a*d-h*c,this.z=h*r-o*d,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this},set:function(f,u,h){return"object"==typeof f?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0):(this.x=f||0,this.y=u||0,this.z=h||0),this},setFromMatrixPosition:function(f){return this.fromArray(f.val,12)},setFromMatrixColumn:function(f,u){return this.fromArray(f.val,4*u)},fromArray:function(f,u){return void 0===u&&(u=0),this.x=f[u],this.y=f[u+1],this.z=f[u+2],this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this},addScalar:function(f){return this.x+=f,this.y+=f,this.z+=f,this},addScale:function(f,u){return this.x+=f.x*u,this.y+=f.y*u,this.z+=f.z*u||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this},scale:function(f){return isFinite(f)?(this.x*=f,this.y*=f,this.z*=f):(this.x=0,this.y=0,this.z=0),this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(f){var u=f.x-this.x,h=f.y-this.y,o=f.z-this.z||0;return Math.sqrt(u*u+h*h+o*o)},distanceSq:function(f){var u=f.x-this.x,h=f.y-this.y,o=f.z-this.z||0;return u*u+h*h+o*o},length:function(){var f=this.x,u=this.y,h=this.z;return Math.sqrt(f*f+u*u+h*h)},lengthSq:function(){var f=this.x,u=this.y,h=this.z;return f*f+u*u+h*h},normalize:function(){var f=this.x,u=this.y,h=this.z,o=f*f+u*u+h*h;return o>0&&(o=1/Math.sqrt(o),this.x=f*o,this.y=u*o,this.z=h*o),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z},cross:function(f){var u=this.x,h=this.y,o=this.z,a=f.x,d=f.y,r=f.z;return this.x=h*r-o*d,this.y=o*a-u*r,this.z=u*d-h*a,this},lerp:function(f,u){void 0===u&&(u=0);var h=this.x,o=this.y,a=this.z;return this.x=h+u*(f.x-h),this.y=o+u*(f.y-o),this.z=a+u*(f.z-a),this},applyMatrix3:function(f){var u=this.x,h=this.y,o=this.z,a=f.val;return this.x=a[0]*u+a[3]*h+a[6]*o,this.y=a[1]*u+a[4]*h+a[7]*o,this.z=a[2]*u+a[5]*h+a[8]*o,this},applyMatrix4:function(f){var u=this.x,h=this.y,o=this.z,a=f.val,d=1/(a[3]*u+a[7]*h+a[11]*o+a[15]);return this.x=(a[0]*u+a[4]*h+a[8]*o+a[12])*d,this.y=(a[1]*u+a[5]*h+a[9]*o+a[13])*d,this.z=(a[2]*u+a[6]*h+a[10]*o+a[14])*d,this},transformMat3:function(f){var u=this.x,h=this.y,o=this.z,a=f.val;return this.x=u*a[0]+h*a[3]+o*a[6],this.y=u*a[1]+h*a[4]+o*a[7],this.z=u*a[2]+h*a[5]+o*a[8],this},transformMat4:function(f){var u=this.x,h=this.y,o=this.z,a=f.val;return this.x=a[0]*u+a[4]*h+a[8]*o+a[12],this.y=a[1]*u+a[5]*h+a[9]*o+a[13],this.z=a[2]*u+a[6]*h+a[10]*o+a[14],this},transformCoordinates:function(f){var u=this.x,h=this.y,o=this.z,a=f.val,r=u*a[1]+h*a[5]+o*a[9]+a[13],c=u*a[2]+h*a[6]+o*a[10]+a[14],p=u*a[3]+h*a[7]+o*a[11]+a[15];return this.x=(u*a[0]+h*a[4]+o*a[8]+a[12])/p,this.y=r/p,this.z=c/p,this},transformQuat:function(f){var u=this.x,h=this.y,o=this.z,a=f.x,d=f.y,r=f.z,c=f.w,p=c*u+d*o-r*h,m=c*h+r*u-a*o,v=c*o+a*h-d*u,x=-a*u-d*h-r*o;return this.x=p*c+x*-a+m*-r-v*-d,this.y=m*c+x*-d+v*-a-p*-r,this.z=v*c+x*-r+p*-d-m*-a,this},project:function(f){var u=this.x,h=this.y,o=this.z,a=f.val,r=a[1],c=a[2],v=a[5],x=a[6],M=a[9],S=a[10],w=a[13],L=a[14],B=1/(u*a[3]+h*a[7]+o*a[11]+a[15]);return this.x=(u*a[0]+h*a[4]+o*a[8]+a[12])*B,this.y=(u*r+h*v+o*M+w)*B,this.z=(u*c+h*x+o*S+L)*B,this},projectViewMatrix:function(f,u){return this.applyMatrix4(f).applyMatrix4(u)},unprojectViewMatrix:function(f,u){return this.applyMatrix4(f).applyMatrix4(u)},unproject:function(f,u){var d=f.w,c=d-this.y-1-f.y,p=this.z;return this.x=2*(this.x-f.x)/f.z-1,this.y=2*c/d-1,this.z=2*p-1,this.project(u)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});g.ZERO=new g,g.RIGHT=new g(1,0,0),g.LEFT=new g(-1,0,0),g.UP=new g(0,-1,0),g.DOWN=new g(0,1,0),g.FORWARD=new g(0,0,1),g.BACK=new g(0,0,-1),g.ONE=new g(1,1,1),C.exports=g},function(C,F){C.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(C,F,n){var l={VERSION:"3.50.1",BlendModes:n(33),ScaleModes:n(164),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};C.exports=l},function(C,F){C.exports=function(l){return l.y+l.height-l.height*l.originY}},function(C,F){C.exports=function(l){return l.x-l.width*l.originX}},function(C,F){C.exports=function(l){return l.x+l.width-l.width*l.originX}},function(C,F){C.exports=function(l){return l.y-l.height*l.originY}},function(C,F){C.exports=function(l,g,f,u,h,o){void 0===u&&(u=0),void 0===h&&(h=0),void 0===o&&(o=1);var a,d=0,r=l.length;if(1===o)for(a=h;a<r;a++)l[a][g]+=f+d*u,d++;else for(a=h;a>=0;a--)l[a][g]+=f+d*u,d++;return l}},function(C,F,n){var l=n(0),g=n(301),f=n(168),u=n(55),h=n(169),o=n(3),a=new l({initialize:function(r,c,p,m){void 0===r&&(r=0),void 0===c&&(c=0),void 0===p&&(p=0),void 0===m&&(m=0),this.type=u.LINE,this.x1=r,this.y1=c,this.x2=p,this.y2=m},getPoint:function(d,r){return g(this,d,r)},getPoints:function(d,r,c){return f(this,d,r,c)},getRandomPoint:function(d){return h(this,d)},setTo:function(d,r,c,p){return void 0===d&&(d=0),void 0===r&&(r=0),void 0===c&&(c=0),void 0===p&&(p=0),this.x1=d,this.y1=r,this.x2=c,this.y2=p,this},getPointA:function(d){return void 0===d&&(d=new o),d.set(this.x1,this.y1),d},getPointB:function(d){return void 0===d&&(d=new o),d.set(this.x2,this.y2),d},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(d){this.x1<=this.x2?this.x1=d:this.x2=d}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(d){this.x1>this.x2?this.x1=d:this.x2=d}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(d){this.y1<=this.y2?this.y1=d:this.y2=d}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(d){this.y1>this.y2?this.y1=d:this.y2=d}}});C.exports=a},function(C,F){C.exports=function(l,g,f,u){var h=f||g.fillColor;l.fillStyle="rgba("+((16711680&h)>>>16)+","+((65280&h)>>>8)+","+(255&h)+","+(u||g.fillAlpha)+")"}},function(C,F,n){var g=new(n(0))({initialize:function(u,h,o,a){var d=[];a.forEach(function(c){c&&d.push(c)}),this.loader=u,this.type=h,this.key=o,this.multiKeyIndex=u.multiKeyIndex++,this.files=d,this.complete=!1,this.pending=d.length,this.failed=0,this.config={},this.baseURL=u.baseURL,this.path=u.path,this.prefix=u.prefix;for(var r=0;r<d.length;r++)d[r].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(f){return this.files.push(f),f.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(f){-1!==this.files.indexOf(f)&&this.pending--},onFileFailed:function(f){-1!==this.files.indexOf(f)&&this.failed++}});C.exports=g},function(C,F){C.exports=function(l,g,f,u){var h=l-f,o=g-u;return Math.sqrt(h*h+o*o)}},function(C,F,n){C.exports={BOOT:n(918),DESTROY:n(919),DRAG_END:n(920),DRAG_ENTER:n(921),DRAG:n(922),DRAG_LEAVE:n(923),DRAG_OVER:n(924),DRAG_START:n(925),DROP:n(926),GAME_OUT:n(927),GAME_OVER:n(928),GAMEOBJECT_DOWN:n(929),GAMEOBJECT_DRAG_END:n(930),GAMEOBJECT_DRAG_ENTER:n(931),GAMEOBJECT_DRAG:n(932),GAMEOBJECT_DRAG_LEAVE:n(933),GAMEOBJECT_DRAG_OVER:n(934),GAMEOBJECT_DRAG_START:n(935),GAMEOBJECT_DROP:n(936),GAMEOBJECT_MOVE:n(937),GAMEOBJECT_OUT:n(938),GAMEOBJECT_OVER:n(939),GAMEOBJECT_POINTER_DOWN:n(940),GAMEOBJECT_POINTER_MOVE:n(941),GAMEOBJECT_POINTER_OUT:n(942),GAMEOBJECT_POINTER_OVER:n(943),GAMEOBJECT_POINTER_UP:n(944),GAMEOBJECT_POINTER_WHEEL:n(945),GAMEOBJECT_UP:n(946),GAMEOBJECT_WHEEL:n(947),MANAGER_BOOT:n(948),MANAGER_PROCESS:n(949),MANAGER_UPDATE:n(950),POINTER_DOWN:n(951),POINTER_DOWN_OUTSIDE:n(952),POINTER_MOVE:n(953),POINTER_OUT:n(954),POINTER_OVER:n(955),POINTER_UP:n(956),POINTER_UP_OUTSIDE:n(957),POINTER_WHEEL:n(958),POINTERLOCK_CHANGE:n(959),PRE_UPDATE:n(960),SHUTDOWN:n(961),START:n(962),UPDATE:n(963)}},function(C,F){var n={};C.exports=n,function(){n._nextId=0,n._seed=0,n._nowStartTime=+new Date,n.extend=function(g,f){var u,o;"boolean"==typeof f?(u=2,o=f):(u=1,o=!0);for(var a=u;a<arguments.length;a++){var d=arguments[a];if(d)for(var r in d)!o||!d[r]||d[r].constructor!==Object||g[r]&&g[r].constructor!==Object?g[r]=d[r]:(g[r]=g[r]||{},n.extend(g[r],o,d[r]))}return g},n.clone=function(g,f){return n.extend({},f,g)},n.keys=function(g){if(Object.keys)return Object.keys(g);var f=[];for(var u in g)f.push(u);return f},n.values=function(g){var f=[];if(Object.keys){for(var u=Object.keys(g),h=0;h<u.length;h++)f.push(g[u[h]]);return f}for(var o in g)f.push(g[o]);return f},n.get=function(g,f,u,h){f=f.split(".").slice(u,h);for(var o=0;o<f.length;o+=1)g=g[f[o]];return g},n.set=function(g,f,u,h,o){var a=f.split(".").slice(h,o);return n.get(g,f,0,-1)[a[a.length-1]]=u,u},n.shuffle=function(g){for(var f=g.length-1;f>0;f--){var u=Math.floor(n.random()*(f+1)),h=g[f];g[f]=g[u],g[u]=h}return g},n.choose=function(g){return g[Math.floor(n.random()*g.length)]},n.isElement=function(g){return"undefined"!=typeof HTMLElement?g instanceof HTMLElement:!!(g&&g.nodeType&&g.nodeName)},n.isArray=function(g){return"[object Array]"===Object.prototype.toString.call(g)},n.isFunction=function(g){return"function"==typeof g},n.isPlainObject=function(g){return"object"==typeof g&&g.constructor===Object},n.isString=function(g){return"[object String]"===Object.prototype.toString.call(g)},n.clamp=function(g,f,u){return g<f?f:g>u?u:g},n.sign=function(g){return g<0?-1:1},n.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-n._nowStartTime},n.random=function(g,f){return f=void 0!==f?f:1,(g=void 0!==g?g:0)+l()*(f-g)};var l=function(){return n._seed=(9301*n._seed+49297)%233280,n._seed/233280};n.colorToNumber=function(g){return 3==(g=g.replace("#","")).length&&(g=g.charAt(0)+g.charAt(0)+g.charAt(1)+g.charAt(1)+g.charAt(2)+g.charAt(2)),parseInt(g,16)},n.logLevel=1,n.log=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.info=function(){console&&n.logLevel>0&&n.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.warn=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.nextId=function(){return n._nextId++},n.indexOf=function(g,f){if(g.indexOf)return g.indexOf(f);for(var u=0;u<g.length;u++)if(g[u]===f)return u;return-1},n.map=function(g,f){if(g.map)return g.map(f);for(var u=[],h=0;h<g.length;h+=1)u.push(f(g[h]));return u},n.topologicalSort=function(g){var f=[],u=[],h=[];for(var o in g)!u[o]&&!h[o]&&n._topologicalSort(o,u,h,g,f);return f},n._topologicalSort=function(g,f,u,h,o){var a=h[g]||[];u[g]=!0;for(var d=0;d<a.length;d+=1){var r=a[d];u[r]||f[r]||n._topologicalSort(r,f,u,h,o)}u[g]=!1,f[g]=!0,o.push(g)},n.chain=function(){for(var g=[],f=0;f<arguments.length;f+=1){var u=arguments[f];u._chained?g.push.apply(g,u._chained):g.push(u)}var h=function(){for(var o,a=new Array(arguments.length),d=0,r=arguments.length;d<r;d++)a[d]=arguments[d];for(d=0;d<g.length;d+=1){var c=g[d].apply(o,a);void 0!==c&&(o=c)}return o};return h._chained=g,h},n.chainPathBefore=function(g,f,u){return n.set(g,f,n.chain(u,n.get(g,f)))},n.chainPathAfter=function(g,f,u){return n.set(g,f,n.chain(n.get(g,f),u))}}()},function(C,F){C.exports=function(l,g){return l.y=g+l.height*l.originY,l}},function(C,F){C.exports=function(l,g){return l.x=g+l.width*l.originX,l}},function(C,F){C.exports=function(l,g){return l.x=g-l.width+l.width*l.originX,l}},function(C,F){C.exports=function(l,g){return l.y=g-l.height+l.height*l.originY,l}},function(C,F){C.exports={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},function(C,F){C.exports=function(l,g,f){return!(l.width<=0||l.height<=0)&&l.x<=g&&l.x+l.width>=g&&l.y<=f&&l.y+l.height>=f}},function(C,F,n){var l=n(0),g=n(172),f=n(9),u=n(368),h=n(2),o=n(67),a=n(88),d=n(139),r=n(12),c=n(369),p=new l({Extends:f,initialize:function(v){f.call(this);var x=v.game,T=x.renderer,E=T.gl;this.name=h(v,"name","WebGLPipeline"),this.game=x,this.renderer=T,this.gl=E,this.view=x.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.topology=h(v,"topology",E.TRIANGLES),this.active=!0,this.currentUnit=0,this.forceZero=h(v,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.renderTargets=[],this.shaders=[],this.projectionWidth=0,this.projectionHeight=0,this.config=v},boot:function(){var m,v=this.gl,x=this.config,T=this.renderer;this.isPostFX||(this.projectionMatrix=(new o).identity());var E=this.renderTargets,M=h(x,"renderTarget",!1);"boolean"==typeof M&&M&&(M=1);var S=T.width,P=T.height;if("number"==typeof M)for(m=0;m<M;m++)E.push(new d(T,S,P,1,0,!0));else if(Array.isArray(M))for(m=0;m<M.length;m++){var R=h(M[m],"scale",1),w=h(M[m],"minFilter",0),L=h(M[m],"autoClear",1);E.push(new d(T,S,P,R,w,L))}E.length&&(this.currentRenderTarget=E[0]),this.setShadersFromConfig(x);var I=this.shaders,B=0;for(m=0;m<I.length;m++)I[m].vertexSize>B&&(B=I[m].vertexSize);var G=h(x,"batchSize",T.config.batchSize);this.vertexCapacity=6*G;var H=new ArrayBuffer(this.vertexCapacity*B);this.vertexData=H,this.bytes=new Uint8Array(H),this.vertexViewF32=new Float32Array(H),this.vertexViewU32=new Uint32Array(H);var Y=h(x,"vertices",null);for(Y?(this.vertexViewF32.set(Y),this.vertexBuffer=T.createVertexBuffer(H,v.STATIC_DRAW)):this.vertexBuffer=T.createVertexBuffer(H.byteLength,v.DYNAMIC_DRAW),this.setVertexBuffer(),m=I.length-1;m>=0;m--)I[m].rebind();this.hasBooted=!0,T.on(a.RESIZE,this.resize,this),T.on(a.PRE_RENDER,this.onPreRender,this),T.on(a.RENDER,this.onRender,this),T.on(a.POST_RENDER,this.onPostRender,this),this.emit(u.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(m,v){var x=this.renderer;return m===this.currentShader&&x.currentProgram===this.currentShader.program||(this.flush(),x.resetTextures(),this.setVertexBuffer()&&!v&&(v=!0),m.bind(v,!1),this.currentShader=m),this},getShaderByName:function(m){for(var v=this.shaders,x=0;x<v.length;x++)if(v[x].name===m)return v[x]},setShadersFromConfig:function(m){var v,x=this.shaders,T=this.renderer;for(v=0;v<x.length;v++)x[v].destroy();var E="vertShader",M="fragShader",S="attributes",P=h(m,E,null),R=r.parseFragmentShaderMaxTextures(h(m,M,null),T.maxTextures),w=h(m,S,null),L=h(m,"shaders",[]),I=L.length;if(0===I)P&&R&&(this.shaders=[new c(this,"default",P,R,g(w))]);else{var B=[];for(v=0;v<I;v++){var G=L[v],H=h(G,"name","default"),Y=h(G,E,P),$=r.parseFragmentShaderMaxTextures(h(G,M,R),T.maxTextures),J=h(G,S,w);Y&&$&&B.push(new c(this,H,Y,$,g(J)))}this.shaders=B}return 0===this.shaders.length?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},setGameObject:function(m,v){return void 0===v&&(v=m.frame),this.currentUnit=this.renderer.setTextureSource(v.source),this.currentUnit},shouldFlush:function(m){return void 0===m&&(m=0),this.vertexCount+m>this.vertexCapacity},resize:function(m,v){(m!==this.width||v!==this.height)&&this.flush(),this.width=m,this.height=v;for(var x=this.renderTargets,T=0;T<x.length;T++)x[T].resize(m,v);return this.setProjectionMatrix(m,v),this.emit(u.RESIZE,m,v,this),this.onResize(m,v),this},setProjectionMatrix:function(m,v){var x=this.projectionMatrix;if(!x)return this;this.projectionWidth=m,this.projectionHeight=v,x.ortho(0,m,v,0,-1e3,1e3);for(var T=this.shaders,E="uProjectionMatrix",M=0;M<T.length;M++){var S=T[M];S.hasUniform(E)&&(S.resetUniform(E),S.setMatrix4fv(E,!1,x.val,S))}return this},updateProjectionMatrix:function(){if(this.projectionMatrix){var m=this.renderer.projectionWidth,v=this.renderer.projectionHeight;(this.projectionWidth!==m||this.projectionHeight!==v)&&this.setProjectionMatrix(m,v)}},bind:function(m){void 0===m&&(m=this.currentShader);var v=this.setVertexBuffer();return m.bind(v),this.currentShader=m,this.emit(u.BIND,this,m),this.onActive(m),this},rebind:function(){this.setVertexBuffer();for(var m=this.shaders,v=m.length-1;v>=0;v--)this.currentShader=m[v].rebind();return this.emit(u.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this},setVertexBuffer:function(){var m=this.gl,v=this.vertexBuffer;return m.getParameter(m.ARRAY_BUFFER_BINDING)!==v&&(m.bindBuffer(m.ARRAY_BUFFER,v),!0)},preBatch:function(m){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(m),this},postBatch:function(m){return this.onDraw(this.currentRenderTarget),this.onPostBatch(m),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(m){if(void 0===m&&(m=!1),this.vertexCount>0){this.emit(u.BEFORE_FLUSH,this,m),this.onBeforeFlush(m);var v=this.gl,x=this.vertexCount,T=this.currentShader.vertexSize;this.active&&(this.setVertexBuffer(),x===this.vertexCapacity?v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.DYNAMIC_DRAW):v.bufferSubData(v.ARRAY_BUFFER,0,this.bytes.subarray(0,x*T)),v.drawArrays(this.topology,0,x)),this.vertexCount=0,this.emit(u.AFTER_FLUSH,this,m),this.onAfterFlush(m)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(m,v,x,T,E,M,S){var P=this.vertexViewF32,R=this.vertexViewU32,w=this.vertexCount*this.currentShader.vertexComponentCount-1;P[++w]=m,P[++w]=v,P[++w]=x,P[++w]=T,P[++w]=E,P[++w]=M,R[++w]=S,this.vertexCount++},batchQuad:function(m,v,x,T,E,M,S,P,R,w,L,I,B,G,H,Y,$,J,_,tt){void 0===tt&&(tt=this.currentUnit);var U=!1;return this.shouldFlush(6)&&(this.flush(),U=!0,tt=this.setTexture2D(_)),this.batchVert(v,x,w,L,tt,J,G),this.batchVert(T,E,w,B,tt,J,Y),this.batchVert(M,S,I,B,tt,J,$),this.batchVert(v,x,w,L,tt,J,G),this.batchVert(M,S,I,B,tt,J,$),this.batchVert(P,R,I,L,tt,J,H),this.onBatch(m),U},batchTri:function(m,v,x,T,E,M,S,P,R,w,L,I,B,G,H,Y,$){void 0===$&&($=this.currentUnit);var J=!1;return this.shouldFlush(3)&&(this.flush(),J=!0,$=this.setTexture2D(Y)),this.batchVert(v,x,P,R,$,H,I),this.batchVert(T,E,P,L,$,H,B),this.batchVert(M,S,w,L,$,H,G),this.onBatch(m),J},drawFillRect:function(m,v,x,T,E,M,S,P){void 0===S&&(S=this.renderer.whiteTexture.glTexture),void 0===P&&(P=!0),m=Math.floor(m),v=Math.floor(v);var R=Math.floor(m+x),w=Math.floor(v+T),L=this.setTexture2D(S),I=r.getTintAppendFloatAlphaAndSwap(E,M),G=0,Y=1;P&&(G=1,Y=0),this.batchQuad(null,m,v,m,w,R,w,R,v,0,G,1,Y,I,I,I,I,0,S,L)},setTexture2D:function(m){return void 0===m&&(m=this.renderer.whiteTexture.glTexture),this.currentUnit=this.renderer.setTexture2D(m),this.currentUnit},bindTexture:function(m,v){void 0===v&&(v=0);var x=this.gl;return x.activeTexture(x.TEXTURE0+v),x.bindTexture(x.TEXTURE_2D,m),this},bindRenderTarget:function(m,v){return this.bindTexture(m.texture,v)},setTime:function(m){return this.set1f(m,this.game.loop.getDuration()),this},set1f:function(m,v,x){return void 0===x&&(x=this.currentShader),x.set1f(m,v),this},set2f:function(m,v,x,T){return void 0===T&&(T=this.currentShader),T.set2f(m,v,x),this},set3f:function(m,v,x,T,E){return void 0===E&&(E=this.currentShader),E.set3f(m,v,x,T),this},set4f:function(m,v,x,T,E,M){return void 0===M&&(M=this.currentShader),M.set4f(m,v,x,T,E),this},set1fv:function(m,v,x){return void 0===x&&(x=this.currentShader),x.set1fv(m,v),this},set2fv:function(m,v,x){return void 0===x&&(x=this.currentShader),x.set2fv(m,v),this},set3fv:function(m,v,x){return void 0===x&&(x=this.currentShader),x.set3fv(m,v),this},set4fv:function(m,v,x){return void 0===x&&(x=this.currentShader),x.set4fv(m,v),this},set1iv:function(m,v,x){return void 0===x&&(x=this.currentShader),x.set1iv(m,v),this},set2iv:function(m,v,x){return void 0===x&&(x=this.currentShader),x.set2iv(m,v),this},set3iv:function(m,v,x){return void 0===x&&(x=this.currentShader),x.set3iv(m,v),this},set4iv:function(m,v,x){return void 0===x&&(x=this.currentShader),x.set4iv(m,v),this},set1i:function(m,v,x){return void 0===x&&(x=this.currentShader),x.set1i(m,v),this},set2i:function(m,v,x,T){return void 0===T&&(T=this.currentShader),T.set2i(m,v,x),this},set3i:function(m,v,x,T,E){return void 0===E&&(E=this.currentShader),E.set3i(m,v,x,T),this},set4i:function(m,v,x,T,E,M){return void 0===M&&(M=this.currentShader),M.set4i(m,v,x,T,E),this},setMatrix2fv:function(m,v,x,T){return void 0===T&&(T=this.currentShader),T.setMatrix2fv(m,v,x),this},setMatrix3fv:function(m,v,x,T){return void 0===T&&(T=this.currentShader),T.setMatrix3fv(m,v,x),this},setMatrix4fv:function(m,v,x,T){return void 0===T&&(T=this.currentShader),T.setMatrix4fv(m,v,x),this},destroy:function(){this.emit(u.DESTROY,this);var m,v=this.shaders;for(m=0;m<v.length;m++)v[m].destroy();var x=this.renderTargets;for(m=0;m<x.length;m++)x[m].destroy();this.gl.deleteBuffer(this.vertexBuffer);var T=this.renderer;return T.off(a.RESIZE,this.resize,this),T.off(a.PRE_RENDER,this.onPreRender,this),T.off(a.RENDER,this.onRender,this),T.off(a.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this}});C.exports=p},function(C,F){C.exports=function(l,g,f,u){var h=f||g.strokeColor;l.strokeStyle="rgba("+((16711680&h)>>>16)+","+((65280&h)>>>8)+","+(255&h)+","+(u||g.strokeAlpha)+")",l.lineWidth=g.lineWidth}},function(C,F,n){var l=n(0),g=n(20),f=n(23),u=n(8),h=n(2),o=n(6),a=n(7),d=new l({Extends:f,initialize:function(c,p,m,v,x){var T="json";if(a(p)){var E=p;p=h(E,"key"),m=h(E,"url"),v=h(E,"xhrSettings"),T=h(E,"extension",T),x=h(E,"dataKey",x)}f.call(this,c,{type:"json",cache:c.cacheManager.json,extension:T,responseType:"text",key:p,url:m,xhrSettings:v,config:x}),a(m)&&(this.data=x?o(m,x):m,this.state=g.FILE_POPULATED)},onProcess:function(){if(this.state!==g.FILE_POPULATED){this.state=g.FILE_PROCESSING;var r=JSON.parse(this.xhrLoader.responseText),c=this.config;this.data="string"==typeof c?o(r,c,r):r}this.onProcessComplete()}});u.register("json",function(r,c,p,m){if(Array.isArray(r))for(var v=0;v<r.length;v++)this.addFile(new d(this,r[v]));else this.addFile(new d(this,r,c,m,p));return this}),C.exports=d},function(C,F){C.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},function(C,F,n){var l=n(156),g=n(26);C.exports=function(u,h,o,a,d){for(var r=null,c=null,p=null,m=null,v=g(u,h,o,a,null,d),x=0;x<v.length;x++){var T=v[x];T&&(T.collides?(r=l(T.x,T.y-1,!0,d),c=l(T.x,T.y+1,!0,d),p=l(T.x-1,T.y,!0,d),m=l(T.x+1,T.y,!0,d),T.faceTop=!(r&&r.collides),T.faceBottom=!(c&&c.collides),T.faceLeft=!(p&&p.collides),T.faceRight=!(m&&m.collides)):T.resetFaces())}}},function(C,F,n){var l=n(0),g=n(63),f=n(294),u=n(295),h=n(55),o=n(166),a=new l({initialize:function(r,c,p){void 0===r&&(r=0),void 0===c&&(c=0),void 0===p&&(p=0),this.type=h.CIRCLE,this.x=r,this.y=c,this._radius=p,this._diameter=2*p},contains:function(d,r){return g(this,d,r)},getPoint:function(d,r){return f(this,d,r)},getPoints:function(d,r,c){return u(this,d,r,c)},getRandomPoint:function(d){return o(this,d)},setTo:function(d,r,c){return this.x=d,this.y=r,this._radius=c,this._diameter=2*c,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(d,r){return void 0===r&&(r=d),this.x=d,this.y=r,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(d){this._radius=d,this._diameter=2*d}},diameter:{get:function(){return this._diameter},set:function(d){this._diameter=d,this._radius=.5*d}},left:{get:function(){return this.x-this._radius},set:function(d){this.x=d+this._radius}},right:{get:function(){return this.x+this._radius},set:function(d){this.x=d-this._radius}},top:{get:function(){return this.y-this._radius},set:function(d){this.y=d+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(d){this.y=d-this._radius}}});C.exports=a},function(C,F){C.exports=function(l,g,f){return l.radius>0&&g>=l.left&&g<=l.right&&f>=l.top&&f<=l.bottom&&(l.x-g)*(l.x-g)+(l.y-f)*(l.y-f)<=l.radius*l.radius}},function(C,F){C.exports=function(l){return Math.sqrt((l.x2-l.x1)*(l.x2-l.x1)+(l.y2-l.y1)*(l.y2-l.y1))}},function(C,F){C.exports={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline"}},function(C,F){C.exports=function(l,g,f){var u=f-g;return g+((l-g)%u+u)%u}},function(C,F,n){var l=n(0),g=n(37),f=1e-6,u=new l({initialize:function(p){this.val=new Float32Array(16),p?this.copy(p):this.identity()},clone:function(){return new u(this)},set:function(c){return this.copy(c)},setValues:function(c,p,m,v,x,T,E,M,S,P,R,w,L,I,B,G){var H=this.val;return H[0]=c,H[1]=p,H[2]=m,H[3]=v,H[4]=x,H[5]=T,H[6]=E,H[7]=M,H[8]=S,H[9]=P,H[10]=R,H[11]=w,H[12]=L,H[13]=I,H[14]=B,H[15]=G,this},copy:function(c){var p=c.val;return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},fromArray:function(c){return this.setValues(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(c,p,m){var x=h.fromQuat(m).val,T=p.x,E=p.y,M=p.z;return this.setValues(x[0]*T,x[1]*T,x[2]*T,0,x[4]*E,x[5]*E,x[6]*E,0,x[8]*M,x[9]*M,x[10]*M,0,c.x,c.y,c.z,1)},xyz:function(c,p,m){this.identity();var v=this.val;return v[12]=c,v[13]=p,v[14]=m,this},scaling:function(c,p,m){this.zero();var v=this.val;return v[0]=c,v[5]=p,v[10]=m,v[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var c=this.val,p=c[1],m=c[2],v=c[3],x=c[6],T=c[7],E=c[11];return c[1]=c[4],c[2]=c[8],c[3]=c[12],c[4]=p,c[6]=c[9],c[7]=c[13],c[8]=m,c[9]=x,c[11]=c[14],c[12]=v,c[13]=T,c[14]=E,this},getInverse:function(c){return this.copy(c),this.invert()},invert:function(){var c=this.val,p=c[0],m=c[1],v=c[2],x=c[3],T=c[4],E=c[5],M=c[6],S=c[7],P=c[8],R=c[9],w=c[10],L=c[11],I=c[12],B=c[13],G=c[14],H=c[15],Y=p*E-m*T,$=p*M-v*T,J=p*S-x*T,_=m*M-v*E,tt=m*S-x*E,U=v*S-x*M,V=P*B-R*I,X=P*G-w*I,W=P*H-L*I,j=R*G-w*B,K=R*H-L*B,q=w*H-L*G,et=Y*q-$*K+J*j+_*W-tt*X+U*V;return et?this.setValues((E*q-M*K+S*j)*(et=1/et),(v*K-m*q-x*j)*et,(B*U-G*tt+H*_)*et,(w*tt-R*U-L*_)*et,(M*W-T*q-S*X)*et,(p*q-v*W+x*X)*et,(G*J-I*U-H*$)*et,(P*U-w*J+L*$)*et,(T*K-E*W+S*V)*et,(m*W-p*K-x*V)*et,(I*tt-B*J+H*Y)*et,(R*J-P*tt-L*Y)*et,(E*X-T*j-M*V)*et,(p*j-m*X+v*V)*et,(B*$-I*_-G*Y)*et,(P*_-R*$+w*Y)*et):this},adjoint:function(){var c=this.val,p=c[0],m=c[1],v=c[2],x=c[3],T=c[4],E=c[5],M=c[6],S=c[7],P=c[8],R=c[9],w=c[10],L=c[11],I=c[12],B=c[13],G=c[14],H=c[15];return this.setValues(E*(w*H-L*G)-R*(M*H-S*G)+B*(M*L-S*w),-(m*(w*H-L*G)-R*(v*H-x*G)+B*(v*L-x*w)),m*(M*H-S*G)-E*(v*H-x*G)+B*(v*S-x*M),-(m*(M*L-S*w)-E*(v*L-x*w)+R*(v*S-x*M)),-(T*(w*H-L*G)-P*(M*H-S*G)+I*(M*L-S*w)),p*(w*H-L*G)-P*(v*H-x*G)+I*(v*L-x*w),-(p*(M*H-S*G)-T*(v*H-x*G)+I*(v*S-x*M)),p*(M*L-S*w)-T*(v*L-x*w)+P*(v*S-x*M),T*(R*H-L*B)-P*(E*H-S*B)+I*(E*L-S*R),-(p*(R*H-L*B)-P*(m*H-x*B)+I*(m*L-x*R)),p*(E*H-S*B)-T*(m*H-x*B)+I*(m*S-x*E),-(p*(E*L-S*R)-T*(m*L-x*R)+P*(m*S-x*E)),-(T*(R*G-w*B)-P*(E*G-M*B)+I*(E*w-M*R)),p*(R*G-w*B)-P*(m*G-v*B)+I*(m*w-v*R),-(p*(E*G-M*B)-T*(m*G-v*B)+I*(m*M-v*E)),p*(E*w-M*R)-T*(m*w-v*R)+P*(m*M-v*E))},determinant:function(){var c=this.val,p=c[0],m=c[1],v=c[2],x=c[3],T=c[4],E=c[5],M=c[6],S=c[7],P=c[8],R=c[9],w=c[10],L=c[11],I=c[12],B=c[13],G=c[14],H=c[15];return(p*E-m*T)*(w*H-L*G)-(p*M-v*T)*(R*H-L*B)+(p*S-x*T)*(R*G-w*B)+(m*M-v*E)*(P*H-L*I)-(m*S-x*E)*(P*G-w*I)+(v*S-x*M)*(P*B-R*I)},multiply:function(c){var p=this.val,m=p[0],v=p[1],x=p[2],T=p[3],E=p[4],M=p[5],S=p[6],P=p[7],R=p[8],w=p[9],L=p[10],I=p[11],B=p[12],G=p[13],H=p[14],Y=p[15],$=c.val,J=$[0],_=$[1],tt=$[2],U=$[3];return p[0]=J*m+_*E+tt*R+U*B,p[1]=J*v+_*M+tt*w+U*G,p[2]=J*x+_*S+tt*L+U*H,p[3]=J*T+_*P+tt*I+U*Y,p[4]=(J=$[4])*m+(_=$[5])*E+(tt=$[6])*R+(U=$[7])*B,p[5]=J*v+_*M+tt*w+U*G,p[6]=J*x+_*S+tt*L+U*H,p[7]=J*T+_*P+tt*I+U*Y,p[8]=(J=$[8])*m+(_=$[9])*E+(tt=$[10])*R+(U=$[11])*B,p[9]=J*v+_*M+tt*w+U*G,p[10]=J*x+_*S+tt*L+U*H,p[11]=J*T+_*P+tt*I+U*Y,p[12]=(J=$[12])*m+(_=$[13])*E+(tt=$[14])*R+(U=$[15])*B,p[13]=J*v+_*M+tt*w+U*G,p[14]=J*x+_*S+tt*L+U*H,p[15]=J*T+_*P+tt*I+U*Y,this},multiplyLocal:function(c){var p=this.val,m=c.val;return this.setValues(p[0]*m[0]+p[1]*m[4]+p[2]*m[8]+p[3]*m[12],p[0]*m[1]+p[1]*m[5]+p[2]*m[9]+p[3]*m[13],p[0]*m[2]+p[1]*m[6]+p[2]*m[10]+p[3]*m[14],p[0]*m[3]+p[1]*m[7]+p[2]*m[11]+p[3]*m[15],p[4]*m[0]+p[5]*m[4]+p[6]*m[8]+p[7]*m[12],p[4]*m[1]+p[5]*m[5]+p[6]*m[9]+p[7]*m[13],p[4]*m[2]+p[5]*m[6]+p[6]*m[10]+p[7]*m[14],p[4]*m[3]+p[5]*m[7]+p[6]*m[11]+p[7]*m[15],p[8]*m[0]+p[9]*m[4]+p[10]*m[8]+p[11]*m[12],p[8]*m[1]+p[9]*m[5]+p[10]*m[9]+p[11]*m[13],p[8]*m[2]+p[9]*m[6]+p[10]*m[10]+p[11]*m[14],p[8]*m[3]+p[9]*m[7]+p[10]*m[11]+p[11]*m[15],p[12]*m[0]+p[13]*m[4]+p[14]*m[8]+p[15]*m[12],p[12]*m[1]+p[13]*m[5]+p[14]*m[9]+p[15]*m[13],p[12]*m[2]+p[13]*m[6]+p[14]*m[10]+p[15]*m[14],p[12]*m[3]+p[13]*m[7]+p[14]*m[11]+p[15]*m[15])},premultiply:function(c){return this.multiplyMatrices(c,this)},multiplyMatrices:function(c,p){var m=c.val,v=p.val,x=m[0],T=m[4],E=m[8],M=m[12],S=m[1],P=m[5],R=m[9],w=m[13],L=m[2],I=m[6],B=m[10],G=m[14],H=m[3],Y=m[7],$=m[11],J=m[15],_=v[0],tt=v[4],U=v[8],V=v[12],X=v[1],W=v[5],j=v[9],K=v[13],q=v[2],et=v[6],rt=v[10],ot=v[14],at=v[3],ft=v[7],ct=v[11],xt=v[15];return this.setValues(x*_+T*X+E*q+M*at,S*_+P*X+R*q+w*at,L*_+I*X+B*q+G*at,H*_+Y*X+$*q+J*at,x*tt+T*W+E*et+M*ft,S*tt+P*W+R*et+w*ft,L*tt+I*W+B*et+G*ft,H*tt+Y*W+$*et+J*ft,x*U+T*j+E*rt+M*ct,S*U+P*j+R*rt+w*ct,L*U+I*j+B*rt+G*ct,H*U+Y*j+$*rt+J*ct,x*V+T*K+E*ot+M*xt,S*V+P*K+R*ot+w*xt,L*V+I*K+B*ot+G*xt,H*V+Y*K+$*ot+J*xt)},translate:function(c){return this.translateXYZ(c.x,c.y,c.z)},translateXYZ:function(c,p,m){var v=this.val;return v[12]=v[0]*c+v[4]*p+v[8]*m+v[12],v[13]=v[1]*c+v[5]*p+v[9]*m+v[13],v[14]=v[2]*c+v[6]*p+v[10]*m+v[14],v[15]=v[3]*c+v[7]*p+v[11]*m+v[15],this},scale:function(c){return this.scaleXYZ(c.x,c.y,c.z)},scaleXYZ:function(c,p,m){var v=this.val;return v[0]=v[0]*c,v[1]=v[1]*c,v[2]=v[2]*c,v[3]=v[3]*c,v[4]=v[4]*p,v[5]=v[5]*p,v[6]=v[6]*p,v[7]=v[7]*p,v[8]=v[8]*m,v[9]=v[9]*m,v[10]=v[10]*m,v[11]=v[11]*m,this},makeRotationAxis:function(c,p){var m=Math.cos(p),v=Math.sin(p),x=1-m,T=c.x,E=c.y,M=c.z,S=x*T,P=x*E;return this.setValues(S*T+m,S*E-v*M,S*M+v*E,0,S*E+v*M,P*E+m,P*M-v*T,0,S*M-v*E,P*M+v*T,x*M*M+m,0,0,0,0,1)},rotate:function(c,p){var m=this.val,v=p.x,x=p.y,T=p.z,E=Math.sqrt(v*v+x*x+T*T);if(Math.abs(E)<f)return this;v*=E=1/E,x*=E,T*=E;var M=Math.sin(c),S=Math.cos(c),P=1-S,R=m[0],w=m[1],L=m[2],I=m[3],B=m[4],G=m[5],H=m[6],Y=m[7],$=m[8],J=m[9],_=m[10],tt=m[11],j=v*v*P+S,K=x*v*P+T*M,q=T*v*P-x*M,et=v*x*P-T*M,rt=x*x*P+S,ot=T*x*P+v*M,at=v*T*P+x*M,ft=x*T*P-v*M,ct=T*T*P+S;return this.setValues(R*j+B*K+$*q,w*j+G*K+J*q,L*j+H*K+_*q,I*j+Y*K+tt*q,R*et+B*rt+$*ot,w*et+G*rt+J*ot,L*et+H*rt+_*ot,I*et+Y*rt+tt*ot,R*at+B*ft+$*ct,w*at+G*ft+J*ct,L*at+H*ft+_*ct,I*at+Y*ft+tt*ct,m[12],m[13],m[14],m[15])},rotateX:function(c){var p=this.val,m=Math.sin(c),v=Math.cos(c),x=p[4],T=p[5],E=p[6],M=p[7],S=p[8],P=p[9],R=p[10],w=p[11];return p[4]=x*v+S*m,p[5]=T*v+P*m,p[6]=E*v+R*m,p[7]=M*v+w*m,p[8]=S*v-x*m,p[9]=P*v-T*m,p[10]=R*v-E*m,p[11]=w*v-M*m,this},rotateY:function(c){var p=this.val,m=Math.sin(c),v=Math.cos(c),x=p[0],T=p[1],E=p[2],M=p[3],S=p[8],P=p[9],R=p[10],w=p[11];return p[0]=x*v-S*m,p[1]=T*v-P*m,p[2]=E*v-R*m,p[3]=M*v-w*m,p[8]=x*m+S*v,p[9]=T*m+P*v,p[10]=E*m+R*v,p[11]=M*m+w*v,this},rotateZ:function(c){var p=this.val,m=Math.sin(c),v=Math.cos(c),x=p[0],T=p[1],E=p[2],M=p[3],S=p[4],P=p[5],R=p[6],w=p[7];return p[0]=x*v+S*m,p[1]=T*v+P*m,p[2]=E*v+R*m,p[3]=M*v+w*m,p[4]=S*v-x*m,p[5]=P*v-T*m,p[6]=R*v-E*m,p[7]=w*v-M*m,this},fromRotationTranslation:function(c,p){var m=c.x,v=c.y,x=c.z,T=c.w,E=m+m,M=v+v,S=x+x,P=m*E,R=m*M,w=m*S,L=v*M,I=v*S,B=x*S,G=T*E,H=T*M,Y=T*S;return this.setValues(1-(L+B),R+Y,w-H,0,R-Y,1-(P+B),I+G,0,w+H,I-G,1-(P+L),0,p.x,p.y,p.z,1)},fromQuat:function(c){var p=c.x,m=c.y,v=c.z,x=c.w,T=p+p,E=m+m,M=v+v,S=p*T,P=p*E,R=p*M,w=m*E,L=m*M,I=v*M,B=x*T,G=x*E,H=x*M;return this.setValues(1-(w+I),P+H,R-G,0,P-H,1-(S+I),L+B,0,R+G,L-B,1-(S+w),0,0,0,0,1)},frustum:function(c,p,m,v,x,T){var E=1/(p-c),M=1/(v-m),S=1/(x-T);return this.setValues(2*x*E,0,0,0,0,2*x*M,0,0,(p+c)*E,(v+m)*M,(T+x)*S,-1,0,0,T*x*2*S,0)},perspective:function(c,p,m,v){var x=1/Math.tan(c/2),T=1/(m-v);return this.setValues(x/p,0,0,0,0,x,0,0,0,0,(v+m)*T,-1,0,0,2*v*m*T,0)},perspectiveLH:function(c,p,m,v){return this.setValues(2*m/c,0,0,0,0,2*m/p,0,0,0,0,-v/(m-v),1,0,0,m*v/(m-v),0)},ortho:function(c,p,m,v,x,T){var E=c-p,M=m-v,S=x-T;return this.setValues(-2*(E=0===E?E:1/E),0,0,0,0,-2*(M=0===M?M:1/M),0,0,0,0,2*(S=0===S?S:1/S),0,(c+p)*E,(v+m)*M,(T+x)*S,1)},lookAtRH:function(c,p,m){var v=this.val;return r.subVectors(c,p),0===r.getLengthSquared()&&(r.z=1),r.normalize(),a.crossVectors(m,r),0===a.getLengthSquared()&&(1===Math.abs(m.z)?r.x+=1e-4:r.z+=1e-4,r.normalize(),a.crossVectors(m,r)),a.normalize(),d.crossVectors(r,a),v[0]=a.x,v[1]=a.y,v[2]=a.z,v[4]=d.x,v[5]=d.y,v[6]=d.z,v[8]=r.x,v[9]=r.y,v[10]=r.z,this},lookAt:function(c,p,m){var v=c.x,x=c.y,T=c.z,E=m.x,M=m.y,S=m.z,P=p.x,R=p.y,w=p.z;if(Math.abs(v-P)<f&&Math.abs(x-R)<f&&Math.abs(T-w)<f)return this.identity();var L=v-P,I=x-R,B=T-w,G=1/Math.sqrt(L*L+I*I+B*B),H=M*(B*=G)-S*(I*=G),Y=S*(L*=G)-E*B,$=E*I-M*L;(G=Math.sqrt(H*H+Y*Y+$*$))?(H*=G=1/G,Y*=G,$*=G):(H=0,Y=0,$=0);var J=I*$-B*Y,_=B*H-L*$,tt=L*Y-I*H;return(G=Math.sqrt(J*J+_*_+tt*tt))?(J*=G=1/G,_*=G,tt*=G):(J=0,_=0,tt=0),this.setValues(H,J,L,0,Y,_,I,0,$,tt,B,0,-(H*v+Y*x+$*T),-(J*v+_*x+tt*T),-(L*v+I*x+B*T),1)},yawPitchRoll:function(c,p,m){this.zero(),h.zero(),o.zero();var v=this.val,x=h.val,T=o.val,E=Math.sin(m),M=Math.cos(m);return v[10]=1,v[15]=1,v[0]=M,v[1]=E,v[4]=-E,v[5]=M,E=Math.sin(p),M=Math.cos(p),x[0]=1,x[15]=1,x[5]=M,x[10]=M,x[9]=-E,x[6]=E,E=Math.sin(c),M=Math.cos(c),T[5]=1,T[15]=1,T[0]=M,T[2]=-E,T[8]=E,T[10]=M,this.multiplyLocal(h),this.multiplyLocal(o),this},setWorldMatrix:function(c,p,m,v,x){return this.yawPitchRoll(c.y,c.x,c.z),h.scaling(m.x,m.y,m.z),o.xyz(p.x,p.y,p.z),this.multiplyLocal(h),this.multiplyLocal(o),v&&this.multiplyLocal(v),x&&this.multiplyLocal(x),this},multiplyToMat4:function(c,p){var m=this.val,v=c.val,x=m[0],T=m[1],E=m[2],M=m[3],S=m[4],P=m[5],R=m[6],w=m[7],L=m[8],I=m[9],B=m[10],G=m[11],H=m[12],Y=m[13],$=m[14],J=m[15],tt=v[1],U=v[2],V=v[3],X=v[4],W=v[5],j=v[6],K=v[7],q=v[8],et=v[9],rt=v[10],ot=v[11],at=v[12],ft=v[13],ct=v[14],xt=v[15];return p.setValues(v[0]*x+tt*S+U*L+V*H,tt*T+tt*P+U*I+V*Y,U*E+tt*R+U*B+V*$,V*M+tt*w+U*G+V*J,X*x+W*S+j*L+K*H,X*T+W*P+j*I+K*Y,X*E+W*R+j*B+K*$,X*M+W*w+j*G+K*J,q*x+et*S+rt*L+ot*H,q*T+et*P+rt*I+ot*Y,q*E+et*R+rt*B+ot*$,q*M+et*w+rt*G+ot*J,at*x+ft*S+ct*L+xt*H,at*T+ft*P+ct*I+xt*Y,at*E+ft*R+ct*B+xt*$,at*M+ft*w+ct*G+xt*J)},fromRotationXYTranslation:function(c,p,m){var v=p.x,x=p.y,T=p.z,E=Math.sin(c.x),M=Math.cos(c.x),S=Math.sin(c.y),P=Math.cos(c.y),R=v,w=x,L=T,I=-E,B=0-I*S,G=0-M*S,H=I*P,Y=M*P;return m||(R=P*v+S*T,w=B*v+M*x+H*T,L=G*v+E*x+Y*T),this.setValues(P,B,G,0,0,M,E,0,S,H,Y,0,R,w,L,1)},getMaxScaleOnAxis:function(){var c=this.val;return Math.sqrt(Math.max(c[0]*c[0]+c[1]*c[1]+c[2]*c[2],c[4]*c[4]+c[5]*c[5]+c[6]*c[6],c[8]*c[8]+c[9]*c[9]+c[10]*c[10]))}}),h=new u,o=new u,a=new g,d=new g,r=new g;C.exports=u},function(C,F,n){"use strict";function l(V,X,W){W=W||2;var rt,ot,at,ft,ct,xt,mt,j=X&&X.length,K=j?X[0]*W:V.length,q=g(V,0,K,W,!0),et=[];if(!q||q.next===q.prev)return et;if(j&&(q=function r(V,X,W,j){var q,et,at,K=[];for(q=0,et=X.length;q<et;q++)(at=g(V,X[q]*j,q<et-1?X[q+1]*j:V.length,j,!1))===at.next&&(at.steiner=!0),K.push(M(at));for(K.sort(c),q=0;q<K.length;q++)p(K[q],W),W=f(W,W.next);return W}(V,X,q,W)),V.length>80*W){rt=at=V[0],ot=ft=V[1];for(var Ct=W;Ct<K;Ct+=W)(ct=V[Ct])<rt&&(rt=ct),(xt=V[Ct+1])<ot&&(ot=xt),ct>at&&(at=ct),xt>ft&&(ft=xt);mt=0!==(mt=Math.max(at-rt,ft-ot))?1/mt:0}return u(q,et,W,rt,ot,mt),et}function g(V,X,W,j,K){var q,et;if(K===U(V,X,W,j)>0)for(q=X;q<W;q+=j)et=J(q,V[q],V[q+1],et);else for(q=W-j;q>=X;q-=j)et=J(q,V[q],V[q+1],et);return et&&w(et,et.next)&&(_(et),et=et.next),et}function f(V,X){if(!V)return V;X||(X=V);var j,W=V;do{if(j=!1,W.steiner||!w(W,W.next)&&0!==R(W.prev,W,W.next))W=W.next;else{if(_(W),(W=X=W.prev)===W.next)break;j=!0}}while(j||W!==X);return X}function u(V,X,W,j,K,q,et){if(V){!et&&q&&function x(V,X,W,j){var K=V;do{null===K.z&&(K.z=E(K.x,K.y,X,W,j)),K.prevZ=K.prev,K.nextZ=K.next,K=K.next}while(K!==V);K.prevZ.nextZ=null,K.prevZ=null,function T(V){var X,W,j,K,q,et,rt,ot,at=1;do{for(W=V,V=null,q=null,et=0;W;){for(et++,j=W,rt=0,X=0;X<at&&(rt++,j=j.nextZ);X++);for(ot=at;rt>0||ot>0&&j;)0!==rt&&(0===ot||!j||W.z<=j.z)?(K=W,W=W.nextZ,rt--):(K=j,j=j.nextZ,ot--),q?q.nextZ=K:V=K,K.prevZ=q,q=K;W=j}q.nextZ=null,at*=2}while(et>1);return V}(K)}(V,j,K,q);for(var ot,at,rt=V;V.prev!==V.next;)if(ot=V.prev,at=V.next,q?o(V,j,K,q):h(V))X.push(ot.i/W),X.push(V.i/W),X.push(at.i/W),_(V),V=at.next,rt=at.next;else if((V=at)===rt){et?1===et?u(V=a(f(V),X,W),X,W,j,K,q,2):2===et&&d(V,X,W,j,K,q):u(f(V),X,W,j,K,q,1);break}}}function h(V){var X=V.prev,W=V,j=V.next;if(R(X,W,j)>=0)return!1;for(var K=V.next.next;K!==V.prev;){if(S(X.x,X.y,W.x,W.y,j.x,j.y,K.x,K.y)&&R(K.prev,K,K.next)>=0)return!1;K=K.next}return!0}function o(V,X,W,j){var K=V.prev,q=V,et=V.next;if(R(K,q,et)>=0)return!1;for(var at=K.x>q.x?K.x>et.x?K.x:et.x:q.x>et.x?q.x:et.x,ft=K.y>q.y?K.y>et.y?K.y:et.y:q.y>et.y?q.y:et.y,ct=E(K.x<q.x?K.x<et.x?K.x:et.x:q.x<et.x?q.x:et.x,K.y<q.y?K.y<et.y?K.y:et.y:q.y<et.y?q.y:et.y,X,W,j),xt=E(at,ft,X,W,j),mt=V.prevZ,Ct=V.nextZ;mt&&mt.z>=ct&&Ct&&Ct.z<=xt;){if(mt!==V.prev&&mt!==V.next&&S(K.x,K.y,q.x,q.y,et.x,et.y,mt.x,mt.y)&&R(mt.prev,mt,mt.next)>=0||(mt=mt.prevZ,Ct!==V.prev&&Ct!==V.next&&S(K.x,K.y,q.x,q.y,et.x,et.y,Ct.x,Ct.y)&&R(Ct.prev,Ct,Ct.next)>=0))return!1;Ct=Ct.nextZ}for(;mt&&mt.z>=ct;){if(mt!==V.prev&&mt!==V.next&&S(K.x,K.y,q.x,q.y,et.x,et.y,mt.x,mt.y)&&R(mt.prev,mt,mt.next)>=0)return!1;mt=mt.prevZ}for(;Ct&&Ct.z<=xt;){if(Ct!==V.prev&&Ct!==V.next&&S(K.x,K.y,q.x,q.y,et.x,et.y,Ct.x,Ct.y)&&R(Ct.prev,Ct,Ct.next)>=0)return!1;Ct=Ct.nextZ}return!0}function a(V,X,W){var j=V;do{var K=j.prev,q=j.next.next;!w(K,q)&&L(K,j,j.next,q)&&H(K,q)&&H(q,K)&&(X.push(K.i/W),X.push(j.i/W),X.push(q.i/W),_(j),_(j.next),j=V=q),j=j.next}while(j!==V);return f(j)}function d(V,X,W,j,K,q){var et=V;do{for(var rt=et.next.next;rt!==et.prev;){if(et.i!==rt.i&&P(et,rt)){var ot=$(et,rt);return et=f(et,et.next),ot=f(ot,ot.next),u(et,X,W,j,K,q),void u(ot,X,W,j,K,q)}rt=rt.next}et=et.next}while(et!==V)}function c(V,X){return V.x-X.x}function p(V,X){if(X=function m(V,X){var et,W=X,j=V.x,K=V.y,q=-1/0;do{if(K<=W.y&&K>=W.next.y&&W.next.y!==W.y){var rt=W.x+(K-W.y)*(W.next.x-W.x)/(W.next.y-W.y);if(rt<=j&&rt>q){if(q=rt,rt===j){if(K===W.y)return W;if(K===W.next.y)return W.next}et=W.x<W.next.x?W:W.next}}W=W.next}while(W!==X);if(!et)return null;if(j===q)return et;var xt,ot=et,at=et.x,ft=et.y,ct=1/0;W=et;do{j>=W.x&&W.x>=at&&j!==W.x&&S(K<ft?j:q,K,at,ft,K<ft?q:j,K,W.x,W.y)&&(xt=Math.abs(K-W.y)/(j-W.x),H(W,V)&&(xt<ct||xt===ct&&(W.x>et.x||W.x===et.x&&v(et,W)))&&(et=W,ct=xt)),W=W.next}while(W!==ot);return et}(V,X)){var W=$(X,V);f(X,X.next),f(W,W.next)}}function v(V,X){return R(V.prev,V,X.prev)<0&&R(X.next,V,V.next)<0}function E(V,X,W,j,K){return(V=1431655765&((V=858993459&((V=252645135&((V=16711935&((V=32767*(V-W)*K)|V<<8))|V<<4))|V<<2))|V<<1))|(X=1431655765&((X=858993459&((X=252645135&((X=16711935&((X=32767*(X-j)*K)|X<<8))|X<<4))|X<<2))|X<<1))<<1}function M(V){var X=V,W=V;do{(X.x<W.x||X.x===W.x&&X.y<W.y)&&(W=X),X=X.next}while(X!==V);return W}function S(V,X,W,j,K,q,et,rt){return(K-et)*(X-rt)-(V-et)*(q-rt)>=0&&(V-et)*(j-rt)-(W-et)*(X-rt)>=0&&(W-et)*(q-rt)-(K-et)*(j-rt)>=0}function P(V,X){return V.next.i!==X.i&&V.prev.i!==X.i&&!function G(V,X){var W=V;do{if(W.i!==V.i&&W.next.i!==V.i&&W.i!==X.i&&W.next.i!==X.i&&L(W,W.next,V,X))return!0;W=W.next}while(W!==V);return!1}(V,X)&&(H(V,X)&&H(X,V)&&function Y(V,X){var W=V,j=!1,K=(V.x+X.x)/2,q=(V.y+X.y)/2;do{W.y>q!=W.next.y>q&&W.next.y!==W.y&&K<(W.next.x-W.x)*(q-W.y)/(W.next.y-W.y)+W.x&&(j=!j),W=W.next}while(W!==V);return j}(V,X)&&(R(V.prev,V,X.prev)||R(V,X.prev,X))||w(V,X)&&R(V.prev,V,V.next)>0&&R(X.prev,X,X.next)>0)}function R(V,X,W){return(X.y-V.y)*(W.x-X.x)-(X.x-V.x)*(W.y-X.y)}function w(V,X){return V.x===X.x&&V.y===X.y}function L(V,X,W,j){var K=B(R(V,X,W)),q=B(R(V,X,j)),et=B(R(W,j,V)),rt=B(R(W,j,X));return!!(K!==q&&et!==rt||0===K&&I(V,W,X)||0===q&&I(V,j,X)||0===et&&I(W,V,j)||0===rt&&I(W,X,j))}function I(V,X,W){return X.x<=Math.max(V.x,W.x)&&X.x>=Math.min(V.x,W.x)&&X.y<=Math.max(V.y,W.y)&&X.y>=Math.min(V.y,W.y)}function B(V){return V>0?1:V<0?-1:0}function H(V,X){return R(V.prev,V,V.next)<0?R(V,X,V.next)>=0&&R(V,V.prev,X)>=0:R(V,X,V.prev)<0||R(V,V.next,X)<0}function $(V,X){var W=new tt(V.i,V.x,V.y),j=new tt(X.i,X.x,X.y),K=V.next,q=X.prev;return V.next=X,X.prev=V,W.next=K,K.prev=W,j.next=W,W.prev=j,q.next=j,j.prev=q,j}function J(V,X,W,j){var K=new tt(V,X,W);return j?(K.next=j.next,K.prev=j,j.next.prev=K,j.next=K):(K.prev=K,K.next=K),K}function _(V){V.next.prev=V.prev,V.prev.next=V.next,V.prevZ&&(V.prevZ.nextZ=V.nextZ),V.nextZ&&(V.nextZ.prevZ=V.prevZ)}function tt(V,X,W){this.i=V,this.x=X,this.y=W,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function U(V,X,W,j){for(var K=0,q=X,et=W-j;q<W;q+=j)K+=(V[et]-V[q])*(V[q+1]+V[et+1]),et=q;return K}l.deviation=function(V,X,W,j){var K=X&&X.length,et=Math.abs(U(V,0,K?X[0]*W:V.length,W));if(K)for(var rt=0,ot=X.length;rt<ot;rt++)et-=Math.abs(U(V,X[rt]*W,rt<ot-1?X[rt+1]*W:V.length,W));var ct=0;for(rt=0;rt<j.length;rt+=3){var xt=j[rt]*W,mt=j[rt+1]*W,Ct=j[rt+2]*W;ct+=Math.abs((V[xt]-V[Ct])*(V[mt+1]-V[xt+1])-(V[xt]-V[mt])*(V[Ct+1]-V[xt+1]))}return 0===et&&0===ct?0:Math.abs((ct-et)/et)},l.flatten=function(V){for(var X=V[0][0].length,W={vertices:[],holes:[],dimensions:X},j=0,K=0;K<V.length;K++){for(var q=0;q<V[K].length;q++)for(var et=0;et<X;et++)W.vertices.push(V[K][q][et]);K>0&&W.holes.push(j+=V[K-1].length)}return W},C.exports=l},function(C,F,n){C.exports={COMPLETE:n(983),DECODED:n(984),DECODED_ALL:n(985),DESTROY:n(986),DETUNE:n(987),GLOBAL_DETUNE:n(988),GLOBAL_MUTE:n(989),GLOBAL_RATE:n(990),GLOBAL_VOLUME:n(991),LOOP:n(992),LOOPED:n(993),MUTE:n(994),PAN:n(995),PAUSE_ALL:n(996),PAUSE:n(997),PLAY:n(998),RATE:n(999),RESUME_ALL:n(1e3),RESUME:n(1001),SEEK:n(1002),STOP_ALL:n(1003),STOP:n(1004),UNLOCKED:n(1005),VOLUME:n(1006)}},function(C,F,n){var l=n(0),g=n(20),f=n(23),u=n(8),h=n(2),o=n(7),a=new l({Extends:f,initialize:function d(r,c,p,m,v){var T,x="png";if(o(c)){var E=c;c=h(E,"key"),p=h(E,"url"),T=h(E,"normalMap"),m=h(E,"xhrSettings"),x=h(E,"extension",x),v=h(E,"frameConfig")}if(Array.isArray(p)&&(T=p[1],p=p[0]),f.call(this,r,{type:"image",cache:r.textureManager,extension:x,responseType:"blob",key:c,url:p,xhrSettings:m,config:v}),T){var S=new d(r,this.key,T,m,v);S.type="normalMap",this.setLink(S),r.addFile(S)}},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var d=this;this.data.onload=function(){f.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(d.data),d.onProcessError()},f.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var d,r=this.linkFile;r&&r.state===g.FILE_COMPLETE?(d="image"===this.type?this.cache.addImage(this.key,this.data,r.data):this.cache.addImage(r.key,r.data,this.data),this.pendingDestroy(d),r.pendingDestroy(d)):r||(d=this.cache.addImage(this.key,this.data),this.pendingDestroy(d))}});u.register("image",function(d,r,c){if(Array.isArray(d))for(var p=0;p<d.length;p++)this.addFile(new a(this,d[p]));else this.addFile(new a(this,d,r,c));return this}),C.exports=a},function(C,F,n){var l={};C.exports=l;var g=n(94),f=n(116),u=n(267),h=n(50),o=n(117),a=n(585);!function(){l._inertiaScale=4,l._nextCollidingGroupId=1,l._nextNonCollidingGroupId=-1,l._nextCategory=1,l.create=function(r){var c={id:h.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!r.hasOwnProperty("position")&&r.hasOwnProperty("vertices")?r.position=g.centre(r.vertices):r.hasOwnProperty("vertices")||(c.vertices=g.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var p=h.extend(c,r);return d(p,r),p.setOnCollideWith=function(m,v){return v?this.onCollideWith[m.id]=v:delete this.onCollideWith[m.id],this},p},l.nextGroup=function(r){return r?l._nextNonCollidingGroupId--:l._nextCollidingGroupId++},l.nextCategory=function(){return l._nextCategory=l._nextCategory<<1,l._nextCategory};var d=function(r,c){c=c||{},l.set(r,{bounds:r.bounds||o.create(r.vertices),positionPrev:r.positionPrev||f.clone(r.position),anglePrev:r.anglePrev||r.angle,vertices:r.vertices,parts:r.parts||[r],isStatic:r.isStatic,isSleeping:r.isSleeping,parent:r.parent||r});var p=r.bounds;if(g.rotate(r.vertices,r.angle,r.position),a.rotate(r.axes,r.angle),o.update(p,r.vertices,r.velocity),l.set(r,{axes:c.axes||r.axes,area:c.area||r.area,mass:c.mass||r.mass,inertia:c.inertia||r.inertia}),1===r.parts.length){var m=r.centerOfMass,v=r.centerOffset,x=p.max.x-p.min.x,T=p.max.y-p.min.y;m.x=-(p.min.x-r.position.x)/x,m.y=-(p.min.y-r.position.y)/T,v.x=x*m.x,v.y=T*m.y}};l.set=function(r,c,p){var m;for(m in"string"==typeof c&&(m=c,(c={})[m]=p),c)if(Object.prototype.hasOwnProperty.call(c,m))switch(p=c[m],m){case"isStatic":l.setStatic(r,p);break;case"isSleeping":u.set(r,p);break;case"mass":l.setMass(r,p);break;case"density":l.setDensity(r,p);break;case"inertia":l.setInertia(r,p);break;case"vertices":l.setVertices(r,p);break;case"position":l.setPosition(r,p);break;case"angle":l.setAngle(r,p);break;case"velocity":l.setVelocity(r,p);break;case"angularVelocity":l.setAngularVelocity(r,p);break;case"parts":l.setParts(r,p);break;case"centre":l.setCentre(r,p);break;default:r[m]=p}},l.setStatic=function(r,c){for(var p=0;p<r.parts.length;p++){var m=r.parts[p];m.isStatic=c,c?(m._original={restitution:m.restitution,friction:m.friction,mass:m.mass,inertia:m.inertia,density:m.density,inverseMass:m.inverseMass,inverseInertia:m.inverseInertia},m.restitution=0,m.friction=1,m.mass=m.inertia=m.density=1/0,m.inverseMass=m.inverseInertia=0,m.positionPrev.x=m.position.x,m.positionPrev.y=m.position.y,m.anglePrev=m.angle,m.angularVelocity=0,m.speed=0,m.angularSpeed=0,m.motion=0):m._original&&(m.restitution=m._original.restitution,m.friction=m._original.friction,m.mass=m._original.mass,m.inertia=m._original.inertia,m.density=m._original.density,m.inverseMass=m._original.inverseMass,m.inverseInertia=m._original.inverseInertia,m._original=null)}},l.setMass=function(r,c){r.inertia=r.inertia/(r.mass/6)*(c/6),r.inverseInertia=1/r.inertia,r.mass=c,r.inverseMass=1/r.mass,r.density=r.mass/r.area},l.setDensity=function(r,c){l.setMass(r,c*r.area),r.density=c},l.setInertia=function(r,c){r.inertia=c,r.inverseInertia=1/r.inertia},l.setVertices=function(r,c){r.vertices=c[0].body===r?c:g.create(c,r),r.axes=a.fromVertices(r.vertices),r.area=g.area(r.vertices),l.setMass(r,r.density*r.area);var p=g.centre(r.vertices);g.translate(r.vertices,p,-1),l.setInertia(r,l._inertiaScale*g.inertia(r.vertices,r.mass)),g.translate(r.vertices,r.position),o.update(r.bounds,r.vertices,r.velocity)},l.setParts=function(r,c,p){var m;for(c=c.slice(0),r.parts.length=0,r.parts.push(r),r.parent=r,m=0;m<c.length;m++){var v=c[m];v!==r&&(v.parent=r,r.parts.push(v))}if(1!==r.parts.length){if(p=void 0===p||p){var x=[];for(m=0;m<c.length;m++)x=x.concat(c[m].vertices);g.clockwiseSort(x);var T=g.hull(x),E=g.centre(T);l.setVertices(r,T),g.translate(r.vertices,E)}var M=l._totalProperties(r),S=M.centre.x,P=M.centre.y,R=r.bounds,w=r.centerOfMass,L=r.centerOffset;o.update(R,r.vertices,r.velocity),w.x=-(R.min.x-S)/(R.max.x-R.min.x),w.y=-(R.min.y-P)/(R.max.y-R.min.y),L.x=S,L.y=P,r.area=M.area,r.parent=r,r.position.x=S,r.position.y=P,r.positionPrev.x=S,r.positionPrev.y=P,l.setMass(r,M.mass),l.setInertia(r,M.inertia),l.setPosition(r,M.centre)}},l.setCentre=function(r,c,p){p?(r.positionPrev.x+=c.x,r.positionPrev.y+=c.y,r.position.x+=c.x,r.position.y+=c.y):(r.positionPrev.x=c.x-(r.position.x-r.positionPrev.x),r.positionPrev.y=c.y-(r.position.y-r.positionPrev.y),r.position.x=c.x,r.position.y=c.y)},l.setPosition=function(r,c){var p=f.sub(c,r.position);r.positionPrev.x+=p.x,r.positionPrev.y+=p.y;for(var m=0;m<r.parts.length;m++){var v=r.parts[m];v.position.x+=p.x,v.position.y+=p.y,g.translate(v.vertices,p),o.update(v.bounds,v.vertices,r.velocity)}},l.setAngle=function(r,c){var p=c-r.angle;r.anglePrev+=p;for(var m=0;m<r.parts.length;m++){var v=r.parts[m];v.angle+=p,g.rotate(v.vertices,p,r.position),a.rotate(v.axes,p),o.update(v.bounds,v.vertices,r.velocity),m>0&&f.rotateAbout(v.position,p,r.position,v.position)}},l.setVelocity=function(r,c){r.positionPrev.x=r.position.x-c.x,r.positionPrev.y=r.position.y-c.y,r.velocity.x=c.x,r.velocity.y=c.y,r.speed=f.magnitude(r.velocity)},l.setAngularVelocity=function(r,c){r.anglePrev=r.angle-c,r.angularVelocity=c,r.angularSpeed=Math.abs(r.angularVelocity)},l.translate=function(r,c){l.setPosition(r,f.add(r.position,c))},l.rotate=function(r,c,p){if(p){var m=Math.cos(c),v=Math.sin(c),x=r.position.x-p.x,T=r.position.y-p.y;l.setPosition(r,{x:p.x+(x*m-T*v),y:p.y+(x*v+T*m)}),l.setAngle(r,r.angle+c)}else l.setAngle(r,r.angle+c)},l.scale=function(r,c,p,m){var v=0,x=0;m=m||r.position;for(var T=0;T<r.parts.length;T++){var E=r.parts[T];E.scale.x=c,E.scale.y=p,g.scale(E.vertices,c,p,m),E.axes=a.fromVertices(E.vertices),E.area=g.area(E.vertices),l.setMass(E,r.density*E.area),g.translate(E.vertices,{x:-E.position.x,y:-E.position.y}),l.setInertia(E,l._inertiaScale*g.inertia(E.vertices,E.mass)),g.translate(E.vertices,{x:E.position.x,y:E.position.y}),T>0&&(v+=E.area,x+=E.inertia),E.position.x=m.x+(E.position.x-m.x)*c,E.position.y=m.y+(E.position.y-m.y)*p,o.update(E.bounds,E.vertices,r.velocity)}r.parts.length>1&&(r.area=v,r.isStatic||(l.setMass(r,r.density*v),l.setInertia(r,x))),r.circleRadius&&(c===p?r.circleRadius*=c:r.circleRadius=null)},l.update=function(r,c,p,m){var v=Math.pow(c*p*r.timeScale,2),x=1-r.frictionAir*p*r.timeScale,E=r.position.y-r.positionPrev.y;r.velocity.x=(r.position.x-r.positionPrev.x)*x*m+r.force.x/r.mass*v,r.velocity.y=E*x*m+r.force.y/r.mass*v,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.position.x+=r.velocity.x,r.position.y+=r.velocity.y,r.angularVelocity=(r.angle-r.anglePrev)*x*m+r.torque/r.inertia*v,r.anglePrev=r.angle,r.angle+=r.angularVelocity,r.speed=f.magnitude(r.velocity),r.angularSpeed=Math.abs(r.angularVelocity);for(var M=0;M<r.parts.length;M++){var S=r.parts[M];g.translate(S.vertices,r.velocity),M>0&&(S.position.x+=r.velocity.x,S.position.y+=r.velocity.y),0!==r.angularVelocity&&(g.rotate(S.vertices,r.angularVelocity,r.position),a.rotate(S.axes,r.angularVelocity),M>0&&f.rotateAbout(S.position,r.angularVelocity,r.position,S.position)),o.update(S.bounds,S.vertices,r.velocity)}},l.applyForce=function(r,c,p){r.force.x+=p.x,r.force.y+=p.y,r.torque+=(c.x-r.position.x)*p.y-(c.y-r.position.y)*p.x},l._totalProperties=function(r){for(var c={mass:0,area:0,inertia:0,centre:{x:0,y:0}},p=1===r.parts.length?0:1;p<r.parts.length;p++){var m=r.parts[p],v=m.mass!==1/0?m.mass:1;c.mass+=v,c.area+=m.area,c.inertia+=m.inertia,c.centre=f.add(c.centre,f.mult(m.position,v))}return c.centre=f.div(c.centre,c.mass),c}}()},function(C,F){C.exports=function(l,g){g?l.setCollision(!0,!0,!0,!0,!1):l.resetCollision(!1)}},function(C,F,n){var l=n(162),g=n(0),f=n(11),u=n(15),h=n(1059),o=new g({Extends:u,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.ScrollFactor,f.Size,f.TextureCrop,f.Tint,f.Transform,f.Visible,h],initialize:function(d,r,c,p,m){u.call(this,d,"Sprite"),this._crop=this.resetCropObject(),this.anims=new l(this),this.setTexture(p,m),this.setPosition(r,c),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(a,d){this.anims.update(a,d)},play:function(a,d){return this.anims.play(a,d)},playReverse:function(a,d){return this.anims.playReverse(a,d)},playAfterDelay:function(a,d){return this.anims.playAfterDelay(a,d)},playAfterRepeat:function(a,d){return this.anims.playAfterRepeat(a,d)},chain:function(a){return this.anims.chain(a)},stop:function(){return this.anims.stop()},stopAfterDelay:function(a){return this.anims.stopAfterDelay(a)},stopAfterRepeat:function(a){return this.anims.stopAfterRepeat(a)},stopOnFrame:function(a){return this.anims.stopOnFrame(a)},toJSON:function(){return f.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});C.exports=o},function(C,F){C.exports=function(l,g){if(!(g>=l.length)){for(var f=l.length-1,u=l[g],h=g;h<f;h++)l[h]=l[h+1];return l.length=f,u}}},function(C,F,n){C.exports={ADDED_TO_SCENE:n(641),DESTROY:n(642),REMOVED_FROM_SCENE:n(643),VIDEO_COMPLETE:n(644),VIDEO_CREATED:n(645),VIDEO_ERROR:n(646),VIDEO_LOOP:n(647),VIDEO_PLAY:n(648),VIDEO_SEEKED:n(649),VIDEO_SEEKING:n(650),VIDEO_STOP:n(651),VIDEO_TIMEOUT:n(652),VIDEO_UNLOCKED:n(653)}},function(C,F){C.exports=function(l,g,f,u){return void 0===f&&(f=0),0===g?l:(l-=f,l=g*Math.floor(l/g),u?(f+l)/g:f+l)}},function(C,F){C.exports=function(l){var g={};for(var f in l)g[f]=Array.isArray(l[f])?l[f].slice(0):l[f];return g}},function(C,F){C.exports=function(l,g,f,u){var h=l.length;if(g<0||g>h||g>=f||f>h||g+f>h){if(u)throw new Error("Range Error: Values outside acceptable range");return!1}return!0}},function(C,F){function n(u,h){return String(u).localeCompare(h)}function g(u,h,o,a){var p,m,v,x,T,d=u.length,r=0,c=2*o;for(p=0;p<d;p+=c)for(v=(m=p+o)+o,m>d&&(m=d),v>d&&(v=d),x=p,T=m;;)if(x<m&&T<v)h(u[x],u[T])<=0?a[r++]=u[x++]:a[r++]=u[T++];else if(x<m)a[r++]=u[x++];else{if(!(T<v))break;a[r++]=u[T++]}}C.exports=function(u,h){void 0===h&&(h=n);var o=function l(u,h){var o=u.length;if(o<=1)return u;for(var a=new Array(o),d=1;d<o;d*=2){g(u,h,d,a);var r=u;u=a,a=r}return u}(u,h);return o!==u&&g(o,null,u.length,u),u}},function(C,F,n){var l=n(132),g=n(202);C.exports=function(u,h){var o=l.Power0;if("string"==typeof u)if(l.hasOwnProperty(u))o=l[u];else{var a="";u.indexOf(".")&&("in"===(a=u.substr(u.indexOf(".")+1)).toLowerCase()?a="easeIn":"out"===a.toLowerCase()?a="easeOut":"inout"===a.toLowerCase()&&(a="easeInOut")),u=g(u.substr(0,u.indexOf(".")+1)+a),l.hasOwnProperty(u)&&(o=l[u])}else"function"==typeof u?o=u:Array.isArray(u);if(!h)return o;var d=h.slice(0);return d.unshift(0),function(r){return d[0]=r,o.apply(this,d)}}},function(C,F,n){var l=n(12);C.exports=function(f,u,h,o,a){var d=f.strokeTint,r=l.getTintAppendFloatAlpha(u.strokeColor,u.strokeAlpha*h);d.TL=r,d.TR=r,d.BL=r,d.BR=r;var c=u.pathData,p=c.length-1,m=u.lineWidth,v=m/2,x=c[0]-o,T=c[1]-a;u.closePath||(p-=2);for(var E=2;E<p;E+=2){var M=c[E]-o,S=c[E+1]-a;f.batchLine(x,T,M,S,v,v,m,E-2,!!u.closePath&&E===p-1),x=M,T=S}}},function(C,F,n){var l=n(0),g=n(112),f=n(470),u=n(471),h=n(55),o=n(45),a=n(178),d=new l({initialize:function(c,p,m,v,x,T){void 0===c&&(c=0),void 0===p&&(p=0),void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=0),void 0===T&&(T=0),this.type=h.TRIANGLE,this.x1=c,this.y1=p,this.x2=m,this.y2=v,this.x3=x,this.y3=T},contains:function(r,c){return g(this,r,c)},getPoint:function(r,c){return f(this,r,c)},getPoints:function(r,c,p){return u(this,r,c,p)},getRandomPoint:function(r){return a(this,r)},setTo:function(r,c,p,m,v,x){return void 0===r&&(r=0),void 0===c&&(c=0),void 0===p&&(p=0),void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=0),this.x1=r,this.y1=c,this.x2=p,this.y2=m,this.x3=v,this.y3=x,this},getLineA:function(r){return void 0===r&&(r=new o),r.setTo(this.x1,this.y1,this.x2,this.y2),r},getLineB:function(r){return void 0===r&&(r=new o),r.setTo(this.x2,this.y2,this.x3,this.y3),r},getLineC:function(r){return void 0===r&&(r=new o),r.setTo(this.x3,this.y3,this.x1,this.y1),r},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(r){var c;this.x1-=c=this.x1<=this.x2&&this.x1<=this.x3?this.x1-r:this.x2<=this.x1&&this.x2<=this.x3?this.x2-r:this.x3-r,this.x2-=c,this.x3-=c}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(r){var c;this.x1-=c=this.x1>=this.x2&&this.x1>=this.x3?this.x1-r:this.x2>=this.x1&&this.x2>=this.x3?this.x2-r:this.x3-r,this.x2-=c,this.x3-=c}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(r){var c;this.y1-=c=this.y1<=this.y2&&this.y1<=this.y3?this.y1-r:this.y2<=this.y1&&this.y2<=this.y3?this.y2-r:this.y3-r,this.y2-=c,this.y3-=c}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(r){var c;this.y1-=c=this.y1>=this.y2&&this.y1>=this.y3?this.y1-r:this.y2>=this.y1&&this.y2>=this.y3?this.y2-r:this.y3-r,this.y2-=c,this.y3-=c}}});C.exports=d},function(C,F,n){var l=n(29),g=n(0),f=n(11),u=n(496),h=new g({Mixins:[f.Alpha,f.Flip,f.Visible],initialize:function(a,d,r,c,p,m,v,x){this.layer=a,this.index=d,this.x=r,this.y=c,this.width=p,this.height=m,this.baseWidth=void 0!==v?v:p,this.baseHeight=void 0!==x?x:m,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(o,a){return!(o<this.pixelX||a<this.pixelY||o>this.right||a>this.bottom)},copy:function(o){return this.index=o.index,this.alpha=o.alpha,this.properties=o.properties,this.visible=o.visible,this.setFlip(o.flipX,o.flipY),this.tint=o.tint,this.rotation=o.rotation,this.collideUp=o.collideUp,this.collideDown=o.collideDown,this.collideLeft=o.collideLeft,this.collideRight=o.collideRight,this.collisionCallback=o.collisionCallback,this.collisionCallbackContext=o.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(o){var a=this.tilemapLayer;return a?a.tileToWorldX(this.x,o):this.x*this.baseWidth},getRight:function(o){var a=this.tilemapLayer;return a?this.getLeft(o)+this.width*a.scaleX:this.getLeft(o)+this.width},getTop:function(o){var a=this.tilemapLayer;return a?a.tileToWorldY(this.y,o)-(this.height-this.baseHeight)*a.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(o){var a=this.tilemapLayer;return a?this.getTop(o)+this.height*a.scaleY:this.getTop(o)+this.height},getBounds:function(o,a){return void 0===a&&(a=new u),a.x=this.getLeft(),a.y=this.getTop(),a.width=this.getRight()-a.x,a.height=this.getBottom()-a.y,a},getCenterX:function(o){return(this.getLeft(o)+this.getRight(o))/2},getCenterY:function(o){return(this.getTop(o)+this.getBottom(o))/2},intersects:function(o,a,d,r){return!(d<=this.pixelX||r<=this.pixelY||o>=this.right||a>=this.bottom)},isInteresting:function(o,a){return o&&a?this.canCollide||this.hasInterestingFace:o?this.collides:!!a&&this.hasInterestingFace},resetCollision:function(o){return void 0===o&&(o=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,o&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(o,a,d,r,c){return void 0===a&&(a=o),void 0===d&&(d=o),void 0===r&&(r=o),void 0===c&&(c=!0),this.collideLeft=o,this.collideRight=a,this.collideUp=d,this.collideDown=r,this.faceLeft=o,this.faceRight=a,this.faceTop=d,this.faceBottom=r,c&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},setCollisionCallback:function(o,a){return null===o?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=o,this.collisionCallbackContext=a),this},setSize:function(o,a,d,r){return void 0!==o&&(this.width=o),void 0!==a&&(this.height=a),void 0!==d&&(this.baseWidth=d),void 0!==r&&(this.baseHeight=r),this.updatePixelXY(),this},updatePixelXY:function(){var o=this.layer.orientation;if(o===l.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(o===l.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(o===l.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(o===l.HEXAGONAL){var a=this.layer.hexSideLength,d=(this.baseHeight-a)/2+a;this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*d}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||void 0!==this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var o=this.layer.tilemapLayer;if(o){var a=o.gidMap[this.index];if(a)return a}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var o=this.tilemapLayer;return o?o.tilemap:null}}});C.exports=h},function(C,F){C.exports=function(l){return l.x-l.width*l.originX+.5*l.width}},function(C,F){C.exports=function(l,g){return l.x=g+l.width*l.originX-.5*l.width,l}},function(C,F){C.exports=function(l){return l.y-l.height*l.originY+.5*l.height}},function(C,F){C.exports=function(l,g){return l.y=g+l.height*l.originY-.5*l.height,l}},function(C,F,n){C.exports={POST_RENDER:n(626),PRE_RENDER:n(627),RENDER:n(628),RESIZE:n(629)}},function(C,F,n){var l=n(74);C.exports=function(f,u,h,o){var a;if(void 0===o&&(o=f),!Array.isArray(u))return-1!==(a=f.indexOf(u))?(l(f,a),h&&h.call(o,u),u):null;for(var d=u.length-1,r=[];d>=0;){var c=u[d];-1!==(a=f.indexOf(c))&&(l(f,a),r.push(c),h&&h.call(o,c)),d--}return r}},function(C,F,n){var l=n(0),g=n(196),f=n(10),u=n(3),h=new l({initialize:function(a){this.type=a,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new u,this._tmpVec2B=new u},draw:function(o,a){return void 0===a&&(a=32),o.strokePoints(this.getPoints(a))},getBounds:function(o,a){o||(o=new f),void 0===a&&(a=16);var d=this.getLength();a>d&&(a=d/2);var r=Math.max(1,Math.round(d/a));return g(this.getSpacedPoints(r),o)},getDistancePoints:function(o){var a=this.getLength(),d=Math.max(1,a/o);return this.getSpacedPoints(d)},getEndPoint:function(o){return void 0===o&&(o=new u),this.getPointAt(1,o)},getLength:function(){var o=this.getLengths();return o[o.length-1]},getLengths:function(o){if(void 0===o&&(o=this.arcLengthDivisions),this.cacheArcLengths.length===o+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var d,a=[],r=this.getPoint(0,this._tmpVec2A),c=0;a.push(0);for(var p=1;p<=o;p++)c+=(d=this.getPoint(p/o,this._tmpVec2B)).distance(r),a.push(c),r.copy(d);return this.cacheArcLengths=a,a},getPointAt:function(o,a){var d=this.getUtoTmapping(o);return this.getPoint(d,a)},getPoints:function(o,a,d){void 0===d&&(d=[]),o||(o=a?this.getLength()/a:this.defaultDivisions);for(var r=0;r<=o;r++)d.push(this.getPoint(r/o));return d},getRandomPoint:function(o){return void 0===o&&(o=new u),this.getPoint(Math.random(),o)},getSpacedPoints:function(o,a,d){void 0===d&&(d=[]),o||(o=a?this.getLength()/a:this.defaultDivisions);for(var r=0;r<=o;r++){var c=this.getUtoTmapping(r/o,null,o);d.push(this.getPoint(c))}return d},getStartPoint:function(o){return void 0===o&&(o=new u),this.getPointAt(0,o)},getTangent:function(o,a){void 0===a&&(a=new u);var d=1e-4,r=o-d,c=o+d;return r<0&&(r=0),c>1&&(c=1),this.getPoint(r,this._tmpVec2A),this.getPoint(c,a),a.subtract(this._tmpVec2A).normalize()},getTangentAt:function(o,a){var d=this.getUtoTmapping(o);return this.getTangent(d,a)},getTFromDistance:function(o,a){return o<=0?0:this.getUtoTmapping(0,o,a)},getUtoTmapping:function(o,a,d){var m,r=this.getLengths(d),c=0,p=r.length;m=a?Math.min(a,r[p-1]):o*r[p-1];for(var T,v=0,x=p-1;v<=x;)if((T=r[c=Math.floor(v+(x-v)/2)]-m)<0)v=c+1;else{if(!(T>0)){x=c;break}x=c-1}if(r[c=x]===m)return c/(p-1);var E=r[c];return(c+(m-E)/(r[c+1]-E))/(p-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});C.exports=h},function(C,F,n){C.exports={ADD:n(964),COMPLETE:n(965),FILE_COMPLETE:n(966),FILE_KEY_COMPLETE:n(967),FILE_LOAD_ERROR:n(968),FILE_LOAD:n(969),FILE_PROGRESS:n(970),POST_PROCESS:n(971),PROGRESS:n(972),START:n(973)}},function(C,F,n){var l=n(4);C.exports=function(f,u,h){void 0===h&&(h=new l);var o=f.x1,a=f.y1,d=f.x2,r=f.y2,c=u.x1,p=u.y1,m=u.x2,v=u.y2,E=(v-p)*(d-o)-(m-c)*(r-a);if(0===E)return!1;var M=((m-c)*(a-p)-(v-p)*(o-c))/E,S=((d-o)*(a-p)-(r-a)*(o-c))/E;return M>=0&&M<=1&&S>=0&&S<=1&&(h.x=o+M*(d-o),h.y=a+M*(r-a),!0)}},function(C,F){C.exports=function(l){return Math.atan2(l.y2-l.y1,l.x2-l.x1)}},function(C,F,n){var l={};C.exports=l;var g=n(116),f=n(50);l.create=function(u,h){for(var o=[],a=0;a<u.length;a++){var d=u[a],r={x:d.x,y:d.y,index:a,body:h,isInternal:!1,contact:null,offset:null};r.contact={vertex:r,normalImpulse:0,tangentImpulse:0},o.push(r)}return o},l.fromPath=function(u,h){var a=[];return u.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,function(d,r,c){a.push({x:parseFloat(r),y:parseFloat(c)})}),l.create(a,h)},l.centre=function(u){for(var a,d,r,h=l.area(u,!0),o={x:0,y:0},c=0;c<u.length;c++)a=g.cross(u[c],u[r=(c+1)%u.length]),d=g.mult(g.add(u[c],u[r]),a),o=g.add(o,d);return g.div(o,6*h)},l.mean=function(u){for(var h={x:0,y:0},o=0;o<u.length;o++)h.x+=u[o].x,h.y+=u[o].y;return g.div(h,u.length)},l.area=function(u,h){for(var o=0,a=u.length-1,d=0;d<u.length;d++)o+=(u[a].x-u[d].x)*(u[a].y+u[d].y),a=d;return h?o/2:Math.abs(o)/2},l.inertia=function(u,h){for(var r,c,o=0,a=0,d=u,p=0;p<d.length;p++)c=(p+1)%d.length,o+=(r=Math.abs(g.cross(d[c],d[p])))*(g.dot(d[c],d[c])+g.dot(d[c],d[p])+g.dot(d[p],d[p])),a+=r;return h/6*(o/a)},l.translate=function(u,h,o){var a;if(o)for(a=0;a<u.length;a++)u[a].x+=h.x*o,u[a].y+=h.y*o;else for(a=0;a<u.length;a++)u[a].x+=h.x,u[a].y+=h.y;return u},l.rotate=function(u,h,o){if(0!==h){for(var a=Math.cos(h),d=Math.sin(h),r=0;r<u.length;r++){var c=u[r],p=c.x-o.x,m=c.y-o.y;c.x=o.x+(p*a-m*d),c.y=o.y+(p*d+m*a)}return u}},l.contains=function(u,h){for(var o=0;o<u.length;o++){var a=u[o],d=u[(o+1)%u.length];if((h.x-a.x)*(d.y-a.y)+(h.y-a.y)*(a.x-d.x)>0)return!1}return!0},l.scale=function(u,h,o,a){if(1===h&&1===o)return u;a=a||l.centre(u);for(var r,c=0;c<u.length;c++)r=g.sub(u[c],a),u[c].x=a.x+r.x*h,u[c].y=a.y+r.y*o;return u},l.chamfer=function(u,h,o,a,d){h="number"==typeof h?[h]:h||[8],o=void 0!==o?o:-1,a=a||2,d=d||14;for(var r=[],c=0;c<u.length;c++){var p=u[c-1>=0?c-1:u.length-1],m=u[c],v=u[(c+1)%u.length],x=h[c<h.length?c:h.length-1];if(0!==x){var T=g.normalise({x:m.y-p.y,y:p.x-m.x}),E=g.normalise({x:v.y-m.y,y:m.x-v.x}),M=Math.sqrt(2*Math.pow(x,2)),S=g.mult(f.clone(T),x),P=g.normalise(g.mult(g.add(T,E),.5)),R=g.sub(m,g.mult(P,M)),w=o;-1===o&&(w=1.75*Math.pow(x,.32)),(w=f.clamp(w,a,d))%2==1&&(w+=1);for(var I=Math.acos(g.dot(T,E))/w,B=0;B<w;B++)r.push(g.add(g.rotate(S,I*B),R))}else r.push(m)}return r},l.clockwiseSort=function(u){var h=l.mean(u);return u.sort(function(o,a){return g.angle(h,o)-g.angle(h,a)}),u},l.isConvex=function(u){var a,d,r,c,h=0,o=u.length;if(o<3)return null;for(a=0;a<o;a++)if(c=(u[d=(a+1)%o].x-u[a].x)*(u[r=(a+2)%o].y-u[d].y),(c-=(u[d].y-u[a].y)*(u[r].x-u[d].x))<0?h|=1:c>0&&(h|=2),3===h)return!1;return 0!==h||null},l.hull=function(u){var a,d,h=[],o=[];for((u=u.slice(0)).sort(function(r,c){var p=r.x-c.x;return 0!==p?p:r.y-c.y}),d=0;d<u.length;d+=1){for(a=u[d];o.length>=2&&g.cross3(o[o.length-2],o[o.length-1],a)<=0;)o.pop();o.push(a)}for(d=u.length-1;d>=0;d-=1){for(a=u[d];h.length>=2&&g.cross3(h[h.length-2],h[h.length-1],a)<=0;)h.pop();h.push(a)}return h.pop(),o.pop(),h.concat(o)}},function(C,F,n){var l=n(18);C.exports=function(f,u,h){return(h-u)*l(f,0,1)}},function(C,F){C.exports=function(l,g,f){return l&&l.hasOwnProperty(g)?l[g]:f}},function(C,F){C.exports={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26}},function(C,F,n){var l=n(0),g=n(309),f=new l({initialize:function(h,o){this.parent=h,this.events=o,o||(this.events=h.events?h.events:h),this.list={},this.values={},this._frozen=!1,!h.hasOwnProperty("sys")&&this.events&&this.events.once(g.DESTROY,this.destroy,this)},get:function(u){var h=this.list;if(Array.isArray(u)){for(var o=[],a=0;a<u.length;a++)o.push(h[u[a]]);return o}return h[u]},getAll:function(){var u={};for(var h in this.list)this.list.hasOwnProperty(h)&&(u[h]=this.list[h]);return u},query:function(u){var h={};for(var o in this.list)this.list.hasOwnProperty(o)&&o.match(u)&&(h[o]=this.list[o]);return h},set:function(u,h){if(this._frozen)return this;if("string"==typeof u)return this.setValue(u,h);for(var o in u)this.setValue(o,u[o]);return this},inc:function(u,h){if(this._frozen)return this;void 0===h&&(h=1);var o=this.get(u);return void 0===o&&(o=0),this.set(u,o+h),this},toggle:function(u){return this._frozen||this.set(u,!this.get(u)),this},setValue:function(u,h){if(this._frozen)return this;if(this.has(u))this.values[u]=h;else{var o=this,a=this.list,d=this.events,r=this.parent;Object.defineProperty(this.values,u,{enumerable:!0,configurable:!0,get:function(){return a[u]},set:function(c){if(!o._frozen){var p=a[u];a[u]=c,d.emit(g.CHANGE_DATA,r,u,c,p),d.emit(g.CHANGE_DATA_KEY+u,r,c,p)}}}),a[u]=h,d.emit(g.SET_DATA,r,u,h)}return this},each:function(u,h){for(var o=[this.parent,null,void 0],a=1;a<arguments.length;a++)o.push(arguments[a]);for(var d in this.list)o[1]=d,o[2]=this.list[d],u.apply(h,o);return this},merge:function(u,h){for(var o in void 0===h&&(h=!0),u)u.hasOwnProperty(o)&&(h||!h&&!this.has(o))&&this.setValue(o,u[o]);return this},remove:function(u){if(this._frozen)return this;if(!Array.isArray(u))return this.removeValue(u);for(var h=0;h<u.length;h++)this.removeValue(u[h]);return this},removeValue:function(u){if(this.has(u)){var h=this.list[u];delete this.list[u],delete this.values[u],this.events.emit(g.REMOVE_DATA,this.parent,u,h)}return this},pop:function(u){var h=void 0;return!this._frozen&&this.has(u)&&(h=this.list[u],delete this.list[u],delete this.values[u],this.events.emit(g.REMOVE_DATA,this.parent,u,h)),h},has:function(u){return this.list.hasOwnProperty(u)},setFreeze:function(u){return this._frozen=u,this},reset:function(){for(var u in this.list)delete this.list[u],delete this.values[u];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(g.CHANGE_DATA),this.events.off(g.SET_DATA),this.events.off(g.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(u){this._frozen=!!u}},count:{get:function(){var u=0;for(var h in this.list)void 0!==this.list[h]&&u++;return u}}});C.exports=f},function(C,F,n){var g=new(n(0))({initialize:function(u){if(this.entries={},this.size=0,Array.isArray(u))for(var h=0;h<u.length;h++)this.set(u[h][0],u[h][1])},set:function(f,u){return this.has(f)||this.size++,this.entries[f]=u,this},get:function(f){if(this.has(f))return this.entries[f]},getArray:function(){var f=[],u=this.entries;for(var h in u)f.push(u[h]);return f},has:function(f){return this.entries.hasOwnProperty(f)},delete:function(f){return this.has(f)&&(delete this.entries[f],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(f){delete this.entries[f]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var f=[],u=this.entries;for(var h in u)f.push(u[h]);return f},dump:function(){var f=this.entries;for(var u in console.group("Map"),f)console.log(u,f[u]);console.groupEnd()},each:function(f){var u=this.entries;for(var h in u)if(!1===f(h,u[h]))break;return this},contains:function(f){var u=this.entries;for(var h in u)if(u[h]===f)return!0;return!1},merge:function(f,u){void 0===u&&(u=!1);var h=this.entries,o=f.entries;for(var a in o)h.hasOwnProperty(a)&&u?h[a]=o[a]:this.set(a,o[a]);return this}});C.exports=g},function(C,F){C.exports=function(l,g,f){return l<<16|g<<8|f}},function(C,F,n){C.exports={ENTER_FULLSCREEN:n(776),FULLSCREEN_FAILED:n(777),FULLSCREEN_UNSUPPORTED:n(778),LEAVE_FULLSCREEN:n(779),ORIENTATION_CHANGE:n(780),RESIZE:n(781)}},function(C,F,n){(function(l){var g={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};C.exports=function f(){var u=navigator.userAgent;/Windows/.test(u)?g.windows=!0:/Mac OS/.test(u)&&!/like Mac OS/.test(u)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(g.iOS=!0,g.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),g.iOSVersion=parseInt(RegExp.$1,10)):g.macOS=!0:/Android/.test(u)?g.android=!0:/Linux/.test(u)?g.linux=!0:/iP[ao]d|iPhone/i.test(u)?(g.iOS=!0,navigator.appVersion.match(/OS (\d+)/),g.iOSVersion=parseInt(RegExp.$1,10),g.iPhone=-1!==u.toLowerCase().indexOf("iphone"),g.iPad=-1!==u.toLowerCase().indexOf("ipad")):/Kindle/.test(u)||/\bKF[A-Z][A-Z]+/.test(u)||/Silk.*Mobile Safari/.test(u)?g.kindle=!0:/CrOS/.test(u)&&(g.chromeOS=!0),(/Windows Phone/i.test(u)||/IEMobile/i.test(u))&&(g.android=!1,g.iOS=!1,g.macOS=!1,g.windows=!0,g.windowsPhone=!0);var h=/Silk/.test(u);return(g.windows||g.macOS||g.linux&&!h||g.chromeOS)&&(g.desktop=!0),(g.windowsPhone||/Windows NT/i.test(u)&&/Touch/i.test(u))&&(g.desktop=!1),navigator.standalone&&(g.webApp=!0),void 0!==window.cordova&&(g.cordova=!0),void 0!==l&&l.versions&&l.versions.node&&(g.node=!0),g.node&&"object"==typeof l.versions&&(g.nodeWebkit=!!l.versions["node-webkit"],g.electron=!!l.versions.electron),void 0!==window.ejecta&&(g.ejecta=!0),/Crosswalk/.test(u)&&(g.crosswalk=!0),g.pixelRatio=window.devicePixelRatio||1,g}()}).call(this,n(804))},function(C,F,n){C.exports={ADD:n(857),ERROR:n(858),LOAD:n(859),READY:n(860),REMOVE:n(861)}},function(C,F){C.exports={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}}},function(C,F,n){var l=n(0),g=n(2),f=n(874),u=n(875),h=n(25),o=n(12),a=n(104),d=n(57),r=new l({Extends:d,initialize:function(p){var m=p.game.renderer,v=g(p,"fragShader",f);p.fragShader=o.parseFragmentShaderMaxTextures(v,m.maxTextures),p.vertShader=g(p,"vertShader",u),p.attributes=g(p,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:a.UNSIGNED_BYTE,normalized:!0}]),d.call(this,p),this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h},boot:function(){d.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(c,p,m){this.manager.set(this,c);var v=this._tempMatrix1,x=this._tempMatrix2,T=this._tempMatrix3,E=c.frame,M=E.glTexture,S=E.u0,P=E.v0,R=E.u1,w=E.v1,L=E.x,I=E.y,B=E.cutWidth,G=E.cutHeight,H=E.customPivot,Y=c.displayOriginX,$=c.displayOriginY,J=-Y+L,_=-$+I;if(c.isCropped){var tt=c._crop;(tt.flipX!==c.flipX||tt.flipY!==c.flipY)&&E.updateCropUVs(tt,c.flipX,c.flipY),S=tt.u0,P=tt.v0,R=tt.u1,w=tt.v1,B=tt.width,G=tt.height,J=-Y+(L=tt.x),_=-$+(I=tt.y)}var U=1,V=1;c.flipX&&(H||(J+=2*Y-E.realWidth),U=-1),(c.flipY||E.source.isGLTexture&&!M.flipY)&&(H||(_+=2*$-E.realHeight),V=-1),x.applyITRS(c.x,c.y,c.rotation,c.scaleX*U,c.scaleY*V),v.copyFrom(p.matrix),m?(v.multiplyWithOffset(m,-p.scrollX*c.scrollFactorX,-p.scrollY*c.scrollFactorY),x.e=c.x,x.f=c.y):(x.e-=p.scrollX*c.scrollFactorX,x.f-=p.scrollY*c.scrollFactorY),v.multiply(x,T);var X=J+B,W=_+G,j=p.roundPixels,K=T.getXRound(J,_,j),q=T.getYRound(J,_,j),et=T.getXRound(J,W,j),rt=T.getYRound(J,W,j),ot=T.getXRound(X,W,j),at=T.getYRound(X,W,j),ft=T.getXRound(X,_,j),ct=T.getYRound(X,_,j),xt=o.getTintAppendFloatAlpha,mt=p.alpha,Ct=xt(c.tintTopLeft,mt*c._alphaTL),kt=xt(c.tintTopRight,mt*c._alphaTR),Nt=xt(c.tintBottomLeft,mt*c._alphaBL),bt=xt(c.tintBottomRight,mt*c._alphaBR);this.shouldFlush(6)&&this.flush();var gt=this.setGameObject(c,E);this.manager.preBatch(c),this.batchQuad(c,K,q,et,rt,ot,at,ft,ct,S,P,R,w,Ct,kt,Nt,bt,c.tintFill,M,gt),this.manager.postBatch(c)},batchTexture:function(c,p,m,v,x,T,E,M,S,P,R,w,L,I,B,G,H,Y,$,J,_,tt,U,V,X,W,j,K,q,et,rt,ot){this.manager.set(this,c);var at=this._tempMatrix1,ft=this._tempMatrix2,ct=this._tempMatrix3,xt=Y/m+j,mt=$/v+K,Ct=(Y+J)/m+j,kt=($+_)/v+K,Nt=E,bt=M,gt=-G,Se=-H;if(c.isCropped){var Rt=c._crop,Vt=Rt.width,$e=Rt.height;Nt=Vt,bt=$e,E=Vt,M=$e;var ri=Y=Rt.x,ye=$=Rt.y;w&&(ri=J-Rt.x-Vt),L&&(ye=_-Rt.y-$e),xt=ri/m+j,mt=ye/v+K,Ct=(ri+Vt)/m+j,kt=(ye+$e)/v+K,gt=-G+Y,Se=-H+$}w&&(Nt*=-1,gt+=E),(L^=!rt&&p.isRenderTexture?1:0)&&(bt*=-1,Se+=M);var ie=gt+Nt,Be=Se+bt;ft.applyITRS(x,T,R,S,P),at.copyFrom(q.matrix),et?(at.multiplyWithOffset(et,-q.scrollX*I,-q.scrollY*B),ft.e=x,ft.f=T):(ft.e-=q.scrollX*I,ft.f-=q.scrollY*B),at.multiply(ft,ct);var ve=q.roundPixels,Ke=ct.getXRound(gt,Se,ve),ti=ct.getYRound(gt,Se,ve),Xi=ct.getXRound(gt,Be,ve),nn=ct.getYRound(gt,Be,ve),rn=ct.getXRound(ie,Be,ve),sn=ct.getYRound(ie,Be,ve),on=ct.getXRound(ie,Se,ve),an=ct.getYRound(ie,Se,ve);void 0===ot&&(ot=this.renderer.setTexture2D(p)),c&&this.manager.preBatch(c),this.batchQuad(c,Ke,ti,Xi,nn,rn,sn,on,an,xt,mt,Ct,kt,tt,U,V,X,W,p,ot),c&&this.manager.postBatch(c)},batchTextureFrame:function(c,p,m,v,x,T,E){this.manager.set(this);var M=this._tempMatrix1.copyFrom(T),S=this._tempMatrix2,P=p+c.width,R=m+c.height;E?M.multiply(E,S):S=M;var w=S.getX(p,m),L=S.getY(p,m),I=S.getX(p,R),B=S.getY(p,R),G=S.getX(P,R),H=S.getY(P,R),Y=S.getX(P,m),$=S.getY(P,m),J=this.renderer.setTextureSource(c.source);v=o.getTintAppendFloatAlpha(v,x),this.batchQuad(null,w,L,I,B,G,H,Y,$,c.u0,c.v0,c.u1,c.v1,v,v,v,v,0,c.glTexture,J)}});C.exports=r},function(C,F,n){var l=n(0),g=n(18),f=n(17),u=new l({initialize:function(o,a,d,r,c,p,m){this.texture=o,this.name=a,this.source=o.source[d],this.sourceIndex=d,this.glTexture=this.source.glTexture,this.x=0,this.y=0,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(p,m,r,c)},setSize:function(h,o,a,d){void 0===a&&(a=0),void 0===d&&(d=0),this.cutX=a,this.cutY=d,this.cutWidth=h,this.cutHeight=o,this.width=h,this.height=o,this.halfWidth=Math.floor(.5*h),this.halfHeight=Math.floor(.5*o),this.centerX=Math.floor(h/2),this.centerY=Math.floor(o/2);var r=this.data,c=r.cut;c.x=a,c.y=d,c.w=h,c.h=o,c.r=a+h,c.b=d+o,r.sourceSize.w=h,r.sourceSize.h=o,r.spriteSourceSize.w=h,r.spriteSourceSize.h=o,r.radius=.5*Math.sqrt(h*h+o*o);var p=r.drawImage;return p.x=a,p.y=d,p.width=h,p.height=o,this.updateUVs()},setTrim:function(h,o,a,d,r,c){var p=this.data,m=p.spriteSourceSize;return p.trim=!0,p.sourceSize.w=h,p.sourceSize.h=o,m.x=a,m.y=d,m.w=r,m.h=c,m.r=a+r,m.b=d+c,this.x=a,this.y=d,this.width=r,this.height=c,this.halfWidth=.5*r,this.halfHeight=.5*c,this.centerX=Math.floor(r/2),this.centerY=Math.floor(c/2),this.updateUVs()},setCropUVs:function(h,o,a,d,r,c,p){var m=this.cutX,v=this.cutY,x=this.cutWidth,T=this.cutHeight,E=this.realWidth,M=this.realHeight,S=m+(o=g(o,0,E)),P=v+(a=g(a,0,M)),R=d=g(d,0,E-o),w=r=g(r,0,M-a),L=this.data;if(L.trim){var I=L.spriteSourceSize,B=o+(d=g(d,0,x-o)),G=a+(r=g(r,0,T-a));if(I.r<o||I.b<a||I.x>B||I.y>G)S=0,P=0,R=0,w=0;else{var Y=Math.max(I.x,o),$=Math.max(I.y,a),J=Math.min(I.r,B)-Y,_=Math.min(I.b,G)-$;R=J,w=_,S=c?m+(x-(Y-I.x)-J):m+(Y-I.x),P=p?v+(T-($-I.y)-_):v+($-I.y),o=Y,a=$,d=J,r=_}}else c&&(S=m+(x-o-d)),p&&(P=v+(T-a-r));var tt=this.source.width,U=this.source.height;return h.u0=Math.max(0,S/tt),h.v0=Math.max(0,P/U),h.u1=Math.min(1,(S+R)/tt),h.v1=Math.min(1,(P+w)/U),h.x=o,h.y=a,h.cx=S,h.cy=P,h.cw=R,h.ch=w,h.width=d,h.height=r,h.flipX=c,h.flipY=p,h},updateCropUVs:function(h,o,a){return this.setCropUVs(h,h.x,h.y,h.width,h.height,o,a)},setUVs:function(h,o,a,d,r,c){var p=this.data.drawImage;return p.width=h,p.height=o,this.u0=a,this.v0=d,this.u1=r,this.v1=c,this},updateUVs:function(){var h=this.cutX,o=this.cutY,a=this.cutWidth,d=this.cutHeight,r=this.data.drawImage;r.width=a,r.height=d;var c=this.source.width,p=this.source.height;return this.u0=h/c,this.v0=o/p,this.u1=(h+a)/c,this.v1=(o+d)/p,this},updateUVsInverted:function(){var h=this.source.width,o=this.source.height;return this.u0=(this.cutX+this.cutHeight)/h,this.v0=this.cutY/o,this.u1=this.cutX/h,this.v1=(this.cutY+this.cutWidth)/o,this},clone:function(){var h=new u(this.texture,this.name,this.sourceIndex);return h.cutX=this.cutX,h.cutY=this.cutY,h.cutWidth=this.cutWidth,h.cutHeight=this.cutHeight,h.x=this.x,h.y=this.y,h.width=this.width,h.height=this.height,h.halfWidth=this.halfWidth,h.halfHeight=this.halfHeight,h.centerX=this.centerX,h.centerY=this.centerY,h.rotated=this.rotated,h.data=f(!0,h.data,this.data),h.updateUVs(),h},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});C.exports=u},function(C,F,n){var l=n(205),g=n(0),f=n(1),u=n(79),h=new g({initialize:function(a){this.parent=a,this.list=[],this.position=0,this.addCallback=f,this.removeCallback=f,this._sortKey=""},add:function(o,a){return a?l.Add(this.list,o):l.Add(this.list,o,0,this.addCallback,this)},addAt:function(o,a,d){return d?l.AddAt(this.list,o,a):l.AddAt(this.list,o,a,0,this.addCallback,this)},getAt:function(o){return this.list[o]},getIndex:function(o){return this.list.indexOf(o)},sort:function(o,a){return o?(void 0===a&&(a=function(d,r){return d[o]-r[o]}),u(this.list,a),this):this},getByName:function(o){return l.GetFirst(this.list,"name",o)},getRandom:function(o,a){return l.GetRandom(this.list,o,a)},getFirst:function(o,a,d,r){return l.GetFirst(this.list,o,a,d,r)},getAll:function(o,a,d,r){return l.GetAll(this.list,o,a,d,r)},count:function(o,a){return l.CountAllMatching(this.list,o,a)},swap:function(o,a){l.Swap(this.list,o,a)},moveTo:function(o,a){return l.MoveTo(this.list,o,a)},remove:function(o,a){return a?l.Remove(this.list,o):l.Remove(this.list,o,this.removeCallback,this)},removeAt:function(o,a){return a?l.RemoveAt(this.list,o):l.RemoveAt(this.list,o,this.removeCallback,this)},removeBetween:function(o,a,d){return d?l.RemoveBetween(this.list,o,a):l.RemoveBetween(this.list,o,a,this.removeCallback,this)},removeAll:function(o){for(var a=this.list.length;a--;)this.remove(this.list[a],o);return this},bringToTop:function(o){return l.BringToTop(this.list,o)},sendToBack:function(o){return l.SendToBack(this.list,o)},moveUp:function(o){return l.MoveUp(this.list,o),o},moveDown:function(o){return l.MoveDown(this.list,o),o},reverse:function(){return this.list.reverse(),this},shuffle:function(){return l.Shuffle(this.list),this},replace:function(o,a){return l.Replace(this.list,o,a)},exists:function(o){return this.list.indexOf(o)>-1},setAll:function(o,a,d,r){return l.SetAll(this.list,o,a,d,r),this},each:function(o,a){for(var d=[null],r=2;r<arguments.length;r++)d.push(arguments[r]);for(r=0;r<this.list.length;r++)d[0]=this.list[r],o.apply(a,d)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});C.exports=h},function(C,F,n){var l=n(0),g=n(109),f=n(439),u=n(440),h=n(55),o=n(177),a=new l({initialize:function(r,c,p,m){void 0===r&&(r=0),void 0===c&&(c=0),void 0===p&&(p=0),void 0===m&&(m=0),this.type=h.ELLIPSE,this.x=r,this.y=c,this.width=p,this.height=m},contains:function(d,r){return g(this,d,r)},getPoint:function(d,r){return f(this,d,r)},getPoints:function(d,r,c){return u(this,d,r,c)},getRandomPoint:function(d){return o(this,d)},setTo:function(d,r,c,p){return this.x=d,this.y=r,this.width=c,this.height=p,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(d,r){return void 0===r&&(r=d),this.x=d,this.y=r,this},setSize:function(d,r){return void 0===r&&(r=d),this.width=d,this.height=r,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(d){this.x=d+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(d){this.x=d-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(d){this.y=d+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(d){this.y=d-this.height/2}}});C.exports=a},function(C,F){C.exports=function(l,g,f){if(l.width<=0||l.height<=0)return!1;var u=(g-l.x)/l.width,h=(f-l.y)/l.height;return(u*=u)+(h*=h)<.25}},function(C,F,n){var l=n(269),g=n(0),f=n(75),u=n(9),h=n(204),o=n(2),a=n(6),d=n(7),r=n(431),c=n(148),p=n(73),m=new g({Extends:u,initialize:function(x,T,E){u.call(this),E?T&&!Array.isArray(T)&&(T=[T]):Array.isArray(T)?d(T[0])&&(E=T,T=null):d(T)&&(E=T,T=null),this.scene=x,this.children=new c,this.isParent=!0,this.type="Group",this.classType=o(E,"classType",p),this.name=o(E,"name",""),this.active=o(E,"active",!0),this.maxSize=o(E,"maxSize",-1),this.defaultKey=o(E,"defaultKey",null),this.defaultFrame=o(E,"defaultFrame",null),this.runChildUpdate=o(E,"runChildUpdate",!1),this.createCallback=o(E,"createCallback",null),this.removeCallback=o(E,"removeCallback",null),this.createMultipleCallback=o(E,"createMultipleCallback",null),this.internalCreateCallback=o(E,"internalCreateCallback",null),this.internalRemoveCallback=o(E,"internalRemoveCallback",null),T&&this.addMultiple(T),E&&this.createMultiple(E)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(v,x,T,E,M,S){if(void 0===v&&(v=0),void 0===x&&(x=0),void 0===T&&(T=this.defaultKey),void 0===E&&(E=this.defaultFrame),void 0===M&&(M=!0),void 0===S&&(S=!0),this.isFull())return null;var P=new this.classType(this.scene,v,x,T,E);return this.scene.sys.displayList.add(P),P.preUpdate&&this.scene.sys.updateList.add(P),P.visible=M,P.setActive(S),this.add(P),P},createMultiple:function(v){if(this.isFull())return[];Array.isArray(v)||(v=[v]);var x=[];if(v[0].key)for(var T=0;T<v.length;T++){var E=this.createFromConfig(v[T]);x=x.concat(E)}return x},createFromConfig:function(v){if(this.isFull())return[];this.classType=o(v,"classType",this.classType);var x=o(v,"key",void 0),T=o(v,"frame",null),E=o(v,"visible",!0),M=o(v,"active",!0),S=[];if(void 0===x)return S;Array.isArray(x)||(x=[x]),Array.isArray(T)||(T=[T]);var P=o(v,"repeat",0),R=o(v,"randomKey",!1),w=o(v,"randomFrame",!1),L=o(v,"yoyo",!1),I=o(v,"quantity",!1),B=o(v,"frameQuantity",1),G=o(v,"max",0),H=r(x,T,{max:G,qty:I||B,random:R,randomB:w,repeat:P,yoyo:L});v.createCallback&&(this.createCallback=v.createCallback),v.removeCallback&&(this.removeCallback=v.removeCallback);for(var Y=0;Y<H.length;Y++){var $=this.create(0,0,H[Y].a,H[Y].b,E,M);if(!$)break;S.push($)}var J=a(v,"setXY.x",0),_=a(v,"setXY.y",0),tt=a(v,"setXY.stepX",0),U=a(v,"setXY.stepY",0);l.SetXY(S,J,_,tt,U);var V=a(v,"setRotation.value",0),X=a(v,"setRotation.step",0);l.SetRotation(S,V,X);var W=a(v,"setScale.x",1),j=a(v,"setScale.y",W),K=a(v,"setScale.stepX",0),q=a(v,"setScale.stepY",0);l.SetScale(S,W,j,K,q);var et=a(v,"setOrigin.x",.5),rt=a(v,"setOrigin.y",et),ot=a(v,"setOrigin.stepX",0),at=a(v,"setOrigin.stepY",0);l.SetOrigin(S,et,rt,ot,at);var ft=a(v,"setAlpha.value",1),ct=a(v,"setAlpha.step",0);l.SetAlpha(S,ft,ct);var xt=a(v,"setDepth.value",0),mt=a(v,"setDepth.step",0);l.SetDepth(S,xt,mt);var Ct=a(v,"setScrollFactor.x",1),kt=a(v,"setScrollFactor.y",Ct),Nt=a(v,"setScrollFactor.stepX",0),bt=a(v,"setScrollFactor.stepY",0);l.SetScrollFactor(S,Ct,kt,Nt,bt);var gt=o(v,"hitArea",null),Se=o(v,"hitAreaCallback",null);gt&&l.SetHitArea(S,gt,Se);var Rt=o(v,"gridAlign",!1);return Rt&&l.GridAlign(S,Rt),this.createMultipleCallback&&this.createMultipleCallback.call(this,S),S},preUpdate:function(v,x){if(this.runChildUpdate&&0!==this.children.size)for(var T=this.children.entries.slice(),E=0;E<T.length;E++){var M=T[E];M.active&&M.update(v,x)}},add:function(v,x){return void 0===x&&(x=!1),this.isFull()||(this.children.set(v),this.internalCreateCallback&&this.internalCreateCallback.call(this,v),this.createCallback&&this.createCallback.call(this,v),x&&(this.scene.sys.displayList.add(v),v.preUpdate&&this.scene.sys.updateList.add(v)),v.on(f.DESTROY,this.remove,this)),this},addMultiple:function(v,x){if(void 0===x&&(x=!1),Array.isArray(v))for(var T=0;T<v.length;T++)this.add(v[T],x);return this},remove:function(v,x,T){return void 0===x&&(x=!1),void 0===T&&(T=!1),this.children.contains(v)?(this.children.delete(v),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,v),this.removeCallback&&this.removeCallback.call(this,v),v.off(f.DESTROY,this.remove,this),T?v.destroy():x&&(v.scene.sys.displayList.remove(v),v.preUpdate&&v.scene.sys.updateList.remove(v)),this):this},clear:function(v,x){void 0===v&&(v=!1),void 0===x&&(x=!1);for(var T=this.children,E=0;E<T.size;E++){var M=T.entries[E];M.off(f.DESTROY,this.remove,this),x?M.destroy():v&&(M.scene.sys.displayList.remove(M),M.preUpdate&&M.scene.sys.updateList.remove(M))}return this.children.clear(),this},contains:function(v){return this.children.contains(v)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(v,x,T,E){return h(this.children.entries,v,x,T,E)},getFirst:function(v,x,T,E,M,S,P){return this.getHandler(!0,1,v,x,T,E,M,S,P)},getFirstNth:function(v,x,T,E,M,S,P,R){return this.getHandler(!0,v,x,T,E,M,S,P,R)},getLast:function(v,x,T,E,M,S,P){return this.getHandler(!1,1,v,x,T,E,M,S,P)},getLastNth:function(v,x,T,E,M,S,P,R){return this.getHandler(!1,v,x,T,E,M,S,P,R)},getHandler:function(v,x,T,E,M,S,P,R,w){void 0===T&&(T=!1),void 0===E&&(E=!1);var L,I,B=0,G=this.children.entries;if(v)for(I=0;I<G.length;I++)if((L=G[I]).active===T){if(++B===x)break}else L=null;else for(I=G.length-1;I>=0;I--)if((L=G[I]).active===T){if(++B===x)break}else L=null;return L?("number"==typeof M&&(L.x=M),"number"==typeof S&&(L.y=S),L):E?this.create(M,S,P,R,w):null},get:function(v,x,T,E,M){return this.getFirst(!1,!0,v,x,T,E,M)},getFirstAlive:function(v,x,T,E,M,S){return this.getFirst(!0,v,x,T,E,M,S)},getFirstDead:function(v,x,T,E,M,S){return this.getFirst(!1,v,x,T,E,M,S)},playAnimation:function(v,x){return l.PlayAnimation(this.children.entries,v,x),this},isFull:function(){return-1!==this.maxSize&&this.children.size>=this.maxSize},countActive:function(v){void 0===v&&(v=!0);for(var x=0,T=0;T<this.children.size;T++)this.children.entries[T].active===v&&x++;return x},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var v=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-v},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},propertyValueSet:function(v,x,T,E,M){return l.PropertyValueSet(this.children.entries,v,x,T,E,M),this},propertyValueInc:function(v,x,T,E,M){return l.PropertyValueInc(this.children.entries,v,x,T,E,M),this},setX:function(v,x){return l.SetX(this.children.entries,v,x),this},setY:function(v,x){return l.SetY(this.children.entries,v,x),this},setXY:function(v,x,T,E){return l.SetXY(this.children.entries,v,x,T,E),this},incX:function(v,x){return l.IncX(this.children.entries,v,x),this},incY:function(v,x){return l.IncY(this.children.entries,v,x),this},incXY:function(v,x,T,E){return l.IncXY(this.children.entries,v,x,T,E),this},shiftPosition:function(v,x,T){return l.ShiftPosition(this.children.entries,v,x,T),this},angle:function(v,x){return l.Angle(this.children.entries,v,x),this},rotate:function(v,x){return l.Rotate(this.children.entries,v,x),this},rotateAround:function(v,x){return l.RotateAround(this.children.entries,v,x),this},rotateAroundDistance:function(v,x,T){return l.RotateAroundDistance(this.children.entries,v,x,T),this},setAlpha:function(v,x){return l.SetAlpha(this.children.entries,v,x),this},setTint:function(v,x,T,E){return l.SetTint(this.children.entries,v,x,T,E),this},setOrigin:function(v,x,T,E){return l.SetOrigin(this.children.entries,v,x,T,E),this},scaleX:function(v,x){return l.ScaleX(this.children.entries,v,x),this},scaleY:function(v,x){return l.ScaleY(this.children.entries,v,x),this},scaleXY:function(v,x,T,E){return l.ScaleXY(this.children.entries,v,x,T,E),this},setDepth:function(v,x){return l.SetDepth(this.children.entries,v,x),this},setBlendMode:function(v){return l.SetBlendMode(this.children.entries,v),this},setHitArea:function(v,x){return l.SetHitArea(this.children.entries,v,x),this},shuffle:function(){return l.Shuffle(this.children.entries),this},kill:function(v){this.children.contains(v)&&v.setActive(!1)},killAndHide:function(v){this.children.contains(v)&&(v.setActive(!1),v.setVisible(!1))},setVisible:function(v,x,T){return l.SetVisible(this.children.entries,v,x,T),this},toggleVisible:function(){return l.ToggleVisible(this.children.entries),this},destroy:function(v){void 0===v&&(v=!1),this.scene&&!this.ignoreDestroy&&(this.clear(!1,v),this.scene=void 0,this.children=void 0)}});C.exports=m},function(C,F,n){var l=n(12);C.exports=function(f,u,h,o,a,d){for(var r=l.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*o),c=h.pathData,p=h.pathIndexes,m=0;m<p.length;m+=3){var v=2*p[m],x=2*p[m+1],T=2*p[m+2],E=c[v+0]-a,M=c[v+1]-d,S=c[x+0]-a,P=c[x+1]-d,R=c[T+0]-a,w=c[T+1]-d,L=u.getX(E,M),I=u.getY(E,M),B=u.getX(S,P),G=u.getY(S,P),H=u.getX(R,w),Y=u.getY(R,w);f.batchTri(L,I,B,G,H,Y,r,r,r)}}},function(C,F){C.exports=function(l,g,f){var u=l.x3-l.x1,h=l.y3-l.y1,o=l.x2-l.x1,a=l.y2-l.y1,d=g-l.x1,r=f-l.y1,c=u*u+h*h,p=u*o+h*a,m=u*d+h*r,v=o*o+a*a,x=o*d+a*r,T=c*v-p*p,E=0===T?0:1/T,M=(v*m-p*x)*E,S=(c*x-p*m)*E;return M>=0&&S>=0&&M+S<1}},function(C,F,n){var l=n(0),g=n(10),f=n(114),u=n(3);function h(a,d,r,c){var p=a-r,m=d-c;return Math.sqrt(p*p+m*m)}var o=new l({initialize:function(d,r,c){this.vertex1=d,this.vertex2=r,this.vertex3=c,this.bounds=new g,this._inCenter=new u},getInCenter:function(a){void 0===a&&(a=!0);var p,m,v,x,T,E,d=this.vertex1,r=this.vertex2,c=this.vertex3;a?(p=d.x,m=d.y,v=r.x,x=r.y,T=c.x,E=c.y):(p=d.vx,m=d.vy,v=r.vx,x=r.vy,T=c.vx,E=c.vy);var M=h(T,E,v,x),S=h(p,m,T,E),P=h(v,x,p,m),R=M+S+P;return this._inCenter.set((p*M+v*S+T*P)/R,(m*M+x*S+E*P)/R)},contains:function(a,d,r){var c=this.vertex1,p=this.vertex2,m=this.vertex3,v=c.vx,x=c.vy,T=p.vx,E=p.vy,M=m.vx,S=m.vy;if(r){var P=r.a,R=r.b,w=r.c,L=r.d,I=r.e,B=r.f;v=c.vx*P+c.vy*w+I,x=c.vx*R+c.vy*L+B,T=p.vx*P+p.vy*w+I,E=p.vx*R+p.vy*L+B,M=m.vx*P+m.vy*w+I,S=m.vx*R+m.vy*L+B}var G=M-v,H=S-x,Y=T-v,$=E-x,J=a-v,_=d-x,tt=G*G+H*H,U=G*Y+H*$,V=G*J+H*_,X=Y*Y+$*$,W=Y*J+$*_,j=tt*X-U*U,K=0===j?0:1/j,q=(X*V-U*W)*K,et=(tt*W-U*V)*K;return q>=0&&et>=0&&q+et<1},isCounterClockwise:function(a){var d=this.vertex1,r=this.vertex2,c=this.vertex3,p=(r.vx-d.vx)*(c.vy-d.vy)-(r.vy-d.vy)*(c.vx-d.vx);return a<=0?p>=0:p<0},load:function(a,d,r,c,p){return r=this.vertex1.load(a,d,r,c,p),r=this.vertex2.load(a,d,r,c,p),this.vertex3.load(a,d,r,c,p)},transformCoordinatesLocal:function(a,d,r,c){return this.vertex1.transformCoordinatesLocal(a,d,r,c),this.vertex2.transformCoordinatesLocal(a,d,r,c),this.vertex3.transformCoordinatesLocal(a,d,r,c),this},updateBounds:function(){var a=this.vertex1,d=this.vertex2,r=this.vertex3,c=this.bounds;return c.x=Math.min(a.vx,d.vx,r.vx),c.y=Math.min(a.vy,d.vy,r.vy),c.width=Math.max(a.vx,d.vx,r.vx)-c.x,c.height=Math.max(a.vy,d.vy,r.vy)-c.y,this},isInView:function(a,d,r,c,p,m,v,x,T,E,M){var S=this.vertex1.update(p,m,v,x,T,E,M,c),P=this.vertex2.update(p,m,v,x,T,E,M,c),R=this.vertex3.update(p,m,v,x,T,E,M,c);if(S.ta<=0&&P.ta<=0&&R.ta<=0||d&&!this.isCounterClockwise(r))return!1;var w=this.bounds;return w.x=Math.min(S.tx,P.tx,R.tx),w.y=Math.min(S.ty,P.ty,R.ty),w.width=Math.max(S.tx,P.tx,R.tx)-w.x,w.height=Math.max(S.ty,P.ty,R.ty)-w.y,f(w,a.worldView)},translate:function(a,d){void 0===d&&(d=0);var r=this.vertex1,c=this.vertex2,p=this.vertex3;return r.x+=a,r.y+=d,c.x+=a,c.y+=d,p.x+=a,p.y+=d,this},x:{get:function(){return this.getInCenter().x},set:function(a){var d=this.getInCenter();this.translate(a-d.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(a){var d=this.getInCenter();this.translate(0,a-d.y)}},alpha:{get:function(){return(this.vertex1.alpha+this.vertex2.alpha+this.vertex3.alpha)/3},set:function(a){this.vertex1.alpha=a,this.vertex2.alpha=a,this.vertex3.alpha=a}},depth:{get:function(){return(this.vertex1.vz+this.vertex2.vz+this.vertex3.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});C.exports=o},function(C,F){C.exports=function(l,g){return!(l.width<=0||l.height<=0||g.width<=0||g.height<=0||l.right<g.x||l.bottom<g.y||l.x>g.right||l.y>g.bottom)}},function(C,F,n){var l=n(0),g=n(12),f=n(37),u=new l({Extends:f,initialize:function(o,a,d,r,c,p,m,v,x,T){void 0===p&&(p=16777215),void 0===m&&(m=1),void 0===v&&(v=0),void 0===x&&(x=0),void 0===T&&(T=0),f.call(this,o,a,d),this.vx=0,this.vy=0,this.vz=0,this.nx=v,this.ny=x,this.nz=T,this.u=r,this.v=c,this.color=p,this.alpha=m,this.tx=0,this.ty=0,this.ta=0},setUVs:function(h,o){return this.u=h,this.v=o,this},transformCoordinatesLocal:function(h,o,a,d){var r=this.x,c=this.y,p=this.z,m=h.val,x=r*m[1]+c*m[5]+p*m[9]+m[13],T=r*m[2]+c*m[6]+p*m[10]+m[14],E=r*m[3]+c*m[7]+p*m[11]+m[15];this.vx=(r*m[0]+c*m[4]+p*m[8]+m[12])/E*o,this.vy=-x/E*a,this.vz=d<=0?T/E:-T/E},update:function(h,o,a,d,r,c,p,m){var v=this.vx*h+this.vy*a+r,x=this.vx*o+this.vy*d+c;return p&&(v=Math.round(v),x=Math.round(x)),this.tx=v,this.ty=x,this.ta=this.alpha*m,this},load:function(h,o,a,d,r){return h[++a]=this.tx,h[++a]=this.ty,h[++a]=this.u,h[++a]=this.v,h[++a]=d,h[++a]=r,o[++a]=g.getTintAppendFloatAlpha(this.color,this.ta),a}});C.exports=u},function(C,F){var n={};C.exports=n,n.create=function(l,g){return{x:l||0,y:g||0}},n.clone=function(l){return{x:l.x,y:l.y}},n.magnitude=function(l){return Math.sqrt(l.x*l.x+l.y*l.y)},n.magnitudeSquared=function(l){return l.x*l.x+l.y*l.y},n.rotate=function(l,g,f){var u=Math.cos(g),h=Math.sin(g);f||(f={});var o=l.x*u-l.y*h;return f.y=l.x*h+l.y*u,f.x=o,f},n.rotateAbout=function(l,g,f,u){var h=Math.cos(g),o=Math.sin(g);u||(u={});var a=f.x+((l.x-f.x)*h-(l.y-f.y)*o);return u.y=f.y+((l.x-f.x)*o+(l.y-f.y)*h),u.x=a,u},n.normalise=function(l){var g=n.magnitude(l);return 0===g?{x:0,y:0}:{x:l.x/g,y:l.y/g}},n.dot=function(l,g){return l.x*g.x+l.y*g.y},n.cross=function(l,g){return l.x*g.y-l.y*g.x},n.cross3=function(l,g,f){return(g.x-l.x)*(f.y-l.y)-(g.y-l.y)*(f.x-l.x)},n.add=function(l,g,f){return f||(f={}),f.x=l.x+g.x,f.y=l.y+g.y,f},n.sub=function(l,g,f){return f||(f={}),f.x=l.x-g.x,f.y=l.y-g.y,f},n.mult=function(l,g){return{x:l.x*g,y:l.y*g}},n.div=function(l,g){return{x:l.x/g,y:l.y/g}},n.perp=function(l,g){return{x:(g=!0===g?-1:1)*-l.y,y:g*l.x}},n.neg=function(l){return{x:-l.x,y:-l.y}},n.angle=function(l,g){return Math.atan2(g.y-l.y,g.x-l.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()]},function(C,F){var n={};C.exports=n,n.create=function(l){var g={min:{x:0,y:0},max:{x:0,y:0}};return l&&n.update(g,l),g},n.update=function(l,g,f){l.min.x=1/0,l.max.x=-1/0,l.min.y=1/0,l.max.y=-1/0;for(var u=0;u<g.length;u++){var h=g[u];h.x>l.max.x&&(l.max.x=h.x),h.x<l.min.x&&(l.min.x=h.x),h.y>l.max.y&&(l.max.y=h.y),h.y<l.min.y&&(l.min.y=h.y)}f&&(f.x>0?l.max.x+=f.x:l.min.x+=f.x,f.y>0?l.max.y+=f.y:l.min.y+=f.y)},n.contains=function(l,g){return g.x>=l.min.x&&g.x<=l.max.x&&g.y>=l.min.y&&g.y<=l.max.y},n.overlaps=function(l,g){return l.min.x<=g.max.x&&l.max.x>=g.min.x&&l.max.y>=g.min.y&&l.min.y<=g.max.y},n.translate=function(l,g){l.min.x+=g.x,l.max.x+=g.x,l.min.y+=g.y,l.max.y+=g.y},n.shift=function(l,g){var f=l.max.x-l.min.x,u=l.max.y-l.min.y;l.min.x=g.x,l.max.x=g.x+f,l.min.y=g.y,l.max.y=g.y+u}},function(C,F){C.exports=function(l,g,f){return l>=0&&l<f.width&&g>=0&&g<f.height}},function(C,F,n){var l=n(0),g=n(29),f=n(2),u=new l({initialize:function(o){void 0===o&&(o={}),this.name=f(o,"name","layer"),this.x=f(o,"x",0),this.y=f(o,"y",0),this.width=f(o,"width",0),this.height=f(o,"height",0),this.tileWidth=f(o,"tileWidth",0),this.tileHeight=f(o,"tileHeight",0),this.baseTileWidth=f(o,"baseTileWidth",this.tileWidth),this.baseTileHeight=f(o,"baseTileHeight",this.tileHeight),this.orientation=f(o,"orientation",g.ORTHOGONAL),this.widthInPixels=f(o,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=f(o,"heightInPixels",this.height*this.baseTileHeight),this.alpha=f(o,"alpha",1),this.visible=f(o,"visible",!0),this.properties=f(o,"properties",[]),this.indexes=f(o,"indexes",[]),this.collideIndexes=f(o,"collideIndexes",[]),this.callbacks=f(o,"callbacks",[]),this.bodies=f(o,"bodies",[]),this.data=f(o,"data",[]),this.tilemapLayer=f(o,"tilemapLayer",null),this.hexSideLength=f(o,"hexSideLength",0)}});C.exports=u},function(C,F,n){var l=n(0),g=n(29),f=n(2),u=new l({initialize:function(o){void 0===o&&(o={}),this.name=f(o,"name","map"),this.width=f(o,"width",0),this.height=f(o,"height",0),this.infinite=f(o,"infinite",!1),this.tileWidth=f(o,"tileWidth",0),this.tileHeight=f(o,"tileHeight",0),this.widthInPixels=f(o,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=f(o,"heightInPixels",this.height*this.tileHeight),this.format=f(o,"format",null),this.orientation=f(o,"orientation",g.ORTHOGONAL),this.renderOrder=f(o,"renderOrder","right-down"),this.version=f(o,"version","1"),this.properties=f(o,"properties",{}),this.layers=f(o,"layers",[]),this.images=f(o,"images",[]),this.objects=f(o,"objects",{}),this.collision=f(o,"collision",{}),this.tilesets=f(o,"tilesets",[]),this.imageCollections=f(o,"imageCollections",[]),this.tiles=f(o,"tiles",[]),this.hexSideLength=f(o,"hexSideLength",0)}});C.exports=u},function(C,F,n){var g=new(n(0))({initialize:function(u,h,o,a,d,r,c,p){(void 0===o||o<=0)&&(o=32),(void 0===a||a<=0)&&(a=32),void 0===d&&(d=0),void 0===r&&(r=0),void 0===c&&(c={}),void 0===p&&(p={}),this.name=u,this.firstgid=h,this.tileWidth=o,this.tileHeight=a,this.tileMargin=d,this.tileSpacing=r,this.tileProperties=c,this.tileData=p,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(f){return this.containsTileIndex(f)?this.tileProperties[f-this.firstgid]:null},getTileData:function(f){return this.containsTileIndex(f)?this.tileData[f-this.firstgid]:null},getTileCollisionGroup:function(f){var u=this.getTileData(f);return u&&u.objectgroup?u.objectgroup:null},containsTileIndex:function(f){return f>=this.firstgid&&f<this.firstgid+this.total},getTileTextureCoordinates:function(f){return this.containsTileIndex(f)?this.texCoordinates[f-this.firstgid]:null},setImage:function(f){return this.image=f,this.glTexture=f.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(f,u){return void 0!==f&&(this.tileWidth=f),void 0!==u&&(this.tileHeight=u),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(f,u){return void 0!==f&&(this.tileMargin=f),void 0!==u&&(this.tileSpacing=u),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(f,u){var h=(u-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),o=(f-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(h%1!=0||o%1!=0)&&console.warn("Image tile area not tile size multiple in: "+this.name),h=Math.floor(h),o=Math.floor(o),this.rows=h,this.columns=o,this.total=h*o,this.texCoordinates.length=0;for(var a=this.tileMargin,d=this.tileMargin,r=0;r<this.rows;r++){for(var c=0;c<this.columns;c++)this.texCoordinates.push({x:a,y:d}),a+=this.tileWidth+this.tileSpacing;a=this.tileMargin,d+=this.tileHeight+this.tileSpacing}return this}});C.exports=g},function(C,F){C.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},function(C,F){C.exports=function(l,g,f){return void 0===f&&(f=1e-4),Math.abs(l-g)<f}},function(C,F,n){var l=n(0),g=n(11),f=n(15),u=n(1062),h=new l({Extends:f,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.ScrollFactor,g.Size,g.TextureCrop,g.Tint,g.Transform,g.Visible,u],initialize:function(a,d,r,c,p){f.call(this,a,"Image"),this._crop=this.resetCropObject(),this.setTexture(c,p),this.setPosition(d,r),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}});C.exports=h},function(C,F){C.exports=function(l,g){return l.hasOwnProperty(g)}},function(C,F,n){var l={};C.exports=l;var g=n(94),f=n(50),u=n(71),h=n(117),o=n(116),a=n(1487);l.rectangle=function(d,r,c,p,m){m=m||{};var v={label:"Rectangle Body",position:{x:d,y:r},vertices:g.fromPath("L 0 0 L "+c+" 0 L "+c+" "+p+" L 0 "+p)};if(m.chamfer){var x=m.chamfer;v.vertices=g.chamfer(v.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete m.chamfer}return u.create(f.extend({},v,m))},l.trapezoid=function(d,r,c,p,m,v){v=v||{};var T=c*(m*=.5),E=T+(1-2*m)*c,M=E+T,P={label:"Trapezoid Body",position:{x:d,y:r},vertices:g.fromPath(m<.5?"L 0 0 L "+T+" "+-p+" L "+E+" "+-p+" L "+M+" 0":"L 0 0 L "+E+" "+-p+" L "+M+" 0")};if(v.chamfer){var R=v.chamfer;P.vertices=g.chamfer(P.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete v.chamfer}return u.create(f.extend({},P,v))},l.circle=function(d,r,c,p,m){p=p||{};var v={label:"Circle Body",circleRadius:c};m=m||25;var x=Math.ceil(Math.max(10,Math.min(m,c)));return x%2==1&&(x+=1),l.polygon(d,r,x,c,f.extend({},v,p))},l.polygon=function(d,r,c,p,m){if(m=m||{},c<3)return l.circle(d,r,p,m);for(var v=2*Math.PI/c,x="",T=.5*v,E=0;E<c;E+=1){var M=T+E*v,S=Math.cos(M)*p,P=Math.sin(M)*p;x+="L "+S.toFixed(3)+" "+P.toFixed(3)+" "}var R={label:"Polygon Body",position:{x:d,y:r},vertices:g.fromPath(x)};if(m.chamfer){var w=m.chamfer;R.vertices=g.chamfer(R.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete m.chamfer}return u.create(f.extend({},R,m))},l.fromVertices=function(d,r,c,p,m,v,x){var T,E,M,S,P,L;for(p=p||{},E=[],m=void 0!==m&&m,v=void 0!==v?v:.01,x=void 0!==x?x:10,a||f.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),f.isArray(c[0])||(c=[c]),L=0;L<c.length;L+=1)if((M=g.isConvex(S=c[L]))||!a)S=M?g.clockwiseSort(S):g.hull(S),E.push({position:{x:d,y:r},vertices:S});else{var B=S.map(function($){return[$.x,$.y]});a.makeCCW(B),!1!==v&&a.removeCollinearPoints(B,v);var G=a.quickDecomp(B);for(P=0;P<G.length;P++){var Y=G[P].map(function($){return{x:$[0],y:$[1]}});x>0&&g.area(Y)<x||E.push({position:g.centre(Y),vertices:Y})}}for(P=0;P<E.length;P++)E[P]=u.create(f.extend(E[P],p));return m&&l.flagCoincidentParts(E,5),E.length>1?(T=u.create(f.extend({parts:E.slice(0)},p)),u.setPosition(T,{x:d,y:r}),T):E[0]},l.flagCoincidentParts=function(d,r){void 0===r&&(r=5);for(var c=0;c<d.length;c++)for(var p=d[c],m=c+1;m<d.length;m++){var v=d[m];if(h.overlaps(p.bounds,v.bounds))for(var x=p.vertices,T=v.vertices,E=0;E<p.vertices.length;E++)for(var M=0;M<v.vertices.length;M++){var S=o.magnitudeSquared(o.sub(x[(E+1)%x.length],T[M])),P=o.magnitudeSquared(o.sub(x[E],T[(M+1)%T.length]));S<r&&P<r&&(x[E].isInternal=!0,T[M].isInternal=!0)}}return d}},function(C,F,n){var l=n(33),g=n(62),f=n(63),u=n(0),h=n(11),o=n(15),a=n(10),d=n(56),r=new u({Extends:o,Mixins:[h.Depth,h.GetBounds,h.Origin,h.Transform,h.ScrollFactor,h.Visible],initialize:function(p,m,v,x,T){void 0===x&&(x=1),void 0===T&&(T=x),o.call(this,p,"Zone"),this.setPosition(m,v),this.width=x,this.height=T,this.blendMode=l.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(c){this.scaleX=c/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(c){this.scaleY=c/this.height}},setSize:function(c,p,m){void 0===m&&(m=!0),this.width=c,this.height=p,this.updateDisplayOrigin();var v=this.input;return m&&v&&!v.customHitArea&&(v.hitArea.width=c,v.hitArea.height=p),this},setDisplaySize:function(c,p){return this.displayWidth=c,this.displayHeight=p,this},setCircleDropZone:function(c){return this.setDropZone(new g(0,0,c),f)},setRectangleDropZone:function(c,p){return this.setDropZone(new a(0,0,c,p),d)},setDropZone:function(c,p){return void 0===c?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(c,p,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(){},renderWebGL:function(){}});C.exports=r},function(C,F){C.exports=function(l){return 2*(l.width+l.height)}},function(C,F){C.exports=function(l){for(var g=l.length-1;g>0;g--){var f=Math.floor(Math.random()*(g+1)),u=l[g];l[g]=l[f],l[f]=u}return l}},function(C,F,n){C.exports={ADD_ANIMATION:n(700),ANIMATION_COMPLETE:n(701),ANIMATION_COMPLETE_KEY:n(702),ANIMATION_REPEAT:n(703),ANIMATION_RESTART:n(704),ANIMATION_START:n(705),ANIMATION_STOP:n(706),ANIMATION_UPDATE:n(707),PAUSE_ALL:n(708),REMOVE_ANIMATION:n(709),RESUME_ALL:n(710)}},function(C,F,n){var l=n(0),g=n(11),f=n(34),u=n(9),h=n(35),o=n(10),a=n(25),d=n(184),r=n(3),c=new l({Extends:u,Mixins:[g.Alpha,g.Visible],initialize:function(m,v,x,T){void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=0),void 0===T&&(T=0),u.call(this),this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new o,this.dirty=!0,this._x=m,this._y=v,this._width=x,this._height=T,this._bounds=new o,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new a,this.transparent=!0,this.backgroundColor=d("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new r(x/2,T/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null},setOrigin:function(p,m){return void 0===p&&(p=.5),void 0===m&&(m=p),this.originX=p,this.originY=m,this},getScroll:function(p,m,v){void 0===v&&(v=new r);var T=.5*this.height;return v.x=p-.5*this.width,v.y=m-T,this.useBounds&&(v.x=this.clampX(v.x),v.y=this.clampY(v.y)),v},centerOnX:function(p){var m=.5*this.width;return this.midPoint.x=p,this.scrollX=p-m,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(p){var m=.5*this.height;return this.midPoint.y=p,this.scrollY=p-m,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(p,m){return this.centerOnX(p),this.centerOnY(m),this},centerToBounds:function(){if(this.useBounds){var p=this._bounds,m=.5*this.width,v=.5*this.height;this.midPoint.set(p.centerX,p.centerY),this.scrollX=p.centerX-m,this.scrollY=p.centerY-v}return this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(p){if(this.disableCull)return p;var m=this.matrix.matrix,v=m[0],x=m[1],T=m[2],E=m[3],M=v*E-x*T;if(!M)return p;var S=m[4],P=m[5],R=this.scrollX,w=this.scrollY,B=this.y,G=B+this.height,H=this.x,Y=H+this.width,$=this.culledObjects,J=p.length;M=1/M,$.length=0;for(var _=0;_<J;++_){var tt=p[_];if(tt.hasOwnProperty("width")&&!tt.parentContainer){var U=tt.width,V=tt.height,X=tt.x-R*tt.scrollFactorX-U*tt.originX,W=tt.y-w*tt.scrollFactorY-V*tt.originY;(X+U)*v+(W+V)*T+S>H&&X*v+W*T+S<Y&&(X+U)*x+(W+V)*E+P>B&&X*x+W*E+P<G&&$.push(tt)}else $.push(tt)}return $},getWorldPoint:function(p,m,v){void 0===v&&(v=new r);var x=this.matrix.matrix,T=x[0],E=x[1],M=x[2],S=x[3],P=x[4],R=x[5],w=T*S-E*M;if(!w)return v.x=p,v.y=m,v;var L=S*(w=1/w),I=-E*w,B=-M*w,G=T*w,H=(M*R-S*P)*w,Y=(E*P-T*R)*w,$=Math.cos(this.rotation),J=Math.sin(this.rotation),U=this.scrollX,V=this.scrollY,X=p+(U*$-V*J)*this.zoomX,W=m+(U*J+V*$)*this.zoomY;return v.x=X*L+W*B+H,v.y=X*I+W*G+Y,v},ignore:function(p){var m=this.id;Array.isArray(p)||(p=[p]);for(var v=0;v<p.length;v++){var x=p[v];Array.isArray(x)?this.ignore(x):x.isParent?this.ignore(x.getChildren()):x.cameraFilter|=m}return this},preRender:function(){var p=this.width,m=this.height,v=.5*p,x=.5*m,T=this.zoomX,E=this.zoomY,M=this.matrix,S=p*this.originX,P=m*this.originY,R=this.scrollX,w=this.scrollY;this.useBounds&&(R=this.clampX(R),w=this.clampY(w)),this.roundPixels&&(S=Math.round(S),P=Math.round(P)),this.scrollX=R,this.scrollY=w;var L=R+v,I=w+x;this.midPoint.set(L,I);var B=p/T,G=m/E;this.worldView.setTo(L-B/2,I-G/2,B,G),M.applyITRS(this.x+S,this.y+P,this.rotation,T,E),M.translate(-S,-P)},clampX:function(p){var m=this._bounds,v=this.displayWidth,x=m.x+(v-this.width)/2,T=Math.max(x,x+m.width-v);return p<x?p=x:p>T&&(p=T),p},clampY:function(p){var m=this._bounds,v=this.displayHeight,x=m.y+(v-this.height)/2,T=Math.max(x,x+m.height-v);return p<x?p=x:p>T&&(p=T),p},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(p){return void 0===p&&(p=0),this.rotation=f(p),this},setBackgroundColor:function(p){return void 0===p&&(p="rgba(0,0,0,0)"),this.backgroundColor=d(p),this.transparent=0===this.backgroundColor.alpha,this},setBounds:function(p,m,v,x,T){return void 0===T&&(T=!1),this._bounds.setTo(p,m,v,x),this.dirty=!0,this.useBounds=!0,T?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(p){void 0===p&&(p=new o);var m=this._bounds;return p.setTo(m.x,m.y,m.width,m.height),p},setName:function(p){return void 0===p&&(p=""),this.name=p,this},setPosition:function(p,m){return void 0===m&&(m=p),this.x=p,this.y=m,this},setRotation:function(p){return void 0===p&&(p=0),this.rotation=p,this},setRoundPixels:function(p){return this.roundPixels=p,this},setScene:function(p){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=p;var m=p.sys;return this.sceneManager=m.game.scene,this.scaleManager=m.scale,this.cameraManager=m.cameras,this.updateSystem(),this},setScroll:function(p,m){return void 0===m&&(m=p),this.scrollX=p,this.scrollY=m,this},setSize:function(p,m){return void 0===m&&(m=p),this.width=p,this.height=m,this},setViewport:function(p,m,v,x){return this.x=p,this.y=m,this.width=v,this.height=x,this},setZoom:function(p,m){return void 0===p&&(p=1),void 0===m&&(m=p),0===p&&(p=.001),0===m&&(m=.001),this.zoomX=p,this.zoomY=m,this},setMask:function(p,m){return void 0===m&&(m=!0),this.mask=p,this._maskCamera=m?this.cameraManager.default:this,this},clearMask:function(p){return void 0===p&&(p=!1),p&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var p={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(p.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),p},update:function(){},updateSystem:function(){if(this.scaleManager){var p=0!==this._x||0!==this._y||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,m=this.sceneManager;p&&!this._customViewport?m.customViewports++:!p&&this._customViewport&&m.customViewports--,this.dirty=!0,this._customViewport=p}},destroy:function(){this.emit(h.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(p){this._x=p,this.updateSystem()}},y:{get:function(){return this._y},set:function(p){this._y=p,this.updateSystem()}},width:{get:function(){return this._width},set:function(p){this._width=p,this.updateSystem()}},height:{get:function(){return this._height},set:function(p){this._height=p,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(p){this._scrollX=p,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(p){this._scrollY=p,this.dirty=!0}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(p){this._zoomX=p,this._zoomY=p,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(p){this._zoomX=p,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(p){this._zoomY=p,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});C.exports=c},function(C,F,n){var l=n(328),g=n(329),f=n(330),u=n(331),h=n(332),o=n(333),a=n(334),d=n(335),r=n(336),c=n(337),p=n(338),m=n(339);C.exports={Power0:a,Power1:d.Out,Power2:u.Out,Power3:r.Out,Power4:c.Out,Linear:a,Quad:d.Out,Cubic:u.Out,Quart:r.Out,Quint:c.Out,Sine:p.Out,Expo:o.Out,Circ:f.Out,Elastic:h.Out,Back:l.Out,Bounce:g.Out,Stepped:m,"Quad.easeIn":d.In,"Cubic.easeIn":u.In,"Quart.easeIn":r.In,"Quint.easeIn":c.In,"Sine.easeIn":p.In,"Expo.easeIn":o.In,"Circ.easeIn":f.In,"Elastic.easeIn":h.In,"Back.easeIn":l.In,"Bounce.easeIn":g.In,"Quad.easeOut":d.Out,"Cubic.easeOut":u.Out,"Quart.easeOut":r.Out,"Quint.easeOut":c.Out,"Sine.easeOut":p.Out,"Expo.easeOut":o.Out,"Circ.easeOut":f.Out,"Elastic.easeOut":h.Out,"Back.easeOut":l.Out,"Bounce.easeOut":g.Out,"Quad.easeInOut":d.InOut,"Cubic.easeInOut":u.InOut,"Quart.easeInOut":r.InOut,"Quint.easeInOut":c.InOut,"Sine.easeInOut":p.InOut,"Expo.easeInOut":o.InOut,"Circ.easeInOut":f.InOut,"Elastic.easeInOut":h.InOut,"Back.easeInOut":l.InOut,"Bounce.easeInOut":g.InOut}},function(C,F){C.exports=function(l,g,f){return(g-l)*f+l}},function(C,F,n){var l=n(102),g={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};C.exports=function f(){var u=navigator.userAgent;return/Edge\/\d+/.test(u)?g.edge=!0:/Chrome\/(\d+)/.test(u)&&!l.windowsPhone?(g.chrome=!0,g.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(u)?(g.firefox=!0,g.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(u)&&l.iOS?g.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(u)?(g.ie=!0,g.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(u)?g.opera=!0:/Safari/.test(u)&&!l.windowsPhone?g.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(u)&&(g.ie=!0,g.trident=!0,g.tridentVersion=parseInt(RegExp.$1,10),g.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(u)&&(g.silk=!0),g}()},function(C,F){C.exports=function(l,g){return Math.random()*(g-l)+l}},function(C,F){C.exports=function(l,g){return l>0&&0==(l&l-1)&&g>0&&0==(g&g-1)}},function(C,F){C.exports=function(l,g,f,u){return void 0===f&&(f=0),0===g?l:(l-=f,l=g*Math.ceil(l/g),u?(f+l)/g:f+l)}},function(C,F,n){var g=new(n(0))({initialize:function(u,h,o,a){this.x=0,this.y=0,this.z=0,this.w=0,"object"==typeof u?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0,this.w=u.w||0):(this.x=u||0,this.y=h||0,this.z=o||0,this.w=a||0)},clone:function(){return new g(this.x,this.y,this.z,this.w)},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this.w=f.w||0,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z&&this.w===f.w},set:function(f,u,h,o){return"object"==typeof f?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0,this.w=f.w||0):(this.x=f||0,this.y=u||0,this.z=h||0,this.w=o||0),this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this.w+=f.w||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this.w-=f.w||0,this},scale:function(f){return this.x*=f,this.y*=f,this.z*=f,this.w*=f,this},length:function(){var f=this.x,u=this.y,h=this.z,o=this.w;return Math.sqrt(f*f+u*u+h*h+o*o)},lengthSq:function(){var f=this.x,u=this.y,h=this.z,o=this.w;return f*f+u*u+h*h+o*o},normalize:function(){var f=this.x,u=this.y,h=this.z,o=this.w,a=f*f+u*u+h*h+o*o;return a>0&&(a=1/Math.sqrt(a),this.x=f*a,this.y=u*a,this.z=h*a,this.w=o*a),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,u){void 0===u&&(u=0);var h=this.x,o=this.y,a=this.z,d=this.w;return this.x=h+u*(f.x-h),this.y=o+u*(f.y-o),this.z=a+u*(f.z-a),this.w=d+u*(f.w-d),this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this.w*=f.w||1,this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this.w/=f.w||1,this},distance:function(f){var u=f.x-this.x,h=f.y-this.y,o=f.z-this.z||0,a=f.w-this.w||0;return Math.sqrt(u*u+h*h+o*o+a*a)},distanceSq:function(f){var u=f.x-this.x,h=f.y-this.y,o=f.z-this.z||0,a=f.w-this.w||0;return u*u+h*h+o*o+a*a},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(f){var u=this.x,h=this.y,o=this.z,a=this.w,d=f.val;return this.x=d[0]*u+d[4]*h+d[8]*o+d[12]*a,this.y=d[1]*u+d[5]*h+d[9]*o+d[13]*a,this.z=d[2]*u+d[6]*h+d[10]*o+d[14]*a,this.w=d[3]*u+d[7]*h+d[11]*o+d[15]*a,this},transformQuat:function(f){var u=this.x,h=this.y,o=this.z,a=f.x,d=f.y,r=f.z,c=f.w,p=c*u+d*o-r*h,m=c*h+r*u-a*o,v=c*o+a*h-d*u,x=-a*u-d*h-r*o;return this.x=p*c+x*-a+m*-r-v*-d,this.y=m*c+x*-d+v*-a-p*-r,this.z=v*c+x*-r+p*-d-m*-a,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});g.prototype.sub=g.prototype.subtract,g.prototype.mul=g.prototype.multiply,g.prototype.div=g.prototype.divide,g.prototype.dist=g.prototype.distance,g.prototype.distSq=g.prototype.distanceSq,g.prototype.len=g.prototype.length,g.prototype.lenSq=g.prototype.lengthSq,C.exports=g},function(C,F,n){var l=n(0),g=n(88),f=new l({initialize:function(h,o,a,d,r,c,p){void 0===d&&(d=1),void 0===r&&(r=0),void 0===c&&(c=!0),void 0===p&&(p=!1),this.renderer=h,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=d,this.minFilter=r,this.autoClear=c,this.autoResize=!1,this.resize(o,a),p&&this.setAutoResize(!0)},setAutoResize:function(u){return u&&!this.autoResize?(this.renderer.on(g.RESIZE,this.resize,this),this.autoResize=!0):!u&&this.autoResize&&(this.renderer.off(g.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(u,h){if(u*this.scale!==this.width||h*this.scale!==this.height){var d=this.renderer;d.deleteFramebuffer(this.framebuffer),d.deleteTexture(this.texture),this.texture=d.createTextureFromSource(null,u*=this.scale,h*=this.scale,this.minFilter),this.framebuffer=d.createFramebuffer(u,h,this.texture,!1),this.width=u,this.height=h}return this},bind:function(u,h,o){if(void 0===u&&(u=!1),u&&this.renderer.flush(),h&&o&&this.resize(h,o),this.renderer.pushFramebuffer(this.framebuffer,!1,!1,!1),u&&this.adjustViewport(),this.autoClear){var a=this.renderer.gl;a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT)}},adjustViewport:function(){var u=this.renderer.gl;u.viewport(0,0,this.width,this.height),u.disable(u.SCISSOR_TEST)},clear:function(){var u=this.renderer,h=u.gl;u.pushFramebuffer(this.framebuffer),h.disable(h.SCISSOR_TEST),h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT),u.popFramebuffer(),u.resetScissor()},unbind:function(u){void 0===u&&(u=!1);var h=this.renderer;return u&&h.flush(),h.popFramebuffer()},destroy:function(){var u=this.renderer;u.deleteFramebuffer(this.framebuffer),u.deleteTexture(this.texture),u.off(g.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});C.exports=f},function(C,F){C.exports=function(l,g){var f;if(g)"string"==typeof g?f=document.getElementById(g):"object"==typeof g&&1===g.nodeType&&(f=g);else if(l.parentElement||null===g)return l;return f||(f=document.body),f.appendChild(l),l}},function(C,F){C.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175}},function(C,F){C.exports={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9}},function(C,F,n){var l=n(77);C.exports=function(f,u){var h=l(f);for(var o in u)h.hasOwnProperty(o)||(h[o]=u[o]);return h}},function(C,F,n){var l=n(0),g=n(77),f=n(9),u=n(69),h=n(22),o=n(1),a=n(204),d=n(422),r=new l({Extends:f,initialize:function(p){f.call(this),this.game=p,this.jsonCache=p.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,p.events.on(h.BLUR,this.onGameBlur,this),p.events.on(h.FOCUS,this.onGameFocus,this),p.events.on(h.PRE_STEP,this.update,this),p.events.once(h.DESTROY,this.destroy,this)},add:o,addAudioSprite:function(c,p){void 0===p&&(p={});var m=this.add(c,p);for(var v in m.spritemap=this.jsonCache.get(c).spritemap,m.spritemap)if(m.spritemap.hasOwnProperty(v)){var x=g(p),T=m.spritemap[v];x.loop=!!T.hasOwnProperty("loop")&&T.loop,m.addMarker({name:v,start:T.start,duration:T.end-T.start,config:x})}return m},get:function(c){return d(this.sounds,"key",c)},getAll:function(c){return a(this.sounds,"key",c)},play:function(c,p){var m=this.add(c);return m.once(u.COMPLETE,m.destroy,m),p?p.name?(m.addMarker(p),m.play(p.name)):m.play(p):m.play()},playAudioSprite:function(c,p,m){var v=this.addAudioSprite(c);return v.once(u.COMPLETE,v.destroy,v),v.play(p,m)},remove:function(c){var p=this.sounds.indexOf(c);return-1!==p&&(c.destroy(),this.sounds.splice(p,1),!0)},removeAll:function(){this.sounds.forEach(function(c){c.destroy()}),this.sounds.length=0},removeByKey:function(c){for(var p=0,m=this.sounds.length-1;m>=0;m--){var v=this.sounds[m];v.key===c&&(v.destroy(),this.sounds.splice(m,1),p++)}return p},pauseAll:function(){this.forEachActiveSound(function(c){c.pause()}),this.emit(u.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(c){c.resume()}),this.emit(u.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound(function(c){c.stop()}),this.emit(u.STOP_ALL,this)},stopByKey:function(c){var p=0;return this.getAll(c).forEach(function(m){m.stop()&&p++}),p},unlock:o,onBlur:o,onFocus:o,onGameBlur:function(){this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.pauseOnBlur&&this.onFocus()},update:function(c,p){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(u.UNLOCKED,this));for(var m=this.sounds.length-1;m>=0;m--)this.sounds[m].pendingRemove&&this.sounds.splice(m,1);this.sounds.forEach(function(v){v.update(c,p)})},destroy:function(){this.game.events.off(h.BLUR,this.onGameBlur,this),this.game.events.off(h.FOCUS,this.onGameFocus,this),this.game.events.off(h.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(c,p){var m=this;this.sounds.forEach(function(v,x){v&&!v.pendingRemove&&c.call(p||m,v,x,m.sounds)})},setRate:function(c){return this.rate=c,this},rate:{get:function(){return this._rate},set:function(c){this._rate=c,this.forEachActiveSound(function(p){p.calculateRate()}),this.emit(u.GLOBAL_RATE,this,c)}},setDetune:function(c){return this.detune=c,this},detune:{get:function(){return this._detune},set:function(c){this._detune=c,this.forEachActiveSound(function(p){p.calculateRate()}),this.emit(u.GLOBAL_DETUNE,this,c)}}});C.exports=r},function(C,F,n){var l=n(0),g=n(9),f=n(69),u=n(17),h=n(1),o=new l({Extends:g,initialize:function(d,r,c){g.call(this),this.manager=d,this.key=r,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=u(this.config,c),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(a){return!(!a||!a.name||"string"!=typeof a.name||(this.markers[a.name]?(console.error("addMarker "+a.name+" already exists in Sound"),1):(a=u(!0,{name:"",start:0,duration:this.totalDuration-(a.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},a),this.markers[a.name]=a,0)))},updateMarker:function(a){return!(!a||!a.name||"string"!=typeof a.name||(this.markers[a.name]?(this.markers[a.name]=u(!0,this.markers[a.name],a),0):(console.warn("Audio Marker: "+a.name+" missing in Sound: "+this.key),1)))},removeMarker:function(a){var d=this.markers[a];return d?(this.markers[a]=null,d):null},play:function(a,d){if(void 0===a&&(a=""),"object"==typeof a&&(d=a,a=""),"string"!=typeof a)return!1;if(a){if(!this.markers[a])return console.warn("Marker: "+a+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[a],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=u(this.currentConfig,d),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return!(this.isPaused||!this.isPlaying||(this.isPlaying=!1,this.isPaused=!0,0))},resume:function(){return!(!this.isPaused||this.isPlaying||(this.isPlaying=!0,this.isPaused=!1,0))},stop:function(){return!(!this.isPaused&&!this.isPlaying||(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),0))},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:h,calculateRate:function(){var r=Math.pow(1.0005777895065548,this.currentConfig.detune+this.manager.detune);this.totalRate=this.currentConfig.rate*this.manager.rate*r},destroy:function(){this.pendingRemove||(this.emit(f.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});C.exports=o},function(C,F,n){var l=n(206),g=n(429);C.exports=function(u,h){if(void 0===h&&(h=90),!l(u))return null;if("string"!=typeof h&&(h=(h%360+360)%360),90===h||-270===h||"rotateLeft"===h)(u=g(u)).reverse();else if(-90===h||270===h||"rotateRight"===h)u.reverse(),u=g(u);else if(180===Math.abs(h)||"rotate180"===h){for(var o=0;o<u.length;o++)u[o].reverse();u.reverse()}return u}},function(C,F,n){var l=n(0),g=n(18),f=n(11),u=n(15),h=n(1037),o=n(1038),a=n(209),d=n(10),r=n(1039),c=new l({Extends:u,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Mask,f.Origin,f.Pipeline,f.ScrollFactor,f.Texture,f.Tint,f.Transform,f.Visible,r],initialize:function(m,v,x,T,E,M,S){void 0===E&&(E=""),void 0===S&&(S=0),u.call(this,m,"BitmapText"),this.font=T;var P=this.scene.sys.cache.bitmapFont.get(T);P||console.warn("Invalid BitmapText key: "+T),this.fontData=P.data,this._text="",this._fontSize=M||this.fontData.size,this._letterSpacing=0,this._align=S,this._bounds=h(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.setTexture(P.texture,P.frame),this.setPosition(v,x),this.setOrigin(0,0),this.initPipeline(),this.setText(E)},setLeftAlign:function(){return this._align=c.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=c.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=c.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(p){return this._fontSize=p,this._dirty=!0,this},setLetterSpacing:function(p){return void 0===p&&(p=0),this._letterSpacing=p,this._dirty=!0,this},setText:function(p){return!p&&0!==p&&(p=""),Array.isArray(p)&&(p=p.join("\n")),p!==this.text&&(this._text=p.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(p,m,v,x){return void 0===p&&(p=0),void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=.5),this.dropShadowX=p,this.dropShadowY=m,this.dropShadowColor=v,this.dropShadowAlpha=x,this},setCharacterTint:function(p,m,v,x,T,E,M){void 0===p&&(p=0),void 0===m&&(m=1),void 0===v&&(v=!1),void 0===x&&(x=-1),void 0===T&&(T=x,E=x,M=x);var S=this.text.length;-1===m&&(m=S),p<0&&(p=S+p),p=g(p,0,S-1);for(var P=g(p+m,p,S),R=this.charColors,w=p;w<P;w++){var L=R[w];if(-1===x)R[w]=null;else{var I=v?1:0;L?(L.tintEffect=I,L.tintTL=x,L.tintTR=T,L.tintBL=E,L.tintBR=M):R[w]={tintEffect:I,tintTL:x,tintTR:T,tintBL:E,tintBR:M}}}return this},setWordTint:function(p,m,v,x,T,E,M){void 0===m&&(m=1);for(var P=this.getTextBounds().words,R="number"==typeof p,w=0,L=0;L<P.length;L++){var I=P[L];if((R&&L===p||!R&&I.word===p)&&(this.setCharacterTint(I.i,I.word.length,v,x,T,E,M),++w===m))return this}return this},getTextBounds:function(p){var m=this._bounds;return(this._dirty||p||this.scaleX!==m.scaleX||this.scaleY!==m.scaleY)&&(h(this,p,!0,m),this._dirty=!1),m},getCharacterAt:function(p,m,v){for(var x=this.getLocalPoint(p,m,null,v),E=this.getTextBounds().characters,M=new d,S=0;S<E.length;S++){var P=E[S];if(M.setTo(P.x,P.t,P.r-P.x,P.b),M.contains(x.x,x.y))return P}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(p,m,v){if(void 0===m&&(m=this._fontSize),void 0===v&&(v=this._align),p!==this.font){var x=this.scene.sys.cache.bitmapFont.get(p);x&&(this.font=p,this.fontData=x.data,this._fontSize=m,this._align=v,this.setTexture(x.texture,x.frame),h(this,!1,!0,this._bounds))}return this},setMaxWidth:function(p,m){return this._maxWidth=p,this._dirty=!0,void 0!==m&&(this.wordWrapCharCode=m),this},align:{set:function(p){this._align=p,this._dirty=!0},get:function(){return this._align}},text:{set:function(p){this.setText(p)},get:function(){return this._text}},fontSize:{set:function(p){this._fontSize=p,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(p){this._letterSpacing=p,this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(p){this._maxWidth=p,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var p=f.ToJSON(this);return p.data={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align},p},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});c.ALIGN_LEFT=0,c.ALIGN_CENTER=1,c.ALIGN_RIGHT=2,c.ParseFromAtlas=o,c.ParseXMLBitmapFont=a,C.exports=c},function(C,F,n){var g=new(n(0))({initialize:function(u){if(this.entries=[],Array.isArray(u))for(var h=0;h<u.length;h++)this.set(u[h])},set:function(f){return-1===this.entries.indexOf(f)&&this.entries.push(f),this},get:function(f,u){for(var h=0;h<this.entries.length;h++){var o=this.entries[h];if(o[f]===u)return o}},getArray:function(){return this.entries.slice(0)},delete:function(f){var u=this.entries.indexOf(f);return u>-1&&this.entries.splice(u,1),this},dump:function(){console.group("Set");for(var f=0;f<this.entries.length;f++)console.log(this.entries[f]);console.groupEnd()},each:function(f,u){var h,o=this.entries.slice(),a=o.length;if(u)for(h=0;h<a&&!1!==f.call(u,o[h],h);h++);else for(h=0;h<a&&!1!==f(o[h],h);h++);return this},iterate:function(f,u){var h,o=this.entries.length;if(u)for(h=0;h<o&&!1!==f.call(u,this.entries[h],h);h++);else for(h=0;h<o&&!1!==f(this.entries[h],h);h++);return this},iterateLocal:function(f){var u,h=[];for(u=1;u<arguments.length;u++)h.push(arguments[u]);var o=this.entries.length;for(u=0;u<o;u++){var a=this.entries[u];a[f].apply(a,h)}return this},clear:function(){return this.entries.length=0,this},contains:function(f){return this.entries.indexOf(f)>-1},union:function(f){var u=new g;return f.entries.forEach(function(h){u.set(h)}),this.entries.forEach(function(h){u.set(h)}),u},intersect:function(f){var u=new g;return this.entries.forEach(function(h){f.contains(h)&&u.set(h)}),u},difference:function(f){var u=new g;return this.entries.forEach(function(h){f.contains(h)||u.set(h)}),u},size:{get:function(){return this.entries.length},set:function(f){return f<this.entries.length?this.entries.length=f:this.entries.length}}});C.exports=g},function(C,F,n){var l=n(0),g=n(11),f=n(15),u=n(186),h=n(65),o=n(1176),a=new l({Extends:f,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Pipeline,g.ScrollFactor,g.Transform,g.Visible,o],initialize:function(r,c,p,m,v,x,T){void 0===m&&(m=16777215),void 0===v&&(v=128),void 0===x&&(x=1),void 0===T&&(T=.1),f.call(this,r,"PointLight"),this.initPipeline(h.POINTLIGHT_PIPELINE),this.setPosition(c,p),this.color=u(m),this.intensity=x,this.attenuation=T,this.width=2*v,this.height=2*v,this._radius=v},radius:{get:function(){return this._radius},set:function(d){this._radius=d,this.width=2*d,this.height=2*d}},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});C.exports=a},function(C,F){C.exports=function(l,g){var f=g.width/2,u=g.height/2,h=Math.abs(l.x-g.x-f),o=Math.abs(l.y-g.y-u);if(h>f+l.radius||o>u+l.radius)return!1;if(h<=f||o<=u)return!0;var r=h-f,c=o-u;return r*r+c*c<=l.radius*l.radius}},function(C,F,n){var l=n(6),g={};C.exports={register:function(u,h,o,a,d){g[u]={plugin:h,mapping:o,settingsKey:a,configKey:d}},getPlugin:function(u){return g[u]},install:function(u){var h=u.scene.sys,o=h.settings.input,a=h.game.config;for(var d in g){var r=g[d].plugin,c=g[d].mapping;l(o,g[d].settingsKey,a[g[d].configKey])&&(u[c]=new r(u))}},remove:function(u){g.hasOwnProperty(u)&&delete g[u]}}},function(C,F,n){C.exports={ANY_KEY_DOWN:n(1317),ANY_KEY_UP:n(1318),COMBO_MATCH:n(1319),DOWN:n(1320),KEY_DOWN:n(1321),KEY_UP:n(1322),UP:n(1323)}},function(C,F){C.exports=function(l,g){return!!l.url&&(l.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?l.url:g+l.url)}},function(C,F){C.exports=function(l,g,f,u,h,o){return void 0===l&&(l=""),void 0===g&&(g=!0),void 0===f&&(f=""),void 0===u&&(u=""),void 0===h&&(h=0),void 0===o&&(o=!1),{responseType:l,async:g,user:f,password:u,timeout:h,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:o}}},function(C,F,n){var l=n(0),g=n(240),f=n(73),u=new l({Extends:f,Mixins:[g.Acceleration,g.Angular,g.Bounce,g.Debug,g.Drag,g.Enable,g.Friction,g.Gravity,g.Immovable,g.Mass,g.Pushable,g.Size,g.Velocity],initialize:function(o,a,d,r,c){f.call(this,o,a,d,r,c),this.body=null}});C.exports=u},function(C,F,n){var l=n(118);C.exports=function(f,u,h,o){if(void 0===h&&(h=!1),l(f,u,o)){var a=o.data[u][f]||null;return a?-1===a.index?h?a:null:a:null}return null}},function(C,F){C.exports=function(l,g,f,u){var v,x,T,h=l.data,o=l.width,a=l.height,d=l.tilemapLayer,r=Math.max(0,g.left),c=Math.min(o,g.right),p=Math.max(0,g.top),m=Math.min(a,g.bottom);if(0===f)for(x=p;x<m;x++)for(v=r;h[x]&&v<c;v++)(T=h[x][v])&&-1!==T.index&&T.visible&&0!==T.alpha&&u.push(T);else if(1===f)for(x=p;x<m;x++)for(v=c;h[x]&&v>=r;v--)(T=h[x][v])&&-1!==T.index&&T.visible&&0!==T.alpha&&u.push(T);else if(2===f)for(x=m;x>=p;x--)for(v=r;h[x]&&v<c;v++)(T=h[x][v])&&-1!==T.index&&T.visible&&0!==T.alpha&&u.push(T);else if(3===f)for(x=m;x>=p;x--)for(v=c;h[x]&&v>=r;v--)(T=h[x][v])&&-1!==T.index&&T.visible&&0!==T.alpha&&u.push(T);return d.tilesDrawn=u.length,d.tilesTotal=o*a,u}},function(C,F){C.exports=function(l,g,f){var u=f.collideIndexes.indexOf(l);g&&-1===u?f.collideIndexes.push(l):!g&&-1!==u&&f.collideIndexes.splice(u,1)}},function(C,F,n){var l=n(2);C.exports=function(f,u,h){if(!u)return{i:0,layers:f.layers,name:"",opacity:1,visible:!0,x:0,y:0};var o=u.x+l(u,"startx",0)*f.tilewidth+l(u,"offsetx",0),a=u.y+l(u,"starty",0)*f.tileheight+l(u,"offsety",0);return{i:0,layers:u.layers,name:h.name+u.name+"/",opacity:h.opacity*u.opacity,visible:h.visible&&u.visible,x:h.x+o,y:h.y+a}}},function(C,F){C.exports=function(l,g,f){return l.hasOwnProperty(g)?"function"==typeof l[g]?function(o,a,d,r,c,p){return l[g](o,a,d,r,c,p)}:function(){return l[g]}:"function"==typeof f?f:function(){return f}}},function(C,F,n){var l=n(261),g=n(13),f=n(96),u=n(80),h=n(160),o=n(579),a=n(259),d=n(6),r=n(260),c=n(262),p=n(264);C.exports=function(v,x,T){void 0===T&&(T=l);for(var E=T.targets?T.targets:a(x),M=o(x),S=h(x,"delay",T.delay),P=h(x,"duration",T.duration),R=d(x,"easeParams",T.easeParams),w=u(d(x,"ease",T.ease),R),L=h(x,"hold",T.hold),I=h(x,"repeat",T.repeat),B=h(x,"repeatDelay",T.repeatDelay),G=f(x,"yoyo",T.yoyo),H=f(x,"flipX",T.flipX),Y=f(x,"flipY",T.flipY),$=[],J=0;J<M.length;J++)for(var _=M[J].key,tt=M[J].value,U=0;U<E.length;U++){var V=r(_,tt),X=p(E[U],U,_,V.getEnd,V.getStart,V.getActive,u(d(tt,"ease",w),d(tt,"easeParams",R)),h(tt,"delay",S),h(tt,"duration",P),f(tt,"yoyo",G),h(tt,"hold",L),h(tt,"repeat",I),h(tt,"repeatDelay",B),f(tt,"flipX",H),f(tt,"flipY",Y));$.push(X)}var W=new c(v,$,E);W.offset=g(x,"offset",null),W.completeDelay=g(x,"completeDelay",0),W.loop=Math.round(g(x,"loop",0)),W.loopDelay=Math.round(g(x,"loopDelay",0)),W.paused=f(x,"paused",!1),W.useFrames=f(x,"useFrames",!1);for(var j=d(x,"callbackScope",W),K=[W,null],q=c.TYPES,et=0;et<q.length;et++){var rt=q[et],ot=d(x,rt,!1);if(ot){var at=d(x,rt+"Scope",j),ft=d(x,rt+"Params",[]);W.setCallback(rt,ot,K.concat(ft),at)}}return W}},function(C,F,n){var l=n(0),g=n(99),f=n(2),u=n(130),h=n(182),o=new l({initialize:function(d){this.parent=d,this.animationManager=d.scene.sys.anims,this.animationManager.on(u.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0},chain:function(a){var d=this.parent;if(void 0===a)return this.nextAnimsQueue.length=0,this.nextAnim=null,d;Array.isArray(a)||(a=[a]);for(var r=0;r<a.length;r++){var c=a[r];null===this.nextAnim?this.nextAnim=c:this.nextAnimsQueue.push(c)}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(a){this.isPlaying&&this.stop();var d=this.animationManager,r="string"==typeof a?a:f(a,"key",null),c=this.exists(r)?this.get(r):d.get(r);if(c){this.currentAnim=c;var p=c.getTotalFrames(),m=f(a,"frameRate",c.frameRate),v=f(a,"duration",c.duration);c.calculateDuration(this,p,v,m),this.delay=f(a,"delay",c.delay),this.repeat=f(a,"repeat",c.repeat),this.repeatDelay=f(a,"repeatDelay",c.repeatDelay),this.yoyo=f(a,"yoyo",c.yoyo),this.showOnStart=f(a,"showOnStart",c.showOnStart),this.hideOnComplete=f(a,"hideOnComplete",c.hideOnComplete),this.skipMissedFrames=f(a,"skipMissedFrames",c.skipMissedFrames),this.timeScale=f(a,"timeScale",this.timeScale);var x=f(a,"startFrame",0);x>c.getTotalFrames()&&(x=0);var T=c.frames[x];0===x&&!this.forward&&(T=c.getLastFrame()),this.currentFrame=T}else console.warn("Missing animation: "+r);return this.parent},pause:function(a){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),void 0!==a&&this.setCurrentFrame(a),this.parent},resume:function(a){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),void 0!==a&&this.setCurrentFrame(a),this.parent},playAfterDelay:function(a,d){if(this.isPlaying){var r=this.nextAnim;r&&this.nextAnimsQueue.unshift(r),this.nextAnim=a,this._pendingStop=1,this._pendingStopValue=d}else this.delayCounter=d,this.play(a,!0);return this.parent},playAfterRepeat:function(a,d){if(void 0===d&&(d=1),this.isPlaying){var r=this.nextAnim;r&&this.nextAnimsQueue.unshift(r),-1!==this.repeatCounter&&d>this.repeatCounter&&(d=this.repeatCounter),this.nextAnim=a,this._pendingStop=2,this._pendingStopValue=d}else this.play(a);return this.parent},play:function(a,d){void 0===d&&(d=!1);var r=this.currentAnim;if(d&&this.isPlaying&&r.key===("string"==typeof a?a:a.key))return this.parent;if(r&&this.isPlaying){var m=this.animationManager.getMix(r.key,a);if(m>0)return this.playAfterDelay(a,m)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(a)},playReverse:function(a,d){return void 0===d&&(d=!1),d&&this.isPlaying&&this.currentAnim.key===("string"==typeof a?a:a.key)?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(a))},startAnimation:function(a){this.load(a);var d=this.currentAnim,r=this.parent;return d&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat,d.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,0===this.delayCounter&&this.handleStart()),r},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(u.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(u.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(u.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(u.ANIMATION_COMPLETE,u.ANIMATION_COMPLETE_KEY)},emitEvents:function(a,d){var r=this.currentAnim,c=this.currentFrame,p=this.parent,m=c.textureFrame;p.emit(a,r,c,p,m),d&&p.emit(d+r.key,r,c,p,m)},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var a=this.currentFrame;if(!a)return 0;var d=a.progress;return this.inReverse&&(d*=-1),d},setProgress:function(a){return this.forward||(a=1-a),this.setCurrentFrame(this.currentAnim.getFrameByProgress(a)),this.parent},setRepeat:function(a){return this.repeatCounter=-1===a?Number.MAX_VALUE:a,this.parent},globalRemove:function(a,d){void 0===d&&(d=this.currentAnim),this.isPlaying&&d.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(a,d){void 0===a&&(a=!1),void 0===d&&(d=!1);var r=this.currentAnim,c=this.parent;return r?(d&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat),r.getFirstTick(this),this.emitEvents(u.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!a,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(r.frames[0]),this.parent):c},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var a=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(a)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleStop(),this.nextAnim){var a=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(a)}return this.parent},stopAfterDelay:function(a){return this._pendingStop=1,this._pendingStopValue=a,this.parent},stopAfterRepeat:function(a){return void 0===a&&(a=1),-1!==this.repeatCounter&&a>this.repeatCounter&&(a=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=a,this.parent},stopOnFrame:function(a){return this._pendingStop=3,this._pendingStopValue=a,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(a,d){var r=this.currentAnim;if(this.isPlaying&&r&&!r.paused){if(this.accumulator+=d*this.timeScale,1===this._pendingStop&&(this._pendingStopValue-=d,this._pendingStopValue<=0))return this.stop();if(this.hasStarted){if(this.accumulator>=this.nextTick&&(this.forward?r.nextFrame(this):r.previousFrame(this),this.isPlaying&&0===this._pendingStop&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var c=0;do{this.forward?r.nextFrame(this):r.previousFrame(this),c++}while(this.accumulator>this.nextTick&&c<60)}}else this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart())}},setCurrentFrame:function(a){var d=this.parent;return this.currentFrame=a,d.texture=a.frame.texture,d.frame=a.frame,d.isCropped&&d.frame.updateCropUVs(d._crop,d.flipX,d.flipY),a.setAlpha&&(d.alpha=a.alpha),d.setSizeToFrame(),d._originComponent&&(a.frame.customPivot?d.setOrigin(a.frame.pivotX,a.frame.pivotY):d.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(u.ANIMATION_UPDATE),3===this._pendingStop&&this._pendingStopValue===a&&this.stop()),d},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(a){return this.anims?this.anims.get(a):null},exists:function(a){return!!this.anims&&this.anims.has(a)},create:function(a){var d=a.key,r=!1;return d&&((r=this.get(d))||(r=new h(this,d,a),this.anims||(this.anims=new g),this.anims.set(d,r))),r},generateFrameNames:function(a,d){return this.animationManager.generateFrameNames(a,d)},generateFrameNumbers:function(a,d){return this.animationManager.generateFrameNumbers(a,d)},remove:function(a){var d=this.get(a);return d&&(this.currentAnim===d&&this.stop(),this.anims.delete(a)),d},destroy:function(){this.animationManager.off(u.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});C.exports=o},function(C,F,n){var l={};C.exports=l;var g=n(268),f=n(50),u=n(117),h=n(71);l.create=function(o){return f.extend({id:f.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},o)},l.setModified=function(o,a,d,r){if(g.trigger(o,"compositeModified",o),o.isModified=a,d&&o.parent&&l.setModified(o.parent,a,d,r),r)for(var c=0;c<o.composites.length;c++)l.setModified(o.composites[c],a,d,r)},l.add=function(o,a){var d=[].concat(a);g.trigger(o,"beforeAdd",{object:a});for(var r=0;r<d.length;r++){var c=d[r];switch(c.type){case"body":if(c.parent!==c){f.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}l.addBody(o,c);break;case"constraint":l.addConstraint(o,c);break;case"composite":l.addComposite(o,c);break;case"mouseConstraint":l.addConstraint(o,c.constraint)}}return g.trigger(o,"afterAdd",{object:a}),o},l.remove=function(o,a,d){var r=[].concat(a);g.trigger(o,"beforeRemove",{object:a});for(var c=0;c<r.length;c++){var p=r[c];switch(p.type){case"body":l.removeBody(o,p,d);break;case"constraint":l.removeConstraint(o,p,d);break;case"composite":l.removeComposite(o,p,d);break;case"mouseConstraint":l.removeConstraint(o,p.constraint)}}return g.trigger(o,"afterRemove",{object:a}),o},l.addComposite=function(o,a){return o.composites.push(a),a.parent=o,l.setModified(o,!0,!0,!1),o},l.removeComposite=function(o,a,d){var r=o.composites.indexOf(a);if(-1!==r&&(l.removeCompositeAt(o,r),l.setModified(o,!0,!0,!1)),d)for(var c=0;c<o.composites.length;c++)l.removeComposite(o.composites[c],a,!0);return o},l.removeCompositeAt=function(o,a){return o.composites.splice(a,1),l.setModified(o,!0,!0,!1),o},l.addBody=function(o,a){return o.bodies.push(a),l.setModified(o,!0,!0,!1),o},l.removeBody=function(o,a,d){var r=o.bodies.indexOf(a);if(-1!==r&&(l.removeBodyAt(o,r),l.setModified(o,!0,!0,!1)),d)for(var c=0;c<o.composites.length;c++)l.removeBody(o.composites[c],a,!0);return o},l.removeBodyAt=function(o,a){return o.bodies.splice(a,1),l.setModified(o,!0,!0,!1),o},l.addConstraint=function(o,a){return o.constraints.push(a),l.setModified(o,!0,!0,!1),o},l.removeConstraint=function(o,a,d){var r=o.constraints.indexOf(a);if(-1!==r&&l.removeConstraintAt(o,r),d)for(var c=0;c<o.composites.length;c++)l.removeConstraint(o.composites[c],a,!0);return o},l.removeConstraintAt=function(o,a){return o.constraints.splice(a,1),l.setModified(o,!0,!0,!1),o},l.clear=function(o,a,d){if(d)for(var r=0;r<o.composites.length;r++)l.clear(o.composites[r],a,!0);return a?o.bodies=o.bodies.filter(function(c){return c.isStatic}):o.bodies.length=0,o.constraints.length=0,o.composites.length=0,l.setModified(o,!0,!0,!1),o},l.allBodies=function(o){for(var a=[].concat(o.bodies),d=0;d<o.composites.length;d++)a=a.concat(l.allBodies(o.composites[d]));return a},l.allConstraints=function(o){for(var a=[].concat(o.constraints),d=0;d<o.composites.length;d++)a=a.concat(l.allConstraints(o.composites[d]));return a},l.allComposites=function(o){for(var a=[].concat(o.composites),d=0;d<o.composites.length;d++)a=a.concat(l.allComposites(o.composites[d]));return a},l.get=function(o,a,d){var r,c;switch(d){case"body":r=l.allBodies(o);break;case"constraint":r=l.allConstraints(o);break;case"composite":r=l.allComposites(o).concat(o)}return r?0===(c=r.filter(function(p){return p.id.toString()===a.toString()})).length?null:c[0]:null},l.move=function(o,a,d){return l.remove(o,a),l.add(d,a),o},l.rebase=function(o){for(var a=l.allBodies(o).concat(l.allConstraints(o)).concat(l.allComposites(o)),d=0;d<a.length;d++)a[d].id=f.nextId();return l.setModified(o,!0,!0,!1),o},l.translate=function(o,a,d){for(var r=d?l.allBodies(o):o.bodies,c=0;c<r.length;c++)h.translate(r[c],a);return l.setModified(o,!0,!0,!1),o},l.rotate=function(o,a,d,r){for(var c=Math.cos(a),p=Math.sin(a),m=r?l.allBodies(o):o.bodies,v=0;v<m.length;v++){var x=m[v],T=x.position.x-d.x,E=x.position.y-d.y;h.setPosition(x,{x:d.x+(T*c-E*p),y:d.y+(T*p+E*c)}),h.rotate(x,a)}return l.setModified(o,!0,!0,!1),o},l.scale=function(o,a,d,r,c){for(var p=c?l.allBodies(o):o.bodies,m=0;m<p.length;m++){var v=p[m];h.setPosition(v,{x:r.x+(v.position.x-r.x)*a,y:r.y+(v.position.y-r.y)*d}),h.scale(v,a,d)}return l.setModified(o,!0,!0,!1),o},l.bounds=function(o){for(var a=l.allBodies(o),d=[],r=0;r<a.length;r+=1){var c=a[r];d.push(c.bounds.min,c.bounds.max)}return u.create(d)}},function(C,F){C.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},function(C,F,n){var l=n(4);C.exports=function(f,u,h){return void 0===h&&(h=new l),h.x=f.x+f.radius*Math.cos(u),h.y=f.y+f.radius*Math.sin(u),h}},function(C,F,n){var l=n(4);C.exports=function(f,u){void 0===u&&(u=new l);var h=2*Math.PI*Math.random(),o=Math.random()+Math.random(),a=o>1?2-o:o,d=a*Math.cos(h),r=a*Math.sin(h);return u.x=f.x+d*f.radius,u.y=f.y+r*f.radius,u}},function(C,F,n){var l=n(128),g=n(4);C.exports=function(u,h,o){if(void 0===o&&(o=new g),h<=0||h>=1)return o.x=u.x,o.y=u.y,o;var a=l(u)*h;return h>.5?(a-=u.width+u.height)<=u.width?(o.x=u.right-a,o.y=u.bottom):(o.x=u.x,o.y=u.bottom-(a-u.width)):a<=u.width?(o.x=u.x+a,o.y=u.y):(o.x=u.right,o.y=u.y+(a-u.width)),o}},function(C,F,n){var l=n(64),g=n(4);C.exports=function(u,h,o,a){void 0===a&&(a=[]),!h&&o>0&&(h=l(u)/o);for(var d=u.x1,r=u.y1,c=u.x2,p=u.y2,m=0;m<h;m++){var v=m/h;a.push(new g(d+(c-d)*v,r+(p-r)*v))}return a}},function(C,F,n){var l=n(4);C.exports=function(f,u){void 0===u&&(u=new l);var h=Math.random();return u.x=f.x1+h*(f.x2-f.x1),u.y=f.y1+h*(f.y2-f.y1),u}},function(C,F,n){var l=n(4);C.exports=function(f,u){return void 0===u&&(u=new l),u.x=f.x+Math.random()*f.width,u.y=f.y+Math.random()*f.height,u}},function(C,F,n){var l=n(172),g=n(65),f=n(74);C.exports={defaultPipeline:null,pipeline:null,hasPostPipeline:!1,postPipelines:null,pipelineData:null,initPipeline:function(h){void 0===h&&(h=g.MULTI_PIPELINE);var a=this.scene.sys.renderer.pipelines;if(this.postPipelines=[],this.pipelineData={},a){var d=a.get(h);if(d)return this.defaultPipeline=d,this.pipeline=d,!0}return!1},setPipeline:function(h,o,a){var r=this.scene.sys.renderer.pipelines;if(r){var c=r.get(h);c&&(this.pipeline=c),o&&(this.pipelineData=a?l(o):o)}return this},setPostPipeline:function(h,o,a){var r=this.scene.sys.renderer.pipelines;if(r){Array.isArray(h)||(h=[h]);for(var c=0;c<h.length;c++){var p=r.getPostPipeline(h[c],this);p&&this.postPipelines.push(p)}o&&(this.pipelineData=a?l(o):o)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPipelineData:function(h,o){var a=this.pipelineData;return void 0===o?delete a[h]:a[h]=o,this},getPostPipeline:function(h){for(var o=this.postPipelines,a=0;a<o.length;a++){var d=o[a];if("string"==typeof h&&d.name===h||d instanceof h)return d}},resetPipeline:function(h,o){return void 0===h&&(h=!1),void 0===o&&(o=!1),this.pipeline=this.defaultPipeline,h&&(this.postPipelines=[],this.hasPostPipeline=!1),o&&(this.pipelineData={}),null!==this.pipeline},resetPostPipeline:function(h){void 0===h&&(h=!1);for(var o=this.postPipelines,a=0;a<o.length;a++)o[a].destroy();this.postPipelines=[],this.hasPostPipeline=!1,h&&(this.pipelineData={})},removePostPipeline:function(h){for(var o=this.postPipelines,a=0;a<o.length;a++){var d=o[a];if("string"==typeof h&&d.name===h||"string"!=typeof h&&d instanceof h)return d.destroy(),f(o,a),this}return this},getPipelineName:function(){return this.pipeline.name}}},function(C,F){var n=function(l){var g,u;if("object"!=typeof l||null===l)return l;for(u in g=Array.isArray(l)?[]:{},l)g[u]=n(l[u]);return g};C.exports=n},function(C,F){C.exports=function(l){var g={name:l.name,type:l.type,x:l.x,y:l.y,depth:l.depth,scale:{x:l.scaleX,y:l.scaleY},origin:{x:l.originX,y:l.originY},flipX:l.flipX,flipY:l.flipY,rotation:l.rotation,alpha:l.alpha,visible:l.visible,blendMode:l.blendMode,textureKey:"",frameKey:"",data:{}};return l.texture&&(g.textureKey=l.texture.key,g.frameKey=l.frame.name),g}},function(C,F,n){var l=n(3);C.exports=function(f,u,h,o,a,d,r,c){void 0===c&&(c=new l);var p=Math.sin(a),m=Math.cos(a),v=m*d,x=p*d,T=-p*r,E=m*r,M=1/(v*E+T*-x);return c.x=E*M*f+-T*M*u+(o*T-h*E)*M,c.y=v*M*u+-x*M*f+(-o*v+h*x)*M,c}},function(C,F){C.exports=function(l,g){void 0===g&&(g=1);for(var f=null,u=0;u<g;u++)f=l.shift(),l.push(f);return f}},function(C,F){C.exports=function(l,g){void 0===g&&(g=1);for(var f=null,u=0;u<g;u++)f=l.pop(),l.unshift(f);return f}},function(C,F,n){var l=n(4);C.exports=function(f,u){void 0===u&&(u=new l);var h=Math.random()*Math.PI*2,o=Math.sqrt(Math.random());return u.x=f.x+o*Math.cos(h)*f.width/2,u.y=f.y+o*Math.sin(h)*f.height/2,u}},function(C,F,n){var l=n(4);C.exports=function(f,u){void 0===u&&(u=new l);var h=f.x2-f.x1,o=f.y2-f.y1,a=f.x3-f.x1,d=f.y3-f.y1,r=Math.random(),c=Math.random();return r+c>=1&&(r=1-r,c=1-c),u.x=f.x1+(h*r+a*c),u.y=f.y1+(o*r+d*c),u}},function(C,F){C.exports=function(l,g,f,u,h){var o=u+Math.atan2(l.y-f,l.x-g);return l.x=g+h*Math.cos(o),l.y=f+h*Math.sin(o),l}},function(C,F){C.exports=function(l,g,f){return(l=Math.max(0,Math.min(1,(l-g)/(f-g))))*l*l*(l*(6*l-15)+10)}},function(C,F){C.exports=function(l,g,f){return l<=g?0:l>=f?1:(l=(l-g)/(f-g))*l*(3-2*l)}},function(C,F,n){var l=n(18),g=n(0),f=n(130),u=n(312),h=n(313),o=n(6),a=n(314),d=new g({initialize:function(c,p,m){this.manager=c,this.key=p,this.type="frame",this.frames=this.getFrames(c.textureManager,o(m,"frames",[]),o(m,"defaultTextureKey",null),o(m,"sortFrames",!0)),this.frameRate=o(m,"frameRate",null),this.duration=o(m,"duration",null),this.skipMissedFrames=o(m,"skipMissedFrames",!0),this.delay=o(m,"delay",0),this.repeat=o(m,"repeat",0),this.repeatDelay=o(m,"repeatDelay",0),this.yoyo=o(m,"yoyo",!1),this.showOnStart=o(m,"showOnStart",!1),this.hideOnComplete=o(m,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(f.PAUSE_ALL,this.pause,this),this.manager.on(f.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(r,c,p,m){null===p&&null===m?(r.frameRate=24,r.duration=24/c*1e3):p&&null===m?(r.duration=p,r.frameRate=c/(p/1e3)):(r.frameRate=m,r.duration=c/m*1e3),r.msPerFrame=1e3/r.frameRate},addFrame:function(r){return this.addFrameAt(this.frames.length,r)},addFrameAt:function(r,c){var p=this.getFrames(this.manager.textureManager,c);if(p.length>0){if(0===r)this.frames=p.concat(this.frames);else if(r===this.frames.length)this.frames=this.frames.concat(p);else{var m=this.frames.slice(0,r),v=this.frames.slice(r);this.frames=m.concat(p,v)}this.updateFrameSequence()}return this},checkFrame:function(r){return r>=0&&r<this.frames.length},getFirstTick:function(r){r.accumulator=0,r.nextTick=r.msPerFrame+r.currentFrame.duration},getFrameAt:function(r){return this.frames[r]},getFrames:function(r,c,p,m){void 0===m&&(m=!0);var x,T,M,S,v=[],E=1;if("string"==typeof c){var R=r.get(S=c).getFrameNames();m&&a(R),c=[],R.forEach(function(H){c.push({key:S,frame:H})})}if(!Array.isArray(c)||0===c.length)return v;for(M=0;M<c.length;M++){var w=c[M],L=o(w,"key",p);if(L){var I=o(w,"frame",0),B=r.getFrame(L,I);(T=new h(L,I,E,B)).duration=o(w,"duration",0),T.isFirst=!x,x&&(x.nextFrame=T,T.prevFrame=x),v.push(T),x=T,E++}}if(v.length>0){T.isLast=!0,T.nextFrame=v[0],v[0].prevFrame=T;var G=1/(v.length-1);for(M=0;M<v.length;M++)v[M].progress=M*G}return v},getNextTick:function(r){r.accumulator-=r.nextTick,r.nextTick=r.msPerFrame+r.currentFrame.duration},getFrameByProgress:function(r){return r=l(r,0,1),u(r,this.frames,"progress")},nextFrame:function(r){var c=r.currentFrame;c.isLast?r.yoyo?this.handleYoyoFrame(r,!1):r.repeatCounter>0?r.inReverse&&r.forward?r.forward=!1:this.repeatAnimation(r):r.complete():this.updateAndGetNextTick(r,c.nextFrame)},handleYoyoFrame:function(r,c){if(c||(c=!1),r.inReverse===!c&&r.repeatCounter>0)return(0===r.repeatDelay||r.pendingRepeat)&&(r.forward=c),void this.repeatAnimation(r);r.inReverse===c||0!==r.repeatCounter?(r.forward=c,this.updateAndGetNextTick(r,c?r.currentFrame.nextFrame:r.currentFrame.prevFrame)):r.complete()},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(r){var c=r.currentFrame;c.isFirst?r.yoyo?this.handleYoyoFrame(r,!0):r.repeatCounter>0?(r.inReverse&&!r.forward||(r.forward=!0),this.repeatAnimation(r)):r.complete():this.updateAndGetNextTick(r,c.prevFrame)},updateAndGetNextTick:function(r,c){r.setCurrentFrame(c),this.getNextTick(r)},removeFrame:function(r){var c=this.frames.indexOf(r);return-1!==c&&this.removeFrameAt(c),this},removeFrameAt:function(r){return this.frames.splice(r,1),this.updateFrameSequence(),this},repeatAnimation:function(r){if(2===r._pendingStop){if(0===r._pendingStopValue)return r.stop();r._pendingStopValue--}r.repeatDelay>0&&!r.pendingRepeat?(r.pendingRepeat=!0,r.accumulator-=r.nextTick,r.nextTick+=r.repeatDelay):(r.repeatCounter--,r.setCurrentFrame(r.forward?r.currentFrame.nextFrame:r.currentFrame.prevFrame),r.isPlaying&&(this.getNextTick(r),r.handleRepeat()))},toJSON:function(){var r={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(c){r.frames.push(c.toJSON())}),r},updateFrameSequence:function(){for(var p,r=this.frames.length,c=1/(r-1),m=0;m<r;m++)(p=this.frames[m]).index=m+1,p.isFirst=!1,p.isLast=!1,p.progress=m*c,0===m?(p.isFirst=!0,1===r?(p.isLast=!0,p.nextFrame=p,p.prevFrame=p):(p.isLast=!1,p.prevFrame=this.frames[r-1],p.nextFrame=this.frames[m+1])):m===r-1&&r>1?(p.isLast=!0,p.prevFrame=this.frames[r-2],p.nextFrame=this.frames[0]):r>1&&(p.prevFrame=this.frames[m-1],p.nextFrame=this.frames[m+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(f.PAUSE_ALL,this.pause,this),this.manager.off(f.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var r=0;r<this.frames.length;r++)this.frames[r].destroy();this.frames=[],this.manager=null}});C.exports=d},function(C,F){C.exports=function(l,g,f,u){void 0===g&&(g=0),void 0===f&&(f=" "),void 0===u&&(u=3);var h=0;if(g+1>=(l=l.toString()).length)switch(u){case 1:l=new Array(g+1-l.length).join(f)+l;break;case 3:var o=Math.ceil((h=g-l.length)/2);l=new Array(h-o+1).join(f)+l+new Array(o+1).join(f);break;default:l+=new Array(g+1-l.length).join(f)}return l}},function(C,F,n){var l=n(321),g=n(186),f=n(325),u=n(326);C.exports=function(o){switch(typeof o){case"string":return"rgb"===o.substr(0,3).toLowerCase()?u(o):l(o);case"number":return g(o);case"object":return f(o)}}},function(C,F,n){var l=n(100);function g(u,h,o,a){var d=(u+6*h)%6,r=Math.min(d,4-d,1);return Math.round(255*(a-a*o*Math.max(0,r)))}C.exports=function(u,h,o,a){void 0===h&&(h=1),void 0===o&&(o=1);var d=g(5,u,h,o),r=g(3,u,h,o),c=g(1,u,h,o);return a?a.setTo?a.setTo(d,r,c,a.alpha,!1):(a.r=d,a.g=r,a.b=c,a.color=l(d,r,c),a):{r:d,g:r,b:c,color:l(d,r,c)}}},function(C,F,n){var l=n(36),g=n(324);C.exports=function(u){var h=g(u);return new l(h.r,h.g,h.b,h.a)}},function(C,F){C.exports=function(l,g,f){return l.x=g-l.width/2,l.y=f-l.height/2,l}},function(C,F,n){var l=n(102),g=n(134),f=n(31),u={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};C.exports=function o(){u.canvas=!!window.CanvasRenderingContext2D;try{u.localStorage=!!localStorage.getItem}catch(r){u.localStorage=!1}u.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),u.fileSystem=!!window.requestFileSystem;var a=!1;return u.webGL=function(){if(window.WebGLRenderingContext)try{var r=f.createWebGL(this),c=r.getContext("webgl")||r.getContext("experimental-webgl"),p=f.create2D(this),v=p.getContext("2d").createImageData(1,1);return a=v.data instanceof Uint8ClampedArray,f.remove(r),f.remove(p),!!c}catch(x){return!1}return!1}(),u.worker=!!window.Worker,u.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,u.getUserMedia=u.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,g.firefox&&g.firefoxVersion<21&&(u.getUserMedia=!1),!l.iOS&&(g.ie||g.firefox||g.chrome)&&(u.canvasBitBltShift=!0),(g.safari||g.mobileSafari)&&(u.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(u.vibration=!0),"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint32Array&&(u.littleEndian=function h(){var a=new ArrayBuffer(4),d=new Uint8Array(a),r=new Uint32Array(a);return d[0]=161,d[1]=178,d[2]=195,d[3]=212,3569595041===r[0]||2712847316!==r[0]&&null}()),u.support32bit="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof Int32Array&&null!==u.littleEndian&&a,u}()},function(C,F){var g,n="";C.exports={disable:function(o){return""===n&&(n=g(o)),n&&(o[n]=!1),o},enable:function(o){return""===n&&(n=g(o)),n&&(o[n]=!0),o},getPrefix:g=function(o){for(var a=["i","webkitI","msI","mozI","oI"],d=0;d<a.length;d++){var r=a[d]+"mageSmoothingEnabled";if(r in o)return r}return null},isEnabled:function(o){return null!==n?o[n]:null}}},function(C,F,n){var l=n(14),g=n(17),f={Angle:n(809),Distance:n(818),Easing:n(823),Fuzzy:n(824),Interpolation:n(827),Pow2:n(832),Snap:n(834),RandomDataGenerator:n(836),Average:n(837),Bernstein:n(350),Between:n(192),CatmullRom:n(191),CeilTo:n(838),Clamp:n(18),DegToRad:n(34),Difference:n(839),Euler:n(840),Factorial:n(351),FloatBetween:n(135),FloorTo:n(841),FromPercent:n(95),GetSpeed:n(842),IsEven:n(843),IsEvenStrict:n(844),Linear:n(133),MaxAdd:n(845),MinSub:n(846),Percent:n(847),RadToDeg:n(193),RandomXY:n(848),RandomXYZ:n(849),RandomXYZW:n(850),Rotate:n(356),RotateAround:n(302),RotateAroundDistance:n(179),RotateTo:n(851),RoundAwayFromZero:n(357),RoundTo:n(852),SinCosTableGenerator:n(853),SmootherStep:n(180),SmoothStep:n(181),ToXY:n(854),TransformXY:n(174),Within:n(855),Wrap:n(66),Vector2:n(3),Vector3:n(37),Vector4:n(138),Matrix3:n(358),Matrix4:n(67),Quaternion:n(359),RotateVec3:n(856)};f=g(!1,f,l),C.exports=f},function(C,F){C.exports=function(l,g,f,u,h){var o=.5*(u-g),a=.5*(h-f),d=l*l;return(2*f-2*u+o+a)*(l*d)+(-3*f+3*u-2*o-a)*d+o*l+f}},function(C,F){C.exports=function(l,g){return Math.floor(Math.random()*(g-l+1)+l)}},function(C,F,n){var l=n(14);C.exports=function(f){return f*l.RAD_TO_DEG}},function(C,F,n){C.exports={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]}},function(C,F,n){var g=new(n(0))({initialize:function(){this._matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.alpha=1,this._dirty=!0},set:function(f){return this._matrix=f,this._dirty=!0,this},reset:function(){var f=this._matrix;return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=0,f[6]=1,f[7]=0,f[8]=0,f[9]=0,f[10]=0,f[11]=0,f[12]=1,f[13]=0,f[14]=0,f[15]=0,f[16]=0,f[17]=0,f[18]=1,f[19]=0,this._dirty=!0,this},getData:function(){if(this._dirty){var f=new Float32Array(this._matrix);f[4]/=255,f[9]/=255,f[14]/=255,f[19]/=255,this._data=f,this._dirty=!1}return this._data},brightness:function(f,u){return void 0===f&&(f=0),void 0===u&&(u=!1),this.multiply([f,0,0,0,0,0,f,0,0,0,0,0,f,0,0,0,0,0,1,0],u)},saturate:function(f,u){void 0===f&&(f=0),void 0===u&&(u=!1);var h=2*f/3+1,o=-.5*(h-1);return this.multiply([h,o,o,0,0,o,h,o,0,0,o,o,h,0,0,0,0,0,1,0],u)},desaturate:function(f){return void 0===f&&(f=!1),this.saturate(-1,f)},hue:function(f,u){void 0===f&&(f=0),void 0===u&&(u=!1),f=f/180*Math.PI;var h=Math.cos(f),o=Math.sin(f),a=.213,d=.715,r=.072;return this.multiply([a+h*(1-a)+o*-a,d+h*-d+o*-d,r+h*-r+o*(1-r),0,0,a+h*-a+.143*o,d+h*(1-d)+.14*o,r+h*-r+-.283*o,0,0,a+h*-a+-.787*o,d+h*-d+o*d,r+h*(1-r)+o*r,0,0,0,0,0,1,0],u)},grayscale:function(f,u){return void 0===f&&(f=1),void 0===u&&(u=!1),this.saturate(-f,u)},blackWhite:function(f){return void 0===f&&(f=!1),this.multiply([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],f)},contrast:function(f,u){void 0===f&&(f=0),void 0===u&&(u=!1);var h=f+1,o=-.5*(h-1);return this.multiply([h,0,0,0,o,0,h,0,0,o,0,0,h,0,o,0,0,0,1,0],u)},negative:function(f){return void 0===f&&(f=!1),this.multiply([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],f)},desaturateLuminance:function(f){return void 0===f&&(f=!1),this.multiply([.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],f)},sepia:function(f){return void 0===f&&(f=!1),this.multiply([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],f)},night:function(f,u){return void 0===f&&(f=.1),void 0===u&&(u=!1),this.multiply([-2*f,-f,0,0,0,-f,0,f,0,0,0,f,2*f,0,0,0,0,0,1,0],u)},lsd:function(f){return void 0===f&&(f=!1),this.multiply([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],f)},brown:function(f){return void 0===f&&(f=!1),this.multiply([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],f)},vintagePinhole:function(f){return void 0===f&&(f=!1),this.multiply([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],f)},kodachrome:function(f){return void 0===f&&(f=!1),this.multiply([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],f)},technicolor:function(f){return void 0===f&&(f=!1),this.multiply([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],f)},polaroid:function(f){return void 0===f&&(f=!1),this.multiply([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],f)},shiftToBGR:function(f){return void 0===f&&(f=!1),this.multiply([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],f)},multiply:function(f,u){u||this.reset();for(var h=this._matrix,o=[],a=0;a<20;a++)o[a]=h[a];return h[0]=o[0]*f[0]+o[1]*f[5]+o[2]*f[10]+o[3]*f[15],h[1]=o[0]*f[1]+o[1]*f[6]+o[2]*f[11]+o[3]*f[16],h[2]=o[0]*f[2]+o[1]*f[7]+o[2]*f[12]+o[3]*f[17],h[3]=o[0]*f[3]+o[1]*f[8]+o[2]*f[13]+o[3]*f[18],h[4]=o[0]*f[4]+o[1]*f[9]+o[2]*f[14]+o[3]*f[19]+o[4],h[5]=o[5]*f[0]+o[6]*f[5]+o[7]*f[10]+o[8]*f[15],h[6]=o[5]*f[1]+o[6]*f[6]+o[7]*f[11]+o[8]*f[16],h[7]=o[5]*f[2]+o[6]*f[7]+o[7]*f[12]+o[8]*f[17],h[8]=o[5]*f[3]+o[6]*f[8]+o[7]*f[13]+o[8]*f[18],h[9]=o[5]*f[4]+o[6]*f[9]+o[7]*f[14]+o[8]*f[19]+o[9],h[10]=o[10]*f[0]+o[11]*f[5]+o[12]*f[10]+o[13]*f[15],h[11]=o[10]*f[1]+o[11]*f[6]+o[12]*f[11]+o[13]*f[16],h[12]=o[10]*f[2]+o[11]*f[7]+o[12]*f[12]+o[13]*f[17],h[13]=o[10]*f[3]+o[11]*f[8]+o[12]*f[13]+o[13]*f[18],h[14]=o[10]*f[4]+o[11]*f[9]+o[12]*f[14]+o[13]*f[19]+o[14],h[15]=o[15]*f[0]+o[16]*f[5]+o[17]*f[10]+o[18]*f[15],h[16]=o[15]*f[1]+o[16]*f[6]+o[17]*f[11]+o[18]*f[16],h[17]=o[15]*f[2]+o[16]*f[7]+o[17]*f[12]+o[18]*f[17],h[18]=o[15]*f[3]+o[16]*f[8]+o[17]*f[13]+o[18]*f[18],h[19]=o[15]*f[4]+o[16]*f[9]+o[17]*f[14]+o[18]*f[19]+o[19],this._dirty=!0,this}});C.exports=g},function(C,F,n){var l=n(10),g=n(14);C.exports=function(u,h){if(void 0===h&&(h=new l),0===u.length)return h;for(var c,p,m,o=Number.MAX_VALUE,a=Number.MAX_VALUE,d=g.MIN_SAFE_INTEGER,r=g.MIN_SAFE_INTEGER,v=0;v<u.length;v++)c=u[v],Array.isArray(c)?(p=c[0],m=c[1]):(p=c.x,m=c.y),o=Math.min(o,p),a=Math.min(a,m),d=Math.max(d,p),r=Math.max(r,m);return h.x=o,h.y=a,h.width=d-o,h.height=r-a,h}},function(C,F,n){var l=n(0),g=n(1),f=new l({initialize:function(h,o,a){this._rgb=[0,0,0],this.onChangeCallback=g,this.dirty=!1,this.set(h,o,a)},set:function(u,h,o){return void 0===u&&(u=0),void 0===h&&(h=0),void 0===o&&(o=0),this._rgb=[u,h,o],this.onChange(),this},equals:function(u,h,o){var a=this._rgb;return a.r===u&&a.g===h&&a.b===o},onChange:function(){this.dirty=!0;var u=this._rgb;this.onChangeCallback.call(this,u[0],u[1],u[2])},r:{get:function(){return this._rgb[0]},set:function(u){this._rgb[0]=u,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(u){this._rgb[1]=u,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(u){this._rgb[2]=u,this.onChange()}},destroy:function(){this.onChangeCallback=null}});C.exports=f},function(C,F,n){var l={CENTER:n(397),ORIENTATION:n(398),SCALE_MODE:n(399),ZOOM:n(400)};C.exports=l},function(C,F){C.exports=function(l){l.parentNode&&l.parentNode.removeChild(l)}},function(C,F){C.exports={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8}},function(C,F,n){var l=n(0),g=n(142),f=n(194),u=n(21),h=n(413),o=n(414),a=n(1),d=n(415),r=new l({initialize:function(p,m){this.scene=p,this.config=m,this.settings=d.create(m),this.sceneUpdate=a},init:function(c){this.settings.status=g.INIT,this.sceneUpdate=a,this.game=c,this.renderer=c.renderer,this.canvas=c.canvas,this.context=c.context;var p=c.plugins;this.plugins=p,p.addToScene(this,f.Global,[f.CoreScene,o(this),h(this)]),this.events.emit(u.BOOT,this),this.settings.isBooted=!0},install:function(c){Array.isArray(c)||(c=[c]),this.plugins.installLocal(this,c)},step:function(c,p){var m=this.events;m.emit(u.PRE_UPDATE,c,p),m.emit(u.UPDATE,c,p),this.sceneUpdate.call(this.scene,c,p),m.emit(u.POST_UPDATE,c,p)},render:function(c){var p=this.displayList;p.depthSort(),this.cameras.render(c,p),this.events.emit(u.RENDER,c)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(c){var p=this.events,m=this.settings;return this.settings.active&&(m.status=g.PAUSED,m.active=!1,p.emit(u.PAUSE,this,c)),this},resume:function(c){var p=this.events,m=this.settings;return this.settings.active||(m.status=g.RUNNING,m.active=!0,p.emit(u.RESUME,this,c)),this},sleep:function(c){var p=this.events,m=this.settings;return m.status=g.SLEEPING,m.active=!1,m.visible=!1,p.emit(u.SLEEP,this,c),this},wake:function(c){var p=this.events,m=this.settings;return m.status=g.RUNNING,m.active=!0,m.visible=!0,p.emit(u.WAKE,this,c),m.isTransition&&p.emit(u.TRANSITION_WAKE,m.transitionFrom,m.transitionDuration),this},getData:function(){return this.settings.data},isSleeping:function(){return this.settings.status===g.SLEEPING},isActive:function(){return this.settings.status===g.RUNNING},isPaused:function(){return this.settings.status===g.PAUSED},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(c){return this.settings.visible=c,this},setActive:function(c,p){return c?this.resume(p):this.pause(p)},start:function(c){var p=this.events,m=this.settings;c&&(m.data=c),m.status=g.START,m.active=!0,m.visible=!0,p.emit(u.START,this),p.emit(u.READY,this,c)},shutdown:function(c){var p=this.events,m=this.settings;p.off(u.TRANSITION_INIT),p.off(u.TRANSITION_START),p.off(u.TRANSITION_COMPLETE),p.off(u.TRANSITION_OUT),m.status=g.SHUTDOWN,m.active=!1,m.visible=!1,p.emit(u.SHUTDOWN,this,c)},destroy:function(){var c=this.events,p=this.settings;p.status=g.DESTROYED,p.active=!1,p.visible=!1,c.emit(u.DESTROY,this),c.removeAllListeners();for(var m=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],v=0;v<m.length;v++)this[m[v]]=null}});C.exports=r},function(C,F){C.exports=function(l){return l&&l[0].toUpperCase()+l.slice(1)}},function(C,F,n){var l=n(0),g=n(106),f=n(418),u="Texture.frame missing: ",h=new l({initialize:function(a,d,r,c,p){Array.isArray(r)||(r=[r]),this.manager=a,this.key=d,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var m=0;m<r.length;m++)this.source.push(new f(this,r[m],c,p))},add:function(o,a,d,r,c,p){if(this.has(o))return null;var m=new g(this,o,a,d,r,c,p);return this.frames[o]=m,"__BASE"===this.firstFrame&&(this.firstFrame=o),this.frameTotal++,m},remove:function(o){return!!this.has(o)&&(this.get(o).destroy(),delete this.frames[o],!0)},has:function(o){return this.frames[o]},get:function(o){o||(o=this.firstFrame);var a=this.frames[o];return a||(console.warn(u+o),a=this.frames[this.firstFrame]),a},getTextureSourceIndex:function(o){for(var a=0;a<this.source.length;a++)if(this.source[a]===o)return a;return-1},getFramesFromTextureSource:function(o,a){void 0===a&&(a=!1);var d=[];for(var r in this.frames)if("__BASE"!==r||a){var c=this.frames[r];c.sourceIndex===o&&d.push(c)}return d},getFrameNames:function(o){void 0===o&&(o=!1);var a=Object.keys(this.frames);if(!o){var d=a.indexOf("__BASE");-1!==d&&a.splice(d,1)}return a},getSourceImage:function(o){(null==o||1===this.frameTotal)&&(o="__BASE");var a=this.frames[o];return a?a.source.image:(console.warn(u+o),this.frames.__BASE.source.image)},getDataSourceImage:function(o){(null==o||1===this.frameTotal)&&(o="__BASE");var d,a=this.frames[o];return a?d=a.sourceIndex:(console.warn(u+o),d=this.frames.__BASE.sourceIndex),this.dataSource[d].image},setDataSource:function(o){Array.isArray(o)||(o=[o]);for(var a=0;a<o.length;a++){var d=this.source[a];this.dataSource.push(new f(this,o[a],d.width,d.height))}},setFilter:function(o){var a;for(a=0;a<this.source.length;a++)this.source[a].setFilter(o);for(a=0;a<this.dataSource.length;a++)this.dataSource[a].setFilter(o)},destroy:function(){var o;for(o=0;o<this.source.length;o++)this.source[o].destroy();for(o=0;o<this.dataSource.length;o++)this.dataSource[o].destroy();for(var a in this.frames)this.frames[a].destroy();this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});C.exports=h},function(C,F,n){var l=n(78);C.exports=function(f,u,h,o,a){void 0===o&&(o=0),void 0===a&&(a=f.length);var d=[];if(l(f,o,a))for(var r=o;r<a;r++){var c=f[r];(!u||u&&void 0===h&&c.hasOwnProperty(u)||u&&void 0!==h&&c[u]===h)&&d.push(c)}return d}},function(C,F,n){C.exports={Matrix:n(1009),Add:n(1017),AddAt:n(1018),BringToTop:n(1019),CountAllMatching:n(1020),Each:n(1021),EachInRange:n(1022),FindClosestInSorted:n(312),GetAll:n(204),GetFirst:n(422),GetRandom:n(207),MoveDown:n(1023),MoveTo:n(1024),MoveUp:n(1025),NumberArray:n(316),NumberArrayStep:n(1026),QuickSelect:n(430),Range:n(431),Remove:n(89),RemoveAt:n(1027),RemoveBetween:n(1028),RemoveRandomElement:n(1029),Replace:n(1030),RotateLeft:n(175),RotateRight:n(176),SafeRange:n(78),SendToBack:n(1031),SetAll:n(1032),Shuffle:n(129),SortByDigits:n(314),SpliceOne:n(74),StableSort:n(79),Swap:n(1033)}},function(C,F){C.exports=function(l){if(!Array.isArray(l)||l.length<2||!Array.isArray(l[0]))return!1;for(var g=l[0].length,f=1;f<l.length;f++)if(l[f].length!==g)return!1;return!0}},function(C,F){C.exports=function(l,g,f){void 0===g&&(g=0),void 0===f&&(f=l.length);var u=g+Math.floor(Math.random()*f);return void 0===l[u]?null:l[u]}},function(C,F,n){var l=n(0),g=n(9),f=n(432),u=new l({Extends:g,initialize:function(){g.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},add:function(h){return this._pending.push(h),this._toProcess++,h},remove:function(h){return this._destroy.push(h),this._toProcess++,h},removeAll:function(){for(var h=this._active,o=this._destroy,a=h.length;a--;)o.push(h[a]),this._toProcess++;return this},update:function(){if(0===this._toProcess)return this._active;var a,d,h=this._destroy,o=this._active;for(a=0;a<h.length;a++){var r=o.indexOf(d=h[a]);-1!==r&&(o.splice(r,1),this.emit(f.PROCESS_QUEUE_REMOVE,d))}for(h.length=0,h=this._pending,a=0;a<h.length;a++)d=h[a],(!this.checkQueue||this.checkQueue&&-1===o.indexOf(d))&&(o.push(d),this.emit(f.PROCESS_QUEUE_ADD,d));return h.length=0,this._toProcess=0,o},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});C.exports=u},function(C,F){function n(g,f){return parseInt(g.getAttribute(f),10)}C.exports=function(g,f,u,h,o){void 0===u&&(u=0),void 0===h&&(h=0);var a=f.cutX,d=f.cutY,r=f.source.width,c=f.source.height,p=f.sourceIndex,m={},v=g.getElementsByTagName("info")[0],x=g.getElementsByTagName("common")[0];m.font=v.getAttribute("face"),m.size=n(v,"size"),m.lineHeight=n(x,"lineHeight")+h,m.chars={};var T=g.getElementsByTagName("char"),E=void 0!==f&&f.trimmed;if(E)var M=f.height,S=f.width;for(var P=0;P<T.length;P++){var R=T[P],w=n(R,"id"),L=String.fromCharCode(w),I=n(R,"x"),B=n(R,"y"),G=n(R,"width"),H=n(R,"height");E&&(I<S&&(S=I),B<M&&(M=B)),E&&0!==M&&0!==S&&(I-=f.x,B-=f.y);var Y=(a+I)/r,$=(d+B)/c,J=(a+I+G)/r,_=(d+B+H)/c;if(m.chars[w]={x:I,y:B,width:G,height:H,centerX:Math.floor(G/2),centerY:Math.floor(H/2),xOffset:n(R,"xoffset"),yOffset:n(R,"yoffset"),xAdvance:n(R,"xadvance")+u,data:{},kerning:{},u0:Y,v0:$,u1:J,v1:_},o&&0!==G&&0!==H){var tt=o.add(L,p,I,B,G,H);tt&&tt.setUVs(G,H,Y,$,J,_)}}var U=g.getElementsByTagName("kerning");for(P=0;P<U.length;P++){var V=U[P],X=n(V,"first"),W=n(V,"second"),j=n(V,"amount");m.chars[W].kerning[X]=j}return m}},function(C,F,n){var l=n(1043),g=n(434),f=n(0),u=n(11),h=n(106),o=n(15),a=n(107),d=new f({Extends:o,Mixins:[u.Alpha,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.ScrollFactor,u.Size,u.Texture,u.Transform,u.Visible,l],initialize:function(c,p,m,v,x){o.call(this,c,"Blitter"),this.setTexture(v,x),this.setPosition(p,m),this.initPipeline(),this.children=new a,this.renderList=[],this.dirty=!1},create:function(r,c,p,m,v){void 0===m&&(m=!0),void 0===v&&(v=this.children.length),void 0===p?p=this.frame:p instanceof h||(p=this.texture.get(p));var x=new g(this,r,c,p,m);return this.children.addAt(x,v,!1),this.dirty=!0,x},createFromCallback:function(r,c,p,m){for(var v=this.createMultiple(c,p,m),x=0;x<v.length;x++)r.call(this,v[x],x);return v},createMultiple:function(r,c,p){void 0===c&&(c=this.frame.name),void 0===p&&(p=!0),Array.isArray(c)||(c=[c]);var m=[],v=this;return c.forEach(function(x){for(var T=0;T<r;T++)m.push(v.create(0,0,x,p))}),m},childCanRender:function(r){return r.visible&&r.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});C.exports=d},function(C,F,n){var l=n(205),g=n(33),f=n(0),u=n(11),h=n(75),o=n(15),a=n(10),d=n(1046),r=n(435),c=n(3),p=new f({Extends:o,Mixins:[u.AlphaSingle,u.BlendMode,u.ComputedSize,u.Depth,u.Mask,u.Pipeline,u.Transform,u.Visible,d],initialize:function(v,x,T,E){o.call(this,v,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new u.TransformMatrix,this.tempTransformMatrix=new u.TransformMatrix,this._displayList=v.sys.displayList,this._sortKey="",this._sysEvents=v.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPipeline(),this.setPosition(x,T),this.clearAlpha(),this.setBlendMode(g.SKIP_CHECK),E&&this.add(E)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(m){return void 0===m&&(m=!0),this.exclusive=m,this},getBounds:function(m){if(void 0===m&&(m=new a),m.setTo(this.x,this.y,0,0),this.parentContainer){var x=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y);m.setTo(x.x,x.y,0,0)}if(this.list.length>0){var T=this.list,E=new a,M=!1;m.setEmpty();for(var S=0;S<T.length;S++){var P=T[S];P.getBounds&&(P.getBounds(E),M?r(E,m,m):(m.setTo(E.x,E.y,E.width,E.height),M=!0))}}return m},addHandler:function(m){m.once(h.DESTROY,this.remove,this),this.exclusive&&(this._displayList.remove(m),m.parentContainer&&m.parentContainer.remove(m),m.parentContainer=this),this.scene.sys.displayList.exists(m)||m.emit(h.ADDED_TO_SCENE,m,this.scene)},removeHandler:function(m){m.off(h.DESTROY,this.remove),this.exclusive&&(m.parentContainer=null),this.scene.sys.displayList.exists(m)||m.emit(h.REMOVED_FROM_SCENE,m,this.scene)},pointToContainer:function(m,v){void 0===v&&(v=new c),this.parentContainer?this.parentContainer.pointToContainer(m,v):v=new c(m.x,m.y);var x=this.tempTransformMatrix;return x.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),x.invert(),x.transformPoint(m.x,m.y,v),v},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(m){return l.Add(this.list,m,this.maxSize,this.addHandler,this),this},addAt:function(m,v){return l.AddAt(this.list,m,v,this.maxSize,this.addHandler,this),this},getAt:function(m){return this.list[m]},getIndex:function(m){return this.list.indexOf(m)},sort:function(m,v){return m?(void 0===v&&(v=function(x,T){return x[m]-T[m]}),l.StableSort(this.list,v),this):this},getByName:function(m){return l.GetFirst(this.list,"name",m)},getRandom:function(m,v){return l.GetRandom(this.list,m,v)},getFirst:function(m,v,x,T){return l.GetFirst(this.list,m,v,x,T)},getAll:function(m,v,x,T){return l.GetAll(this.list,m,v,x,T)},count:function(m,v,x,T){return l.CountAllMatching(this.list,m,v,x,T)},swap:function(m,v){return l.Swap(this.list,m,v),this},moveTo:function(m,v){return l.MoveTo(this.list,m,v),this},remove:function(m,v){var x=l.Remove(this.list,m,this.removeHandler,this);if(v&&x){Array.isArray(x)||(x=[x]);for(var T=0;T<x.length;T++)x[T].destroy()}return this},removeAt:function(m,v){var x=l.RemoveAt(this.list,m,this.removeHandler,this);return v&&x&&x.destroy(),this},removeBetween:function(m,v,x){var T=l.RemoveBetween(this.list,m,v,this.removeHandler,this);if(x)for(var E=0;E<T.length;E++)T[E].destroy();return this},removeAll:function(m){var v=l.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(m)for(var x=0;x<v.length;x++)v[x].destroy();return this},bringToTop:function(m){return l.BringToTop(this.list,m),this},sendToBack:function(m){return l.SendToBack(this.list,m),this},moveUp:function(m){return l.MoveUp(this.list,m),this},moveDown:function(m){return l.MoveDown(this.list,m),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return l.Shuffle(this.list),this},replace:function(m,v,x){return l.Replace(this.list,m,v)&&(this.addHandler(v),this.removeHandler(m),x&&m.destroy()),this},exists:function(m){return this.list.indexOf(m)>-1},setAll:function(m,v,x,T){return l.SetAll(this.list,m,v,x,T),this},each:function(m,v){var T,x=[null],E=this.list.slice(),M=E.length;for(T=2;T<arguments.length;T++)x.push(arguments[T]);for(T=0;T<M;T++)x[0]=E[T],m.apply(v,x);return this},iterate:function(m,v){var T,x=[null];for(T=2;T<arguments.length;T++)x.push(arguments[T]);for(T=0;T<this.list.length;T++)x[0]=this.list[T],m.apply(v,x);return this},setScrollFactor:function(m,v,x){return void 0===v&&(v=m),void 0===x&&(x=!1),this.scrollFactorX=m,this.scrollFactorY=v,x&&(l.SetAll(this.list,"scrollFactorX",m),l.SetAll(this.list,"scrollFactorY",v)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[],this._displayList=null}});C.exports=p},function(C,F,n){var l=n(147),g=n(0),f=n(1051),u=new g({Extends:l,Mixins:[f],initialize:function(o,a,d,r,c,p,m){l.call(this,o,a,d,r,c,p,m),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(h,o){return this.cropWidth=h,this.cropHeight=o,this},setDisplayCallback:function(h){return this.displayCallback=h,this},setScrollX:function(h){return this.scrollX=h,this},setScrollY:function(h){return this.scrollY=h,this}});C.exports=u},function(C,F,n){var l=n(131),g=n(0),f=n(214),u=n(297),h=n(298),o=n(299),a=n(303),d=n(171),r=n(306),c=n(307),p=n(308),m=n(108),v=n(15),x=n(2),T=n(6),E=n(14),M=n(65),S=n(1057),P=new g({Extends:v,Mixins:[u,h,o,a,d,c,p,r,S],initialize:function(w,L){var I=T(L,"x",0),B=T(L,"y",0);v.call(this,w,"Graphics"),this.setPosition(I,B),this.initPipeline(M.GRAPHICS_PIPELINE),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(L)},setDefaultStyles:function(R){return T(R,"lineStyle",null)&&(this.defaultStrokeWidth=T(R,"lineStyle.width",1),this.defaultStrokeColor=T(R,"lineStyle.color",16777215),this.defaultStrokeAlpha=T(R,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),T(R,"fillStyle",null)&&(this.defaultFillColor=T(R,"fillStyle.color",16777215),this.defaultFillAlpha=T(R,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(R,w,L){return void 0===L&&(L=1),this.commandBuffer.push(f.LINE_STYLE,R,w,L),this._lineWidth=R,this},fillStyle:function(R,w){return void 0===w&&(w=1),this.commandBuffer.push(f.FILL_STYLE,R,w),this},fillGradientStyle:function(R,w,L,I,B,G,H,Y){return void 0===B&&(B=1),void 0===G&&(G=B),void 0===H&&(H=B),void 0===Y&&(Y=B),this.commandBuffer.push(f.GRADIENT_FILL_STYLE,B,G,H,Y,R,w,L,I),this},lineGradientStyle:function(R,w,L,I,B,G){return void 0===G&&(G=1),this.commandBuffer.push(f.GRADIENT_LINE_STYLE,R,G,w,L,I,B),this},beginPath:function(){return this.commandBuffer.push(f.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(f.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(f.FILL_PATH),this},fill:function(){return this.commandBuffer.push(f.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(f.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(f.STROKE_PATH),this},fillCircleShape:function(R){return this.fillCircle(R.x,R.y,R.radius)},strokeCircleShape:function(R){return this.strokeCircle(R.x,R.y,R.radius)},fillCircle:function(R,w,L){return this.beginPath(),this.arc(R,w,L,0,E.PI2),this.fillPath(),this},strokeCircle:function(R,w,L){return this.beginPath(),this.arc(R,w,L,0,E.PI2),this.strokePath(),this},fillRectShape:function(R){return this.fillRect(R.x,R.y,R.width,R.height)},strokeRectShape:function(R){return this.strokeRect(R.x,R.y,R.width,R.height)},fillRect:function(R,w,L,I){return this.commandBuffer.push(f.FILL_RECT,R,w,L,I),this},strokeRect:function(R,w,L,I){var B=this._lineWidth/2,G=R-B,H=R+B;return this.beginPath(),this.moveTo(R,w),this.lineTo(R,w+I),this.strokePath(),this.beginPath(),this.moveTo(R+L,w),this.lineTo(R+L,w+I),this.strokePath(),this.beginPath(),this.moveTo(G,w),this.lineTo(H+L,w),this.strokePath(),this.beginPath(),this.moveTo(G,w+I),this.lineTo(H+L,w+I),this.strokePath(),this},fillRoundedRect:function(R,w,L,I,B){void 0===B&&(B=20);var G=B,H=B,Y=B,$=B;return"number"!=typeof B&&(G=x(B,"tl",20),H=x(B,"tr",20),Y=x(B,"bl",20),$=x(B,"br",20)),this.beginPath(),this.moveTo(R+G,w),this.lineTo(R+L-H,w),this.arc(R+L-H,w+H,H,-E.TAU,0),this.lineTo(R+L,w+I-$),this.arc(R+L-$,w+I-$,$,0,E.TAU),this.lineTo(R+Y,w+I),this.arc(R+Y,w+I-Y,Y,E.TAU,Math.PI),this.lineTo(R,w+G),this.arc(R+G,w+G,G,-Math.PI,-E.TAU),this.fillPath(),this},strokeRoundedRect:function(R,w,L,I,B){void 0===B&&(B=20);var G=B,H=B,Y=B,$=B;return"number"!=typeof B&&(G=x(B,"tl",20),H=x(B,"tr",20),Y=x(B,"bl",20),$=x(B,"br",20)),this.beginPath(),this.moveTo(R+G,w),this.lineTo(R+L-H,w),this.moveTo(R+L-H,w),this.arc(R+L-H,w+H,H,-E.TAU,0),this.lineTo(R+L,w+I-$),this.moveTo(R+L,w+I-$),this.arc(R+L-$,w+I-$,$,0,E.TAU),this.lineTo(R+Y,w+I),this.moveTo(R+Y,w+I),this.arc(R+Y,w+I-Y,Y,E.TAU,Math.PI),this.lineTo(R,w+G),this.moveTo(R,w+G),this.arc(R+G,w+G,G,-Math.PI,-E.TAU),this.strokePath(),this},fillPointShape:function(R,w){return this.fillPoint(R.x,R.y,w)},fillPoint:function(R,w,L){return!L||L<1?L=1:(R-=L/2,w-=L/2),this.commandBuffer.push(f.FILL_RECT,R,w,L,L),this},fillTriangleShape:function(R){return this.fillTriangle(R.x1,R.y1,R.x2,R.y2,R.x3,R.y3)},strokeTriangleShape:function(R){return this.strokeTriangle(R.x1,R.y1,R.x2,R.y2,R.x3,R.y3)},fillTriangle:function(R,w,L,I,B,G){return this.commandBuffer.push(f.FILL_TRIANGLE,R,w,L,I,B,G),this},strokeTriangle:function(R,w,L,I,B,G){return this.commandBuffer.push(f.STROKE_TRIANGLE,R,w,L,I,B,G),this},strokeLineShape:function(R){return this.lineBetween(R.x1,R.y1,R.x2,R.y2)},lineBetween:function(R,w,L,I){return this.beginPath(),this.moveTo(R,w),this.lineTo(L,I),this.strokePath(),this},lineTo:function(R,w){return this.commandBuffer.push(f.LINE_TO,R,w),this},moveTo:function(R,w){return this.commandBuffer.push(f.MOVE_TO,R,w),this},strokePoints:function(R,w,L,I){void 0===w&&(w=!1),void 0===L&&(L=!1),void 0===I&&(I=R.length),this.beginPath(),this.moveTo(R[0].x,R[0].y);for(var B=1;B<I;B++)this.lineTo(R[B].x,R[B].y);return w&&this.lineTo(R[0].x,R[0].y),L&&this.closePath(),this.strokePath(),this},fillPoints:function(R,w,L,I){void 0===w&&(w=!1),void 0===L&&(L=!1),void 0===I&&(I=R.length),this.beginPath(),this.moveTo(R[0].x,R[0].y);for(var B=1;B<I;B++)this.lineTo(R[B].x,R[B].y);return w&&this.lineTo(R[0].x,R[0].y),L&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(R,w){void 0===w&&(w=32);var L=R.getPoints(w);return this.strokePoints(L,!0)},strokeEllipse:function(R,w,L,I,B){void 0===B&&(B=32);var H=new m(R,w,L,I).getPoints(B);return this.strokePoints(H,!0)},fillEllipseShape:function(R,w){void 0===w&&(w=32);var L=R.getPoints(w);return this.fillPoints(L,!0)},fillEllipse:function(R,w,L,I,B){void 0===B&&(B=32);var H=new m(R,w,L,I).getPoints(B);return this.fillPoints(H,!0)},arc:function(R,w,L,I,B,G,H){return void 0===G&&(G=!1),void 0===H&&(H=0),this.commandBuffer.push(f.ARC,R,w,L,I,B,G,H),this},slice:function(R,w,L,I,B,G,H){return void 0===G&&(G=!1),void 0===H&&(H=0),this.commandBuffer.push(f.BEGIN_PATH),this.commandBuffer.push(f.MOVE_TO,R,w),this.commandBuffer.push(f.ARC,R,w,L,I,B,G,H),this.commandBuffer.push(f.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(f.SAVE),this},restore:function(){return this.commandBuffer.push(f.RESTORE),this},translateCanvas:function(R,w){return this.commandBuffer.push(f.TRANSLATE,R,w),this},scaleCanvas:function(R,w){return this.commandBuffer.push(f.SCALE,R,w),this},rotateCanvas:function(R){return this.commandBuffer.push(f.ROTATE,R),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(R,w,L){var G,H,I=this.scene.sys,B=I.game.renderer;if(void 0===w&&(w=I.scale.width),void 0===L&&(L=I.scale.height),P.TargetCamera.setScene(this.scene),P.TargetCamera.setViewport(0,0,w,L),P.TargetCamera.scrollX=this.x,P.TargetCamera.scrollY=this.y,"string"==typeof R)if(I.textures.exists(R)){var Y=(G=I.textures.get(R)).getSourceImage();Y instanceof HTMLCanvasElement&&(H=Y.getContext("2d"))}else H=(G=I.textures.createCanvas(R,w,L)).getSourceImage().getContext("2d");else R instanceof HTMLCanvasElement&&(H=R.getContext("2d"));return H&&(this.renderCanvas(B,this,P.TargetCamera,null,H,!1),G&&G.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});P.TargetCamera=new l,C.exports=P},function(C,F){C.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(C,F,n){var l=n(4);C.exports=function(f,u,h){void 0===h&&(h=new l);var a=f.height/2;return h.x=f.x+f.width/2*Math.cos(u),h.y=f.y+a*Math.sin(u),h}},function(C,F,n){var l=n(33),g=n(0),f=n(11),u=n(173),h=n(98),o=n(9),a=n(75),d=n(107),r=n(1065),c=n(21),p=n(79),m=new g({Extends:d,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Mask,f.Pipeline,f.Visible,o,r],initialize:function(x,T){d.call(this,x),o.call(this),this.scene=x,this.displayList=null,this.type="Layer",this.state=0,this.name="",this.active=!0,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.ignoreDestroy=!1,this.systems=x.sys,this.events=x.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPipeline(),this.clearAlpha(),this.setBlendMode(l.SKIP_CHECK),T&&this.add(T),x.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new h(this)),this},setData:function(v,x){return this.data||(this.data=new h(this)),this.data.set(v,x),this},incData:function(v,x){return this.data||(this.data=new h(this)),this.data.inc(v,x),this},toggleData:function(v){return this.data||(this.data=new h(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new h(this)),this.data.get(v)},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return u(this)},willRender:function(v){return!(15!==this.renderFlags||0===this.list.length||0!==this.cameraFilter&&this.cameraFilter&v.id)},addChildCallback:function(v){v.emit(a.ADDED_TO_SCENE,v,this.scene),v.displayList&&v.displayList.remove(v),v.displayList=this,this.queueDepthSort(),this.events.emit(c.ADDED_TO_SCENE,v,this.scene)},removeChildCallback:function(v){v.emit(a.REMOVED_FROM_SCENE,v,this.scene),v.displayList=null,this.queueDepthSort(),this.events.emit(c.REMOVED_FROM_SCENE,v,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(p(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,x){return v._depth-x._depth},getChildren:function(){return this.list},destroy:function(){!this.scene||this.ignoreDestroy||(this.removeAll(),this.removeAllListeners(),this.resetPostPipeline(!0),this.emit(a.DESTROY,this),this.displayList&&(this.displayList.queueDepthSort(),this.displayList.remove(this)),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0)}});C.exports=m},function(C,F,n){var l=n(0),g=n(11),f=n(15),u=n(444),h=n(107),o=n(446),a=n(1069),d=new l({Extends:f,Mixins:[g.Depth,g.Mask,g.Pipeline,g.Transform,g.Visible,a],initialize:function(c,p,m,v){if(f.call(this,c,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],null!==m&&("object"==typeof m||Array.isArray(m))&&(v=m,m=null),this.setTexture(p,m),this.initPipeline(),this.emitters=new h(this),this.wells=new h(this),v){Array.isArray(v)||(v=[v]);for(var x=0;x<v.length;x++)this.createEmitter(v[x])}},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setTexture:function(r,c){return this.texture=this.scene.sys.textures.get(r),this.setFrame(c)},setFrame:function(r){this.frame=this.texture.get(r);var c=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),p=[];return c.forEach(function(m){p.push(m.name)}),this.frameNames=p,this.defaultFrame=this.frame,this},setEmitterFrames:function(r,c){Array.isArray(r)||(r=[r]);var p=c.frames;p.length=0;for(var m=0;m<r.length;m++){var v=r[m];-1!==this.frameNames.indexOf(v)&&p.push(this.texture.get(v))}return c.defaultFrame=p.length>0?p[0]:this.defaultFrame,this},addEmitter:function(r){return this.emitters.add(r)},createEmitter:function(r){return this.addEmitter(new o(this,r))},removeEmitter:function(r){return this.emitters.remove(r,!0)},addGravityWell:function(r){return this.wells.add(r)},createGravityWell:function(r){return this.addGravityWell(new u(r))},emitParticle:function(r,c,p){for(var m=this.emitters.list,v=0;v<m.length;v++){var x=m[v];x.active&&x.emitParticle(r,c,p)}return this},emitParticleAt:function(r,c,p){return this.emitParticle(p,r,c)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(r,c){c*=this.timeScale;for(var p=this.emitters.list,m=0;m<p.length;m++){var v=p[m];v.active&&v.preUpdate(r,c)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});C.exports=d},function(C,F,n){var l=n(33),g=n(131),f=n(31),u=n(0),h=n(11),o=n(39),a=n(106),d=n(15),r=n(1),c=n(65),p=n(1073),m=n(139),v=n(12),x=n(219),T=new u({Extends:d,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Crop,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.ScrollFactor,h.Tint,h.Transform,h.Visible,p],initialize:function(M,S,P,R,w,L,I){void 0===S&&(S=0),void 0===P&&(P=0),void 0===R&&(R=32),void 0===w&&(w=32),d.call(this,M,"RenderTexture"),this.renderer=M.sys.renderer,this.textureManager=M.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.dirty=!1,this._crop=this.resetCropObject(),this.texture=null,this.frame=null,this._saved=!1,void 0===L?(this.canvas=f.create2D(this,R,w),this.texture=M.sys.textures.addCanvas(x(),this.canvas),this.frame=this.texture.get()):(this.texture=M.sys.textures.get(L),this.frame=this.texture.get(I),this.canvas=this.frame.source.image,this._saved=!0,this.dirty=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight),this.context=this.canvas.getContext("2d"),this._eraseMode=!1,this.camera=new g(0,0,R,w),this.renderTarget=null;var B=this.renderer;B?B.type===o.WEBGL?(this.drawGameObject=this.batchGameObjectWebGL,this.renderTarget=new m(B,R,w,1,0,!1)):B.type===o.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas):this.drawGameObject=r,this.camera.setScene(M),this.setPosition(S,P),void 0===L&&this.setSize(R,w),this.setOrigin(0,0),this.initPipeline(c.SINGLE_PIPELINE)},setSize:function(E,M){return this.resize(E,M)},resize:function(E,M){void 0===M&&(M=E);var S=this.frame;if(E!==this.width||M!==this.height){if("__BASE"===S.name){this.canvas.width=E,this.canvas.height=M,this.texture.width=E,this.texture.height=M;var P=this.renderTarget;P&&(P.resize(E,M),S.glTexture=P.texture,S.source.isRenderTexture=!0,S.source.isGLTexture=!0,S.source.glTexture=P.texture),this.camera.setSize(E,M),S.source.width=E,S.source.height=M,S.setSize(E,M),this.width=E,this.height=M}}else{var R=this.texture.getSourceImage();S.cutX+E>R.width&&(E=R.width-S.cutX),S.cutY+M>R.height&&(M=R.height-S.cutY),S.setSize(E,M,S.cutX,S.cutY)}this.updateDisplayOrigin();var w=this.input;return w&&!w.customHitArea&&(w.hitArea.width=E,w.hitArea.height=M),this},setGlobalTint:function(E){return this.globalTint=E,this},setGlobalAlpha:function(E){return this.globalAlpha=E,this},saveTexture:function(E){return this.textureManager.renameTexture(this.texture.key,E),this._saved=!0,this.texture},fill:function(E,M,S,P,R,w){var L=this.frame,B=this.renderer;void 0===M&&(M=1),void 0===S&&(S=0),void 0===P&&(P=0),void 0===R&&(R=L.cutWidth),void 0===w&&(w=L.cutHeight);var G=(E>>16&255)/255,H=(E>>8&255)/255,Y=(255&E)/255,$=this.renderTarget;if(this.camera.preRender(),$){$.bind(!0);var J=this.pipeline;J.manager.set(J);var X=B.width/$.width,W=B.height/$.height;J.drawFillRect(S*X,P*W,R*X,w*W,v.getTintFromFloats(Y,H,G,1),M),$.unbind(!0)}else{var j=this.context;B.setContext(j),j.fillStyle="rgba("+G+","+H+","+Y+","+M+")",j.fillRect(S+L.cutX,P+L.cutY,R,w),B.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var E=this.renderTarget;if(E)E.clear();else{var M=this.context;M.save(),M.setTransform(1,0,0,1,0,0),M.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),M.restore()}this.dirty=!1}return this},erase:function(E,M,S){return this._eraseMode=!0,this.draw(E,M,S,1,16777215),this._eraseMode=!1,this},draw:function(E,M,S,P,R){return this.beginDraw(),this.batchDraw(E,M,S,P,R),this.endDraw(),this},drawFrame:function(E,M,S,P,R,w){return this.beginDraw(),this.batchDrawFrame(E,M,S,P,R,w),this.endDraw(),this},beginDraw:function(){var M=this.renderer,S=this.renderTarget;return this.camera.preRender(),S?M.beginCapture(S.width,S.height):M.setContext(this.context),this},batchDraw:function(E,M,S,P,R){return void 0===P&&(P=this.globalAlpha),R=void 0===R?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(R>>16)+(65280&R)+((255&R)<<16),Array.isArray(E)||(E=[E]),this.batchList(E,M,S,P,R),this},batchDrawFrame:function(E,M,S,P,R,w){void 0===S&&(S=0),void 0===P&&(P=0),void 0===R&&(R=this.globalAlpha),w=void 0===w?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(w>>16)+(65280&w)+((255&w)<<16);var L=this.textureManager.getFrame(E,M);return L&&(this.renderTarget?this.pipeline.batchTextureFrame(L,S,P,w,R,this.camera.matrix,null):this.batchTextureFrame(L,S+this.frame.cutX,P+this.frame.cutY,R,w)),this},endDraw:function(){var E=this.renderer,M=this.renderTarget;if(M){var S=E.endCapture();E.pipelines.setUtility().blitFrame(S,M,1,!1,!1,this._eraseMode),E.resetScissor(),E.resetViewport()}else E.setContext();return this.dirty=!0,this},batchList:function(E,M,S,P,R){for(var w=0;w<E.length;w++){var L=E[w];!L||L===this||(L.renderWebGL||L.renderCanvas?this.drawGameObject(L,M,S):L.isParent||L.list?this.batchGroup(L.getChildren(),M,S):"string"==typeof L?this.batchTextureFrameKey(L,null,M,S,P,R):L instanceof a?this.batchTextureFrame(L,M,S,P,R):Array.isArray(L)&&this.batchList(L,M,S,P,R))}},batchGroup:function(E,M,S){void 0===M&&(M=0),void 0===S&&(S=0),M+=this.frame.cutX,S+=this.frame.cutY;for(var P=0;P<E.length;P++){var R=E[P];R.willRender(this.camera)&&this.drawGameObject(R,R.x+M,R.y+S)}},batchGameObjectWebGL:function(E,M,S){void 0===M&&(M=E.x),void 0===S&&(S=E.y);var P=E.x,R=E.y;E.setPosition(M+this.frame.cutX,S+this.frame.cutY),E.renderDirect?E.renderDirect(this.renderer,E,this.camera):E.renderWebGL(this.renderer,E,this.camera),E.setPosition(P,R)},batchGameObjectCanvas:function(E,M,S){void 0===M&&(M=E.x),void 0===S&&(S=E.y);var P=E.x,R=E.y;if(this._eraseMode){var w=E.blendMode;E.blendMode=l.ERASE}E.setPosition(M+this.frame.cutX,S+this.frame.cutY),E.renderCanvas(this.renderer,E,this.camera,null),E.setPosition(P,R),this._eraseMode&&(E.blendMode=w)},batchTextureFrameKey:function(E,M,S,P,R,w){var L=this.textureManager.getFrame(E,M);L&&this.batchTextureFrame(L,S,P,R,w)},batchTextureFrame:function(E,M,S,P,R){if(void 0===M&&(M=0),void 0===S&&(S=0),M+=this.frame.cutX,S+=this.frame.cutY,this.renderTarget)this.pipeline.batchTextureFrame(E,M,S,R,P,this.camera.matrix,null);else{var L=this.context,I=E.canvasData,B=E.source.image,G=this.camera.matrix;L.save(),L.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",L.globalAlpha=P,G.setToContext(L),L.drawImage(B,I.x,I.y,I.width,I.height,M,S,I.width,I.height),L.restore()}},snapshotArea:function(E,M,S,P,R,w,L){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,R,!1,E,M,S,P,w,L):this.renderer.snapshotCanvas(this.canvas,R,!1,E,M,S,P,w,L),this},snapshot:function(E,M,S){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,E,!1,0,0,this.width,this.height,M,S):this.renderer.snapshotCanvas(this.canvas,E,!1,0,0,this.width,this.height,M,S),this},snapshotPixel:function(E,M,S){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,S,!0,E,M):this.renderer.snapshotCanvas(this.canvas,S,!0,E,M),this},preDestroy:function(){this._saved||(f.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.texture=null)}});C.exports=T},function(C,F){C.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var g=16*Math.random()|0;return("x"===l?g:3&g|8).toString(16)})}},function(C,F,n){var l=n(162),g=n(0),f=n(11),u=n(15),h=n(65),o=n(1079),a=n(3),d=new g({Extends:u,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Flip,f.Mask,f.Pipeline,f.Size,f.Texture,f.Transform,f.Visible,f.ScrollFactor,o],initialize:function(c,p,m,v,x,T,E,M,S){void 0===v&&(v="__DEFAULT"),void 0===T&&(T=2),void 0===E&&(E=!0),u.call(this,c,"Rope"),this.anims=new l(this),this.points=T,this.tintFill="__DEFAULT"===v,this.dirty=!1,this.horizontal=E,this._flipX=!1,this._flipY=!1,this._perp=new a,this.debugCallback=null,this.debugGraphic=null,this.setTexture(v,x),this.setPosition(p,m),this.setSizeToFrame(),this.initPipeline(h.ROPE_PIPELINE),Array.isArray(T)&&this.resizeArrays(T.length),this.setPoints(T,M,S),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(r,c){var p=this.anims.currentFrame;this.anims.update(r,c),this.anims.currentFrame!==p&&(this.updateUVs(),this.updateVertices())},play:function(r,c,p){return this.anims.play(r,c,p),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(r,c,p){return void 0===r&&(r=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(r,c,p))},setVertical:function(r,c,p){return void 0===r&&(r=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(r,c,p)):this},setTintFill:function(r){return void 0===r&&(r=!1),this.tintFill=r,this},setAlphas:function(r,c){var p=this.points.length;if(p<1)return this;var m=this.alphas;void 0===r?r=[1]:!Array.isArray(r)&&void 0===c&&(r=[r]);var v,x=0;if(void 0!==c)for(v=0;v<p;v++)m[x=2*v]=r,m[x+1]=c;else if(r.length===p)for(v=0;v<p;v++)m[x=2*v]=r[v],m[x+1]=r[v];else{var T=r[0];for(v=0;v<p;v++)r.length>(x=2*v)&&(T=r[x]),m[x]=T,r.length>x+1&&(T=r[x+1]),m[x+1]=T}return this},setColors:function(r){var c=this.points.length;if(c<1)return this;var p=this.colors;void 0===r?r=[16777215]:Array.isArray(r)||(r=[r]);var m,v=0;if(r.length===c)for(m=0;m<c;m++)p[v=2*m]=r[m],p[v+1]=r[m];else{var x=r[0];for(m=0;m<c;m++)r.length>(v=2*m)&&(x=r[v]),p[v]=x,r.length>v+1&&(x=r[v+1]),p[v+1]=x}return this},setPoints:function(r,c,p){if(void 0===r&&(r=2),"number"==typeof r){var v,x,T,m=r;if(m<2&&(m=2),r=[],this.horizontal)for(T=-this.frame.halfWidth,x=this.frame.width/(m-1),v=0;v<m;v++)r.push({x:T+v*x,y:0});else for(T=-this.frame.halfHeight,x=this.frame.height/(m-1),v=0;v<m;v++)r.push({x:0,y:T+v*x})}var E=r.length,M=this.points.length;return E<1?(console.warn("Rope: Not enough points given"),this):(1===E&&(r.unshift({x:0,y:0}),E++),M!==E&&this.resizeArrays(E),this.points=r,this.updateUVs(),null!=c&&this.setColors(c),null!=p&&this.setAlphas(p),this)},updateUVs:function(){for(var r=this.uv,c=this.points.length,p=this.frame.u0,m=this.frame.v0,v=this.frame.u1,x=this.frame.v1,T=(v-p)/(c-1),E=(x-m)/(c-1),M=0;M<c;M++){var P,R,w,L,S=4*M;this.horizontal?(this._flipX?(P=v-M*T,w=v-M*T):(P=p+M*T,w=p+M*T),this._flipY?(R=x,L=m):(R=m,L=x)):(this._flipX?(P=p,w=v):(P=v,w=p),this._flipY?(R=x-M*E,L=x-M*E):(R=m+M*E,L=m+M*E)),r[S+0]=P,r[S+1]=R,r[S+2]=w,r[S+3]=L}return this},resizeArrays:function(r){var c=this.colors,p=this.alphas;this.vertices=new Float32Array(4*r),this.uv=new Float32Array(4*r),c=new Uint32Array(2*r),p=new Float32Array(2*r);for(var m=0;m<2*r;m++)c[m]=16777215,p[m]=1;return this.colors=c,this.alphas=p,this.dirty=!0,this},updateVertices:function(){var r=this._perp,c=this.points,p=this.vertices,m=c.length;if(this.dirty=!1,!(m<1)){for(var v,x=c[0],T=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,E=0;E<m;E++){var M=c[E],S=4*E;r.x=(v=E<m-1?c[E+1]:M).y-x.y,r.y=-(v.x-x.x);var P=r.length();r.x/=P,r.y/=P,r.x*=T,r.y*=T,p[S]=M.x+r.x,p[S+1]=M.y+r.y,p[S+2]=M.x-r.x,p[S+3]=M.y-r.y,x=M}return this}},setDebug:function(r,c){return this.debugGraphic=r,this.debugCallback=r||c?c||this.renderDebugVerts:null,this},renderDebugVerts:function(r,c,p){var m=r.debugGraphic,v=p[0],x=p[1],T=p[2],E=p[3];m.lineBetween(v,x,T,E);for(var M=4;M<c;M+=4){var S=p[M+0],P=p[M+1],R=p[M+2],w=p[M+3];m.lineBetween(v,x,S,P),m.lineBetween(T,E,R,w),m.lineBetween(T,E,S,P),m.lineBetween(S,P,R,w),v=S,x=P,T=R,E=w}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(r){return this._flipX=r,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(r){return this._flipY=r,this.updateUVs()}}});C.exports=d},function(C,F,n){var l=n(140),g=n(31),f=n(0),u=n(11),h=n(22),o=n(15),a=n(452),d=n(6),r=n(199),c=n(1082),p=n(453),m=new f({Extends:o,Mixins:[u.Alpha,u.BlendMode,u.ComputedSize,u.Crop,u.Depth,u.Flip,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.ScrollFactor,u.Tint,u.Transform,u.Visible,c],initialize:function(x,T,E,M,S){void 0===T&&(T=0),void 0===E&&(E=0),o.call(this,x,"Text"),this.renderer=x.sys.renderer,this.setPosition(T,E),this.setOrigin(0,0),this.initPipeline(),this.canvas=g.create(this),this.context=this.canvas.getContext("2d"),this.style=new p(this,S),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,0===this.style.resolution&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=x.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(M),S&&S.padding&&this.setPadding(S.padding),S&&S.lineSpacing&&this.setLineSpacing(S.lineSpacing),x.sys.game.events.on(h.CONTEXT_RESTORED,function(){this.dirty=!0},this)},initRTL:function(){!this.style.rtl||(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",l(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(v){var x=this.style;if(x.wordWrapCallback){var T=x.wordWrapCallback.call(x.wordWrapCallbackScope,v,this);return Array.isArray(T)&&(T=T.join("\n")),T}return x.wordWrapWidth?x.wordWrapUseAdvanced?this.advancedWordWrap(v,this.context,this.style.wordWrapWidth):this.basicWordWrap(v,this.context,this.style.wordWrapWidth):v},advancedWordWrap:function(v,x,T){for(var E="",M=v.replace(/ +/gi," ").split(this.splitRegExp),S=M.length,P=0;P<S;P++){var R=M[P],w="";if(R=R.replace(/^ *|\s*$/gi,""),x.measureText(R).width<T)E+=R+"\n";else{for(var I=T,B=R.split(" "),G=0;G<B.length;G++){var H=B[G],Y=H+" ",$=x.measureText(Y).width;if($>I){if(0===G){for(var J=Y;J.length&&(J=J.slice(0,-1),!(($=x.measureText(J).width)<=I)););if(!J.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var _=H.substr(J.length);B[G]=_,w+=J}var U=B.slice(B[G].length?G:G+1).join(" ").replace(/[ \n]*$/gi,"");M[P+1]=U+" "+(M[P+1]||""),S=M.length;break}w+=Y,I-=$}E+=w.replace(/[ \n]*$/gi,"")+"\n"}}return E.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(v,x,T){for(var E="",M=v.split(this.splitRegExp),S=M.length-1,P=x.measureText(" ").width,R=0;R<=S;R++){for(var w=T,L=M[R].split(" "),I=L.length-1,B=0;B<=I;B++){var G=L[B],H=x.measureText(G).width,Y=H;B<I&&(Y+=P),Y>w&&B>0&&(E+="\n",w=T),E+=G,B<I?(E+=" ",w-=Y):w-=H}R<S&&(E+="\n")}return E},getWrappedText:function(v){return void 0===v&&(v=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(v).split(this.splitRegExp)},setText:function(v){return!v&&0!==v&&(v=""),Array.isArray(v)&&(v=v.join("\n")),v!==this._text&&(this._text=v.toString(),this.updateText()),this},setStyle:function(v){return this.style.setStyle(v)},setFont:function(v){return this.style.setFont(v)},setFontFamily:function(v){return this.style.setFontFamily(v)},setFontSize:function(v){return this.style.setFontSize(v)},setFontStyle:function(v){return this.style.setFontStyle(v)},setFixedSize:function(v,x){return this.style.setFixedSize(v,x)},setBackgroundColor:function(v){return this.style.setBackgroundColor(v)},setFill:function(v){return this.style.setFill(v)},setColor:function(v){return this.style.setColor(v)},setStroke:function(v,x){return this.style.setStroke(v,x)},setShadow:function(v,x,T,E,M,S){return this.style.setShadow(v,x,T,E,M,S)},setShadowOffset:function(v,x){return this.style.setShadowOffset(v,x)},setShadowColor:function(v){return this.style.setShadowColor(v)},setShadowBlur:function(v){return this.style.setShadowBlur(v)},setShadowStroke:function(v){return this.style.setShadowStroke(v)},setShadowFill:function(v){return this.style.setShadowFill(v)},setWordWrapWidth:function(v,x){return this.style.setWordWrapWidth(v,x)},setWordWrapCallback:function(v,x){return this.style.setWordWrapCallback(v,x)},setAlign:function(v){return this.style.setAlign(v)},setResolution:function(v){return this.style.setResolution(v)},setLineSpacing:function(v){return this.lineSpacing=v,this.updateText()},setPadding:function(v,x,T,E){if("object"==typeof v){var M=v,S=d(M,"x",null);null!==S?(v=S,T=S):(v=d(M,"left",0),T=d(M,"right",v));var P=d(M,"y",null);null!==P?(x=P,E=P):(x=d(M,"top",0),E=d(M,"bottom",x))}else void 0===v&&(v=0),void 0===x&&(x=v),void 0===T&&(T=v),void 0===E&&(E=x);return this.padding.left=v,this.padding.top=x,this.padding.right=T,this.padding.bottom=E,this.updateText()},setMaxLines:function(v){return this.style.setMaxLines(v)},updateText:function(){var v=this.canvas,x=this.context,T=this.style,E=T.resolution,M=T.metrics;T.syncFont(v,x);var S=this._text;(T.wordWrapWidth||T.wordWrapCallback)&&(S=this.runWordWrap(this._text));var L,P=S.split(this.splitRegExp),R=a(this,M,P),w=this.padding;0===T.fixedWidth?(this.width=R.width+w.left+w.right,L=R.width):(this.width=T.fixedWidth,(L=this.width-w.left-w.right)<R.width&&(L=R.width)),this.height=0===T.fixedHeight?R.height+w.top+w.bottom:T.fixedHeight;var I=this.width,B=this.height;this.updateDisplayOrigin(),I*=E,B*=E,I=Math.max(I,1),B=Math.max(B,1),v.width!==I||v.height!==B?(v.width=I,v.height=B,this.frame.setSize(I,B),T.syncFont(v,x)):x.clearRect(0,0,I,B),x.save(),x.scale(E,E),T.backgroundColor&&(x.fillStyle=T.backgroundColor,x.fillRect(0,0,I,B)),T.syncStyle(v,x),x.textBaseline="alphabetic",x.translate(w.left,w.top);for(var G,H,Y=0;Y<R.lines;Y++){if(G=T.strokeThickness/2,H=T.strokeThickness/2+Y*R.lineHeight+M.ascent,Y>0&&(H+=R.lineSpacing*Y),T.rtl)G=I-G;else if("right"===T.align)G+=L-R.lineWidths[Y];else if("center"===T.align)G+=(L-R.lineWidths[Y])/2;else if("justify"===T.align&&R.lineWidths[Y]/R.width>=.85){for(var J=R.width-R.lineWidths[Y],_=x.measureText(" ").width,tt=P[Y].trim(),U=tt.split(" "),V=Math.floor((J+=(P[Y].length-tt.length)*_)/_),X=0;V>0;)U[X]+=" ",X=(X+1)%(U.length-1||1),--V;P[Y]=U.join(" ")}this.autoRound&&(G=Math.round(G),H=Math.round(H)),T.strokeThickness&&(this.style.syncShadow(x,T.shadowStroke),x.strokeText(P[Y],G,H)),T.color&&(this.style.syncShadow(x,T.shadowFill),x.fillText(P[Y],G,H))}x.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(v,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var W=this.input;return W&&!W.customHitArea&&(W.hitArea.width=this.width,W.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(v){this.setText(v)}},toJSON:function(){var v=u.ToJSON(this),x={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return v.data=x,v},preDestroy:function(){this.style.rtl&&r(this.canvas),g.remove(this.canvas),this.texture.destroy()}});C.exports=m},function(C,F,n){var l=n(31),g=n(0),f=n(11),u=n(22),h=n(15),o=n(355),a=n(189),d=n(1085),r=n(3),p=new g({Extends:h,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Crop,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.ScrollFactor,f.Tint,f.Transform,f.Visible,d],initialize:function(v,x,T,E,M,S,P){var R=v.sys.renderer;h.call(this,v,"TileSprite");var w=v.sys.textures.get(S),L=w.get(P);E&&M?(E=Math.floor(E),M=Math.floor(M)):(E=L.width,M=L.height),this._tilePosition=new r,this._tileScale=new r(1,1),this.dirty=!1,this.renderer=R,this.canvas=l.create(this,E,M),this.context=this.canvas.getContext("2d"),this.displayTexture=w,this.displayFrame=L,this._crop=this.resetCropObject(),this.texture=v.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=o(L.width),this.potHeight=o(L.height),this.fillCanvas=l.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(x,T),this.setSize(E,M),this.setFrame(P),this.setOriginFromFrame(),this.initPipeline(),v.sys.game.events.on(u.CONTEXT_RESTORED,function(I){var B=I.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=I.createTexture2D(0,B.LINEAR,B.LINEAR,B.REPEAT,B.REPEAT,B.RGBA,this.fillCanvas,this.potWidth,this.potHeight)},this)},setTexture:function(m,v){return this.displayTexture=this.scene.sys.textures.get(m),this.setFrame(v)},setFrame:function(m){var v=this.displayTexture.get(m);return this.potWidth=o(v.width),this.potHeight=o(v.height),this.canvas.width=0,v.cutWidth&&v.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this.displayFrame=v,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(m,v){return void 0!==m&&(this.tilePositionX=m),void 0!==v&&(this.tilePositionY=v),this},setTileScale:function(m,v){return void 0===m&&(m=this.tileScaleX),void 0===v&&(v=m),this.tileScaleX=m,this.tileScaleY=v,this},updateTileTexture:function(){if(this.dirty&&this.renderer){var m=this.displayFrame;if(m.source.isRenderTexture||m.source.isGLTexture)return console.warn("TileSprites can only use Image or Canvas based textures"),void(this.dirty=!1);var v=this.fillContext,x=this.fillCanvas,T=this.potWidth,E=this.potHeight;this.renderer.gl||(T=m.cutWidth,E=m.cutHeight),v.clearRect(0,0,T,E),x.width=T,x.height=E,v.drawImage(m.source.image,m.cutX,m.cutY,m.cutWidth,m.cutHeight,0,0,T,E),this.fillPattern=this.renderer.gl?this.renderer.canvasToTexture(x,this.fillPattern):v.createPattern(x,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var m=this.canvas;if((m.width!==this.width||m.height!==this.height)&&(m.width=this.width,m.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl)this.dirty=!1;else{var v=this.context;this.scene.sys.game.config.antialias||a.disable(v);var x=this._tileScale.x,T=this._tileScale.y,E=this._tilePosition.x,M=this._tilePosition.y;v.clearRect(0,0,this.width,this.height),v.save(),v.scale(x,T),v.translate(-E,-M),v.fillStyle=this.fillPattern,v.fillRect(E,M,this.width/x,this.height/T),v.restore(),this.dirty=!1}},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),l.remove(this.canvas),l.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(m){this._tilePosition.x=m,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(m){this._tilePosition.y=m,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(m){this._tileScale.x=m,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(m){this._tileScale.y=m,this.dirty=!0}}});C.exports=p},function(C,F,n){var l=n(0),g=n(18),f=n(11),u=n(75),h=n(22),o=n(49),a=n(15),d=n(69),r=n(219),c=n(1088),p=n(14),m=new l({Extends:a,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.ScrollFactor,f.Size,f.TextureCrop,f.Tint,f.Transform,f.Visible,c],initialize:function(x,T,E,M){a.call(this,x,"Video"),this.video=null,this.videoTexture=null,this.videoTextureSource=null,this.snapshotTexture=null,this.flipY=!1,this._key=r(),this.touchLocked=!0,this.playWhenUnlocked=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)},this._crop=this.resetCropObject(),this.markers={},this._markerIn=-1,this._markerOut=p.MAX_SAFE_INTEGER,this._lastUpdate=0,this._cacheKey="",this._isSeeking=!1,this.removeVideoElementOnDestroy=!1,this.setPosition(T,E),this.initPipeline(),M&&this.changeSource(M,!1);var S=x.sys.game.events;S.on(h.PAUSE,this.globalPause,this),S.on(h.RESUME,this.globalResume,this);var P=x.sys.sound;P&&P.on(d.GLOBAL_MUTE,this.globalMute,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},play:function(v,x,T){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var E=this.video;if(!E)return console.warn("Video not loaded"),this;void 0===v&&(v=E.loop);var M=this.scene.sys.sound;M&&M.mute&&this.setMute(!0),isNaN(x)||(this._markerIn=x),!isNaN(T)&&T>x&&(this._markerOut=T),E.loop=v;var S=this._callbacks,P=E.play();return void 0!==P?P.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):(E.addEventListener("playing",S.play,!0),E.readyState<2&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval))),E.addEventListener("ended",S.end,!0),E.addEventListener("timeupdate",S.time,!0),E.addEventListener("seeking",S.seeking,!0),E.addEventListener("seeked",S.seeked,!0),this},changeSource:function(v,x,T,E,M){void 0===x&&(x=!0),this.video&&this.stop();var P=this.scene.sys.cache.video.get(v);return P?(this.video=P,this._cacheKey=v,this._codePaused=P.paused,this._codeMuted=P.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,P,P.videoWidth,P.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,P.videoWidth,P.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(u.VIDEO_CREATED,this,P.videoWidth,P.videoHeight)):this.updateTexture(),P.currentTime=0,this._lastUpdate=0,x&&this.play(T,E,M)):this.video=null,this},addMarker:function(v,x,T){return!isNaN(x)&&x>=0&&!isNaN(T)&&(this.markers[v]=[x,T]),this},playMarker:function(v,x){var T=this.markers[v];return T&&this.play(x,T[0],T[1]),this},removeMarker:function(v){return delete this.markers[v],this},snapshot:function(v,x){return void 0===v&&(v=this.width),void 0===x&&(x=this.height),this.snapshotArea(0,0,this.width,this.height,v,x)},snapshotArea:function(v,x,T,E,M,S){void 0===v&&(v=0),void 0===x&&(x=0),void 0===T&&(T=this.width),void 0===E&&(E=this.height),void 0===M&&(M=T),void 0===S&&(S=E);var P=this.video,R=this.snapshotTexture;return R?(R.setSize(M,S),P&&R.context.drawImage(P,v,x,T,E,0,0,M,S)):(R=this.scene.sys.textures.createCanvas(r(),M,S),this.snapshotTexture=R,P&&R.context.drawImage(P,v,x,T,E,0,0,M,S)),R.update()},saveSnapshotTexture:function(v){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,v):this.snapshotTexture=this.scene.sys.textures.createCanvas(v,this.width,this.height),this.snapshotTexture},loadURL:function(v,x,T){void 0===x&&(x="loadeddata"),void 0===T&&(T=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var E=document.createElement("video");return E.controls=!1,T&&(E.muted=!0,E.defaultMuted=!0,E.setAttribute("autoplay","autoplay")),E.setAttribute("playsinline","playsinline"),E.setAttribute("preload","auto"),E.addEventListener("error",this._callbacks.error,!0),E.src=v,E.load(),this.video=E,this},loadMediaStream:function(v,x,T){void 0===x&&(x="loadeddata"),void 0===T&&(T=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var E=document.createElement("video");E.controls=!1,T&&(E.muted=!0,E.defaultMuted=!0,E.setAttribute("autoplay","autoplay")),E.setAttribute("playsinline","playsinline"),E.setAttribute("preload","auto"),E.addEventListener("error",this._callbacks.error,!0);try{E.srcObject=v}catch(M){E.src=window.URL.createObjectURL(v)}return E.load(),this.video=E,this},playPromiseSuccessHandler:function(){this.touchLocked=!1,this.emit(u.VIDEO_PLAY,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(v){this.scene.sys.input.once(o.POINTER_DOWN,this.unlockHandler,this),this.touchLocked=!0,this.playWhenUnlocked=!0,this.emit(u.VIDEO_ERROR,this,v)},playHandler:function(){this.touchLocked=!1,this.emit(u.VIDEO_PLAY,this),this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(v){this.stop(),this.emit(u.VIDEO_ERROR,this,v)},unlockHandler:function(){this.touchLocked=!1,this.playWhenUnlocked=!1,this.emit(u.VIDEO_UNLOCKED,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn),this.video.play(),this.emit(u.VIDEO_PLAY,this)},completeHandler:function(){this.emit(u.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&this.video.currentTime<this._lastUpdate&&(this.emit(u.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var v=this.video;if(v){var x=v.currentTime;x!==this._lastUpdate&&(this._lastUpdate=x,this.updateTexture(),x>=this._markerOut&&(v.loop?(v.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=x,this.emit(u.VIDEO_LOOP,this)):(this.emit(u.VIDEO_COMPLETE,this),this.stop())))}},checkVideoProgress:function(){this.video.readyState>=2?this.updateTexture():(this.retry--,this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(u.VIDEO_TIMEOUT,this))},updateTexture:function(){var v=this.video,x=v.videoWidth,T=v.videoHeight;if(this.videoTexture){var E=this.videoTextureSource;E.source!==v&&(E.source=v,E.width=x,E.height=T),E.update()}else this.videoTexture=this.scene.sys.textures.create(this._key,v,x,T),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,x,T),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(u.VIDEO_CREATED,this,x,T)},getVideoKey:function(){return this._cacheKey},seekTo:function(v){var x=this.video;if(x){var T=x.duration;T===1/0||isNaN(T)||this.setCurrentTime(T*v)}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(v){var x=this.video;if(x){if("string"==typeof v){var T=v[0],E=parseFloat(v.substr(1));"+"===T?v=x.currentTime+E:"-"===T&&(v=x.currentTime-E)}x.currentTime=v,this._lastUpdate=v}return this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0,this.emit(u.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1,this.emit(u.VIDEO_SEEKED,this),this.video&&this.updateTexture()},getProgress:function(){var v=this.video;if(v){var x=v.currentTime,T=v.duration;if(T!==1/0&&!isNaN(T))return x/T}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(v){void 0===v&&(v=!0),this._codeMuted=v;var x=this.video;return x&&(x.muted=!!this._systemMuted||v),this},isMuted:function(){return this._codeMuted},globalMute:function(v,x){this._systemMuted=x;var T=this.video;T&&(T.muted=!!this._codeMuted||x)},globalPause:function(){this._systemPaused=!0,this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&this.video.play()},setPaused:function(v){void 0===v&&(v=!0);var x=this.video;return this._codePaused=v,x&&(v?x.paused||x.pause():v||x.paused&&!this._systemPaused&&x.play()),this},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(v){return void 0===v&&(v=1),this.video&&(this.video.volume=g(v,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(v){return this.video&&(this.video.playbackRate=v),this},getLoop:function(){return!!this.video&&this.video.loop},setLoop:function(v){return void 0===v&&(v=!0),this.video&&(this.video.loop=v),this},isPlaying:function(){return!!this.video&&!(this.video.paused||this.video.ended)},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(v,x){return void 0===x&&(x=!1),this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,v),this._key=v,this.flipY=x,this.videoTextureSource&&this.videoTextureSource.setFlipY(x),this.videoTexture},stop:function(){var v=this.video;if(v){var x=this._callbacks;for(var T in x)v.removeEventListener(T,x[T],!0);v.pause()}return this._retryID&&window.clearTimeout(this._retryID),this.emit(u.VIDEO_STOP,this),this},removeVideoElement:function(){var v=this.video;if(v){for(v.parentNode&&v.parentNode.removeChild(v);v.hasChildNodes();)v.removeChild(v.firstChild);v.removeAttribute("autoplay"),v.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(),this.removeVideoElementOnDestroy&&this.removeVideoElement();var v=this.scene.sys.game.events;v.off(h.PAUSE,this.globalPause,this),v.off(h.RESUME,this.globalResume,this);var x=this.scene.sys.sound;x&&x.off(d.GLOBAL_MUTE,this.globalMute,this),this._retryID&&window.clearTimeout(this._retryID)}});C.exports=m},function(C,F,n){var l=n(0),g=n(225),f=n(464),u=n(55),h=new l({initialize:function(a){this.type=u.POLYGON,this.area=0,this.points=[],a&&this.setTo(a)},contains:function(o,a){return g(this,o,a)},setTo:function(o){if(this.area=0,this.points=[],"string"==typeof o&&(o=o.split(" ")),!Array.isArray(o))return this;for(var a,d=Number.MAX_VALUE,r=0;r<o.length;r++)a={x:0,y:0},"number"==typeof o[r]||"string"==typeof o[r]?(a.x=parseFloat(o[r]),a.y=parseFloat(o[r+1]),r++):Array.isArray(o[r])?(a.x=o[r][0],a.y=o[r][1]):(a.x=o[r].x,a.y=o[r].y),this.points.push(a),a.y<d&&(d=a.y);return this.calculateArea(d),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var a,d,o=0,r=0;r<this.points.length-1;r++)o+=((d=this.points[r+1]).x-(a=this.points[r]).x)*(a.y+d.y);return this.area=.5*-(o+=((a=this.points[0]).x-(d=this.points[this.points.length-1]).x)*(d.y+a.y)),this.area},getPoints:function(o,a,d){return f(this,o,a,d)}});C.exports=h},function(C,F){C.exports=function(l,g,f){for(var u=!1,h=-1,o=l.points.length-1;++h<l.points.length;o=h){var a=l.points[h].x,d=l.points[h].y,c=l.points[o].y;(d<=f&&f<c||c<=f&&f<d)&&g<(l.points[o].x-a)*(f-d)/(c-d)+a&&(u=!u)}return u}},function(C,F,n){var l=n(0),g=n(11),f=n(15),u=n(2),h=n(17),o=n(472),a=n(1170),d=n(25),r=new l({Extends:f,Mixins:[g.ComputedSize,g.Depth,g.GetBounds,g.Mask,g.Origin,g.ScrollFactor,g.Transform,g.Visible,a],initialize:function(p,m,v,x,T,E,M,S){void 0===v&&(v=0),void 0===x&&(x=0),void 0===T&&(T=128),void 0===E&&(E=128),f.call(this,p,"Shader"),this.blendMode=-1;var P=p.sys.renderer;this.renderer=P,this.gl=P.gl,this.vertexData=new ArrayBuffer(2*Float32Array.BYTES_PER_ELEMENT*6),this.vertexBuffer=P.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new d,this._tempMatrix2=new d,this._tempMatrix3=new d,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=P.width,this._rendererHeight=P.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(v,x),this.setSize(T,E),this.setOrigin(.5,.5),this.setShader(m,M,S)},willRender:function(c){return!!this.renderToTexture||!(f.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&c.id)},setRenderToTexture:function(c,p){if(void 0===p&&(p=!1),!this.renderToTexture){var m=this.width,v=this.height,x=this.renderer;this.glTexture=x.createTextureFromSource(null,m,v,0),this.glTexture.flipY=p,this.framebuffer=x.createFramebuffer(m,v,this.glTexture,!1),this._rendererWidth=m,this._rendererHeight=v,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),c&&(this.texture=this.scene.sys.textures.addGLTexture(c,this.glTexture,m,v))}return this.shader&&(x.pipelines.clear(),this.load(),this.flush(),x.pipelines.rebind()),this},setShader:function(c,p,m){if(void 0===p&&(p=[]),"string"==typeof c){var v=this.scene.sys.cache.shader;if(!v.has(c))return console.warn("Shader missing: "+c),this;this.shader=v.get(c)}else this.shader=c;var x=this.gl,T=this.renderer;this.program&&x.deleteProgram(this.program);var E=T.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);x.uniformMatrix4fv(x.getUniformLocation(E,"uViewMatrix"),!1,this.viewMatrix),x.uniformMatrix4fv(x.getUniformLocation(E,"uProjectionMatrix"),!1,this.projectionMatrix),x.uniform2f(x.getUniformLocation(E,"uResolution"),this.width,this.height),this.program=E;var M=new Date,S={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[M.getFullYear(),M.getMonth(),M.getDate(),60*M.getHours()*60+60*M.getMinutes()+M.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.uniforms=this.shader.uniforms?h(!0,{},this.shader.uniforms,S):S;for(var P=0;P<4;P++)p[P]&&this.setSampler2D("iChannel"+P,p[P],P,m);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(c){return this.pointer=c,this},projOrtho:function(c,p,m,v){var E=1/(c-p),M=1/(m-v),S=-5e-4,P=this.projectionMatrix;P[0]=-2*E,P[5]=-2*M,P[10]=2*S,P[12]=(c+p)*E,P[13]=(v+m)*M,P[14]=-0;var R=this.program,w=this.gl;this.renderer.setProgram(R),w.uniformMatrix4fv(w.getUniformLocation(R,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=p,this._rendererHeight=m},initUniforms:function(){var c=this.gl,p=this.renderer.glFuncMap,m=this.program;for(var v in this._textureCount=0,this.uniforms){var x=this.uniforms[v],T=x.type,E=p[T];x.uniformLocation=c.getUniformLocation(m,v),"sampler2D"!==T&&(x.glMatrix=E.matrix,x.glValueLength=E.length,x.glFunc=E.func)}},setSampler2DBuffer:function(c,p,m,v,x,T){void 0===x&&(x=0),void 0===T&&(T={});var E=this.uniforms[c];return E.value=p,T.width=m,T.height=v,E.textureData=T,this._textureCount=x,this.initSampler2D(E),this},setSampler2D:function(c,p,m,v){void 0===m&&(m=0);var x=this.scene.sys.textures;if(x.exists(p)){var T=x.getFrame(p);if(T.glTexture&&T.glTexture.isRenderTexture)return this.setSampler2DBuffer(c,T.glTexture,T.width,T.height,m,v);var E=this.uniforms[c],M=T.source;E.textureKey=p,E.source=M.image,E.value=T.glTexture,M.isGLTexture&&(v||(v={}),v.width=M.width,v.height=M.height),v&&(E.textureData=v),this._textureCount=m,this.initSampler2D(E)}return this},setUniform:function(c,p){return o(this.uniforms,c,p),this},getUniform:function(c){return u(this.uniforms,c,null)},setChannel0:function(c,p){return this.setSampler2D("iChannel0",c,0,p)},setChannel1:function(c,p){return this.setSampler2D("iChannel1",c,1,p)},setChannel2:function(c,p){return this.setSampler2D("iChannel2",c,2,p)},setChannel3:function(c,p){return this.setSampler2D("iChannel3",c,3,p)},initSampler2D:function(c){if(c.value){var p=this.gl;p.activeTexture(p.TEXTURE0+this._textureCount),p.bindTexture(p.TEXTURE_2D,c.value);var m=c.textureData;if(m&&!c.value.isRenderTexture){var v=p[u(m,"magFilter","linear").toUpperCase()],x=p[u(m,"minFilter","linear").toUpperCase()],T=p[u(m,"wrapS","repeat").toUpperCase()],E=p[u(m,"wrapT","repeat").toUpperCase()],M=p[u(m,"format","rgba").toUpperCase()];if(m.repeat&&(T=p.REPEAT,E=p.REPEAT),p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,!!m.flipY),m.width){var S=u(m,"width",512),P=u(m,"height",2),R=u(m,"border",0);p.texImage2D(p.TEXTURE_2D,0,M,S,P,R,M,p.UNSIGNED_BYTE,null)}else p.texImage2D(p.TEXTURE_2D,0,M,p.RGBA,p.UNSIGNED_BYTE,c.source);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,v),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,x),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,T),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,E)}this.renderer.setProgram(this.program),p.uniform1i(c.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var m,v,x,T,E,c=this.gl,p=this.uniforms,M=0;for(var S in p)x=(m=p[S]).glFunc,v=m.glValueLength,T=m.uniformLocation,null!==(E=m.value)&&(1===v?m.glMatrix?x.call(c,T,m.transpose,E):x.call(c,T,E):2===v?x.call(c,T,E.x,E.y):3===v?x.call(c,T,E.x,E.y,E.z):4===v?x.call(c,T,E.x,E.y,E.z,E.w):"sampler2D"===m.type&&(c.activeTexture(c.TEXTURE0+M),c.bindTexture(c.TEXTURE_2D,E),c.uniform1i(T,M),M++))},load:function(c){var p=this.gl,m=this.width,v=this.height,x=this.renderer,T=this.program,E=this.viewMatrix;if(!this.renderToTexture){var M=-this._displayOriginX,S=-this._displayOriginY;E[0]=c[0],E[1]=c[1],E[4]=c[2],E[5]=c[3],E[8]=c[4],E[9]=c[5],E[12]=E[0]*M+E[4]*S,E[13]=E[1]*M+E[5]*S}p.useProgram(T),p.uniformMatrix4fv(p.getUniformLocation(T,"uViewMatrix"),!1,E),p.uniform2f(p.getUniformLocation(T,"uResolution"),this.width,this.height);var P=this.uniforms,R=P.resolution;R.value.x=m,R.value.y=v,P.time.value=x.game.loop.getDuration();var w=this.pointer;if(w){var L=P.mouse,B=1-w.y/v;L.value.x=(w.x/m).toFixed(2),L.value.y=B.toFixed(2)}this.syncUniforms()},flush:function(){var c=this.width,p=this.height,m=this.program,v=this.gl,x=this.vertexBuffer,T=this.renderer,E=2*Float32Array.BYTES_PER_ELEMENT;this.renderToTexture&&(T.setFramebuffer(this.framebuffer),v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT)),v.bindBuffer(v.ARRAY_BUFFER,x);var M=v.getAttribLocation(m,"inPosition");-1!==M&&(v.enableVertexAttribArray(M),v.vertexAttribPointer(M,2,v.FLOAT,!1,E,0));var S=this.vertexViewF32;S[3]=p,S[4]=c,S[5]=p,S[8]=c,S[9]=p,S[10]=c;v.bufferSubData(v.ARRAY_BUFFER,0,this.bytes.subarray(0,6*E)),v.drawArrays(v.TRIANGLES,0,6),this.renderToTexture&&T.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var c=this.gl;c.deleteProgram(this.program),c.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});C.exports=r},function(C,F,n){var l=n(0),g=n(11),f=n(34),u=n(113),h=n(15),o=n(473),a=n(474),d=n(19),r=n(67),c=n(1173),p=n(79),m=n(37),v=n(115),x=new l({Extends:h,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.Size,g.Texture,g.Transform,g.Visible,g.ScrollFactor,c],initialize:function(E,M,S,P,R,w,L,I,B,G,H,Y){void 0===M&&(M=0),void 0===S&&(S=0),void 0===P&&(P="__WHITE"),h.call(this,E,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new m,this.modelScale=new m(1,1,1),this.modelRotation=new m,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new r,this.viewPosition=new m,this.viewMatrix=new r,this.projectionMatrix=new r,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1;var $=E.sys.renderer;this.setPosition(M,S),this.setTexture(P,R),this.setSize($.width,$.height),this.initPipeline(),this.setPerspective($.width,$.height,45,.01,1e3),w&&this.addVertices(w,L,I,B,G,H,Y)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(T){return this.viewPosition.addScale(m.LEFT,T),this.dirtyCache[10]=1,this},panY:function(T){return this.viewPosition.y+=m.DOWN.y*T,this.dirtyCache[10]=1,this},panZ:function(T){return this.viewPosition.z+=T,this.dirtyCache[10]=1,this},setPerspective:function(T,E,M,S,P){return void 0===M&&(M=45),void 0===S&&(S=.01),void 0===P&&(P=1e3),this.projectionMatrix.perspective(f(M),T/E,S,P),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(T,E,M,S){return void 0===T&&(T=this.scene.sys.renderer.getAspectRatio()),void 0===E&&(E=1),void 0===M&&(M=-1e3),void 0===S&&(S=1e3),this.projectionMatrix.ortho(-T,T,-E,E,M,S),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(T){T.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(T,E,M,S,P,R,w,L,I){var B=this.scene.sys.cache.obj.get(T);return B&&a(B,this,E,M,S,P,R,w,L,I),this},sortByDepth:function(T,E){return T.depth-E.depth},depthSort:function(){return p(this.faces,this.sortByDepth),this},addVertex:function(T,E,M,S,P,R,w){var L=new v(T,E,M,S,P,R,w);return this.vertices.push(L),L},addFace:function(T,E,M){var S=new u(T,E,M);return this.faces.push(S),this.dirtyCache[9]=-1,S},addVertices:function(T,E,M,S,P,R,w){var L=o(T,E,M,S,P,R,w);return L&&(this.faces=this.faces.concat(L.faces),this.vertices=this.vertices.concat(L.vertices)),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(T){return this.faces[T]},getFaceAt:function(T,E,M){void 0===M&&(M=this.scene.sys.cameras.main);for(var S=d(this,M).calc,P=this.faces,R=[],w=0;w<P.length;w++){var L=P[w];L.contains(T,E,S)&&R.push(L)}return p(R,this.sortByDepth)},setDebug:function(T,E){return this.debugGraphic=T,this.debugCallback=T||E?E||this.renderDebug:null,this},isDirty:function(){var T=this.modelPosition,E=this.modelRotation,M=this.modelScale,S=this.dirtyCache,P=T.x,R=T.y,w=T.z,L=E.x,I=E.y,B=E.z,G=M.x,H=M.y,Y=M.z,$=this.getFaceCount(),J=S[0],_=S[1],tt=S[2],U=S[3],V=S[4],X=S[5],W=S[6],j=S[7],K=S[8],q=S[9];return S[0]=P,S[1]=R,S[2]=w,S[3]=L,S[4]=I,S[5]=B,S[6]=G,S[7]=H,S[8]=Y,S[9]=$,J!==P||_!==R||tt!==w||U!==L||V!==I||X!==B||W!==G||j!==H||K!==Y||q!==$},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var T=this.dirtyCache;if(this.ignoreDirtyCache||T[10]||this.isDirty()){var E=this.width,M=this.height,S=this.viewMatrix,P=this.viewPosition;T[10]&&(S.identity(),S.translate(P),S.invert(),T[10]=0);var R=this.transformMatrix;R.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var w=P.z,L=this.faces,I=0;I<L.length;I++)L[I].transformCoordinatesLocal(R,E,M,w);this.depthSort()}},renderDebug:function(T,E){for(var M=T.debugGraphic,S=0;S<E.length;S++){var P=E[S];M.strokeTriangle(P.vertex1.tx,P.vertex1.ty,P.vertex2.tx,P.vertex2.ty,P.vertex3.tx,P.vertex3.ty)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null}});C.exports=x},function(C,F,n){var l=n(48);C.exports=function(f,u){return l(f.x,f.y,u.x,u.y)<=f.radius+u.radius}},function(C,F,n){var l=n(4),g=n(230);C.exports=function(u,h,o){if(void 0===o&&(o=[]),g(u,h)){var L,I,a=u.x1,d=u.y1,v=h.radius,x=u.x2-a,T=u.y2-d,E=a-h.x,M=d-h.y,S=x*x+T*T,P=2*(x*E+T*M),w=P*P-4*S*(E*E+M*M-v*v);if(0===w){var B=-P/(2*S);L=a+B*x,I=d+B*T,B>=0&&B<=1&&o.push(new l(L,I))}else if(w>0){var G=(-P-Math.sqrt(w))/(2*S);L=a+G*x,I=d+G*T,G>=0&&G<=1&&o.push(new l(L,I));var H=(-P+Math.sqrt(w))/(2*S);L=a+H*x,I=d+H*T,H>=0&&H<=1&&o.push(new l(L,I))}}return o}},function(C,F,n){var l=n(63),f=new(n(4));C.exports=function(h,o,a){if(void 0===a&&(a=f),l(o,h.x1,h.y1))return a.x=h.x1,a.y=h.y1,!0;if(l(o,h.x2,h.y2))return a.x=h.x2,a.y=h.y2,!0;var d=h.x2-h.x1,r=h.y2-h.y1,m=d*d+r*r,v=d,x=r;if(m>0){var T=((o.x-h.x1)*d+(o.y-h.y1)*r)/m;v*=T,x*=T}return a.x=h.x1+v,a.y=h.y1+x,v*v+x*x<=m&&v*d+x*r>=0&&l(o,a.x,a.y)}},function(C,F,n){var l=n(4),g=n(92),f=n(482);C.exports=function(h,o,a){if(void 0===a&&(a=[]),f(h,o))for(var d=o.getLineA(),r=o.getLineB(),c=o.getLineC(),p=o.getLineD(),m=[new l,new l,new l,new l],v=[g(d,h,m[0]),g(r,h,m[1]),g(c,h,m[2]),g(p,h,m[3])],x=0;x<4;x++)v[x]&&a.push(m[x]);return a}},function(C,F){C.exports=function(l,g,f,u){void 0===f&&(f=!1),void 0===u&&(u=[]);for(var x,T,E,M,S,P,h=l.x3-l.x1,o=l.y3-l.y1,a=l.x2-l.x1,d=l.y2-l.y1,r=h*h+o*o,c=h*a+o*d,p=a*a+d*d,m=r*p-c*c,v=0===m?0:1/m,R=l.x1,w=l.y1,L=0;L<g.length&&(T=(r*(P=a*(E=g[L].x-R)+d*(M=g[L].y-w))-c*(S=h*E+o*M))*v,!((x=(p*S-c*P)*v)>=0&&T>=0&&x+T<1&&(u.push({x:g[L].x,y:g[L].y}),f)));L++);return u}},function(C,F){C.exports=function(l,g,f,u){var h=Math.cos(u),o=Math.sin(u),a=l.x1-g,d=l.y1-f;return l.x1=a*h-d*o+g,l.y1=a*o+d*h+f,l.x2=(a=l.x2-g)*h-(d=l.y2-f)*o+g,l.y2=a*o+d*h+f,l}},function(C,F){C.exports=function(l){return 0===l.height?NaN:l.width/l.height}},function(C,F){C.exports=function(l,g,f,u){var h=Math.cos(u),o=Math.sin(u),a=l.x1-g,d=l.y1-f;return l.x1=a*h-d*o+g,l.y1=a*o+d*h+f,l.x2=(a=l.x2-g)*h-(d=l.y2-f)*o+g,l.y2=a*o+d*h+f,l.x3=(a=l.x3-g)*h-(d=l.y3-f)*o+g,l.y3=a*o+d*h+f,l}},function(C,F,n){C.exports={BUTTON_DOWN:n(1304),BUTTON_UP:n(1305),CONNECTED:n(1306),DISCONNECTED:n(1307),GAMEPAD_BUTTON_DOWN:n(1308),GAMEPAD_BUTTON_UP:n(1309)}},function(C,F,n){var l=n(17),g=n(154);C.exports=function(u,h){var o=void 0===u?g():l({},u);if(h)for(var a in h)void 0!==h[a]&&(o[a]=h[a]);return o}},function(C,F,n){var l=n(0),g=n(20),f=n(23),u=n(8),h=n(2),o=n(7),a=n(402),d=new l({Extends:f,initialize:function(c,p,m,v){var x="xml";if(o(p)){var T=p;p=h(T,"key"),m=h(T,"url"),v=h(T,"xhrSettings"),x=h(T,"extension",x)}f.call(this,c,{type:"xml",cache:c.cacheManager.xml,extension:x,responseType:"text",key:p,url:m,xhrSettings:v})},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=a(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});u.register("xml",function(r,c,p){if(Array.isArray(r))for(var m=0;m<r.length;m++)this.addFile(new d(this,r[m]));else this.addFile(new d(this,r,c,p));return this}),C.exports=d},function(C,F,n){var l=n(0),g=n(20),f=n(23),u=n(8),h=n(2),o=n(7),a=new l({Extends:f,initialize:function(r,c,p,m){var v="text",x="txt",T=r.cacheManager.text;if(o(c)){var E=c;c=h(E,"key"),p=h(E,"url"),m=h(E,"xhrSettings"),x=h(E,"extension",x),v=h(E,"type",v),T=h(E,"cache",T)}f.call(this,r,{type:v,cache:T,extension:x,responseType:"text",key:c,url:p,xhrSettings:m})},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});u.register("text",function(d,r,c){if(Array.isArray(d))for(var p=0;p<d.length;p++)this.addFile(new a(this,d[p]));else this.addFile(new a(this,d,r,c));return this}),C.exports=a},function(C,F,n){C.exports={Acceleration:n(1362),Angular:n(1363),Bounce:n(1364),Debug:n(1365),Drag:n(1366),Enable:n(1367),Friction:n(1368),Gravity:n(1369),Immovable:n(1370),Mass:n(1371),OverlapCirc:n(517),OverlapRect:n(241),Pushable:n(1372),Size:n(1373),Velocity:n(1374)}},function(C,F){C.exports=function(l,g,f,u,h,o,a){void 0===o&&(o=!0),void 0===a&&(a=!1);var d=[],r=[],c=l.treeMinMax;if(c.minX=g,c.minY=f,c.maxX=g+u,c.maxY=f+h,a&&(r=l.staticTree.search(c)),o&&l.useTree)d=l.tree.search(c);else if(o){var m={position:{x:g,y:f},left:g,top:f,right:g+u,bottom:f+h,isCircle:!1},v=l.intersects;l.bodies.iterate(function(x){v(x,m)&&d.push(x)})}return r.concat(d)}},function(C,F,n){C.exports={COLLIDE:n(1375),OVERLAP:n(1376),PAUSE:n(1377),RESUME:n(1378),TILE_COLLIDE:n(1379),TILE_OVERLAP:n(1380),WORLD_BOUNDS:n(1381),WORLD_STEP:n(1382)}},function(C,F,n){var l=n(60);C.exports=function(f,u,h,o){var a=0,d=f.deltaAbsX()+u.deltaAbsX()+o;return 0===f._dx&&0===u._dx?(f.embedded=!0,u.embedded=!0):f._dx>u._dx?(a=f.right-u.x)>d&&!h||!1===f.checkCollision.right||!1===u.checkCollision.left?a=0:(f.touching.none=!1,f.touching.right=!0,u.touching.none=!1,u.touching.left=!0,u.physicsType===l.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.right=!0),f.physicsType===l.STATIC_BODY&&!h&&(u.blocked.none=!1,u.blocked.left=!0)):f._dx<u._dx&&(-(a=f.x-u.width-u.x)>d&&!h||!1===f.checkCollision.left||!1===u.checkCollision.right?a=0:(f.touching.none=!1,f.touching.left=!0,u.touching.none=!1,u.touching.right=!0,u.physicsType===l.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.left=!0),f.physicsType===l.STATIC_BODY&&!h&&(u.blocked.none=!1,u.blocked.right=!0))),f.overlapX=a,u.overlapX=a,a}},function(C,F,n){var l=n(60);C.exports=function(f,u,h,o){var a=0,d=f.deltaAbsY()+u.deltaAbsY()+o;return 0===f._dy&&0===u._dy?(f.embedded=!0,u.embedded=!0):f._dy>u._dy?(a=f.bottom-u.y)>d&&!h||!1===f.checkCollision.down||!1===u.checkCollision.up?a=0:(f.touching.none=!1,f.touching.down=!0,u.touching.none=!1,u.touching.up=!0,u.physicsType===l.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.down=!0),f.physicsType===l.STATIC_BODY&&!h&&(u.blocked.none=!1,u.blocked.up=!0)):f._dy<u._dy&&(-(a=f.y-u.bottom)>d&&!h||!1===f.checkCollision.up||!1===u.checkCollision.down?a=0:(f.touching.none=!1,f.touching.up=!0,u.touching.none=!1,u.touching.down=!0,u.physicsType===l.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.up=!0),f.physicsType===l.STATIC_BODY&&!h&&(u.blocked.none=!1,u.blocked.down=!0))),f.overlapY=a,u.overlapY=a,a}},function(C,F){C.exports=function(l,g){return!(g.right<=l.left||g.bottom<=l.top||g.position.x>=l.right||g.position.y>=l.bottom)}},function(C,F,n){var l={};C.exports=l;var g=n(94),f=n(116),u=n(267),h=n(117),o=n(585),a=n(50);l._warming=.4,l._torqueDampen=1,l._minLength=1e-6,l.create=function(d){var r=d;r.bodyA&&!r.pointA&&(r.pointA={x:0,y:0}),r.bodyB&&!r.pointB&&(r.pointB={x:0,y:0});var c=r.bodyA?f.add(r.bodyA.position,r.pointA):r.pointA,p=r.bodyB?f.add(r.bodyB.position,r.pointB):r.pointB,m=f.magnitude(f.sub(c,p));r.length=void 0!==r.length?r.length:m,r.id=r.id||a.nextId(),r.label=r.label||"Constraint",r.type="constraint",r.stiffness=r.stiffness||(r.length>0?1:.7),r.damping=r.damping||0,r.angularStiffness=r.angularStiffness||0,r.angleA=r.bodyA?r.bodyA.angle:r.angleA,r.angleB=r.bodyB?r.bodyB.angle:r.angleB,r.plugin={};var v={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return 0===r.length&&r.stiffness>.1?(v.type="pin",v.anchors=!1):r.stiffness<.9&&(v.type="spring"),r.render=a.extend(v,r.render),r},l.preSolveAll=function(d){for(var r=0;r<d.length;r+=1){var c=d[r],p=c.constraintImpulse;c.isStatic||0===p.x&&0===p.y&&0===p.angle||(c.position.x+=p.x,c.position.y+=p.y,c.angle+=p.angle)}},l.solveAll=function(d,r){for(var c=0;c<d.length;c+=1){var p=d[c],m=!p.bodyA||p.bodyA&&p.bodyA.isStatic,v=!p.bodyB||p.bodyB&&p.bodyB.isStatic;(m||v)&&l.solve(d[c],r)}for(c=0;c<d.length;c+=1)v=!(p=d[c]).bodyB||p.bodyB&&p.bodyB.isStatic,!(m=!p.bodyA||p.bodyA&&p.bodyA.isStatic)&&!v&&l.solve(d[c],r)},l.solve=function(d,r){var c=d.bodyA,p=d.bodyB,m=d.pointA,v=d.pointB;if(c||p){c&&!c.isStatic&&(f.rotate(m,c.angle-d.angleA,m),d.angleA=c.angle),p&&!p.isStatic&&(f.rotate(v,p.angle-d.angleB,v),d.angleB=p.angle);var x=m,T=v;if(c&&(x=f.add(c.position,m)),p&&(T=f.add(p.position,v)),x&&T){var E=f.sub(x,T),M=f.magnitude(E);M<l._minLength&&(M=l._minLength);var B,G,H,Y,$,R=f.mult(E,(M-d.length)/M*(d.stiffness<1?d.stiffness*r:d.stiffness)),w=(c?c.inverseMass:0)+(p?p.inverseMass:0),I=w+((c?c.inverseInertia:0)+(p?p.inverseInertia:0));if(d.damping){var J=f.create();H=f.div(E,M),$=f.sub(p&&f.sub(p.position,p.positionPrev)||J,c&&f.sub(c.position,c.positionPrev)||J),Y=f.dot(H,$)}c&&!c.isStatic&&(c.constraintImpulse.x-=R.x*(G=c.inverseMass/w),c.constraintImpulse.y-=R.y*G,c.position.x-=R.x*G,c.position.y-=R.y*G,d.damping&&(c.positionPrev.x-=d.damping*H.x*Y*G,c.positionPrev.y-=d.damping*H.y*Y*G),B=f.cross(m,R)/I*l._torqueDampen*c.inverseInertia*(1-d.angularStiffness),c.constraintImpulse.angle-=B,c.angle-=B),p&&!p.isStatic&&(p.constraintImpulse.x+=R.x*(G=p.inverseMass/w),p.constraintImpulse.y+=R.y*G,p.position.x+=R.x*G,p.position.y+=R.y*G,d.damping&&(p.positionPrev.x+=d.damping*H.x*Y*G,p.positionPrev.y+=d.damping*H.y*Y*G),B=f.cross(v,R)/I*l._torqueDampen*p.inverseInertia*(1-d.angularStiffness),p.constraintImpulse.angle+=B,p.angle+=B)}}},l.postSolveAll=function(d){for(var r=0;r<d.length;r++){var c=d[r],p=c.constraintImpulse;if(!(c.isStatic||0===p.x&&0===p.y&&0===p.angle)){u.set(c,!1);for(var m=0;m<c.parts.length;m++){var v=c.parts[m];g.translate(v.vertices,p),m>0&&(v.position.x+=p.x,v.position.y+=p.y),0!==p.angle&&(g.rotate(v.vertices,p.angle,c.position),o.rotate(v.axes,p.angle),m>0&&f.rotateAbout(v.position,p.angle,c.position,v.position)),h.update(v.bounds,v.vertices,c.velocity)}p.angle*=l._warming,p.x*=l._warming,p.y*=l._warming}}},l.pointAWorld=function(d){return{x:(d.bodyA?d.bodyA.position.x:0)+d.pointA.x,y:(d.bodyA?d.bodyA.position.y:0)+d.pointA.y}},l.pointBWorld=function(d){return{x:(d.bodyB?d.bodyB.position.x:0)+d.pointB.x,y:(d.bodyB?d.bodyB.position.y:0)+d.pointB.y}}},function(C,F,n){C.exports={CalculateFacesAt:n(248),CalculateFacesWithin:n(61),CheckIsoBounds:n(537),Copy:n(1414),CreateFromTiles:n(1415),CullBounds:n(539),CullTiles:n(540),Fill:n(1416),FilterTiles:n(1417),FindByIndex:n(1418),FindTile:n(1419),ForEachTile:n(1420),GetCullTilesFunction:n(1421),GetTileAt:n(156),GetTileAtWorldXY:n(1422),GetTilesWithin:n(26),GetTilesWithinShape:n(1423),GetTilesWithinWorldXY:n(523),GetTileToWorldXFunction:n(1424),GetTileToWorldXYFunction:n(1425),GetTileToWorldYFunction:n(1426),GetWorldToTileXFunction:n(1427),GetWorldToTileXYFunction:n(1428),GetWorldToTileYFunction:n(1429),HasTileAt:n(558),HasTileAtWorldXY:n(1430),HexagonalCullBounds:n(542),HexagonalCullTiles:n(541),HexagonalTileToWorldXY:n(546),HexagonalTileToWorldY:n(550),HexagonalWorldToTileXY:n(552),HexagonalWorldToTileY:n(556),IsInLayerBounds:n(118),IsometricCullTiles:n(543),IsometricTileToWorldXY:n(547),IsometricWorldToTileXY:n(553),PutTileAt:n(253),PutTileAtWorldXY:n(1431),PutTilesAt:n(1432),Randomize:n(1433),RemoveTileAt:n(559),RemoveTileAtWorldXY:n(1434),RenderDebug:n(1435),ReplaceByIndex:n(538),RunCull:n(157),SetCollision:n(1436),SetCollisionBetween:n(1437),SetCollisionByExclusion:n(1438),SetCollisionByProperty:n(1439),SetCollisionFromCollisionGroup:n(1440),SetLayerCollisionIndex:n(158),SetTileCollision:n(72),SetTileIndexCallback:n(1441),SetTileLocationCallback:n(1442),Shuffle:n(1443),StaggeredCullBounds:n(545),StaggeredCullTiles:n(544),StaggeredTileToWorldXY:n(548),StaggeredTileToWorldY:n(551),StaggeredWorldToTileXY:n(554),StaggeredWorldToTileY:n(557),SwapByIndex:n(1444),TileToWorldX:n(249),TileToWorldXY:n(549),TileToWorldY:n(250),WeightedRandomize:n(1445),WorldToTileX:n(251),WorldToTileXY:n(555),WorldToTileY:n(252)}},function(C,F,n){var l=n(156);C.exports=function(f,u,h){var o=l(f,u,!0,h),a=l(f,u-1,!0,h),d=l(f,u+1,!0,h),r=l(f-1,u,!0,h),c=l(f+1,u,!0,h),p=o&&o.collides;return p&&(o.faceTop=!0,o.faceBottom=!0,o.faceLeft=!0,o.faceRight=!0),a&&a.collides&&(p&&(o.faceTop=!1),a.faceBottom=!p),d&&d.collides&&(p&&(o.faceBottom=!1),d.faceTop=!p),r&&r.collides&&(p&&(o.faceLeft=!1),r.faceRight=!p),c&&c.collides&&(p&&(o.faceRight=!1),c.faceLeft=!p),o&&!o.collides&&o.resetFaces(),o}},function(C,F){C.exports=function(l,g,f){var u=f.baseTileWidth,h=f.tilemapLayer,o=0;return h&&(g||(g=h.scene.cameras.main),o=h.x+g.scrollX*(1-h.scrollFactorX),u*=h.scaleX),o+l*u}},function(C,F){C.exports=function(l,g,f){var u=f.baseTileHeight,h=f.tilemapLayer,o=0;return h&&(g||(g=h.scene.cameras.main),o=h.y+g.scrollY*(1-h.scrollFactorY),u*=h.scaleY),o+l*u}},function(C,F){C.exports=function(l,g,f,u){void 0===g&&(g=!0);var h=u.baseTileWidth,o=u.tilemapLayer;return o&&(f||(f=o.scene.cameras.main),l-=o.x+f.scrollX*(1-o.scrollFactorX),h*=o.scaleX),g?Math.floor(l/h):l/h}},function(C,F){C.exports=function(l,g,f,u){void 0===g&&(g=!0);var h=u.baseTileHeight,o=u.tilemapLayer;return o&&(f||(f=o.scene.cameras.main),l-=o.y+f.scrollY*(1-o.scrollFactorY),h*=o.scaleY),g?Math.floor(l/h):l/h}},function(C,F,n){var l=n(83),g=n(118),f=n(248),u=n(72);C.exports=function(o,a,d,r,c){if(void 0===r&&(r=!0),!g(a,d,c))return null;var p=c.data[d][a],m=p&&p.collides;if(o instanceof l)null===c.data[d][a]&&(c.data[d][a]=new l(c,o.index,a,d,c.tileWidth,c.tileHeight)),c.data[d][a].copy(o);else{var v=o;null===c.data[d][a]?c.data[d][a]=new l(c,v,a,d,c.tileWidth,c.tileHeight):c.data[d][a].index=v}var x=c.data[d][a],T=-1!==c.collideIndexes.indexOf(x.index);return u(x,T),r&&m!==x.collides&&f(a,d,c),x}},function(C,F,n){var l=n(29);C.exports=function(f){return"isometric"===(f=f.toLowerCase())?l.ISOMETRIC:"staggered"===f?l.STAGGERED:"hexagonal"===f?l.HEXAGONAL:l.ORTHOGONAL}},function(C,F,n){var l=n(38),g=n(119),f=n(120),u=n(83);C.exports=function(o,a,d,r,c){for(var p=new g({tileWidth:d,tileHeight:r}),m=new f({name:o,tileWidth:d,tileHeight:r,format:l.ARRAY_2D,layers:[p]}),v=[],x=a.length,T=0,E=0;E<a.length;E++){v[E]=[];for(var M=a[E],S=0;S<M.length;S++){var P=parseInt(M[S],10);v[E][S]=isNaN(P)||-1===P?c?null:new u(p,-1,S,E,d,r):new u(p,P,S,E,d,r)}0===T&&(T=M.length)}return m.width=p.width=T,m.height=p.height=x,m.widthInPixels=p.widthInPixels=T*d,m.heightInPixels=p.heightInPixels=x*r,p.data=v,m}},function(C,F,n){var l=n(567),g=n(257),f=function(o){return{x:o.x,y:o.y}},u=["id","name","type","rotation","properties","visible","x","y","width","height"];C.exports=function(o,a,d){void 0===a&&(a=0),void 0===d&&(d=0);var r=l(o,u);if(r.x+=a,r.y+=d,o.gid){var c=g(o.gid);r.gid=c.gid,r.flippedHorizontal=c.flippedHorizontal,r.flippedVertical=c.flippedVertical,r.flippedAntiDiagonal=c.flippedAntiDiagonal}else o.polyline?r.polyline=o.polyline.map(f):o.polygon?r.polygon=o.polygon.map(f):o.ellipse?r.ellipse=o.ellipse:o.text?r.text=o.text:o.point?r.point=!0:r.rectangle=!0;return r}},function(C,F){var n=2147483648,l=1073741824,g=536870912;C.exports=function(u){var h=Boolean(u&n),o=Boolean(u&l),a=Boolean(u&g);u&=~(n|l|g);var d=0,r=!1;return h&&o&&a?(d=Math.PI/2,r=!0):h&&o&&!a?(d=Math.PI,r=!1):h&&!o&&a?(d=Math.PI/2,r=!1):!h||o||a?!h&&o&&a?(d=3*Math.PI/2,r=!1):h||!o||a?h||o||!a?!h&&!o&&!a&&(d=0,r=!1):(d=3*Math.PI/2,r=!0):(d=Math.PI,r=!0):(d=0,r=!0),{gid:u,flippedHorizontal:h,flippedVertical:o,flippedAntiDiagonal:a,rotation:d,flipped:r}}},function(C,F,n){var l=n(38),g=n(120),f=n(560),u=n(576);C.exports=function(o,a,d,r,c,p,m,v){void 0===d&&(d=32),void 0===r&&(r=32),void 0===c&&(c=10),void 0===p&&(p=10),void 0===v&&(v=!1);var x=null;if(Array.isArray(m))x=f(void 0!==a?a:"map",l.ARRAY_2D,m,d,r,v);else if(void 0!==a){var E=o.cache.tilemap.get(a);E?x=f(a,E.format,E.data,d,r,v):console.warn("No map data found for key "+a)}return null===x&&(x=new g({tileWidth:d,tileHeight:r,width:c,height:p})),new u(o,x)}},function(C,F,n){var l=n(6);C.exports=function(f){var u=l(f,"targets",null);return null===u||("function"==typeof u&&(u=u.call()),Array.isArray(u)||(u=[u])),u}},function(C,F){function n(h){return!!h.getActive&&"function"==typeof h.getActive}function l(h){return!!h.getStart&&"function"==typeof h.getStart}function g(h){return!!h.getEnd&&"function"==typeof h.getEnd}var u=function(h,o){var a,d=function(P,R,w){return w},r=function(P,R,w){return w},c=null,p=typeof o;if("number"===p)d=function(){return o};else if("string"===p){var m=o[0],v=parseFloat(o.substr(2));switch(m){case"+":d=function(P,R,w){return w+v};break;case"-":d=function(P,R,w){return w-v};break;case"*":d=function(P,R,w){return w*v};break;case"/":d=function(P,R,w){return w/v};break;default:d=function(){return parseFloat(o)}}}else if("function"===p)d=o;else if("object"===p)if(function f(h){return l(h)||g(h)||n(h)}(o))n(o)&&(c=o.getActive),g(o)&&(d=o.getEnd),l(o)&&(r=o.getStart);else if(o.hasOwnProperty("value"))a=u(h,o.value);else{var x=o.hasOwnProperty("to"),T=o.hasOwnProperty("from"),E=o.hasOwnProperty("start");if(x&&(T||E)){if(a=u(h,o.to),E){var M=u(h,o.start);a.getActive=M.getEnd}if(T){var S=u(h,o.from);a.getStart=S.getEnd}}}return a||(a={getActive:c,getEnd:d,getStart:r}),a};C.exports=u},function(C,F){C.exports={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1}},function(C,F,n){var l=n(0),g=n(9),f=n(263),u=n(16),h=n(5),o=n(97),a=n(14),d=new l({Extends:g,initialize:function(c,p,m){g.call(this),this.parent=c,this.parentIsTimeline=c.hasOwnProperty("isTimeline"),this.data=p,this.totalData=p.length,this.targets=m,this.totalTargets=m.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=o.PENDING_ADD,this._pausedState=o.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null}},getValue:function(r){return void 0===r&&(r=0),this.data[r].current},setTimeScale:function(r){return this.timeScale=r,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===o.ACTIVE},isPaused:function(){return this.state===o.PAUSED},hasTarget:function(r){return-1!==this.targets.indexOf(r)},updateTo:function(r,c,p){void 0===p&&(p=!1);for(var m=0;m<this.totalData;m++){var v=this.data[m];v.key===r&&(v.end=c,p&&(v.start=v.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===o.ACTIVE?this.seek(0):this.state===o.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===o.PENDING_ADD?this:this.play()},calcDuration:function(){for(var r=0,c=a.MAX_SAFE_INTEGER,p=this.data,m=0;m<this.totalData;m++){var v=p[m];v.t1=v.duration+v.hold,v.yoyo&&(v.t1+=v.duration),v.t2=v.t1+v.repeatDelay,v.totalDuration=v.delay+v.t1,-1===v.repeat?v.totalDuration+=999999999999*v.t2:v.repeat>0&&(v.totalDuration+=v.t2*v.repeat),v.totalDuration>r&&(r=v.totalDuration),v.delay<c&&(c=v.delay)}this.duration=Math.max(r,.001),this.loopCounter=-1===this.loop?999999999999:this.loop,this.totalDuration=this.loopCounter>0?this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.duration+this.completeDelay,this.startDelay=c},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=o.PENDING_ADD,this._pausedState=o.INIT,!1;for(var r=this.data,c=this.totalTargets,p=0;p<this.totalData;p++){var m=r[p],v=m.target,x=m.gen,T=m.key,E=m.index;m.delay=x.delay(v,T,0,E,c,this),m.duration=Math.max(x.duration(v,T,0,E,c,this),.001),m.hold=x.hold(v,T,0,E,c,this),m.repeat=x.repeat(v,T,0,E,c,this),m.repeatDelay=x.repeatDelay(v,T,0,E,c,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=o.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(f.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=o.LOOP_DELAY):(this.state=o.ACTIVE,this.dispatchTweenEvent(f.TWEEN_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=o.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=o.PENDING_REMOVE,this.dispatchTweenEvent(f.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===o.PAUSED||(this.paused=!0,this._pausedState=this.state,this.state=o.PAUSED),this},play:function(r){void 0===r&&(r=!1);var c=this.state;return c!==o.INIT||this.parentIsTimeline?c===o.ACTIVE||c===o.PENDING_ADD&&this._pausedState===o.PENDING_ADD?this:this.parentIsTimeline||c!==o.PENDING_REMOVE&&c!==o.REMOVED?(this.parentIsTimeline?(this.resetTweenData(r),0===this.calculatedOffset?this.state=o.ACTIVE:(this.countdown=this.calculatedOffset,this.state=o.OFFSET_DELAY)):this.paused?(this.paused=!1,this.makeActive()):(this.resetTweenData(r),this.state=o.ACTIVE,this.makeActive()),this):(this.seek(0),this.parent.makeActive(this),this):(this.resetTweenData(!1),this.state=o.ACTIVE,this)},resetTweenData:function(r){for(var c=this.data,p=this.totalData,m=this.totalTargets,v=0;v<p;v++){var x=c[v],T=x.target,E=x.key,M=x.index;x.progress=0,x.elapsed=0,x.repeatCounter=-1===x.repeat?999999999999:x.repeat,r?(x.start=x.getStartValue(T,E,x.start,M,m,this),x.end=x.getEndValue(T,E,x.end,M,m,this),x.current=x.start,x.state=o.PLAYING_FORWARD):x.state=o.PENDING_RENDER,x.delay>0&&(x.elapsed=x.delay,x.state=o.DELAY),x.getActiveValue&&(T[E]=x.getActiveValue(x.target,x.key,x.start))}},resume:function(){return this.state===o.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(r,c){void 0===c&&(c=16.6),this.state===o.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var p=this.data,m=this.totalTargets,v=0;v<this.totalData;v++){var x=p[v],T=x.target,E=x.gen,M=x.key,S=x.index;x.progress=0,x.elapsed=0,x.repeatCounter=-1===x.repeat?999999999999:x.repeat,x.delay=E.delay(T,M,0,S,m,this),x.duration=Math.max(E.duration(T,M,0,S,m,this),.001),x.hold=E.hold(T,M,0,S,m,this),x.repeat=E.repeat(T,M,0,S,m,this),x.repeatDelay=E.repeatDelay(T,M,0,S,m,this),x.current=x.start,x.state=o.PLAYING_FORWARD,this.updateTweenData(this,x,0,S,m),x.delay>0&&(x.elapsed=x.delay,x.state=o.DELAY)}this.calcDuration();var P=!1;this.state===o.PAUSED&&(P=!0,this.state=o.ACTIVE),this.isSeeking=!0;do{this.update(0,c)}while(this.totalProgress<r);return this.isSeeking=!1,P&&(this.state=o.PAUSED),this},setCallback:function(r,c,p,m){return this.callbacks[r]={func:c,scope:m,params:p},this},complete:function(r){return void 0===r&&(r=0),r?(this.state=o.COMPLETE_DELAY,this.countdown=r):(this.state=o.PENDING_REMOVE,this.dispatchTweenEvent(f.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(r){return this.state===o.ACTIVE&&void 0!==r&&this.seek(r),this.state!==o.REMOVED&&((this.state===o.PAUSED||this.state===o.PENDING_ADD)&&(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.dispatchTweenEvent(f.TWEEN_STOP,this.callbacks.onStop),this.removeAllListeners(),this.state=o.PENDING_REMOVE),this},update:function(r,c){if(this.state===o.PAUSED)return!1;switch(this.useFrames&&(c=1*this.parent.timeScale),this.elapsed+=c*=this.timeScale,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=c,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case o.ACTIVE:!this.hasStarted&&!this.isSeeking&&(this.startDelay-=c,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(f.TWEEN_START,this.callbacks.onStart)));for(var p=!1,m=0;m<this.totalData;m++)this.updateTweenData(this,this.data[m],c)&&(p=!0);p||this.nextState();break;case o.LOOP_DELAY:this.countdown-=c,this.countdown<=0&&(this.state=o.ACTIVE,this.dispatchTweenEvent(f.TWEEN_LOOP,this.callbacks.onLoop));break;case o.OFFSET_DELAY:this.countdown-=c,this.countdown<=0&&(this.state=o.ACTIVE);break;case o.COMPLETE_DELAY:this.countdown-=c,this.countdown<=0&&(this.state=o.PENDING_REMOVE,this.dispatchTweenEvent(f.TWEEN_COMPLETE,this.callbacks.onComplete))}return this.state===o.PENDING_REMOVE},dispatchTweenDataEvent:function(r,c,p){this.isSeeking||(this.emit(r,this,p.key,p.target,p.current,p.previous),c&&(c.params[1]=p.target,c.func.apply(c.scope,c.params)))},dispatchTweenEvent:function(r,c){this.isSeeking||(this.emit(r,this,this.targets),c&&(c.params[1]=this.targets,c.func.apply(c.scope,c.params)))},setStateFromEnd:function(r,c,p){return c.yoyo?(c.elapsed=p,c.progress=p/c.duration,c.flipX&&c.target.toggleFlipX(),c.flipY&&c.target.toggleFlipY(),this.dispatchTweenDataEvent(f.TWEEN_YOYO,r.callbacks.onYoyo,c),c.start=c.getStartValue(c.target,c.key,c.start,c.index,r.totalTargets,r),o.PLAYING_BACKWARD):c.repeatCounter>0?(c.repeatCounter--,c.elapsed=p,c.progress=p/c.duration,c.flipX&&c.target.toggleFlipX(),c.flipY&&c.target.toggleFlipY(),c.start=c.getStartValue(c.target,c.key,c.start,c.index,r.totalTargets,r),c.end=c.getEndValue(c.target,c.key,c.start,c.index,r.totalTargets,r),c.repeatDelay>0?(c.elapsed=c.repeatDelay-p,c.current=c.start,c.target[c.key]=c.current,o.REPEAT_DELAY):(this.dispatchTweenDataEvent(f.TWEEN_REPEAT,r.callbacks.onRepeat,c),o.PLAYING_FORWARD)):o.COMPLETE},setStateFromStart:function(r,c,p){return c.repeatCounter>0?(c.repeatCounter--,c.elapsed=p,c.progress=p/c.duration,c.flipX&&c.target.toggleFlipX(),c.flipY&&c.target.toggleFlipY(),c.end=c.getEndValue(c.target,c.key,c.start,c.index,r.totalTargets,r),c.repeatDelay>0?(c.elapsed=c.repeatDelay-p,c.current=c.start,c.target[c.key]=c.current,o.REPEAT_DELAY):(this.dispatchTweenDataEvent(f.TWEEN_REPEAT,r.callbacks.onRepeat,c),o.PLAYING_FORWARD)):o.COMPLETE},updateTweenData:function(r,c,p){var m=c.target;switch(c.state){case o.PLAYING_FORWARD:case o.PLAYING_BACKWARD:if(!m){c.state=o.COMPLETE;break}var v=c.elapsed,x=c.duration,T=0;(v+=p)>x&&(T=v-x,v=x);var E=c.state===o.PLAYING_FORWARD,M=v/x;if(c.elapsed=v,c.progress=M,c.previous=c.current,1===M)E?(c.current=c.end,m[c.key]=c.end,c.hold>0?(c.elapsed=c.hold-T,c.state=o.HOLD_DELAY):c.state=this.setStateFromEnd(r,c,T)):(c.current=c.start,m[c.key]=c.start,c.state=this.setStateFromStart(r,c,T));else{var S=c.ease(E?M:1-M);c.current=c.start+(c.end-c.start)*S,m[c.key]=c.current}this.dispatchTweenDataEvent(f.TWEEN_UPDATE,r.callbacks.onUpdate,c);break;case o.DELAY:c.elapsed-=p,c.elapsed<=0&&(c.elapsed=Math.abs(c.elapsed),c.state=o.PENDING_RENDER);break;case o.REPEAT_DELAY:c.elapsed-=p,c.elapsed<=0&&(c.elapsed=Math.abs(c.elapsed),c.state=o.PLAYING_FORWARD,this.dispatchTweenDataEvent(f.TWEEN_REPEAT,r.callbacks.onRepeat,c));break;case o.HOLD_DELAY:c.elapsed-=p,c.elapsed<=0&&(c.state=this.setStateFromEnd(r,c,Math.abs(c.elapsed)));break;case o.PENDING_RENDER:m?(c.start=c.getStartValue(m,c.key,m[c.key],c.index,r.totalTargets,r),c.end=c.getEndValue(m,c.key,c.start,c.index,r.totalTargets,r),c.current=c.start,m[c.key]=c.start,c.state=o.PLAYING_FORWARD):c.state=o.COMPLETE}return c.state!==o.COMPLETE}});d.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onStop","onUpdate","onYoyo"],h.register("tween",function(r){return this.scene.sys.tweens.add(r)}),u.register("tween",function(r){return this.scene.sys.tweens.create(r)}),C.exports=d},function(C,F,n){C.exports={TIMELINE_COMPLETE:n(1459),TIMELINE_LOOP:n(1460),TIMELINE_PAUSE:n(1461),TIMELINE_RESUME:n(1462),TIMELINE_START:n(1463),TIMELINE_UPDATE:n(1464),TWEEN_ACTIVE:n(1465),TWEEN_COMPLETE:n(1466),TWEEN_LOOP:n(1467),TWEEN_REPEAT:n(1468),TWEEN_START:n(1469),TWEEN_STOP:n(1470),TWEEN_UPDATE:n(1471),TWEEN_YOYO:n(1472)}},function(C,F){C.exports=function(l,g,f,u,h,o,a,d,r,c,p,m,v,x,T){return{target:l,index:g,key:f,getActiveValue:o,getEndValue:u,getStartValue:h,ease:a,duration:0,totalDuration:0,delay:0,yoyo:c,hold:0,repeat:0,repeatDelay:0,flipX:x,flipY:T,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:d,duration:r,hold:p,repeat:m,repeatDelay:v},state:0}}},function(C,F,n){var l=n(66);C.exports=function(f){return l(f,-Math.PI,Math.PI)}},function(C,F,n){var l=n(66);C.exports=function(f){return l(f,-180,180)}},function(C,F,n){var l={};C.exports=l;var g=n(268);l._motionWakeThreshold=.18,l._motionSleepThreshold=.08,l._minBias=.9,l.update=function(f,u){for(var h=u*u*u,o=0;o<f.length;o++){var a=f[o],d=a.speed*a.speed+a.angularSpeed*a.angularSpeed;if(0===a.force.x&&0===a.force.y){var r=Math.min(a.motion,d),c=Math.max(a.motion,d);a.motion=l._minBias*r+(1-l._minBias)*c,a.sleepThreshold>0&&a.motion<l._motionSleepThreshold*h?(a.sleepCounter+=1,a.sleepCounter>=a.sleepThreshold&&l.set(a,!0)):a.sleepCounter>0&&(a.sleepCounter-=1)}else l.set(a,!1)}},l.afterCollisions=function(f,u){for(var h=u*u*u,o=0;o<f.length;o++){var a=f[o];if(a.isActive){var d=a.collision,r=d.bodyA.parent,c=d.bodyB.parent;if(!(r.isSleeping&&c.isSleeping||r.isStatic||c.isStatic)&&(r.isSleeping||c.isSleeping)){var p=r.isSleeping&&!r.isStatic?r:c;!p.isStatic&&(p===r?c:r).motion>l._motionWakeThreshold*h&&l.set(p,!1)}}}},l.set=function(f,u){var h=f.isSleeping;u?(f.isSleeping=!0,f.sleepCounter=f.sleepThreshold,f.positionImpulse.x=0,f.positionImpulse.y=0,f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.anglePrev=f.angle,f.speed=0,f.angularSpeed=0,f.motion=0,h||g.trigger(f,"sleepStart")):(f.isSleeping=!1,f.sleepCounter=0,h&&g.trigger(f,"sleepEnd"))}},function(C,F,n){var l={};C.exports=l;var g=n(50);l.on=function(f,u,h){for(var a,o=u.split(" "),d=0;d<o.length;d++)a=o[d],f.events=f.events||{},f.events[a]=f.events[a]||[],f.events[a].push(h);return h},l.off=function(f,u,h){if(u){"function"==typeof u&&(h=u,u=g.keys(f.events).join(" "));for(var o=u.split(" "),a=0;a<o.length;a++){var d=f.events[o[a]],r=[];if(h&&d)for(var c=0;c<d.length;c++)d[c]!==h&&r.push(d[c]);f.events[o[a]]=r}}else f.events={}},l.trigger=function(f,u,h){var o,a,d,r,c=f.events;if(c&&g.keys(c).length>0){h||(h={}),o=u.split(" ");for(var p=0;p<o.length;p++)if(d=c[a=o[p]]){(r=g.clone(h,!1)).name=a,r.source=f;for(var m=0;m<d.length;m++)d[m].apply(f,[r])}}}},function(C,F,n){C.exports={AlignTo:n(599),Angle:n(600),Call:n(601),GetFirst:n(602),GetLast:n(603),GridAlign:n(604),IncAlpha:n(654),IncX:n(655),IncXY:n(656),IncY:n(657),PlaceOnCircle:n(658),PlaceOnEllipse:n(659),PlaceOnLine:n(660),PlaceOnRectangle:n(661),PlaceOnTriangle:n(662),PlayAnimation:n(663),PropertyValueInc:n(44),PropertyValueSet:n(27),RandomCircle:n(664),RandomEllipse:n(665),RandomLine:n(666),RandomRectangle:n(667),RandomTriangle:n(668),Rotate:n(669),RotateAround:n(670),RotateAroundDistance:n(671),ScaleX:n(672),ScaleXY:n(673),ScaleY:n(674),SetAlpha:n(675),SetBlendMode:n(676),SetDepth:n(677),SetHitArea:n(678),SetOrigin:n(679),SetRotation:n(680),SetScale:n(681),SetScaleX:n(682),SetScaleY:n(683),SetScrollFactor:n(684),SetScrollFactorX:n(685),SetScrollFactorY:n(686),SetTint:n(687),SetVisible:n(688),SetX:n(689),SetXY:n(690),SetY:n(691),ShiftPosition:n(692),Shuffle:n(693),SmootherStep:n(694),SmoothStep:n(695),Spread:n(696),ToggleVisible:n(697),WrapInRectangle:n(698)}},function(C,F,n){var l=n(122),g=[];g[l.BOTTOM_CENTER]=n(271),g[l.BOTTOM_LEFT]=n(272),g[l.BOTTOM_RIGHT]=n(273),g[l.LEFT_BOTTOM]=n(274),g[l.LEFT_CENTER]=n(275),g[l.LEFT_TOP]=n(276),g[l.RIGHT_BOTTOM]=n(277),g[l.RIGHT_CENTER]=n(278),g[l.RIGHT_TOP]=n(279),g[l.TOP_CENTER]=n(280),g[l.TOP_LEFT]=n(281),g[l.TOP_RIGHT]=n(282),C.exports=function(u,h,o,a,d){return g[o](u,h,a,d)}},function(C,F,n){var l=n(40),g=n(84),f=n(85),u=n(51);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),f(o,g(a)+d),u(o,l(a)+r),o}},function(C,F,n){var l=n(40),g=n(41),f=n(52),u=n(51);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),f(o,g(a)-d),u(o,l(a)+r),o}},function(C,F,n){var l=n(40),g=n(42),f=n(53),u=n(51);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),f(o,g(a)+d),u(o,l(a)+r),o}},function(C,F,n){var l=n(40),g=n(41),f=n(54),u=n(53);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),u(o,g(a)-d),f(o,l(a)+r),o}},function(C,F,n){var l=n(86),g=n(41),f=n(87),u=n(53);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),u(o,g(a)-d),f(o,l(a)+r),o}},function(C,F,n){var l=n(41),g=n(43),f=n(53),u=n(51);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),f(o,l(a)-d),u(o,g(a)-r),o}},function(C,F,n){var l=n(40),g=n(42),f=n(54),u=n(52);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),u(o,g(a)+d),f(o,l(a)+r),o}},function(C,F,n){var l=n(86),g=n(42),f=n(87),u=n(52);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),u(o,g(a)+d),f(o,l(a)+r),o}},function(C,F,n){var l=n(42),g=n(43),f=n(52),u=n(51);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),f(o,l(a)+d),u(o,g(a)-r),o}},function(C,F,n){var l=n(84),g=n(43),f=n(54),u=n(85);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),u(o,l(a)+d),f(o,g(a)-r),o}},function(C,F,n){var l=n(41),g=n(43),f=n(54),u=n(52);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),u(o,l(a)-d),f(o,g(a)-r),o}},function(C,F,n){var l=n(42),g=n(43),f=n(54),u=n(53);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),u(o,l(a)+d),f(o,g(a)-r),o}},function(C,F,n){var l=n(122),g=[];g[l.BOTTOM_CENTER]=n(284),g[l.BOTTOM_LEFT]=n(285),g[l.BOTTOM_RIGHT]=n(286),g[l.CENTER]=n(287),g[l.LEFT_CENTER]=n(289),g[l.RIGHT_CENTER]=n(290),g[l.TOP_CENTER]=n(291),g[l.TOP_LEFT]=n(292),g[l.TOP_RIGHT]=n(293),g[l.LEFT_BOTTOM]=g[l.BOTTOM_LEFT],g[l.LEFT_TOP]=g[l.TOP_LEFT],g[l.RIGHT_BOTTOM]=g[l.BOTTOM_RIGHT],g[l.RIGHT_TOP]=g[l.TOP_RIGHT],C.exports=function(u,h,o,a,d){return g[o](u,h,a,d)}},function(C,F,n){var l=n(40),g=n(84),f=n(54),u=n(85);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),u(o,g(a)+d),f(o,l(a)+r),o}},function(C,F,n){var l=n(40),g=n(41),f=n(54),u=n(52);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),u(o,g(a)-d),f(o,l(a)+r),o}},function(C,F,n){var l=n(40),g=n(42),f=n(54),u=n(53);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),u(o,g(a)+d),f(o,l(a)+r),o}},function(C,F,n){var l=n(288),g=n(84),f=n(86);C.exports=function(h,o,a,d){return void 0===a&&(a=0),void 0===d&&(d=0),l(h,g(o)+a,f(o)+d),h}},function(C,F,n){var l=n(85),g=n(87);C.exports=function(u,h,o){return l(u,h),g(u,o)}},function(C,F,n){var l=n(86),g=n(41),f=n(87),u=n(52);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),u(o,g(a)-d),f(o,l(a)+r),o}},function(C,F,n){var l=n(86),g=n(42),f=n(87),u=n(53);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),u(o,g(a)+d),f(o,l(a)+r),o}},function(C,F,n){var l=n(84),g=n(43),f=n(85),u=n(51);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),f(o,l(a)+d),u(o,g(a)-r),o}},function(C,F,n){var l=n(41),g=n(43),f=n(52),u=n(51);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),f(o,l(a)-d),u(o,g(a)-r),o}},function(C,F,n){var l=n(42),g=n(43),f=n(53),u=n(51);C.exports=function(o,a,d,r){return void 0===d&&(d=0),void 0===r&&(r=0),f(o,l(a)+d),u(o,g(a)-r),o}},function(C,F,n){var l=n(165),g=n(95),f=n(14),u=n(4);C.exports=function(o,a,d){void 0===d&&(d=new u);var r=g(a,0,f.PI2);return l(o,r,d)}},function(C,F,n){var l=n(296),g=n(165),f=n(95),u=n(14);C.exports=function(o,a,d,r){void 0===r&&(r=[]),!a&&d>0&&(a=l(o)/d);for(var c=0;c<a;c++){var p=f(c/a,0,u.PI2);r.push(g(o,p))}return r}},function(C,F){C.exports=function(l){return Math.PI*l.radius*2}},function(C,F,n){var l=n(18);C.exports={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(u){return void 0===u&&(u=1),this.alpha=u,this},alpha:{get:function(){return this._alpha},set:function(u){var h=l(u,0,1);this._alpha=h,0===h?this.renderFlags&=-3:this.renderFlags|=2}}}},function(C,F,n){var l=n(33);C.exports={_blendMode:l.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(f){"string"==typeof f&&(f=l[f]),(f|=0)>=-1&&(this._blendMode=f)}},setBlendMode:function(f){return this.blendMode=f,this}}},function(C,F){C.exports={_depth:0,depth:{get:function(){return this._depth},set:function(l){this.displayList&&this.displayList.queueDepthSort(),this._depth=l}},setDepth:function(l){return void 0===l&&(l=0),this.depth=l,this}}},function(C,F,n){var l=n(167),g=n(128);C.exports=function(u,h,o,a){void 0===a&&(a=[]),!h&&o>0&&(h=g(u)/o);for(var d=0;d<h;d++)a.push(l(u,d/h));return a}},function(C,F,n){var l=n(4);C.exports=function(f,u,h){return void 0===h&&(h=new l),h.x=f.x1+(f.x2-f.x1)*u,h.y=f.y1+(f.y2-f.y1)*u,h}},function(C,F){C.exports=function(l,g,f,u){var h=Math.cos(u),o=Math.sin(u),a=l.x-g,d=l.y-f;return l.x=a*h-d*o+g,l.y=a*o+d*h+f,l}},function(C,F,n){var l=n(304),g=n(305);C.exports={mask:null,setMask:function(u){return this.mask=u,this},clearMask:function(u){return void 0===u&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(u){return void 0===u&&(this.texture||this.shader)&&(u=this),new l(this.scene,u)},createGeometryMask:function(u){return void 0===u&&"Graphics"===this.type&&(u=this),new g(this.scene,u)}}},function(C,F,n){var l=n(0),g=n(22),f=n(88),u=new l({initialize:function(o,a){var d=o.sys.renderer;this.renderer=d,this.bitmapMask=a,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1,this.createMask(),o.sys.game.events.on(g.CONTEXT_RESTORED,this.createMask,this),d.on(f.RESIZE,this.createMask,this)},createMask:function(){var h=this.renderer;if(h.gl){this.mainTexture&&this.clearMask();var o=h.width,a=h.height,r=h.gl,c=0==(o&o-1)&&0==(a&a-1)?r.REPEAT:r.CLAMP_TO_EDGE,p=r.LINEAR;this.mainTexture=h.createTexture2D(0,p,p,c,c,r.RGBA,null,o,a),this.maskTexture=h.createTexture2D(0,p,p,c,c,r.RGBA,null,o,a),this.mainFramebuffer=h.createFramebuffer(o,a,this.mainTexture,!0),this.maskFramebuffer=h.createFramebuffer(o,a,this.maskTexture,!0)}},clearMask:function(){var h=this.renderer;!h.gl||!this.mainTexture||(h.deleteTexture(this.mainTexture),h.deleteTexture(this.maskTexture),h.deleteFramebuffer(this.mainFramebuffer),h.deleteFramebuffer(this.maskFramebuffer),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null)},setBitmap:function(h){this.bitmapMask=h},preRenderWebGL:function(h,o,a){h.pipelines.BITMAPMASK_PIPELINE.beginMask(this,o,a)},postRenderWebGL:function(h,o){h.pipelines.BITMAPMASK_PIPELINE.endMask(this,o)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.clearMask(),this.renderer.off(f.RESIZE,this.createMask,this),this.bitmapMask=null,this.prevFramebuffer=null,this.renderer=null}});C.exports=u},function(C,F,n){var g=new(n(0))({initialize:function(u,h){this.geometryMask=h,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(f){return this.geometryMask=f,this},setInvertAlpha:function(f){return void 0===f&&(f=!0),this.invertAlpha=f,this},preRenderWebGL:function(f,u,h){var o=f.gl;f.flush(),0===f.maskStack.length&&(o.enable(o.STENCIL_TEST),o.clear(o.STENCIL_BUFFER_BIT),f.maskCount=0),f.currentCameraMask.mask!==this&&(f.currentMask.mask=this),f.maskStack.push({mask:this,camera:h}),this.applyStencil(f,h,!0),f.maskCount++},applyStencil:function(f,u,h){var o=f.gl,a=this.geometryMask,d=f.maskCount;o.colorMask(!1,!1,!1,!1),h?(o.stencilFunc(o.EQUAL,d,255),o.stencilOp(o.KEEP,o.KEEP,o.INCR)):(o.stencilFunc(o.EQUAL,d+1,255),o.stencilOp(o.KEEP,o.KEEP,o.DECR)),a.renderWebGL(f,a,u),f.flush(),o.colorMask(!0,!0,!0,!0),o.stencilOp(o.KEEP,o.KEEP,o.KEEP),o.stencilFunc(this.invertAlpha?o.NOTEQUAL:o.EQUAL,h?d+1:d,255)},postRenderWebGL:function(f){var u=f.gl;f.maskStack.pop(),f.maskCount--,f.flush();var h=f.currentMask;if(0===f.maskStack.length)h.mask=null,u.disable(u.STENCIL_TEST);else{var o=f.maskStack[f.maskStack.length-1];o.mask.applyStencil(f,o.camera,!1),f.currentCameraMask.mask!==o.mask?(h.mask=o.mask,h.camera=o.camera):h.mask=null}},preRenderCanvas:function(f,u,h){var o=this.geometryMask;f.currentContext.save(),o.renderCanvas(f,o,h,null,null,!0),f.currentContext.clip()},postRenderCanvas:function(f){f.currentContext.restore()},destroy:function(){this.geometryMask=null}});C.exports=g},function(C,F){C.exports={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(l,g){return void 0===g&&(g=l),this.scrollFactorX=l,this.scrollFactorY=g,this}}},function(C,F,n){var l=n(14),g=n(25),f=n(174),u=n(265),h=n(266),o=n(3);C.exports={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(r){this._scaleX=r,this._scaleY=r,0===r?this.renderFlags&=-5:this.renderFlags|=4}},scaleX:{get:function(){return this._scaleX},set:function(r){this._scaleX=r,0===r?this.renderFlags&=-5:this.renderFlags|=4}},scaleY:{get:function(){return this._scaleY},set:function(r){this._scaleY=r,0===r?this.renderFlags&=-5:this.renderFlags|=4}},angle:{get:function(){return h(this._rotation*l.RAD_TO_DEG)},set:function(r){this.rotation=h(r)*l.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(r){this._rotation=u(r)}},setPosition:function(r,c,p,m){return void 0===r&&(r=0),void 0===c&&(c=r),void 0===p&&(p=0),void 0===m&&(m=0),this.x=r,this.y=c,this.z=p,this.w=m,this},copyPosition:function(r){return void 0!==r.x&&(this.x=r.x),void 0!==r.y&&(this.y=r.y),void 0!==r.z&&(this.z=r.z),void 0!==r.w&&(this.w=r.w),this},setRandomPosition:function(r,c,p,m){return void 0===r&&(r=0),void 0===c&&(c=0),void 0===p&&(p=this.scene.sys.scale.width),void 0===m&&(m=this.scene.sys.scale.height),this.x=r+Math.random()*p,this.y=c+Math.random()*m,this},setRotation:function(r){return void 0===r&&(r=0),this.rotation=r,this},setAngle:function(r){return void 0===r&&(r=0),this.angle=r,this},setScale:function(r,c){return void 0===r&&(r=1),void 0===c&&(c=r),this.scaleX=r,this.scaleY=c,this},setX:function(r){return void 0===r&&(r=0),this.x=r,this},setY:function(r){return void 0===r&&(r=0),this.y=r,this},setZ:function(r){return void 0===r&&(r=0),this.z=r,this},setW:function(r){return void 0===r&&(r=0),this.w=r,this},getLocalTransformMatrix:function(r){return void 0===r&&(r=new g),r.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(r,c){void 0===r&&(r=new g),void 0===c&&(c=new g);var p=this.parentContainer;if(!p)return this.getLocalTransformMatrix(r);for(r.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);p;)c.applyITRS(p.x,p.y,p._rotation,p._scaleX,p._scaleY),c.multiply(r,r),p=p.parentContainer;return r},getLocalPoint:function(r,c,p,m){p||(p=new o),m||(m=this.scene.sys.cameras.main);var v=m.scrollX,x=m.scrollY,T=r+v*this.scrollFactorX-v,E=c+x*this.scrollFactorY-x;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(T,E,p):f(T,E,this.x,this.y,this.rotation,this.scaleX,this.scaleY,p),this._originComponent&&(p.x+=this._displayOriginX,p.y+=this._displayOriginY),p},getParentRotation:function(){for(var r=0,c=this.parentContainer;c;)r+=c.rotation,c=c.parentContainer;return r}}},function(C,F){C.exports={_visible:!0,visible:{get:function(){return this._visible},set:function(g){g?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(g){return this.visible=g,this}}},function(C,F,n){C.exports={CHANGE_DATA:n(636),CHANGE_DATA_KEY:n(637),DESTROY:n(638),REMOVE_DATA:n(639),SET_DATA:n(640)}},function(C,F,n){var l=n(128),g=n(4);C.exports=function(u,h,o,a){if(void 0===a&&(a=[]),!h&&!o)return a;h?o=Math.round(l(u)/h):h=l(u)/o;for(var d=u.x,r=u.y,c=0,p=0;p<o;p++)switch(a.push(new g(d,r)),c){case 0:(d+=h)>=u.right&&(c=1,r+=d-u.right,d=u.right);break;case 1:(r+=h)>=u.bottom&&(c=2,d-=r-u.bottom,r=u.bottom);break;case 2:(d-=h)<=u.left&&(c=3,r-=u.left-d,d=u.left);break;case 3:(r-=h)<=u.top&&(c=0,r=u.top)}return a}},function(C,F){C.exports=function(l,g,f){void 0===g&&(g=1),void 0===f&&(f=[]);var u=Math.round(l.x1),h=Math.round(l.y1),o=Math.round(l.x2),a=Math.round(l.y2),d=Math.abs(o-u),r=Math.abs(a-h),c=u<o?1:-1,p=h<a?1:-1,m=d-r;f.push({x:u,y:h});for(var v=1;u!==o||h!==a;){var x=m<<1;x>-r&&(m-=r,u+=c),x<d&&(m+=d,h+=p),v%g==0&&f.push({x:u,y:h}),v++}return f}},function(C,F){C.exports=function(l,g,f){if(!g.length)return NaN;if(1===g.length)return g[0];var h,o,u=1;if(f){if(l<g[0][f])return g[0];for(;g[u][f]<l;)u++}else for(;g[u]<l;)u++;return u>g.length&&(u=g.length),f?(o=g[u][f])-l<=l-(h=g[u-1][f])?g[u]:g[u-1]:(o=g[u])-l<=l-(h=g[u-1])?o:h}},function(C,F,n){var g=new(n(0))({initialize:function(u,h,o,a,d){void 0===d&&(d=!1),this.textureKey=u,this.textureFrame=h,this.index=o,this.frame=a,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=d},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});C.exports=g},function(C,F){C.exports=function(l){var g=/\D/g;return l.sort(function(f,u){return parseInt(f.replace(g,""),10)-parseInt(u.replace(g,""),10)}),l}},function(C,F,n){var l=n(182),g=n(0),f=n(99),u=n(9),h=n(130),o=n(22),a=n(2),d=n(6),r=n(183),c=n(316),p=new g({Extends:u,initialize:function(v){u.call(this),this.game=v,this.textureManager=null,this.globalTimeScale=1,this.anims=new f,this.mixes=new f,this.paused=!1,this.name="AnimationManager",v.events.once(o.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(o.DESTROY,this.destroy,this)},addMix:function(m,v,x){var T=this.anims,E=this.mixes,M="string"==typeof m?m:m.key,S="string"==typeof v?v:v.key;if(T.has(M)&&T.has(S)){var P=E.get(M);P||(P={}),P[S]=x,E.set(M,P)}return this},removeMix:function(m,v){var x=this.mixes,T="string"==typeof m?m:m.key,E=x.get(T);if(E)if(v){var M="string"==typeof v?v:v.key;E.hasOwnProperty(M)&&delete E[M]}else v||x.delete(T);return this},getMix:function(m,v){var E="string"==typeof v?v:v.key,M=this.mixes.get("string"==typeof m?m:m.key);return M&&M.hasOwnProperty(E)?M[E]:0},add:function(m,v){return this.anims.has(m)?(console.warn("Animation key exists: "+m),this):(v.key=m,this.anims.set(m,v),this.emit(h.ADD_ANIMATION,m,v),this)},exists:function(m){return this.anims.has(m)},createFromAseprite:function(m,v){var x=[],T=this.game.cache.json.get(m);if(!T)return x;var E=this,M=d(T,"meta",null),S=d(T,"frames",null);return M&&S&&d(M,"frameTags",[]).forEach(function(R){var w=[],L=a(R,"name",null),I=a(R,"from",0),B=a(R,"to",0),G=a(R,"direction","forward");if(L&&(!v||v&&v.indexOf(L)>-1)){for(var H=[],Y=Number.MAX_SAFE_INTEGER,$=I;$<=B;$++){var J=$.toString(),_=S[J];if(_){var tt=a(_,"duration",Number.MAX_SAFE_INTEGER);tt<Y&&(Y=tt),H.push({frame:J,duration:tt})}}H.forEach(function(W){w.push({key:m,frame:W.frame,duration:Y-W.duration})});var U=Y*w.length;"reverse"===G&&(w=w.reverse());var X=E.create({key:L,frames:w,duration:U,yoyo:"pingpong"===G});X&&x.push(X)}}),x},create:function(m){var v=m.key,x=!1;return v&&((x=this.get(v))||(x=new l(this,v,m),this.anims.set(v,x),this.emit(h.ADD_ANIMATION,v,x))),x},fromJSON:function(m,v){void 0===v&&(v=!1),v&&this.anims.clear(),"string"==typeof m&&(m=JSON.parse(m));var x=[];if(m.hasOwnProperty("anims")&&Array.isArray(m.anims)){for(var T=0;T<m.anims.length;T++)x.push(this.create(m.anims[T]));m.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=m.globalTimeScale)}else m.hasOwnProperty("key")&&"frame"===m.type&&x.push(this.create(m));return x},generateFrameNames:function(m,v){var L,x=d(v,"prefix",""),T=d(v,"start",0),E=d(v,"end",0),M=d(v,"suffix",""),S=d(v,"zeroPad",0),P=d(v,"outputArray",[]),R=d(v,"frames",!1),w=this.textureManager.get(m);if(!w)return P;if(v)for(R||(R=c(T,E)),L=0;L<R.length;L++){var I=x+r(R[L],S,"0",1)+M;w.has(I)?P.push({key:m,frame:I}):console.warn("generateFrameNames: Frame missing: "+I+" from texture: "+m)}else for(R=w.getFrameNames(),L=0;L<R.length;L++)P.push({key:m,frame:R[L]});return P},generateFrameNumbers:function(m,v){var x=d(v,"start",0),T=d(v,"end",-1),E=d(v,"first",!1),M=d(v,"outputArray",[]),S=d(v,"frames",!1),P=this.textureManager.get(m);if(!P)return M;E&&P.has(E)&&M.push({key:m,frame:E}),S||(-1===T&&(T=P.frameTotal-2),S=c(x,T));for(var R=0;R<S.length;R++)P.has(S[R])?M.push({key:m,frame:S[R]}):console.warn("generateFrameNumbers: Frame "+R+" missing from texture: "+m);return M},get:function(m){return this.anims.get(m)},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(h.PAUSE_ALL)),this},play:function(m,v){Array.isArray(v)||(v=[v]);for(var x=0;x<v.length;x++)v[x].anims.play(m);return this},staggerPlay:function(m,v,x,T){void 0===x&&(x=0),void 0===T&&(T=!0),Array.isArray(v)||(v=[v]);var E=v.length;T||E--;for(var M=0;M<v.length;M++){var S=x<0?Math.abs(x)*(E-M):x*M;v[M].anims.playAfterDelay(m,S)}return this},remove:function(m){var v=this.get(m);return v&&(this.emit(h.REMOVE_ANIMATION,m,v),this.anims.delete(m),this.removeMix(m)),v},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(h.RESUME_ALL)),this},toJSON:function(m){var v={anims:[],globalTimeScale:this.globalTimeScale};return void 0!==m&&""!==m?v.anims.push(this.anims.get(m).toJSON()):this.anims.each(function(x,T){v.anims.push(T.toJSON())}),v},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});C.exports=p},function(C,F){C.exports=function(l,g,f,u){var o,h=[],a=!1;if((f||u)&&(a=!0,f||(f=""),u||(u="")),g<l)for(o=l;o>=g;o--)h.push(a?f+o.toString()+u:o);else for(o=l;o<=g;o++)h.push(a?f+o.toString()+u:o);return h}},function(C,F,n){var l=n(0),g=n(99),f=n(9),u=n(318),h=new l({initialize:function(){this.entries=new g,this.events=new f},add:function(o,a){return this.entries.set(o,a),this.events.emit(u.ADD,this,o,a),this},has:function(o){return this.entries.has(o)},exists:function(o){return this.entries.has(o)},get:function(o){return this.entries.get(o)},remove:function(o){var a=this.get(o);return a&&(this.entries.delete(o),this.events.emit(u.REMOVE,this,o,a.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});C.exports=h},function(C,F,n){C.exports={ADD:n(712),REMOVE:n(713)}},function(C,F,n){var l=n(317),g=n(0),f=n(22),u=new g({initialize:function(o){this.game=o,this.binary=new l,this.bitmapFont=new l,this.json=new l,this.physics=new l,this.shader=new l,this.audio=new l,this.video=new l,this.text=new l,this.html=new l,this.obj=new l,this.tilemap=new l,this.xml=new l,this.custom={},this.game.events.once(f.DESTROY,this.destroy,this)},addCustom:function(h){return this.custom.hasOwnProperty(h)||(this.custom[h]=new l),this.custom[h]},destroy:function(){for(var h=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],o=0;o<h.length;o++)this[h[o]].destroy(),this[h[o]]=null;for(var a in this.custom)this.custom[a].destroy();this.custom=null,this.game=null}});C.exports=u},function(C,F,n){var l=n(131),g=n(187),f=n(18),u=n(0),h=n(11),o=n(327),a=n(35),d=n(133),r=n(10),c=n(3),p=new u({Extends:l,Mixins:[h.Flip,h.Tint,h.Pipeline],initialize:function(v,x,T,E){l.call(this,v,x,T,E),this.postPipelines=[],this.pipelineData={},this.inputEnabled=!0,this.fadeEffect=new o.Fade(this),this.flashEffect=new o.Flash(this),this.shakeEffect=new o.Shake(this),this.panEffect=new o.Pan(this),this.rotateToEffect=new o.RotateTo(this),this.zoomEffect=new o.Zoom(this),this.lerp=new c(1,1),this.followOffset=new c,this.deadzone=null,this._follow=null},setDeadzone:function(m,v){if(void 0===m)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=m,this.deadzone.height=v):this.deadzone=new r(0,0,m,v),this._follow){var x=this.width/2,T=this.height/2,E=this._follow.x-this.followOffset.x,M=this._follow.y-this.followOffset.y;this.midPoint.set(E,M),this.scrollX=E-x,this.scrollY=M-T}g(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(m,v,x,T,E,M){return this.fadeEffect.start(!1,m,v,x,T,!0,E,M)},fadeOut:function(m,v,x,T,E,M){return this.fadeEffect.start(!0,m,v,x,T,!0,E,M)},fadeFrom:function(m,v,x,T,E,M,S){return this.fadeEffect.start(!1,m,v,x,T,E,M,S)},fade:function(m,v,x,T,E,M,S){return this.fadeEffect.start(!0,m,v,x,T,E,M,S)},flash:function(m,v,x,T,E,M,S){return this.flashEffect.start(m,v,x,T,E,M,S)},shake:function(m,v,x,T,E){return this.shakeEffect.start(m,v,x,T,E)},pan:function(m,v,x,T,E,M,S){return this.panEffect.start(m,v,x,T,E,M,S)},rotateTo:function(m,v,x,T,E,M,S){return this.rotateToEffect.start(m,v,x,T,E,M,S)},zoomTo:function(m,v,x,T,E,M){return this.zoomEffect.start(m,v,x,T,E,M)},preRender:function(){var m=this.width,v=this.height,x=.5*m,T=.5*v,E=this.zoom,M=this.matrix,S=m*this.originX,P=v*this.originY,R=this._follow,w=this.deadzone,L=this.scrollX,I=this.scrollY;w&&g(w,this.midPoint.x,this.midPoint.y);var B=!1;if(R&&!this.panEffect.isRunning){var G=R.x-this.followOffset.x,H=R.y-this.followOffset.y;w?(G<w.x?L=d(L,L-(w.x-G),this.lerp.x):G>w.right&&(L=d(L,L+(G-w.right),this.lerp.x)),H<w.y?I=d(I,I-(w.y-H),this.lerp.y):H>w.bottom&&(I=d(I,I+(H-w.bottom),this.lerp.y))):(L=d(L,G-S,this.lerp.x),I=d(I,H-P,this.lerp.y)),B=!0}this.useBounds&&(L=this.clampX(L),I=this.clampY(I)),this.roundPixels&&(S=Math.round(S),P=Math.round(P),L=Math.round(L),I=Math.round(I)),this.scrollX=L,this.scrollY=I;var Y=L+x,$=I+T;this.midPoint.set(Y,$);var J=m/E,_=v/E,tt=Y-J/2,U=$-_/2;this.roundPixels&&(tt=Math.round(tt),U=Math.round(U)),this.worldView.setTo(tt,U,J,_),M.applyITRS(this.x+S,this.y+P,this.rotation,E,E),M.translate(-S,-P),this.shakeEffect.preRender(),B&&this.emit(a.FOLLOW_UPDATE,this,R)},setLerp:function(m,v){return void 0===m&&(m=1),void 0===v&&(v=m),this.lerp.set(m,v),this},setFollowOffset:function(m,v){return void 0===m&&(m=0),void 0===v&&(v=0),this.followOffset.set(m,v),this},startFollow:function(m,v,x,T,E,M){void 0===v&&(v=!1),void 0===x&&(x=1),void 0===T&&(T=x),void 0===E&&(E=0),void 0===M&&(M=E),this._follow=m,this.roundPixels=v,x=f(x,0,1),T=f(T,0,1),this.lerp.set(x,T),this.followOffset.set(E,M);var S=this.width/2,P=this.height/2,R=m.x-E,w=m.y-M;return this.midPoint.set(R,w),this.scrollX=R-S,this.scrollY=w-P,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(m,v){this.visible&&(this.rotateToEffect.update(m,v),this.panEffect.update(m,v),this.zoomEffect.update(m,v),this.shakeEffect.update(m,v),this.flashEffect.update(m,v),this.fadeEffect.update(m,v))},destroy:function(){this.resetFX(),l.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});C.exports=p},function(C,F,n){var l=n(36);C.exports=function(f){var u=new l;f=f.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(r,c,p,m){return c+c+p+p+m+m});var h=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(f);if(h){var o=parseInt(h[1],16),a=parseInt(h[2],16),d=parseInt(h[3],16);u.setTo(o,a,d)}return u}},function(C,F){C.exports=function(l,g,f,u){return u<<24|l<<16|g<<8|f}},function(C,F){C.exports=function(l,g,f,u){void 0===u&&(u={h:0,s:0,v:0}),l/=255,g/=255,f/=255;var h=Math.min(l,g,f),o=Math.max(l,g,f),a=o-h,d=0,r=0===o?0:a/o,c=o;return o!==h&&(o===l?d=(g-f)/a+(g<f?6:0):o===g?d=(f-l)/a+2:o===f&&(d=(l-g)/a+4),d/=6),u.hasOwnProperty("_h")?(u._h=d,u._s=r,u._v=c):(u.h=d,u.s=r,u.v=c),u}},function(C,F){C.exports=function(l){return l>16777215?{a:l>>>24,r:l>>16&255,g:l>>8&255,b:255&l}:{a:255,r:l>>16&255,g:l>>8&255,b:255&l}}},function(C,F,n){var l=n(36);C.exports=function(f){return new l(f.r,f.g,f.b,f.a)}},function(C,F,n){var l=n(36);C.exports=function(f){var u=new l,h=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(f.toLowerCase());if(h){var o=parseInt(h[1],10),a=parseInt(h[2],10),d=parseInt(h[3],10),r=void 0!==h[4]?parseFloat(h[4]):1;u.setTo(o,a,d,255*r)}return u}},function(C,F,n){C.exports={Fade:n(737),Flash:n(738),Pan:n(739),Shake:n(772),RotateTo:n(773),Zoom:n(774)}},function(C,F,n){C.exports={In:n(740),Out:n(741),InOut:n(742)}},function(C,F,n){C.exports={In:n(743),Out:n(744),InOut:n(745)}},function(C,F,n){C.exports={In:n(746),Out:n(747),InOut:n(748)}},function(C,F,n){C.exports={In:n(749),Out:n(750),InOut:n(751)}},function(C,F,n){C.exports={In:n(752),Out:n(753),InOut:n(754)}},function(C,F,n){C.exports={In:n(755),Out:n(756),InOut:n(757)}},function(C,F,n){C.exports=n(758)},function(C,F,n){C.exports={In:n(759),Out:n(760),InOut:n(761)}},function(C,F,n){C.exports={In:n(762),Out:n(763),InOut:n(764)}},function(C,F,n){C.exports={In:n(765),Out:n(766),InOut:n(767)}},function(C,F,n){C.exports={In:n(768),Out:n(769),InOut:n(770)}},function(C,F,n){C.exports=n(771)},function(C,F,n){var l=n(0),g=n(39),f=n(341),u=n(2),h=n(6),o=n(7),a=n(190),d=n(1),r=n(194),c=n(184),p=new l({initialize:function(v){void 0===v&&(v={});this.width=h(v,"width",1024),this.height=h(v,"height",768),this.zoom=h(v,"zoom",1),this.parent=h(v,"parent",void 0),this.scaleMode=h(v,"scaleMode",0),this.expandParent=h(v,"expandParent",!0),this.autoRound=h(v,"autoRound",!1),this.autoCenter=h(v,"autoCenter",0),this.resizeInterval=h(v,"resizeInterval",500),this.fullscreenTarget=h(v,"fullscreenTarget",null),this.minWidth=h(v,"minWidth",0),this.maxWidth=h(v,"maxWidth",0),this.minHeight=h(v,"minHeight",0),this.maxHeight=h(v,"maxHeight",0);var E=h(v,"scale",null);E&&(this.width=h(E,"width",this.width),this.height=h(E,"height",this.height),this.zoom=h(E,"zoom",this.zoom),this.parent=h(E,"parent",this.parent),this.scaleMode=h(E,"mode",this.scaleMode),this.expandParent=h(E,"expandParent",this.expandParent),this.autoRound=h(E,"autoRound",this.autoRound),this.autoCenter=h(E,"autoCenter",this.autoCenter),this.resizeInterval=h(E,"resizeInterval",this.resizeInterval),this.fullscreenTarget=h(E,"fullscreenTarget",this.fullscreenTarget),this.minWidth=h(E,"min.width",this.minWidth),this.maxWidth=h(E,"max.width",this.maxWidth),this.minHeight=h(E,"min.height",this.minHeight),this.maxHeight=h(E,"max.height",this.maxHeight)),this.renderType=h(v,"type",g.AUTO),this.canvas=h(v,"canvas",null),this.context=h(v,"context",null),this.canvasStyle=h(v,"canvasStyle",null),this.customEnvironment=h(v,"customEnvironment",!1),this.sceneConfig=h(v,"scene",null),this.seed=h(v,"seed",[(Date.now()*Math.random()).toString()]),a.RND=new a.RandomDataGenerator(this.seed),this.gameTitle=h(v,"title",""),this.gameURL=h(v,"url","https://phaser.io"),this.gameVersion=h(v,"version",""),this.autoFocus=h(v,"autoFocus",!0),this.domCreateContainer=h(v,"dom.createContainer",!1),this.domBehindCanvas=h(v,"dom.behindCanvas",!1),this.inputKeyboard=h(v,"input.keyboard",!0),this.inputKeyboardEventTarget=h(v,"input.keyboard.target",window),this.inputKeyboardCapture=h(v,"input.keyboard.capture",[]),this.inputMouse=h(v,"input.mouse",!0),this.inputMouseEventTarget=h(v,"input.mouse.target",null),this.inputMousePreventDefaultDown=h(v,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=h(v,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=h(v,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=h(v,"input.mouse.preventDefaultWheel",!0),this.inputTouch=h(v,"input.touch",f.input.touch),this.inputTouchEventTarget=h(v,"input.touch.target",null),this.inputTouchCapture=h(v,"input.touch.capture",!0),this.inputActivePointers=h(v,"input.activePointers",1),this.inputSmoothFactor=h(v,"input.smoothFactor",0),this.inputWindowEvents=h(v,"input.windowEvents",!0),this.inputGamepad=h(v,"input.gamepad",!1),this.inputGamepadEventTarget=h(v,"input.gamepad.target",window),this.disableContextMenu=h(v,"disableContextMenu",!1),this.audio=h(v,"audio",{}),this.hideBanner=!1===h(v,"banner",null),this.hidePhaser=h(v,"banner.hidePhaser",!1),this.bannerTextColor=h(v,"banner.text","#ffffff"),this.bannerBackgroundColor=h(v,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]),""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0),this.fps=h(v,"fps",null);var M=h(v,"render",v);this.pipeline=h(M,"pipeline",null),this.antialias=h(M,"antialias",!0),this.antialiasGL=h(M,"antialiasGL",!0),this.mipmapFilter=h(M,"mipmapFilter","LINEAR"),this.desynchronized=h(M,"desynchronized",!1),this.roundPixels=h(M,"roundPixels",!1),this.pixelArt=h(M,"pixelArt",1!==this.zoom),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=h(M,"transparent",!1),this.clearBeforeRender=h(M,"clearBeforeRender",!0),this.premultipliedAlpha=h(M,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=h(M,"failIfMajorPerformanceCaveat",!1),this.powerPreference=h(M,"powerPreference","default"),this.batchSize=h(M,"batchSize",4096),this.maxTextures=h(M,"maxTextures",-1),this.maxLights=h(M,"maxLights",10);var S=h(v,"backgroundColor",0);this.backgroundColor=c(S),this.transparent&&(this.backgroundColor=c(0),this.backgroundColor.alpha=0),this.preBoot=h(v,"callbacks.preBoot",d),this.postBoot=h(v,"callbacks.postBoot",d),this.physics=h(v,"physics",{}),this.defaultPhysicsSystem=h(this.physics,"default",!1),this.loaderBaseURL=h(v,"loader.baseURL",""),this.loaderPath=h(v,"loader.path",""),this.loaderMaxParallelDownloads=h(v,"loader.maxParallelDownloads",f.os.android?6:32),this.loaderCrossOrigin=h(v,"loader.crossOrigin",void 0),this.loaderResponseType=h(v,"loader.responseType",""),this.loaderAsync=h(v,"loader.async",!0),this.loaderUser=h(v,"loader.user",""),this.loaderPassword=h(v,"loader.password",""),this.loaderTimeout=h(v,"loader.timeout",0),this.loaderWithCredentials=h(v,"loader.withCredentials",!1),this.installGlobalPlugins=[],this.installScenePlugins=[];var R=h(v,"plugins",null),w=r.DefaultScene;R&&(Array.isArray(R)?this.defaultPlugins=R:o(R)&&(this.installGlobalPlugins=u(R,"global",[]),this.installScenePlugins=u(R,"scene",[]),Array.isArray(R.default)?w=R.default:Array.isArray(R.defaultMerge)&&(w=w.concat(R.defaultMerge)))),this.defaultPlugins=w;var L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=h(v,"images.default",L+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=h(v,"images.missing",L+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=h(v,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=g.WEBGL:window.FORCE_CANVAS&&(this.renderType=g.CANVAS))}});C.exports=p},function(C,F,n){C.exports={os:n(102),browser:n(134),features:n(188),input:n(805),audio:n(806),video:n(807),fullscreen:n(808),canvasFeatures:n(342)}},function(C,F,n){var l=n(31),g={supportInverseAlpha:!1,supportNewBlendModes:!1};C.exports=function h(){return void 0!==document&&(g.supportNewBlendModes=function f(){var o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",a="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",d=new Image;return d.onload=function(){var r=new Image;r.onload=function(){var p=l.create(r,6,1).getContext("2d");if(p.globalCompositeOperation="multiply",p.drawImage(d,0,0),p.drawImage(r,2,0),!p.getImageData(2,0,1,1))return!1;var m=p.getImageData(2,0,1,1).data;l.remove(r),g.supportNewBlendModes=255===m[0]&&0===m[1]&&0===m[2]},r.src=o+"/wCKxvRF"+a},d.src=o+"AP804Oa6"+a,!1}(),g.supportInverseAlpha=function u(){var a=l.create(this,2,1).getContext("2d");a.fillStyle="rgba(10, 20, 30, 0.5)",a.fillRect(0,0,1,1);var d=a.getImageData(0,0,1,1);if(null===d)return!1;a.putImageData(d,1,0);var r=a.getImageData(1,0,1,1);return r.data[0]===d.data[0]&&r.data[1]===d.data[1]&&r.data[2]===d.data[2]&&r.data[3]===d.data[3]}()),g}()},function(C,F){C.exports=function(l,g,f,u){return Math.atan2(u-g,f-l)}},function(C,F){C.exports=function(l,g){return Math.atan2(g.y-l.y,g.x-l.x)}},function(C,F){C.exports=function(l){return(l%=2*Math.PI)>=0?l:l+2*Math.PI}},function(C,F){C.exports=function(l,g){var f=l.x-g.x,u=l.y-g.y;return Math.sqrt(f*f+u*u)}},function(C,F){C.exports=function(l,g,f,u){var h=l-f,o=g-u;return h*h+o*o}},function(C,F){C.exports=function(l,g,f){return void 0===f&&(f=1e-4),l>g-f}},function(C,F){C.exports=function(l,g,f){return void 0===f&&(f=1e-4),l<g+f}},function(C,F,n){var l=n(351);C.exports=function(f,u){return l(f)/l(u)/l(f-u)}},function(C,F){C.exports=function(l){if(0===l)return 1;for(var g=l;--l;)g*=l;return g}},function(C,F){C.exports=function(h,o,a,d,r){return function n(h,o){var a=1-h;return a*a*a*o}(h,o)+function l(h,o){var a=1-h;return 3*a*a*h*o}(h,a)+function g(h,o){return 3*(1-h)*h*h*o}(h,d)+function f(h,o){return h*h*h*o}(h,r)}},function(C,F){C.exports=function(u,h,o,a){return function n(u,h){var o=1-u;return o*o*h}(u,h)+function l(u,h){return 2*(1-u)*u*h}(u,o)+function g(u,h){return u*u*h}(u,a)}},function(C,F,n){var l=n(181);C.exports=function(f,u,h){return u+(h-u)*l(f,0,1)}},function(C,F){C.exports=function(l){var g=Math.log(l)/.6931471805599453;return 1<<Math.ceil(g)}},function(C,F){C.exports=function(l,g){var f=l.x,u=l.y;return l.x=f*Math.cos(g)-u*Math.sin(g),l.y=f*Math.sin(g)+u*Math.cos(g),l}},function(C,F){C.exports=function(l){return l>0?Math.ceil(l):Math.floor(l)}},function(C,F,n){var g=new(n(0))({initialize:function(u){this.val=new Float32Array(9),u?this.copy(u):this.identity()},clone:function(){return new g(this)},set:function(f){return this.copy(f)},copy:function(f){var u=this.val,h=f.val;return u[0]=h[0],u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5],u[6]=h[6],u[7]=h[7],u[8]=h[8],this},fromMat4:function(f){var u=f.val,h=this.val;return h[0]=u[0],h[1]=u[1],h[2]=u[2],h[3]=u[4],h[4]=u[5],h[5]=u[6],h[6]=u[8],h[7]=u[9],h[8]=u[10],this},fromArray:function(f){var u=this.val;return u[0]=f[0],u[1]=f[1],u[2]=f[2],u[3]=f[3],u[4]=f[4],u[5]=f[5],u[6]=f[6],u[7]=f[7],u[8]=f[8],this},identity:function(){var f=this.val;return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,this},transpose:function(){var f=this.val,u=f[1],h=f[2],o=f[5];return f[1]=f[3],f[2]=f[6],f[3]=u,f[5]=f[7],f[6]=h,f[7]=o,this},invert:function(){var f=this.val,u=f[0],h=f[1],o=f[2],a=f[3],d=f[4],r=f[5],c=f[6],p=f[7],m=f[8],v=m*d-r*p,x=-m*a+r*c,T=p*a-d*c,E=u*v+h*x+o*T;return E?(f[0]=v*(E=1/E),f[1]=(-m*h+o*p)*E,f[2]=(r*h-o*d)*E,f[3]=x*E,f[4]=(m*u-o*c)*E,f[5]=(-r*u+o*a)*E,f[6]=T*E,f[7]=(-p*u+h*c)*E,f[8]=(d*u-h*a)*E,this):null},adjoint:function(){var f=this.val,u=f[0],h=f[1],o=f[2],a=f[3],d=f[4],r=f[5],c=f[6],p=f[7],m=f[8];return f[0]=d*m-r*p,f[1]=o*p-h*m,f[2]=h*r-o*d,f[3]=r*c-a*m,f[4]=u*m-o*c,f[5]=o*a-u*r,f[6]=a*p-d*c,f[7]=h*c-u*p,f[8]=u*d-h*a,this},determinant:function(){var f=this.val,a=f[3],d=f[4],r=f[5],c=f[6],p=f[7],m=f[8];return f[0]*(m*d-r*p)+f[1]*(-m*a+r*c)+f[2]*(p*a-d*c)},multiply:function(f){var u=this.val,h=u[0],o=u[1],a=u[2],d=u[3],r=u[4],c=u[5],p=u[6],m=u[7],v=u[8],x=f.val,T=x[0],E=x[1],M=x[2],S=x[3],P=x[4],R=x[5],w=x[6],L=x[7],I=x[8];return u[0]=T*h+E*d+M*p,u[1]=T*o+E*r+M*m,u[2]=T*a+E*c+M*v,u[3]=S*h+P*d+R*p,u[4]=S*o+P*r+R*m,u[5]=S*a+P*c+R*v,u[6]=w*h+L*d+I*p,u[7]=w*o+L*r+I*m,u[8]=w*a+L*c+I*v,this},translate:function(f){var u=this.val,h=f.x,o=f.y;return u[6]=h*u[0]+o*u[3]+u[6],u[7]=h*u[1]+o*u[4]+u[7],u[8]=h*u[2]+o*u[5]+u[8],this},rotate:function(f){var u=this.val,h=u[0],o=u[1],a=u[2],d=u[3],r=u[4],c=u[5],p=Math.sin(f),m=Math.cos(f);return u[0]=m*h+p*d,u[1]=m*o+p*r,u[2]=m*a+p*c,u[3]=m*d-p*h,u[4]=m*r-p*o,u[5]=m*c-p*a,this},scale:function(f){var u=this.val,h=f.x,o=f.y;return u[0]=h*u[0],u[1]=h*u[1],u[2]=h*u[2],u[3]=o*u[3],u[4]=o*u[4],u[5]=o*u[5],this},fromQuat:function(f){var u=f.x,h=f.y,o=f.z,a=f.w,d=u+u,r=h+h,c=o+o,p=u*d,m=u*r,v=u*c,x=h*r,T=h*c,E=o*c,M=a*d,S=a*r,P=a*c,R=this.val;return R[0]=1-(x+E),R[3]=m+P,R[6]=v-S,R[1]=m-P,R[4]=1-(p+E),R[7]=T+M,R[2]=v+S,R[5]=T-M,R[8]=1-(p+x),this},normalFromMat4:function(f){var u=f.val,h=this.val,o=u[0],a=u[1],d=u[2],r=u[3],c=u[4],p=u[5],m=u[6],v=u[7],x=u[8],T=u[9],E=u[10],M=u[11],S=u[12],P=u[13],R=u[14],w=u[15],L=o*p-a*c,I=o*m-d*c,B=o*v-r*c,G=a*m-d*p,H=a*v-r*p,Y=d*v-r*m,$=x*P-T*S,J=x*R-E*S,_=x*w-M*S,tt=T*R-E*P,U=T*w-M*P,V=E*w-M*R,X=L*V-I*U+B*tt+G*_-H*J+Y*$;return X?(h[0]=(p*V-m*U+v*tt)*(X=1/X),h[1]=(m*_-c*V-v*J)*X,h[2]=(c*U-p*_+v*$)*X,h[3]=(d*U-a*V-r*tt)*X,h[4]=(o*V-d*_+r*J)*X,h[5]=(a*_-o*U-r*$)*X,h[6]=(P*Y-R*H+w*G)*X,h[7]=(R*B-S*Y-w*I)*X,h[8]=(S*H-P*B+w*L)*X,this):null}});C.exports=g},function(C,F,n){var l=n(0),g=n(358),f=n(1),u=n(37),h=1e-6,o=new Int8Array([1,2,0]),a=new Float32Array([0,0,0]),d=new u(1,0,0),r=new u(0,1,0),c=new u,p=new g,m=new l({initialize:function(x,T,E,M){this.onChangeCallback=f,this.set(x,T,E,M)},x:{get:function(){return this._x},set:function(v){this._x=v,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(v){this._y=v,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(v){this._z=v,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(v){this._w=v,this.onChangeCallback(this)}},copy:function(v){return this.set(v)},set:function(v,x,T,E,M){return void 0===M&&(M=!0),"object"==typeof v?(this._x=v.x||0,this._y=v.y||0,this._z=v.z||0,this._w=v.w||0):(this._x=v||0,this._y=x||0,this._z=T||0,this._w=E||0),M&&this.onChangeCallback(this),this},add:function(v){return this._x+=v.x,this._y+=v.y,this._z+=v.z,this._w+=v.w,this.onChangeCallback(this),this},subtract:function(v){return this._x-=v.x,this._y-=v.y,this._z-=v.z,this._w-=v.w,this.onChangeCallback(this),this},scale:function(v){return this._x*=v,this._y*=v,this._z*=v,this._w*=v,this.onChangeCallback(this),this},length:function(){var v=this.x,x=this.y,T=this.z,E=this.w;return Math.sqrt(v*v+x*x+T*T+E*E)},lengthSq:function(){var v=this.x,x=this.y,T=this.z,E=this.w;return v*v+x*x+T*T+E*E},normalize:function(){var v=this.x,x=this.y,T=this.z,E=this.w,M=v*v+x*x+T*T+E*E;return M>0&&(M=1/Math.sqrt(M),this._x=v*M,this._y=x*M,this._z=T*M,this._w=E*M),this.onChangeCallback(this),this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w},lerp:function(v,x){void 0===x&&(x=0);var T=this.x,E=this.y,M=this.z,S=this.w;return this.set(T+x*(v.x-T),E+x*(v.y-E),M+x*(v.z-M),S+x*(v.w-S))},rotationTo:function(v,x){var T=v.x*x.x+v.y*x.y+v.z*x.z;return T<-.999999?(c.copy(d).cross(v).length()<h&&c.copy(r).cross(v),c.normalize(),this.setAxisAngle(c,Math.PI)):T>.999999?this.set(0,0,0,1):(c.copy(v).cross(x),this._x=c.x,this._y=c.y,this._z=c.z,this._w=1+T,this.normalize())},setAxes:function(v,x,T){var E=p.val;return E[0]=x.x,E[3]=x.y,E[6]=x.z,E[1]=T.x,E[4]=T.y,E[7]=T.z,E[2]=-v.x,E[5]=-v.y,E[8]=-v.z,this.fromMat3(p).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(v,x){x*=.5;var T=Math.sin(x);return this.set(T*v.x,T*v.y,T*v.z,Math.cos(x))},multiply:function(v){var x=this.x,T=this.y,E=this.z,M=this.w,S=v.x,P=v.y,R=v.z,w=v.w;return this.set(x*w+M*S+T*R-E*P,T*w+M*P+E*S-x*R,E*w+M*R+x*P-T*S,M*w-x*S-T*P-E*R)},slerp:function(v,x){var T=this.x,E=this.y,M=this.z,S=this.w,P=v.x,R=v.y,w=v.z,L=v.w,I=T*P+E*R+M*w+S*L;I<0&&(I=-I,P=-P,R=-R,w=-w,L=-L);var B=1-x,G=x;if(1-I>h){var H=Math.acos(I),Y=Math.sin(H);B=Math.sin((1-x)*H)/Y,G=Math.sin(x*H)/Y}return this.set(B*T+G*P,B*E+G*R,B*M+G*w,B*S+G*L)},invert:function(){var v=this.x,x=this.y,T=this.z,E=this.w,M=v*v+x*x+T*T+E*E,S=M?1/M:0;return this.set(-v*S,-x*S,-T*S,E*S)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(v){v*=.5;var x=this.x,T=this.y,E=this.z,M=this.w,S=Math.sin(v),P=Math.cos(v);return this.set(x*P+M*S,T*P+E*S,E*P-T*S,M*P-x*S)},rotateY:function(v){v*=.5;var x=this.x,T=this.y,E=this.z,M=this.w,S=Math.sin(v),P=Math.cos(v);return this.set(x*P-E*S,T*P+M*S,E*P+x*S,M*P-T*S)},rotateZ:function(v){v*=.5;var x=this.x,T=this.y,E=this.z,M=this.w,S=Math.sin(v),P=Math.cos(v);return this.set(x*P+T*S,T*P-x*S,E*P+M*S,M*P-E*S)},calculateW:function(){var v=this.x,x=this.y,T=this.z;return this.w=-Math.sqrt(1-v*v-x*x-T*T),this},setFromEuler:function(v,x){var T=v.x/2,E=v.y/2,M=v.z/2,S=Math.cos(T),P=Math.cos(E),R=Math.cos(M),w=Math.sin(T),L=Math.sin(E),I=Math.sin(M);switch(v.order){case"XYZ":this.set(w*P*R+S*L*I,S*L*R-w*P*I,S*P*I+w*L*R,S*P*R-w*L*I,x);break;case"YXZ":this.set(w*P*R+S*L*I,S*L*R-w*P*I,S*P*I-w*L*R,S*P*R+w*L*I,x);break;case"ZXY":this.set(w*P*R-S*L*I,S*L*R+w*P*I,S*P*I+w*L*R,S*P*R-w*L*I,x);break;case"ZYX":this.set(w*P*R-S*L*I,S*L*R+w*P*I,S*P*I-w*L*R,S*P*R+w*L*I,x);break;case"YZX":this.set(w*P*R+S*L*I,S*L*R+w*P*I,S*P*I-w*L*R,S*P*R-w*L*I,x);break;case"XZY":this.set(w*P*R-S*L*I,S*L*R-w*P*I,S*P*I+w*L*R,S*P*R+w*L*I,x)}return this},setFromRotationMatrix:function(v){var G,x=v.val,T=x[0],E=x[4],M=x[8],S=x[1],P=x[5],R=x[9],w=x[2],L=x[6],I=x[10],B=T+P+I;return B>0?(G=.5/Math.sqrt(B+1),this.set((L-R)*G,(M-w)*G,(S-E)*G,.25/G)):T>P&&T>I?(G=2*Math.sqrt(1+T-P-I),this.set(.25*G,(E+S)/G,(M+w)/G,(L-R)/G)):P>I?(G=2*Math.sqrt(1+P-T-I),this.set((E+S)/G,.25*G,(R+L)/G,(M-w)/G)):(G=2*Math.sqrt(1+I-T-P),this.set((M+w)/G,(R+L)/G,.25*G,(S-E)/G)),this},fromMat3:function(v){var E,x=v.val,T=x[0]+x[4]+x[8];if(T>0)E=Math.sqrt(T+1),this.w=.5*E,this._x=(x[7]-x[5])*(E=.5/E),this._y=(x[2]-x[6])*E,this._z=(x[3]-x[1])*E;else{var M=0;x[4]>x[0]&&(M=1),x[8]>x[3*M+M]&&(M=2);var S=o[M],P=o[S];E=Math.sqrt(x[3*M+M]-x[3*S+S]-x[3*P+P]+1),a[M]=.5*E,a[S]=(x[3*S+M]+x[3*M+S])*(E=.5/E),a[P]=(x[3*P+M]+x[3*M+P])*E,this._x=a[0],this._y=a[1],this._z=a[2],this._w=(x[3*P+S]-x[3*S+P])*E}return this.onChangeCallback(this),this}});C.exports=m},function(C,F,n){var l=n(361),g=n(31),f=n(39),u=n(188);C.exports=function(o){var a=o.config;if((a.customEnvironment||a.canvas)&&a.renderType===f.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!a.customEnvironment&&!a.canvas&&a.renderType!==f.HEADLESS)if(a.renderType===f.CANVAS||a.renderType!==f.CANVAS&&!u.webGL){if(!u.canvas)throw new Error("Cannot create Canvas or WebGL context, aborting.");a.renderType=f.CANVAS}else a.renderType=f.WEBGL;a.antialias||g.disableSmoothing();var p,m,d=o.scale.baseSize,r=d.width,c=d.height;a.canvas?(o.canvas=a.canvas,o.canvas.width=r,o.canvas.height=c):o.canvas=g.create(o,r,c,a.renderType),a.canvasStyle&&(o.canvas.style=a.canvasStyle),a.antialias||l.setCrisp(o.canvas),a.renderType!==f.HEADLESS&&(p=n(362),m=n(365),a.renderType===f.WEBGL?o.renderer=new m(o):(o.renderer=new p(o),o.context=o.renderer.gameContext))}},function(C,F){C.exports={setCrisp:function(l){return["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"].forEach(function(f){l.style["image-rendering"]=f}),l.style.msInterpolationMode="nearest-neighbor",l},setBicubic:function(l){return l.style["image-rendering"]="auto",l.style.msInterpolationMode="bicubic",l}}},function(C,F,n){var l=n(35),g=n(363),f=n(0),u=n(39),h=n(9),o=n(88),a=n(364),d=n(101),r=n(103),c=n(25),p=new f({Extends:h,initialize:function(v){h.call(this);var x=v.config;this.config={clearBeforeRender:x.clearBeforeRender,backgroundColor:x.backgroundColor,antialias:x.antialias,roundPixels:x.roundPixels},this.game=v,this.type=u.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=v.canvas,this.gameContext=x.context?x.context:this.gameCanvas.getContext("2d",{alpha:v.config.transparent,desynchronized:v.config.desynchronized}),this.currentContext=this.gameContext,this.antialias=v.config.antialias,this.blendModes=a(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(r.READY,this.boot,this)},boot:function(){var m=this.game,v=m.scale.baseSize;this.width=v.width,this.height=v.height,this.isBooted=!0,m.scale.on(d.RESIZE,this.onResize,this),this.resize(v.width,v.height)},onResize:function(m,v){(v.width!==this.width||v.height!==this.height)&&this.resize(v.width,v.height)},resize:function(m,v){this.width=m,this.height=v,this.emit(o.RESIZE,m,v)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(m){return this.currentContext.globalCompositeOperation=m,this},setContext:function(m){return this.currentContext=m||this.gameContext,this},setAlpha:function(m){return this.currentContext.globalAlpha=m,this},preRender:function(){var m=this.gameContext,v=this.config,x=this.width,T=this.height;m.globalAlpha=1,m.globalCompositeOperation="source-over",m.setTransform(1,0,0,1,0,0),v.clearBeforeRender&&m.clearRect(0,0,x,T),v.transparent||(m.fillStyle=v.backgroundColor.rgba,m.fillRect(0,0,x,T)),m.save(),this.drawCount=0,this.emit(o.PRE_RENDER)},render:function(m,v,x){var T=v.length;this.emit(o.RENDER,m,x);var E=x.x,M=x.y,S=x.width,P=x.height,R=x.renderToTexture?x.context:m.sys.context;R.save(),this.game.scene.customViewports&&(R.beginPath(),R.rect(E,M,S,P),R.clip()),this.currentContext=R;var w=x.mask;w&&w.preRenderCanvas(this,null,x._maskCamera),x.transparent||(R.fillStyle=x.backgroundColor.rgba,R.fillRect(E,M,S,P)),R.globalAlpha=x.alpha,R.globalCompositeOperation="source-over",this.drawCount+=T,x.renderToTexture&&x.emit(l.PRE_RENDER,x),x.matrix.copyToContext(R);for(var L=0;L<T;L++){var I=v[L];I.mask&&I.mask.preRenderCanvas(this,I,x),I.renderCanvas(this,I,x),I.mask&&I.mask.postRenderCanvas(this,I,x)}R.setTransform(1,0,0,1,0,0),R.globalCompositeOperation="source-over",R.globalAlpha=1,x.flashEffect.postRenderCanvas(R),x.fadeEffect.postRenderCanvas(R),x.dirty=!1,w&&w.postRenderCanvas(this),R.restore(),x.renderToTexture&&(x.emit(l.POST_RENDER,x),x.renderToGame&&m.sys.context.drawImage(x.canvas,E,M))},postRender:function(){this.gameContext.restore(),this.emit(o.POST_RENDER);var v=this.snapshotState;v.callback&&(g(this.gameCanvas,v),v.callback=null)},snapshotCanvas:function(m,v,x,T,E,M,S,P,R){void 0===x&&(x=!1),this.snapshotArea(T,E,M,S,v,P,R);var w=this.snapshotState;return w.getPixel=x,g(this.canvas,w),w.callback=null,this},snapshot:function(m,v,x){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,m,v,x)},snapshotArea:function(m,v,x,T,E,M,S){var P=this.snapshotState;return P.callback=E,P.type=M,P.encoder=S,P.getPixel=!1,P.x=m,P.y=v,P.width=Math.min(x,this.gameCanvas.width),P.height=Math.min(T,this.gameCanvas.height),this},snapshotPixel:function(m,v,x){return this.snapshotArea(m,v,1,1,x),this.snapshotState.getPixel=!0,this},batchSprite:function(m,v,x,T){var E=x.alpha*m.alpha;if(0!==E){var M=this.currentContext,S=this._tempMatrix1,P=this._tempMatrix2,R=v.canvasData,w=R.x,L=R.y,I=v.cutWidth,B=v.cutHeight,G=v.customPivot,H=v.source.resolution,Y=m.displayOriginX,$=m.displayOriginY,J=-Y+v.x,_=-$+v.y;if(m.isCropped){var tt=m._crop;(tt.flipX!==m.flipX||tt.flipY!==m.flipY)&&v.updateCropUVs(tt,m.flipX,m.flipY),I=tt.cw,B=tt.ch,w=tt.cx,L=tt.cy,J=-Y+tt.x,_=-$+tt.y,m.flipX&&(J>=0?J=-(J+I):J<0&&(J=Math.abs(J)-I)),m.flipY&&(_>=0?_=-(_+B):_<0&&(_=Math.abs(_)-B))}var U=1,V=1;m.flipX&&(G||(J+=2*Y-v.realWidth),U=-1),m.flipY&&(G||(_+=2*$-v.realHeight),V=-1),P.applyITRS(m.x,m.y,m.rotation,m.scaleX*U,m.scaleY*V),S.copyFrom(x.matrix),T?(S.multiplyWithOffset(T,-x.scrollX*m.scrollFactorX,-x.scrollY*m.scrollFactorY),P.e=m.x,P.f=m.y):(P.e-=x.scrollX*m.scrollFactorX,P.f-=x.scrollY*m.scrollFactorY),S.multiply(P),M.save(),S.setToContext(M),M.globalCompositeOperation=this.blendModes[m.blendMode],M.globalAlpha=E,M.imageSmoothingEnabled=!(!this.antialias||v.source.scaleMode),m.mask&&m.mask.preRenderCanvas(this,m,x),M.drawImage(v.source.image,w,L,I,B,J,_,I/H,B/H),m.mask&&m.mask.postRenderCanvas(this,m,x),M.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});C.exports=p},function(C,F,n){var l=n(31),g=n(36),f=n(2);C.exports=function(h,o){var a=f(o,"callback"),d=f(o,"type","image/png"),r=f(o,"encoder",.92),c=Math.abs(Math.round(f(o,"x",0))),p=Math.abs(Math.round(f(o,"y",0))),m=f(o,"width",h.width),v=f(o,"height",h.height);if(f(o,"getPixel",!1)){var M=h.getContext("2d").getImageData(c,p,1,1).data;a.call(null,new g(M[0],M[1],M[2],M[3]/255))}else if(0!==c||0!==p||m!==h.width||v!==h.height){var S=l.createWebGL(this,m,v);S.getContext("2d").drawImage(h,c,p,m,v,0,0,m,v);var R=new Image;R.onerror=function(){a.call(null),l.remove(S)},R.onload=function(){a.call(null,R),l.remove(S)},R.src=S.toDataURL(d,r)}else{var w=new Image;w.onerror=function(){a.call(null)},w.onload=function(){a.call(null,w)},w.src=h.toDataURL(d,r)}}},function(C,F,n){var l=n(33),g=n(342);C.exports=function(){var u=[],h=g.supportNewBlendModes,o="source-over";return u[l.NORMAL]=o,u[l.ADD]="lighter",u[l.MULTIPLY]=h?"multiply":o,u[l.SCREEN]=h?"screen":o,u[l.OVERLAY]=h?"overlay":o,u[l.DARKEN]=h?"darken":o,u[l.LIGHTEN]=h?"lighten":o,u[l.COLOR_DODGE]=h?"color-dodge":o,u[l.COLOR_BURN]=h?"color-burn":o,u[l.HARD_LIGHT]=h?"hard-light":o,u[l.SOFT_LIGHT]=h?"soft-light":o,u[l.DIFFERENCE]=h?"difference":o,u[l.EXCLUSION]=h?"exclusion":o,u[l.HUE]=h?"hue":o,u[l.SATURATION]=h?"saturation":o,u[l.COLOR]=h?"color":o,u[l.LUMINOSITY]=h?"luminosity":o,u[l.ERASE]="destination-out",u[l.SOURCE_IN]="source-in",u[l.SOURCE_OUT]="source-out",u[l.SOURCE_ATOP]="source-atop",u[l.DESTINATION_OVER]="destination-over",u[l.DESTINATION_IN]="destination-in",u[l.DESTINATION_OUT]="destination-out",u[l.DESTINATION_ATOP]="destination-atop",u[l.LIGHTER]="lighter",u[l.COPY]="copy",u[l.XOR]="xor",u}},function(C,F,n){var l=n(89),g=n(35),f=n(0),u=n(39),h=n(9),o=n(88),a=n(22),d=n(136),r=n(67),c=n(1),p=n(366),m=n(139),v=n(101),x=n(103),T=n(12),E=n(377),M=new f({Extends:h,initialize:function(P){h.call(this);var R=P.config;this.config={clearBeforeRender:R.clearBeforeRender,antialias:R.antialias,backgroundColor:R.backgroundColor,contextCreation:{alpha:R.transparent,desynchronized:R.desynchronized,depth:!1,antialias:R.antialiasGL,premultipliedAlpha:R.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:R.failIfMajorPerformanceCaveat,powerPreference:R.powerPreference},roundPixels:R.roundPixels,maxTextures:R.maxTextures,maxTextureSize:R.maxTextureSize,batchSize:R.batchSize,maxLights:R.maxLights,mipmapFilter:R.mipmapFilter},this.game=P,this.type=u.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=P.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.currentActiveTexture=0,this.startActiveTexture=0,this.maxTextures=0,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=c,this.contextRestoredHandler=c,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.textureFlush=0,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionWidth=0,this.projectionHeight=0,this.init(this.config)},init:function(S){var P,R=this.game,w=this.canvas,L=S.backgroundColor;if(!(P=R.config.context?R.config.context:w.getContext("webgl",S.contextCreation)||w.getContext("experimental-webgl",S.contextCreation))||P.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=P;var I=this;this.contextLostHandler=function(X){I.contextLost=!0,I.game.events.emit(a.CONTEXT_LOST,I),X.preventDefault()},this.contextRestoredHandler=function(){I.contextLost=!1,I.init(I.config),I.game.events.emit(a.CONTEXT_RESTORED,I)},w.addEventListener("webglcontextlost",this.contextLostHandler,!1),w.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),R.context=P;for(var B=0;B<=27;B++)this.blendModes.push({func:[P.ONE,P.ONE_MINUS_SRC_ALPHA],equation:P.FUNC_ADD});this.blendModes[1].func=[P.ONE,P.DST_ALPHA],this.blendModes[2].func=[P.DST_COLOR,P.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[P.ONE,P.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[P.ZERO,P.ONE_MINUS_SRC_ALPHA],equation:P.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=P.BYTE,this.glFormats[1]=P.SHORT,this.glFormats[2]=P.UNSIGNED_BYTE,this.glFormats[3]=P.UNSIGNED_SHORT,this.glFormats[4]=P.FLOAT,this.glFuncMap={mat2:{func:P.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:P.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:P.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:P.uniform1f,length:1},"1fv":{func:P.uniform1fv,length:1},"1i":{func:P.uniform1i,length:1},"1iv":{func:P.uniform1iv,length:1},"2f":{func:P.uniform2f,length:2},"2fv":{func:P.uniform2fv,length:1},"2i":{func:P.uniform2i,length:2},"2iv":{func:P.uniform2iv,length:1},"3f":{func:P.uniform3f,length:3},"3fv":{func:P.uniform3fv,length:1},"3i":{func:P.uniform3i,length:3},"3iv":{func:P.uniform3iv,length:1},"4f":{func:P.uniform4f,length:4},"4fv":{func:P.uniform4fv,length:1},"4i":{func:P.uniform4i,length:4},"4iv":{func:P.uniform4iv,length:1}};var G=P.getSupportedExtensions();(!S.maxTextures||-1===S.maxTextures)&&(S.maxTextures=P.getParameter(P.MAX_TEXTURE_IMAGE_UNITS)),S.maxTextureSize||(S.maxTextureSize=P.getParameter(P.MAX_TEXTURE_SIZE));var H="WEBGL_compressed_texture_",Y="WEBKIT_"+H;this.compression.ETC1=P.getExtension(H+"etc1")||P.getExtension(Y+"etc1"),this.compression.PVRTC=P.getExtension(H+"pvrtc")||P.getExtension(Y+"pvrtc"),this.compression.S3TC=P.getExtension(H+"s3tc")||P.getExtension(Y+"s3tc"),this.supportedExtensions=G;var $="ANGLE_instanced_arrays";this.instancedArraysExtension=G.indexOf($)>-1?P.getExtension($):null;var J="OES_vertex_array_object";this.vaoExtension=G.indexOf(J)>-1?P.getExtension(J):null,P.disable(P.DEPTH_TEST),P.disable(P.CULL_FACE),P.enable(P.BLEND),P.clearColor(L.redGL,L.greenGL,L.blueGL,L.alphaGL),this.mipmapFilter=P[S.mipmapFilter],this.maxTextures=T.checkShaderMax(P,S.maxTextures),this.textureIndexes=[];var _=this.tempTextures;if(Array.isArray(_))for(var tt=0;B<this.maxTextures;tt++)P.deleteTexture(_[tt]);else _=new Array(this.maxTextures);for(var U=0;U<this.maxTextures;U++){var V=P.createTexture();P.activeTexture(P.TEXTURE0+U),P.bindTexture(P.TEXTURE_2D,V),P.texImage2D(P.TEXTURE_2D,0,P.RGBA,1,1,0,P.RGBA,P.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),_[U]=V,this.textureIndexes.push(U)}return this.tempTextures=_,this.currentActiveTexture=1,this.startActiveTexture++,P.activeTexture(P.TEXTURE1),this.pipelines=new p(this),this.setBlendMode(u.BlendModes.NORMAL),this.projectionMatrix=(new r).identity(),R.textures.once(x.READY,this.boot,this),this},boot:function(){var S=this.game,P=this.pipelines,R=S.scale.baseSize;this.width=R.width,this.height=R.height,this.isBooted=!0,this.renderTarget=new m(this,this.width,this.height,1,0,!0,!0),P.boot(S.config.pipeline),this.blankTexture=S.textures.getFrame("__DEFAULT"),this.whiteTexture=S.textures.getFrame("__WHITE");var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,null),w.enable(w.SCISSOR_TEST),S.scale.on(v.RESIZE,this.onResize,this),this.resize(R.width,R.height)},onResize:function(S,P){(P.width!==this.width||P.height!==this.height)&&this.resize(P.width,P.height)},beginCapture:function(S,P){void 0===S&&(S=this.width),void 0===P&&(P=this.height),this.renderTarget.bind(!0,S,P),this.setProjectionMatrix(S,P),this.resetTextures()},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(S,P){var R=this.gl;return this.width=S,this.height=P,this.setProjectionMatrix(S,P),R.viewport(0,0,S,P),this.drawingBufferHeight=R.drawingBufferHeight,R.scissor(0,R.drawingBufferHeight-P,S,P),this.defaultScissor[2]=S,this.defaultScissor[3]=P,this.emit(o.RESIZE,S,P),this},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(S,P){return(S!==this.projectionWidth||P!==this.projectionHeight)&&(this.projectionWidth=S,this.projectionHeight=P,this.projectionMatrix.ortho(0,S,P,0,-1e3,1e3)),this},resetProjectionMatrix:function(){this.projectionWidth=this.width,this.projectionHeight=this.height,this.projectionMatrix.ortho(0,this.width,this.height,0,-1e3,1e3)},hasExtension:function(S){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(S)},getExtension:function(S){return this.hasExtension(S)?(S in this.extensions||(this.extensions[S]=this.gl.getExtension(S)),this.extensions[S]):null},flush:function(){this.pipelines.flush()},pushScissor:function(S,P,R,w,L){void 0===L&&(L=this.drawingBufferHeight);var B=[S,P,R,w];return this.scissorStack.push(B),this.setScissor(S,P,R,w,L),this.currentScissor=B,B},setScissor:function(S,P,R,w,L){void 0===L&&(L=this.drawingBufferHeight);var I=this.gl,B=this.currentScissor,G=R>0&&w>0;B&&G&&(G=B[0]!==S||B[1]!==P||B[2]!==R||B[3]!==w),G&&(this.flush(),I.scissor(S,L-P-w,R,w))},resetScissor:function(){var S=this.gl;S.enable(S.SCISSOR_TEST);var P=this.currentScissor;if(P){var L=P[2],I=P[3];L>0&&I>0&&S.scissor(P[0],this.drawingBufferHeight-P[1]-I,L,I)}},popScissor:function(){var S=this.scissorStack;S.pop();var P=S[S.length-1];P&&this.setScissor(P[0],P[1],P[2],P[3]),this.currentScissor=P},hasActiveStencilMask:function(){var S=this.currentMask.mask,P=this.currentCameraMask.mask;return S&&S.isStencil||P&&P.isStencil},resetViewport:function(){var S=this.gl;S.viewport(0,0,this.width,this.height),this.drawingBufferHeight=S.drawingBufferHeight},setBlendMode:function(S,P){void 0===P&&(P=!1);var R=this.gl,w=this.blendModes[S];return!!(P||S!==u.BlendModes.SKIP_CHECK&&this.currentBlendMode!==S)&&(this.flush(),R.enable(R.BLEND),R.blendEquation(w.equation),w.func.length>2?R.blendFuncSeparate(w.func[0],w.func[1],w.func[2],w.func[3]):R.blendFunc(w.func[0],w.func[1]),this.currentBlendMode=S,!0)},addBlendMode:function(S,P){return this.blendModes.push({func:S,equation:P})-1},updateBlendMode:function(S,P,R){return this.blendModes[S]&&(this.blendModes[S].func=P,R&&(this.blendModes[S].equation=R)),this},removeBlendMode:function(S){return S>17&&this.blendModes[S]&&this.blendModes.splice(S,1),this},setBlankTexture:function(){this.setTexture2D(this.blankTexture.glTexture)},setTextureSource:function(S){if(this.pipelines.forceZero())return this.setTextureZero(S.glTexture,!0),0;var P=this.gl,R=this.currentActiveTexture;return S.glIndexCounter<this.startActiveTexture&&(S.glIndexCounter=this.startActiveTexture,R<this.maxTextures?(S.glIndex=R,P.activeTexture(P.TEXTURE0+R),P.bindTexture(P.TEXTURE_2D,S.glTexture),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,S.glIndexCounter=this.startActiveTexture,S.glIndex=1,P.activeTexture(P.TEXTURE1),P.bindTexture(P.TEXTURE_2D,S.glTexture),this.currentActiveTexture=2)),S.glIndex},isNewNormalMap:function(S,P){return this.textureZero!==S||this.normalTexture!==P},setTextureZero:function(S,P){if(this.textureZero!==S){P&&this.flush();var R=this.gl;R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,S),this.textureZero=S}},clearTextureZero:function(){this.textureZero=null},setNormalMap:function(S){if(this.normalTexture!==S){var P=this.gl;P.activeTexture(P.TEXTURE1),P.bindTexture(P.TEXTURE_2D,S),this.normalTexture=S,1===this.currentActiveTexture&&(this.currentActiveTexture=2)}},clearNormalMap:function(){this.normalTexture=null,this.startActiveTexture++,this.currentActiveTexture=1,this.textureFlush++},unbindTextures:function(){for(var S=this.gl,P=this.tempTextures,R=0;R<P.length;R++)S.activeTexture(S.TEXTURE0+R),S.bindTexture(S.TEXTURE_2D,null);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++},resetTextures:function(S){void 0===S&&(S=!1),this.flush();var P=this.gl,R=this.tempTextures;if(S){for(var w=0;w<R.length;w++)P.activeTexture(P.TEXTURE0+w),P.bindTexture(P.TEXTURE_2D,R[w]);P.activeTexture(P.TEXTURE1),P.bindTexture(P.TEXTURE_2D,R[1])}else P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,R[0]),P.activeTexture(P.TEXTURE1),P.bindTexture(P.TEXTURE_2D,R[1]);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++},setTexture2D:function(S){if(this.pipelines.forceZero())return this.setTextureZero(S,!0),0;var P=this.gl,R=this.currentActiveTexture;return S.glIndexCounter<this.startActiveTexture&&(S.glIndexCounter=this.startActiveTexture,R<this.maxTextures?(S.glIndex=R,P.activeTexture(P.TEXTURE0+R),P.bindTexture(P.TEXTURE_2D,S),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,S.glIndexCounter=this.startActiveTexture,S.glIndex=1,P.activeTexture(P.TEXTURE1),P.bindTexture(P.TEXTURE_2D,S),this.currentActiveTexture=2)),S.glIndex},pushFramebuffer:function(S,P,R,w){return S===this.currentFramebuffer?this:(this.fboStack.push(S),this.setFramebuffer(S,P,R,w))},setFramebuffer:function(S,P,R,w){if(void 0===P&&(P=!1),void 0===R&&(R=!1),void 0===w&&(w=!0),S===this.currentFramebuffer)return this;var L=this.gl,I=this.width,B=this.height;return S&&S.renderTexture&&w?(I=S.renderTexture.width,B=S.renderTexture.height):this.flush(),L.bindFramebuffer(L.FRAMEBUFFER,S),w&&L.viewport(0,0,I,B),P&&(S?(this.drawingBufferHeight=B,this.pushScissor(0,0,I,B)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=S,R&&this.resetTextures(),this},popFramebuffer:function(S,P,R){void 0===S&&(S=!1),void 0===P&&(P=!1),void 0===R&&(R=!0);var w=this.fboStack;w.pop();var L=w[w.length-1];return L||(L=null),this.setFramebuffer(L,S,P,R),L},setProgram:function(S){return S!==this.currentProgram&&(this.flush(),this.gl.useProgram(S),this.currentProgram=S,!0)},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(S,P,R,w){var L=this.gl,I=L.NEAREST,B=L.NEAREST,G=L.CLAMP_TO_EDGE,Y=d(P=S?S.width:P,R=S?S.height:R);return Y&&(G=L.REPEAT),w===u.ScaleModes.LINEAR&&this.config.antialias&&(I=Y?this.mipmapFilter:L.LINEAR,B=L.LINEAR),S||"number"!=typeof P||"number"!=typeof R?this.createTexture2D(0,I,B,G,G,L.RGBA,S):this.createTexture2D(0,I,B,G,G,L.RGBA,null,P,R)},createTexture2D:function(S,P,R,w,L,I,B,G,H,Y,$,J){Y=null==Y||Y,void 0===$&&($=!1),void 0===J&&(J=!1);var _=this.gl,tt=_.createTexture();_.activeTexture(_.TEXTURE0);var U=_.getParameter(_.TEXTURE_BINDING_2D);return _.bindTexture(_.TEXTURE_2D,tt),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,P),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,R),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,L),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,w),_.pixelStorei(_.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y),_.pixelStorei(_.UNPACK_FLIP_Y_WEBGL,J),null==B?_.texImage2D(_.TEXTURE_2D,S,I,G,H,0,I,_.UNSIGNED_BYTE,null):($||(G=B.width,H=B.height),_.texImage2D(_.TEXTURE_2D,S,I,I,_.UNSIGNED_BYTE,B)),d(G,H)&&_.generateMipmap(_.TEXTURE_2D),U&&_.bindTexture(_.TEXTURE_2D,U),tt.isAlphaPremultiplied=Y,tt.isRenderTexture=!1,tt.width=G,tt.height=H,tt.glIndex=0,tt.glIndexCounter=-1,tt},createFramebuffer:function(S,P,R,w){var B,L=this.gl,I=L.createFramebuffer();if(this.setFramebuffer(I),w){var G=L.createRenderbuffer();L.bindRenderbuffer(L.RENDERBUFFER,G),L.renderbufferStorage(L.RENDERBUFFER,L.DEPTH_STENCIL,S,P),L.framebufferRenderbuffer(L.FRAMEBUFFER,L.DEPTH_STENCIL_ATTACHMENT,L.RENDERBUFFER,G)}if(R.isRenderTexture=!0,R.isAlphaPremultiplied=!1,L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,R,0),(B=L.checkFramebufferStatus(L.FRAMEBUFFER))!==L.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+{36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"}[B]);return I.renderTexture=R,this.setFramebuffer(null),this.resetTextures(),I},createProgram:function(S,P){var R=this.gl,w=R.createProgram(),L=R.createShader(R.VERTEX_SHADER),I=R.createShader(R.FRAGMENT_SHADER);if(R.shaderSource(L,S),R.shaderSource(I,P),R.compileShader(L),R.compileShader(I),!R.getShaderParameter(L,R.COMPILE_STATUS))throw new Error("Vertex Shader failed:\n"+R.getShaderInfoLog(L));if(!R.getShaderParameter(I,R.COMPILE_STATUS))throw new Error("Fragment Shader failed:\n"+R.getShaderInfoLog(I));if(R.attachShader(w,L),R.attachShader(w,I),R.linkProgram(w),!R.getProgramParameter(w,R.LINK_STATUS))throw new Error("Link Program failed:\n"+R.getProgramInfoLog(w));return R.useProgram(w),w},createVertexBuffer:function(S,P){var R=this.gl,w=R.createBuffer();return R.bindBuffer(R.ARRAY_BUFFER,w),R.bufferData(R.ARRAY_BUFFER,S,P),R.bindBuffer(R.ARRAY_BUFFER,null),w},createIndexBuffer:function(S,P){var R=this.gl,w=R.createBuffer();return R.bindBuffer(R.ELEMENT_ARRAY_BUFFER,w),R.bufferData(R.ELEMENT_ARRAY_BUFFER,S,P),R.bindBuffer(R.ELEMENT_ARRAY_BUFFER,null),w},deleteTexture:function(S,P){return S&&this.gl.deleteTexture(S),P&&this.resetTextures(),this},deleteFramebuffer:function(S){return S&&(this.gl.deleteFramebuffer(S),l(this.fboStack,S),this.currentFramebuffer===S&&(this.currentFramebuffer=null)),this},deleteProgram:function(S){return S&&this.gl.deleteProgram(S),this},deleteBuffer:function(S){return this.gl.deleteBuffer(S),this},preRenderCamera:function(S){var P=S.x,R=S.y,w=S.width,L=S.height,I=S.backgroundColor;S.emit(g.PRE_RENDER,S),this.pipelines.preBatchCamera(S),this.pushScissor(P,R,w,L),S.mask&&(this.currentCameraMask.mask=S.mask,this.currentCameraMask.camera=S._maskCamera,S.mask.preRenderWebGL(this,S,S._maskCamera)),I.alphaGL>0&&this.pipelines.setMulti().drawFillRect(P,R,w,L,T.getTintFromFloats(I.blueGL,I.greenGL,I.redGL,1),I.alphaGL)},getCurrentStencilMask:function(){var S=null,P=this.maskStack,R=this.currentCameraMask;return P.length>0?S=P[P.length-1]:R.mask&&R.mask.isStencil&&(S=R),S},postRenderCamera:function(S){var P=S.flashEffect,R=S.fadeEffect;if(P.isRunning||R.isRunning||R.isComplete){var w=this.pipelines.setMulti();P.postRenderWebGL(w,T.getTintFromFloats),R.postRenderWebGL(w,T.getTintFromFloats)}S.dirty=!1,this.popScissor(),S.mask&&(this.currentCameraMask.mask=null,S.mask.postRenderWebGL(this,S._maskCamera)),this.pipelines.postBatchCamera(S),S.emit(g.POST_RENDER,S)},preRender:function(){if(!this.contextLost){var S=this.gl;if(S.bindFramebuffer(S.FRAMEBUFFER,null),this.config.clearBeforeRender){var P=this.config.backgroundColor;S.clearColor(P.redGL,P.greenGL,P.blueGL,P.alphaGL),S.clear(S.COLOR_BUFFER_BIT|S.DEPTH_BUFFER_BIT|S.STENCIL_BUFFER_BIT)}S.enable(S.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&S.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.textureFlush=0,this.emit(o.PRE_RENDER)}},render:function(S,P,R){if(!this.contextLost){var w=P.length;if(this.emit(o.RENDER,S,R),this.preRenderCamera(R),0===w)return this.setBlendMode(u.BlendModes.NORMAL),void this.postRenderCamera(R);this.currentType="";for(var L=this.currentMask,I=0;I<w;I++){this.finalType=I===w-1;var B=P[I],G=B.mask;(L=this.currentMask).mask&&L.mask!==G&&L.mask.postRenderWebGL(this,L.camera),G&&L.mask!==G&&G.preRenderWebGL(this,B,R),B.blendMode!==this.currentBlendMode&&this.setBlendMode(B.blendMode);var H=B.type;H!==this.currentType&&(this.newType=!0,this.currentType=H),this.nextTypeMatch=!this.finalType&&P[I+1].type===this.currentType,B.renderWebGL(this,B,R),this.newType=!1}(L=this.currentMask).mask&&L.mask.postRenderWebGL(this,L.camera),this.setBlendMode(u.BlendModes.NORMAL),this.postRenderCamera(R)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(o.POST_RENDER);var S=this.snapshotState;S.callback&&(E(this.canvas,S),S.callback=null),this.textureFlush>0&&(this.startActiveTexture++,this.currentActiveTexture=1)}},snapshot:function(S,P,R){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,S,P,R)},snapshotArea:function(S,P,R,w,L,I,B){var G=this.snapshotState;return G.callback=L,G.type=I,G.encoder=B,G.getPixel=!1,G.x=S,G.y=P,G.width=Math.min(R,this.gl.drawingBufferWidth),G.height=Math.min(w,this.gl.drawingBufferHeight),this},snapshotPixel:function(S,P,R){return this.snapshotArea(S,P,1,1,R),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(S,P,R,w,L,I,B,G,H,Y,$){void 0===L&&(L=!1),void 0===I&&(I=0),void 0===B&&(B=0),void 0===G&&(G=P),void 0===H&&(H=R);var J=this.currentFramebuffer;this.snapshotArea(I,B,G,H,w,Y,$);var _=this.snapshotState;return _.getPixel=L,_.isFramebuffer=!0,_.bufferWidth=P,_.bufferHeight=R,this.setFramebuffer(S),E(this.canvas,_),this.setFramebuffer(J),_.callback=null,_.isFramebuffer=!1,this},canvasToTexture:function(S,P,R,w){return void 0===R&&(R=!1),void 0===w&&(w=!1),P?this.updateCanvasTexture(S,P,w):this.createCanvasTexture(S,R,w)},createCanvasTexture:function(S,P,R){void 0===P&&(P=!1),void 0===R&&(R=!1);var w=this.gl,L=w.NEAREST,I=w.NEAREST,B=S.width,G=S.height,H=w.CLAMP_TO_EDGE,Y=d(B,G);return!P&&Y&&(H=w.REPEAT),this.config.antialias&&(L=Y?this.mipmapFilter:w.LINEAR,I=w.LINEAR),this.createTexture2D(0,L,I,H,H,w.RGBA,S,B,G,!0,!1,R)},updateCanvasTexture:function(S,P,R){void 0===R&&(R=!1);var w=this.gl,L=S.width,I=S.height;if(L>0&&I>0){w.activeTexture(w.TEXTURE0);var B=w.getParameter(w.TEXTURE_BINDING_2D);w.bindTexture(w.TEXTURE_2D,P),w.pixelStorei(w.UNPACK_FLIP_Y_WEBGL,R),w.pixelStorei(w.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,S),P.width=L,P.height=I,B&&w.bindTexture(w.TEXTURE_2D,B)}return P},createVideoTexture:function(S,P,R){void 0===P&&(P=!1),void 0===R&&(R=!1);var w=this.gl,L=w.NEAREST,I=w.NEAREST,B=S.videoWidth,G=S.videoHeight,H=w.CLAMP_TO_EDGE,Y=d(B,G);return!P&&Y&&(H=w.REPEAT),this.config.antialias&&(L=Y?this.mipmapFilter:w.LINEAR,I=w.LINEAR),this.createTexture2D(0,L,I,H,H,w.RGBA,S,B,G,!0,!0,R)},updateVideoTexture:function(S,P,R){void 0===R&&(R=!1);var w=this.gl,L=S.videoWidth,I=S.videoHeight;if(L>0&&I>0){w.activeTexture(w.TEXTURE0);var B=w.getParameter(w.TEXTURE_BINDING_2D);w.bindTexture(w.TEXTURE_2D,P),w.pixelStorei(w.UNPACK_FLIP_Y_WEBGL,R),w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,S),P.width=L,P.height=I,B&&w.bindTexture(w.TEXTURE_2D,B)}return P},setTextureFilter:function(S,P){var R=this.gl,w=[R.LINEAR,R.NEAREST][P];R.activeTexture(R.TEXTURE0);var L=R.getParameter(R.TEXTURE_BINDING_2D);return R.bindTexture(R.TEXTURE_2D,S),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,w),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,w),L&&R.bindTexture(R.TEXTURE_2D,L),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);for(var S=this.gl,P=this.tempTextures,R=0;R<P.length;R++)S.deleteTexture(P[R]);this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});C.exports=M},function(C,F,n){var l=n(0),g=n(65),f=n(99),u=n(367),h=n(370),o=n(371),a=n(105),d=n(372),r=n(373),c=n(374),p=n(375),m=new l({initialize:function(x){this.game=x.game,this.renderer=x,this.classes=new f([[g.UTILITY_PIPELINE,p],[g.MULTI_PIPELINE,a],[g.BITMAPMASK_PIPELINE,u],[g.SINGLE_PIPELINE,c],[g.ROPE_PIPELINE,r],[g.LIGHT_PIPELINE,o],[g.POINTLIGHT_PIPELINE,d],[g.GRAPHICS_PIPELINE,h]]),this.postPipelineClasses=new f,this.pipelines=new f,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null},boot:function(v){var x,T,E=this,M=this.game;if(this.classes.each(function(P,R){x=E.add(P,new R({game:M})),P===g.UTILITY_PIPELINE&&(E.UTILITY_PIPELINE=x,E.fullFrame1=x.fullFrame1,E.fullFrame2=x.fullFrame2,E.halfFrame1=x.halfFrame1,E.halfFrame2=x.halfFrame2)}),this.MULTI_PIPELINE=this.get(g.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(g.BITMAPMASK_PIPELINE),v)for(T in v){var S=v[T];(x=new S(M)).isPostFX?this.postPipelineClasses.set(T,S):this.has(T)||(this.classes.set(T,S),this.add(T,x))}},add:function(v,x){if(!x.isPostFX){var T=this.pipelines,E=this.renderer;return T.has(v)?console.warn("Pipeline exists: "+v):(x.name=v,x.manager=this,T.set(v,x)),x.hasBooted||x.boot(),0!==E.width&&0!==E.height&&x.resize(E.width,E.height),x}console.warn(v+" is a Post Pipeline. Use `addPostPipeline` instead")},addPostPipeline:function(v,x){this.postPipelineClasses.has(v)||this.postPipelineClasses.set(v,x)},flush:function(){this.current&&this.current.flush()},has:function(v){var x=this.pipelines;return"string"==typeof v?x.has(v):!!x.contains(v)},get:function(v){var x=this.pipelines;return"string"==typeof v?x.get(v):x.contains(v)?v:void 0},getPostPipeline:function(v,x){var E,T=this.postPipelineClasses;if("string"==typeof v?E=T.get(v):"function"==typeof v?T.contains(v)&&(E=v):"object"==typeof v&&(E=T.get(v.name)),E){var M=new E(this.game);return x&&(M.gameObject=x),M}},remove:function(v,x,T){void 0===x&&(x=!0),void 0===T&&(T=!0),this.pipelines.delete(v),x&&this.classes.delete(v),T&&this.postPipelineClasses.delete(v)},set:function(v,x,T){if(!v.isPostFX)return this.isCurrent(v,T)||(this.flush(),this.current&&this.current.unbind(),this.current=v,v.bind(T)),v.updateProjectionMatrix(),v.onBind(x),v},preBatch:function(v){if(v.hasPostPipeline){this.flush();for(var x=v.postPipelines,T=x.length-1;T>=0;T--){var E=x[T];E.active&&E.preBatch(v)}}},postBatch:function(v){if(v.hasPostPipeline){this.flush();for(var x=v.postPipelines,T=0;T<x.length;T++){var E=x[T];E.active&&E.postBatch(v)}}},preBatchCamera:function(v){if(v.hasPostPipeline){this.flush();for(var x=v.postPipelines,T=x.length-1;T>=0;T--){var E=x[T];E.active&&E.preBatch(v)}}},postBatchCamera:function(v){if(v.hasPostPipeline){this.flush();for(var x=v.postPipelines,T=0;T<x.length;T++){var E=x[T];E.active&&E.postBatch(v)}}},isCurrent:function(v,x){var E=this.current;return E&&!x&&(x=E.currentShader),!(E!==v||x.program!==this.renderer.currentProgram)},copyFrame:function(v,x,T,E,M){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(v,x,T,E,M),this},copyToGame:function(v){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(v),this},drawFrame:function(v,x,T,E){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(v,x,T,E),this},blendFrames:function(v,x,T,E,M){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(v,x,T,E,M),this},blendFramesAdditive:function(v,x,T,E,M){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(v,x,T,E,M),this},clearFrame:function(v,x){return this.UTILITY_PIPELINE.clearFrame(v,x),this},blitFrame:function(v,x,T,E,M,S){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(v,x,T,E,M,S),this},copyFrameRect:function(v,x,T,E,M,S,P,R){return this.UTILITY_PIPELINE.copyFrameRect(v,x,T,E,M,S,P,R),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(v){return this.UTILITY_PIPELINE.bind(v)},rebind:function(v){void 0===v&&this.previous&&(v=this.previous);var x=this.renderer,T=x.gl;T.disable(T.DEPTH_TEST),T.disable(T.CULL_FACE),x.hasActiveStencilMask()?T.clear(T.DEPTH_BUFFER_BIT):(T.disable(T.STENCIL_TEST),T.clear(T.DEPTH_BUFFER_BIT|T.STENCIL_BUFFER_BIT)),T.viewport(0,0,x.width,x.height),x.currentProgram=null,x.setBlendMode(0,!0),v&&(this.current=v,v.rebind()),x.resetTextures()},clear:function(){var v=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,v.currentProgram=null,v.setBlendMode(0,!0)},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.current=null,this.previous=null}});C.exports=m},function(C,F,n){var l=n(0),g=n(2),f=n(862),u=n(863),h=n(104),o=n(57),a=new l({Extends:o,initialize:function(r){r.fragShader=g(r,"fragShader",f),r.vertShader=g(r,"vertShader",u),r.batchSize=g(r,"batchSize",1),r.vertices=g(r,"vertices",[-1,1,-1,-7,7,1]),r.attributes=g(r,"attributes",[{name:"inPosition",size:2,type:h.FLOAT}]),o.call(this,r)},boot:function(){o.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(d,r){o.prototype.resize.call(this,d,r),this.set2f("uResolution",d,r)},beginMask:function(d,r,c){var p=this.gl;if(d.bitmapMask&&p){var m=this.renderer;m.flush(),m.pushFramebuffer(d.mainFramebuffer),p.disable(p.STENCIL_TEST),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),m.currentCameraMask.mask!==d&&(m.currentMask.mask=d,m.currentMask.camera=c)}},endMask:function(d,r){var c=this.gl,p=this.renderer,m=d.bitmapMask;if(m&&c){p.flush(),p.pushFramebuffer(d.maskFramebuffer),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),p.setBlendMode(0,!0),m.renderWebGL(p,m,r),p.flush(),p.popFramebuffer(),p.popFramebuffer();var v=p.getCurrentStencilMask();v?(c.enable(c.STENCIL_TEST),v.mask.applyStencil(p,v.camera,!0)):p.currentMask.mask=null,p.pipelines.set(this),c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,d.maskTexture),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,d.mainTexture),this.set1i("uInvertMaskAlpha",d.invertAlpha),c.drawArrays(this.topology,0,3),p.resetTextures()}}});C.exports=a},function(C,F,n){C.exports={AFTER_FLUSH:n(864),BEFORE_FLUSH:n(865),BIND:n(866),BOOT:n(867),DESTROY:n(868),REBIND:n(869),RESIZE:n(870)}},function(C,F,n){var l=n(0),g=n(2),f=n(104),u=new l({initialize:function(o,a,d,r,c){this.pipeline=o,this.name=a,this.renderer=o.renderer,this.gl=this.renderer.gl,this.program=this.renderer.createProgram(d,r),this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(c),this.createUniforms()},createAttributes:function(h){var o=0,a=0,d=[];this.vertexComponentCount=0;for(var r=0;r<h.length;r++){var c=h[r],p=c.name,m=g(c,"size",1),v=g(c,"type",f.FLOAT),T=v.size;d.push({name:p,size:m,type:v.enum,normalized:!!c.normalized,offset:a,enabled:!1,location:-1}),4===T?o+=m:o++,a+=m*T}this.vertexSize=a,this.vertexComponentCount=o,this.attributes=d},bind:function(h,o){return void 0===h&&(h=!1),void 0===o&&(o=!1),o&&this.pipeline.flush(),this.renderer.setProgram(this.program),h&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(h){void 0===h&&(h=!1);for(var o=this.gl,a=this.vertexSize,d=this.attributes,r=this.program,c=0;c<d.length;c++){var p=d[c],m=p.size,v=p.type,x=p.offset,T=p.enabled,E=p.location,M=!!p.normalized;if(h){var S=o.getAttribLocation(r,p.name);S>=0?(o.enableVertexAttribArray(S),o.vertexAttribPointer(S,m,v,M,a,x),p.enabled=!0,p.location=S):-1!==S&&o.disableVertexAttribArray(S)}else T?o.vertexAttribPointer(E,m,v,M,a,x):!T&&E>-1&&(o.disableVertexAttribArray(E),p.location=-1)}return this},createUniforms:function(){var d,r,c,h=this.gl,o=this.program,a=this.uniforms,p=h.getProgramParameter(o,h.ACTIVE_UNIFORMS);for(d=0;d<p;d++){var m=h.getActiveUniform(o,d);if(m){null!==(c=h.getUniformLocation(o,r=m.name))&&(a[r]={name:r,location:c,value1:null,value2:null,value3:null,value4:null});var v=r.indexOf("[");v>0&&(r=r.substr(0,v),a.hasOwnProperty(r)||null!==(c=h.getUniformLocation(o,r))&&(a[r]={name:r,location:c,value1:null,value2:null,value3:null,value4:null}))}}return this},hasUniform:function(h){return this.uniforms.hasOwnProperty(h)},resetUniform:function(h){var o=this.uniforms[h];return o&&(o.value1=null,o.value2=null,o.value3=null,o.value4=null),this},setUniform1:function(h,o,a){var d=this.uniforms[o];return d?(d.value1!==a&&(d.value1=a,this.renderer.setProgram(this.program),h.call(this.gl,d.location,a),this.pipeline.currentShader=this),this):this},setUniform2:function(h,o,a,d){var r=this.uniforms[o];return r?((r.value1!==a||r.value2!==d)&&(r.value1=a,r.value2=d,this.renderer.setProgram(this.program),h.call(this.gl,r.location,a,d),this.pipeline.currentShader=this),this):this},setUniform3:function(h,o,a,d,r){var c=this.uniforms[o];return c?((c.value1!==a||c.value2!==d||c.value3!==r)&&(c.value1=a,c.value2=d,c.value3=r,this.renderer.setProgram(this.program),h.call(this.gl,c.location,a,d,r),this.pipeline.currentShader=this),this):this},setUniform4:function(h,o,a,d,r,c){var p=this.uniforms[o];return p?((p.value1!==a||p.value2!==d||p.value3!==r||p.value4!==c)&&(p.value1=a,p.value2=d,p.value3=r,p.value4=c,this.renderer.setProgram(this.program),h.call(this.gl,p.location,a,d,r,c),this.pipeline.currentShader=this),this):this},set1f:function(h,o){return this.setUniform1(this.gl.uniform1f,h,o)},set2f:function(h,o,a){return this.setUniform2(this.gl.uniform2f,h,o,a)},set3f:function(h,o,a,d){return this.setUniform3(this.gl.uniform3f,h,o,a,d)},set4f:function(h,o,a,d,r){return this.setUniform4(this.gl.uniform4f,h,o,a,d,r)},set1fv:function(h,o){return this.setUniform1(this.gl.uniform1fv,h,o)},set2fv:function(h,o){return this.setUniform1(this.gl.uniform2fv,h,o)},set3fv:function(h,o){return this.setUniform1(this.gl.uniform3fv,h,o)},set4fv:function(h,o){return this.setUniform1(this.gl.uniform4fv,h,o)},set1iv:function(h,o){return this.setUniform1(this.gl.uniform1iv,h,o)},set2iv:function(h,o){return this.setUniform1(this.gl.uniform2iv,h,o)},set3iv:function(h,o){return this.setUniform1(this.gl.uniform3iv,h,o)},set4iv:function(h,o){return this.setUniform1(this.gl.uniform4iv,h,o)},set1i:function(h,o){return this.setUniform1(this.gl.uniform1i,h,o)},set2i:function(h,o,a){return this.setUniform2(this.gl.uniform2i,h,o,a)},set3i:function(h,o,a,d){return this.setUniform3(this.gl.uniform3i,h,o,a,d)},set4i:function(h,o,a,d,r){return this.setUniform4(this.gl.uniform4i,h,o,a,d,r)},setMatrix2fv:function(h,o,a){return this.setUniform2(this.gl.uniformMatrix2fv,h,o,a)},setMatrix3fv:function(h,o,a){return this.setUniform2(this.gl.uniformMatrix3fv,h,o,a)},setMatrix4fv:function(h,o,a){return this.setUniform2(this.gl.uniformMatrix4fv,h,o,a)},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});C.exports=u},function(C,F,n){var l=n(0),g=n(68),f=n(2),u=n(871),h=n(872),o=n(25),a=n(104),d=n(57),r=new l({Extends:d,initialize:function(p){p.fragShader=f(p,"fragShader",u),p.vertShader=f(p,"vertShader",h),p.attributes=f(p,"attributes",[{name:"inPosition",size:2},{name:"inColor",size:4,type:a.UNSIGNED_BYTE,normalized:!0}]),d.call(this,p),this.calcMatrix=new o,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},batchFillRect:function(c,p,m,v,x,T){this.renderer.pipelines.set(this);var E=this.calcMatrix;T&&T.multiply(x,E);var M=c+m,S=p+v,P=E.getX(c,p),R=E.getY(c,p),w=E.getX(c,S),L=E.getY(c,S),I=E.getX(M,S),B=E.getY(M,S),G=E.getX(M,p),H=E.getY(M,p),Y=this.fillTint;this.batchQuad(P,R,w,L,I,B,G,H,Y.TL,Y.TR,Y.BL,Y.BR)},batchFillTriangle:function(c,p,m,v,x,T,E,M){this.renderer.pipelines.set(this);var S=this.calcMatrix;M&&M.multiply(E,S);var P=S.getX(c,p),R=S.getY(c,p),w=S.getX(m,v),L=S.getY(m,v),I=S.getX(x,T),B=S.getY(x,T),G=this.fillTint;this.batchTri(P,R,w,L,I,B,G.TL,G.TR,G.BL)},batchStrokeTriangle:function(c,p,m,v,x,T,E,M,S){var P=this.tempTriangle;P[0].x=c,P[0].y=p,P[0].width=E,P[1].x=m,P[1].y=v,P[1].width=E,P[2].x=x,P[2].y=T,P[2].width=E,P[3].x=c,P[3].y=p,P[3].width=E,this.batchStrokePath(P,E,!1,M,S)},batchFillPath:function(c,p,m){this.renderer.pipelines.set(this);var v=this.calcMatrix;m&&m.multiply(p,v);for(var E,M,x=c.length,T=this.polygonCache,S=this.fillTint.TL,P=this.fillTint.TR,R=this.fillTint.BL,w=0;w<x;++w)T.push((M=c[w]).x,M.y);x=(E=g(T)).length;for(var L=0;L<x;L+=3){var I=2*E[L+0],B=2*E[L+1],G=2*E[L+2],H=T[I+0],Y=T[I+1],$=T[B+0],J=T[B+1],_=T[G+0],tt=T[G+1],U=v.getX(H,Y),V=v.getY(H,Y),X=v.getX($,J),W=v.getY($,J),j=v.getX(_,tt),K=v.getY(_,tt);this.batchTri(U,V,X,W,j,K,S,P,R)}T.length=0},batchStrokePath:function(c,p,m,v,x){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var T=c.length-1,E=0;E<T;E++){var M=c[E],S=c[E+1];this.batchLine(M.x,M.y,S.x,S.y,M.width/2,S.width/2,p,E,!m&&E===T-1,v,x)}},batchLine:function(c,p,m,v,x,T,E,M,S,P,R){this.renderer.pipelines.set(this);var w=this.calcMatrix;R&&R.multiply(P,w);var L=m-c,I=v-p,B=Math.sqrt(L*L+I*I),G=x*(v-p)/B,H=x*(c-m)/B,Y=T*(v-p)/B,$=T*(c-m)/B,J=m-Y,_=v-$,tt=c-G,U=p-H,V=m+Y,X=v+$,W=c+G,j=p+H,K=w.getX(J,_),q=w.getY(J,_),et=w.getX(tt,U),rt=w.getY(tt,U),ot=w.getX(V,X),at=w.getY(V,X),ft=w.getX(W,j),ct=w.getY(W,j),xt=this.strokeTint,mt=xt.TL,Ct=xt.TR,kt=xt.BL,Nt=xt.BR;if(this.batchQuad(ft,ct,et,rt,K,q,ot,at,mt,Ct,kt,Nt),!(E<=2)){var bt=this.prevQuad,gt=this.firstQuad;M>0&&bt[4]?this.batchQuad(ft,ct,et,rt,bt[0],bt[1],bt[2],bt[3],mt,Ct,kt,Nt):(gt[0]=ft,gt[1]=ct,gt[2]=et,gt[3]=rt,gt[4]=1),S&&gt[4]?this.batchQuad(K,q,ot,at,gt[0],gt[1],gt[2],gt[3],mt,Ct,kt,Nt):(bt[0]=K,bt[1]=q,bt[2]=ot,bt[3]=at,bt[4]=1)}},batchVert:function(c,p,m){var v=this.vertexViewF32,x=this.vertexViewU32,T=this.vertexCount*this.currentShader.vertexComponentCount-1;v[++T]=c,v[++T]=p,x[++T]=m,this.vertexCount++},batchQuad:function(c,p,m,v,x,T,E,M,S,P,R,w){var L=!1;return this.shouldFlush(6)&&(this.flush(),L=!0),this.batchVert(c,p,S),this.batchVert(m,v,R),this.batchVert(x,T,w),this.batchVert(c,p,S),this.batchVert(x,T,w),this.batchVert(E,M,P),L},batchTri:function(c,p,m,v,x,T,E,M,S){var P=!1;return this.shouldFlush(3)&&(this.flush(),P=!0),this.batchVert(c,p,E),this.batchVert(m,v,M),this.batchVert(x,T,S),P},destroy:function(){return d.prototype.destroy.call(this),this.polygonCache=null,this}});C.exports=r},function(C,F,n){var l=n(0),g=n(2),f=n(873),u=n(105),h=n(3),o=n(57),a=10,d=new h,r=new l({Extends:u,initialize:function(p){a=p.game.renderer.config.maxLights;for(var m=g(p,"fragShader",f),v=[],x=1;x<=a;x++)v.push({name:"lights"+x,fragShader:m.replace("%LIGHT_COUNT%",x.toString())});p.shaders=v,u.call(this,p),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1])},boot:function(){o.prototype.boot.call(this);var c=this.gl,p=c.createTexture();c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,p),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:p};for(var m=0;m<this.shaders.length;m++)this["lightShader"+(m+1)]=this.shaders[m]},onRender:function(c,p){var m=c.sys.lights;if(m&&m.active){var v=m.getLights(p),x=v.length;if(0!==x){this.setShader(this["lightShader"+x],!0);var T,M=this.renderer.height,S=p.matrix;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",p.x,p.y,p.rotation,p.zoom),this.set3f("uAmbientLightColor",m.ambientColor.r,m.ambientColor.g,m.ambientColor.b),T=0;T<x;T++){var P=v[T].light,R=P.color,w="uLights["+T+"].";S.transformPoint(P.x,P.y,d),this.set2f(w+"position",d.x-p.scrollX*P.scrollFactorX*p.zoom,M-(d.y-p.scrollY*P.scrollFactorY*p.zoom)),this.set3f(w+"color",R.r,R.g,R.b),this.set1f(w+"intensity",P.intensity),this.set1f(w+"radius",P.radius)}this.currentNormalMapRotation=null}}},setNormalMapRotation:function(c){if(c!==this.currentNormalMapRotation||0===this.vertexCount){this.vertexCount>0&&this.flush();var p=this.inverseRotationMatrix;if(c){var m=-c,v=Math.cos(m),x=Math.sin(m);p[1]=x,p[3]=-x,p[0]=p[4]=v}else p[0]=p[4]=1,p[1]=p[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,p),this.currentNormalMapRotation=c}},setTexture2D:function(c,p){var m=this.renderer;void 0===c&&(c=m.tempTextures[0]);var v=this.getNormalMap(p);return m.isNewNormalMap(c,v)&&(this.flush(),m.setTextureZero(c),m.setNormalMap(v)),this.setNormalMapRotation(p?p.rotation:0),this.currentUnit=0,0},setGameObject:function(c,p){void 0===p&&(p=c.frame);var m=this.renderer,v=p.glTexture,x=this.getNormalMap(c);return m.isNewNormalMap()&&(this.flush(),m.setTextureZero(v),m.setNormalMap(x)),this.setNormalMapRotation(c.rotation),this.currentUnit=0,0},getNormalMap:function(c){var p;return c?c.displayTexture?p=c.displayTexture.dataSource[c.displayFrame.sourceIndex]:c.texture?p=c.texture.dataSource[c.frame.sourceIndex]:c.tileset&&(p=Array.isArray(c.tileset)?c.tileset[0].image.dataSource[0]:c.tileset.image.dataSource[0]):p=this.defaultNormalMap,p||(p=this.defaultNormalMap),p.glTexture}});r.LIGHT_COUNT=a,C.exports=r},function(C,F,n){var l=n(0),g=n(2),f=n(876),u=n(877),h=n(57),o=new l({Extends:h,initialize:function(d){d.vertShader=g(d,"vertShader",u),d.fragShader=g(d,"fragShader",f),d.attributes=g(d,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),h.call(this,d)},onRender:function(a,d){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",d.zoom)},batchPointLight:function(a,d,r,c,p,m,v,x,T,E,M,S){var P=a.color,R=a.intensity,w=a.radius,L=a.attenuation,I=P.r*R,B=P.g*R,G=P.b*R,H=d.alpha*a.alpha;this.shouldFlush(6)&&this.flush(),this.batchLightVert(r,c,M,S,w,L,I,B,G,H),this.batchLightVert(p,m,M,S,w,L,I,B,G,H),this.batchLightVert(v,x,M,S,w,L,I,B,G,H),this.batchLightVert(r,c,M,S,w,L,I,B,G,H),this.batchLightVert(v,x,M,S,w,L,I,B,G,H),this.batchLightVert(T,E,M,S,w,L,I,B,G,H)},batchLightVert:function(a,d,r,c,p,m,v,x,T,E){var M=this.vertexViewF32,S=this.vertexCount*this.currentShader.vertexComponentCount-1;M[++S]=a,M[++S]=d,M[++S]=r,M[++S]=c,M[++S]=p,M[++S]=m,M[++S]=v,M[++S]=x,M[++S]=T,M[++S]=E,this.vertexCount++}});C.exports=o},function(C,F,n){var l=n(0),g=n(2),f=n(105),u=new l({Extends:f,initialize:function(o){o.topology=5,o.batchSize=g(o,"batchSize",256),f.call(this,o)}});C.exports=u},function(C,F,n){var l=n(0),g=n(2),f=n(105),u=n(878),h=n(879),o=n(57),a=new l({Extends:f,initialize:function(r){r.fragShader=g(r,"fragShader",u),r.vertShader=g(r,"vertShader",h),r.forceZero=!0,f.call(this,r)},boot:function(){o.prototype.boot.call(this),this.set1i("uMainSampler",0)}});C.exports=a},function(C,F,n){var l=n(880),g=n(33),f=n(0),u=n(195),h=n(881),o=n(882),a=n(2),d=n(883),r=n(376),c=n(57),p=new f({Extends:c,initialize:function(v){v.renderTarget=a(v,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),v.vertShader=a(v,"vertShader",r),v.shaders=a(v,"shaders",[{name:"Copy",fragShader:o},{name:"AddBlend",fragShader:l},{name:"LinearBlend",fragShader:d},{name:"ColorMatrix",fragShader:h}]),v.attributes=a(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),v.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],v.batchSize=1,c.call(this,v),this.colorMatrix=new u},boot:function(){c.prototype.boot.call(this);var m=this.shaders,v=this.renderTargets;this.copyShader=m[0],this.addShader=m[1],this.linearShader=m[2],this.colorMatrixShader=m[3],this.fullFrame1=v[0],this.fullFrame2=v[1],this.halfFrame1=v[2],this.halfFrame2=v[3]},copyFrame:function(m,v,x,T,E){void 0===x&&(x=1),void 0===T&&(T=!0),void 0===E&&(E=!0);var M=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",x),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,m.texture),v?(M.viewport(0,0,v.width,v.height),M.bindFramebuffer(M.FRAMEBUFFER,v.framebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,v.texture,0)):M.viewport(0,0,m.width,m.height),T&&(M.clearColor(0,0,0,E?0:1),M.clear(M.COLOR_BUFFER_BIT)),M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},blitFrame:function(m,v,x,T,E,M){void 0===x&&(x=1),void 0===T&&(T=!0),void 0===E&&(E=!0),void 0===M&&(M=!1);var S=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",x),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,m.texture),m.height>v.height?(S.viewport(0,0,m.width,m.height),this.setTargetUVs(m,v)):S.viewport(0,v.height-m.height,m.width,m.height),S.bindFramebuffer(S.FRAMEBUFFER,v.framebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,v.texture,0),T&&(S.clearColor(0,0,0,E?0:1),S.clear(S.COLOR_BUFFER_BIT)),M){var R=this.renderer.currentBlendMode;this.renderer.setBlendMode(g.ERASE)}S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),M&&this.renderer.setBlendMode(R),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(m,v,x,T,E,M,S,P){void 0===S&&(S=!0),void 0===P&&(P=!0);var R=this.gl;R.bindFramebuffer(R.FRAMEBUFFER,m.framebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,m.texture,0),S&&(R.clearColor(0,0,0,P?0:1),R.clear(R.COLOR_BUFFER_BIT)),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,v.texture),R.copyTexSubImage2D(R.TEXTURE_2D,0,0,0,x,T,E,M),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},copyToGame:function(m){var v=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,m.texture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),this.renderer.resetTextures()},drawFrame:function(m,v,x,T){void 0===x&&(x=!0),void 0===T&&(T=this.colorMatrix);var E=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",T.getData()),this.set1f("uAlpha",T.alpha),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,m.texture),v?(E.viewport(0,0,v.width,v.height),E.bindFramebuffer(E.FRAMEBUFFER,v.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,v.texture,0)):E.viewport(0,0,m.width,m.height),E.clearColor(0,0,0,x?0:1),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blendFrames:function(m,v,x,T,E,M){void 0===T&&(T=1),void 0===E&&(E=!0),void 0===M&&(M=this.linearShader);var S=this.gl;this.setShader(M),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",T),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,m.texture),S.activeTexture(S.TEXTURE1),S.bindTexture(S.TEXTURE_2D,v.texture),x?(S.bindFramebuffer(S.FRAMEBUFFER,x.framebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,x.texture,0),S.viewport(0,0,x.width,x.height)):S.viewport(0,0,m.width,m.height),S.clearColor(0,0,0,E?0:1),S.clear(S.COLOR_BUFFER_BIT),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blendFramesAdditive:function(m,v,x,T,E){this.blendFrames(m,v,x,T,E,this.addShader)},clearFrame:function(m,v){void 0===v&&(v=!0);var x=this.gl;x.viewport(0,0,m.width,m.height),x.bindFramebuffer(x.FRAMEBUFFER,m.framebuffer),x.clearColor(0,0,0,v?0:1),x.clear(x.COLOR_BUFFER_BIT),x.bindFramebuffer(x.FRAMEBUFFER,this.renderer.currentFramebuffer)},setUVs:function(m,v,x,T,E,M,S,P){var R=this.vertexViewF32;R[2]=m,R[3]=v,R[6]=x,R[7]=T,R[10]=E,R[11]=M,R[14]=m,R[15]=v,R[18]=E,R[19]=M,R[22]=S,R[23]=P},setTargetUVs:function(m,v){var x=v.height/m.height;this.setUVs(0,x=x>.5?.5-(x-.5):.5-x+.5,0,1+x,1,1+x,1,x)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});C.exports=p},function(C,F){C.exports=["#define SHADER_NAME PHASER_QUAD_VS","","precision mediump float;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","","varying vec2 outFragCoord;","varying vec2 outTexCoord;","","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","","    gl_Position = vec4(inPosition, 0, 1);","}",""].join("\n")},function(C,F,n){var l=n(31),g=n(36),f=n(2);C.exports=function(h,o){var a=h.getContext("experimental-webgl"),d=f(o,"callback"),r=f(o,"type","image/png"),c=f(o,"encoder",.92),p=f(o,"x",0),m=f(o,"y",0),v=f(o,"getPixel",!1),x=f(o,"isFramebuffer",!1),T=x?f(o,"bufferWidth",1):a.drawingBufferWidth,E=x?f(o,"bufferHeight",1):a.drawingBufferHeight;if(v){var M=new Uint8Array(4);a.readPixels(p,x?m:E-m,1,1,a.RGBA,a.UNSIGNED_BYTE,M),d.call(null,new g(M[0],M[1],M[2],M[3]/255))}else{var P=f(o,"width",T),R=f(o,"height",E),L=new Uint8Array(P*R*4);a.readPixels(p,E-m-R,P,R,a.RGBA,a.UNSIGNED_BYTE,L);for(var I=l.createWebGL(this,P,R),B=I.getContext("2d"),G=B.getImageData(0,0,P,R),H=G.data,Y=0;Y<R;Y++)for(var $=0;$<P;$++){var J=4*((R-Y-1)*P+$),_=4*(Y*P+$);H[_+0]=L[J+0],H[_+1]=L[J+1],H[_+2]=L[J+2],H[_+3]=L[J+3]}B.putImageData(G,0,0);var tt=new Image;tt.onerror=function(){d.call(null),l.remove(I)},tt.onload=function(){d.call(null,tt),l.remove(I)},tt.src=I.toDataURL(r,c)}}},function(C,F,n){var l=n(39);C.exports=function(f){var u=f.config;if(!u.hideBanner){var h="WebGL";u.renderType===l.CANVAS?h="Canvas":u.renderType===l.HEADLESS&&(h="Headless");var d,o=u.audio,a=f.device.audio;if(d=a.webAudio&&!o.disableWebAudio?"Web Audio":o.noAudio||!a.webAudio&&!a.audioData?"No Audio":"HTML5 Audio",f.device.browser.ie)window.console&&console.log("Phaser v"+l.VERSION+" / https://phaser.io");else{var p,r="",c=[r];Array.isArray(u.bannerBackgroundColor)?(u.bannerBackgroundColor.forEach(function(v){r=r.concat("%c "),c.push("background: "+v),p=v}),c[c.length-1]="color: "+u.bannerTextColor+"; background: "+p):(r=r.concat("%c "),c.push("color: "+u.bannerTextColor+"; background: "+u.bannerBackgroundColor)),c.push("background: #fff"),u.gameTitle&&(r=r.concat(u.gameTitle),u.gameVersion&&(r=r.concat(" v"+u.gameVersion)),u.hidePhaser||(r=r.concat(" / "))),u.hidePhaser||(r=r.concat("Phaser v"+l.VERSION+" ("+h+" | "+d+")")),r=r.concat(" %c "+u.gameURL),c[0]=r,console.log.apply(console,c)}}}},function(C,F,n){var l=n(0),g=n(6),f=n(1),u=n(380),h=new l({initialize:function(a,d){this.game=a,this.raf=new u,this.started=!1,this.running=!1,this.minFps=g(d,"min",5),this.targetFps=g(d,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=f,this.forceSetTimeOut=g(d,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=g(d,"deltaHistory",10),this.panicMax=g(d,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=g(d,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var o=window.performance.now();this.time=o,this.lastTime=o,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0;for(var a=0;a<this.deltaSmoothingMax;a++)this.deltaHistory[a]=Math.min(this._target,this.deltaHistory[a]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(o){if(this.started)return this;this.started=!0,this.running=!0;for(var a=0;a<this.deltaSmoothingMax;a++)this.deltaHistory[a]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=o,this.raf.start(this.step.bind(this),this.forceSetTimeOut,this._target)},step:function(){var o=window.performance.now();this.now=o;var a=o-this.lastTime;a<0&&(a=0),this.rawDelta=a;var d=this.deltaIndex,r=this.deltaHistory,c=this.deltaSmoothingMax,p=a,m=a;if(this.smoothStep){(this._coolDown>0||!this.inFocus)&&(this._coolDown--,p=Math.min(p,this._target)),p>this._min&&(p=r[d],p=Math.min(p,this._min)),r[d]=p,this.deltaIndex++,this.deltaIndex>c&&(this.deltaIndex=0),m=0;for(var v=0;v<c;v++)m+=r[v];m/=c}this.delta=m,this.time+=this.rawDelta,o>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0),this.framesThisSecond++,this.callback(o,m,m/this._target),this.lastTime=o,this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(o){this.running||(o&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step())},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=f,this.raf=null,this.game=null}});C.exports=h},function(C,F,n){var l=n(0),g=n(1),f=new l({initialize:function(){this.isRunning=!1,this.callback=g,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0,this.target=0;var h=this;this.step=function o(){var a=window.performance.now();h.lastTime=h.tick,h.tick=a,h.callback(a),h.timeOutID=window.requestAnimationFrame(o)},this.stepTimeout=function o(){var a=Date.now(),d=Math.min(Math.max(2*h.target+h.tick-a,0),h.target);h.lastTime=h.tick,h.tick=a,h.callback(a),h.timeOutID=window.setTimeout(o,d)}},start:function(u,h,o){this.isRunning||(this.callback=u,this.isSetTimeOut=h,this.target=o,this.isRunning=!0,this.timeOutID=h?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=g}});C.exports=f},function(C,F,n){var l=n(22);C.exports=function(f){var u,h=f.events;void 0!==document.hidden?u="visibilitychange":["webkit","moz","ms"].forEach(function(d){void 0!==document[d+"Hidden"]&&(document.hidden=function(){return document[d+"Hidden"]},u=d+"visibilitychange")}),u&&document.addEventListener(u,function(d){document.hidden||"pause"===d.type?h.emit(l.HIDDEN):h.emit(l.VISIBLE)},!1),window.onblur=function(){h.emit(l.BLUR)},window.onfocus=function(){h.emit(l.FOCUS)},window.focus&&f.config.autoFocus&&window.focus()}},function(C,F,n){var l=n(383),g=n(31),f=n(6);C.exports=function(h){var o=f(h,"data",[]),a=f(h,"canvas",null),d=f(h,"palette",l),r=f(h,"pixelWidth",1),c=f(h,"pixelHeight",r),p=f(h,"resizeCanvas",!0),m=f(h,"clearCanvas",!0),v=f(h,"preRender",null),x=f(h,"postRender",null),T=Math.floor(Math.abs(o[0].length*r)),E=Math.floor(Math.abs(o.length*c));a||(a=g.create2D(this,T,E),p=!1,m=!1),p&&(a.width=T,a.height=E);var M=a.getContext("2d");m&&M.clearRect(0,0,T,E),v&&v(a,M);for(var S=0;S<o.length;S++)for(var P=o[S],R=0;R<P.length;R++){var w=P[R];"."!==w&&" "!==w&&(M.fillStyle=d[w],M.fillRect(R*r,S*c,r,c))}return x&&x(a,M),a}},function(C,F){C.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(C,F,n){var l=n(0),g=n(352),f=n(90),u=n(3),h=new l({Extends:f,initialize:function(a,d,r,c){f.call(this,"CubicBezierCurve"),Array.isArray(a)&&(c=new u(a[6],a[7]),r=new u(a[4],a[5]),d=new u(a[2],a[3]),a=new u(a[0],a[1])),this.p0=a,this.p1=d,this.p2=r,this.p3=c},getStartPoint:function(o){return void 0===o&&(o=new u),o.copy(this.p0)},getResolution:function(o){return o},getPoint:function(o,a){void 0===a&&(a=new u);var d=this.p0,r=this.p1,c=this.p2,p=this.p3;return a.set(g(o,d.x,r.x,c.x,p.x),g(o,d.y,r.y,c.y,p.y))},draw:function(o,a){void 0===a&&(a=32);var d=this.getPoints(a);o.beginPath(),o.moveTo(this.p0.x,this.p0.y);for(var r=1;r<d.length;r++)o.lineTo(d[r].x,d[r].y);return o.strokePath(),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});h.fromJSON=function(o){var a=o.points,d=new u(a[0],a[1]),r=new u(a[2],a[3]),c=new u(a[4],a[5]),p=new u(a[6],a[7]);return new h(d,r,c,p)},C.exports=h},function(C,F,n){var l=n(0),g=n(90),f=n(34),u=n(6),h=n(193),o=n(3),a=new l({Extends:g,initialize:function(r,c,p,m,v,x,T,E){if("object"==typeof r){var M=r;r=u(M,"x",0),c=u(M,"y",0),p=u(M,"xRadius",0),m=u(M,"yRadius",p),v=u(M,"startAngle",0),x=u(M,"endAngle",360),T=u(M,"clockwise",!1),E=u(M,"rotation",0)}else void 0===m&&(m=p),void 0===v&&(v=0),void 0===x&&(x=360),void 0===T&&(T=!1),void 0===E&&(E=0);g.call(this,"EllipseCurve"),this.p0=new o(r,c),this._xRadius=p,this._yRadius=m,this._startAngle=f(v),this._endAngle=f(x),this._clockwise=T,this._rotation=f(E)},getStartPoint:function(d){return void 0===d&&(d=new o),this.getPoint(0,d)},getResolution:function(d){return 2*d},getPoint:function(d,r){void 0===r&&(r=new o);for(var c=2*Math.PI,p=this._endAngle-this._startAngle,m=Math.abs(p)<Number.EPSILON;p<0;)p+=c;for(;p>c;)p-=c;p<Number.EPSILON&&(p=m?0:c),this._clockwise&&!m&&(p===c?p=-c:p-=c);var v=this._startAngle+d*p,x=this.p0.x+this._xRadius*Math.cos(v),T=this.p0.y+this._yRadius*Math.sin(v);if(0!==this._rotation){var E=Math.cos(this._rotation),M=Math.sin(this._rotation),S=x-this.p0.x,P=T-this.p0.y;x=S*E-P*M+this.p0.x,T=S*M+P*E+this.p0.y}return r.set(x,T)},setXRadius:function(d){return this.xRadius=d,this},setYRadius:function(d){return this.yRadius=d,this},setWidth:function(d){return this.xRadius=d/2,this},setHeight:function(d){return this.yRadius=d/2,this},setStartAngle:function(d){return this.startAngle=d,this},setEndAngle:function(d){return this.endAngle=d,this},setClockwise:function(d){return this.clockwise=d,this},setRotation:function(d){return this.rotation=d,this},x:{get:function(){return this.p0.x},set:function(d){this.p0.x=d}},y:{get:function(){return this.p0.y},set:function(d){this.p0.y=d}},xRadius:{get:function(){return this._xRadius},set:function(d){this._xRadius=d}},yRadius:{get:function(){return this._yRadius},set:function(d){this._yRadius=d}},startAngle:{get:function(){return h(this._startAngle)},set:function(d){this._startAngle=f(d)}},endAngle:{get:function(){return h(this._endAngle)},set:function(d){this._endAngle=f(d)}},clockwise:{get:function(){return this._clockwise},set:function(d){this._clockwise=d}},angle:{get:function(){return h(this._rotation)},set:function(d){this._rotation=f(d)}},rotation:{get:function(){return this._rotation},set:function(d){this._rotation=d}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:h(this._startAngle),endAngle:h(this._endAngle),clockwise:this._clockwise,rotation:h(this._rotation)}}});a.fromJSON=function(d){return new a(d)},C.exports=a},function(C,F,n){var l=n(0),g=n(90),f=n(196),u=n(10),h=n(3),o=new h,a=new l({Extends:g,initialize:function(r,c){g.call(this,"LineCurve"),Array.isArray(r)&&(c=new h(r[2],r[3]),r=new h(r[0],r[1])),this.p0=r,this.p1=c,this.arcLengthDivisions=1},getBounds:function(d){return void 0===d&&(d=new u),f([this.p0,this.p1],d)},getStartPoint:function(d){return void 0===d&&(d=new h),d.copy(this.p0)},getResolution:function(d){return void 0===d&&(d=1),d},getPoint:function(d,r){return void 0===r&&(r=new h),1===d?r.copy(this.p1):(r.copy(this.p1).subtract(this.p0).scale(d).add(this.p0),r)},getPointAt:function(d,r){return this.getPoint(d,r)},getTangent:function(){return o.copy(this.p1).subtract(this.p0).normalize()},getUtoTmapping:function(d,r,c){var p;if(r){var m=this.getLengths(c),v=m[m.length-1];p=Math.min(r,v)/v}else p=d;return p},draw:function(d){return d.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),d},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});a.fromJSON=function(d){var r=d.points,c=new h(r[0],r[1]),p=new h(r[2],r[3]);return new a(c,p)},C.exports=a},function(C,F,n){var l=n(0),g=n(3),f=new l({initialize:function(h,o){this.active=!1,this.p0=new g(h,o)},getPoint:function(u,h){return void 0===h&&(h=new g),h.copy(this.p0)},getPointAt:function(u,h){return this.getPoint(u,h)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});C.exports=f},function(C,F,n){var l=n(0),g=n(90),f=n(353),u=n(3),h=new l({Extends:g,initialize:function(a,d,r){g.call(this,"QuadraticBezier"),Array.isArray(a)&&(r=new u(a[4],a[5]),d=new u(a[2],a[3]),a=new u(a[0],a[1])),this.p0=a,this.p1=d,this.p2=r},getStartPoint:function(o){return void 0===o&&(o=new u),o.copy(this.p0)},getResolution:function(o){return o},getPoint:function(o,a){void 0===a&&(a=new u);var d=this.p0,r=this.p1,c=this.p2;return a.set(f(o,d.x,r.x,c.x),f(o,d.y,r.y,c.y))},draw:function(o,a){void 0===a&&(a=32);var d=this.getPoints(a);o.beginPath(),o.moveTo(this.p0.x,this.p0.y);for(var r=1;r<d.length;r++)o.lineTo(d[r].x,d[r].y);return o.strokePath(),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});h.fromJSON=function(o){var a=o.points,d=new u(a[0],a[1]),r=new u(a[2],a[3]),c=new u(a[4],a[5]);return new h(d,r,c)},C.exports=h},function(C,F,n){var l=n(191),g=n(0),f=n(90),u=n(3),h=new g({Extends:f,initialize:function(a){void 0===a&&(a=[]),f.call(this,"SplineCurve"),this.points=[],this.addPoints(a)},addPoints:function(o){for(var a=0;a<o.length;a++){var d=new u;"number"==typeof o[a]?(d.x=o[a],d.y=o[a+1],a++):Array.isArray(o[a])?(d.x=o[a][0],d.y=o[a][1]):(d.x=o[a].x,d.y=o[a].y),this.points.push(d)}return this},addPoint:function(o,a){var d=new u(o,a);return this.points.push(d),d},getStartPoint:function(o){return void 0===o&&(o=new u),o.copy(this.points[0])},getResolution:function(o){return o*this.points.length},getPoint:function(o,a){void 0===a&&(a=new u);var d=this.points,r=(d.length-1)*o,c=Math.floor(r),p=r-c,m=d[0===c?c:c-1],v=d[c],x=d[c>d.length-2?d.length-1:c+1],T=d[c>d.length-3?d.length-1:c+2];return a.set(l(p,m.x,v.x,x.x,T.x),l(p,m.y,v.y,x.y,T.y))},toJSON:function(){for(var o=[],a=0;a<this.points.length;a++)o.push(this.points[a].x),o.push(this.points[a].y);return{type:this.type,points:o}}});h.fromJSON=function(o){return new h(o.points)},C.exports=h},function(C,F,n){var g=new(n(0))({initialize:function(u,h,o,a){(!h||""===h)&&(h=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join("\n")),(!o||""===o)&&(o=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join("\n")),void 0===a&&(a=null),this.key=u,this.fragmentSrc=h,this.vertexSrc=o,this.uniforms=a}});C.exports=g},function(C,F,n){var l=n(36);l.ColorSpectrum=n(905),l.ColorToRGBA=n(906),l.ComponentToHex=n(392),l.GetColor=n(100),l.GetColor32=n(322),l.HexStringToColor=n(321),l.HSLToColor=n(907),l.HSVColorWheel=n(908),l.HSVToRGB=n(185),l.HueToComponent=n(393),l.IntegerToColor=n(186),l.IntegerToRGB=n(324),l.Interpolate=n(909),l.ObjectToColor=n(325),l.RandomRGB=n(910),l.RGBStringToColor=n(326),l.RGBToHSV=n(323),l.RGBToString=n(911),l.ValueToColor=n(184),C.exports=l},function(C,F){C.exports=function(l){var g=l.toString(16);return 1===g.length?"0"+g:g}},function(C,F){C.exports=function(l,g,f){return f<0&&(f+=1),f>1&&(f-=1),f<.16666666666666666?l+6*(g-l)*f:f<.5?g:f<.6666666666666666?l+(g-l)*(.6666666666666666-f)*6:l}},function(C,F,n){var l=n(102);C.exports=function(f){if("complete"!==document.readyState&&"interactive"!==document.readyState){var u=function(){document.removeEventListener("deviceready",u,!0),document.removeEventListener("DOMContentLoaded",u,!0),window.removeEventListener("load",u,!0),f()};document.body?l.cordova?document.addEventListener("deviceready",u,!1):(document.addEventListener("DOMContentLoaded",u,!0),window.addEventListener("load",u,!0)):window.setTimeout(u,20)}else f()}},function(C,F){C.exports=function(l){if(!l)return window.innerHeight;var g=Math.abs(window.orientation),f={w:0,h:0},u=document.createElement("div");return u.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(u),f.w=90===g?u.offsetHeight:window.innerWidth,f.h=90===g?window.innerWidth:u.offsetHeight,document.documentElement.removeChild(u),u=null,90!==Math.abs(window.orientation)?f.h:f.w}},function(C,F,n){var l=n(198);C.exports=function(f,u){var h=window.screen,o=!!h&&(h.orientation||h.mozOrientation||h.msOrientation);return o&&"string"==typeof o.type?o.type:"string"==typeof o?o:"number"==typeof window.orientation?0===window.orientation||180===window.orientation?l.ORIENTATION.PORTRAIT:l.ORIENTATION.LANDSCAPE:window.matchMedia?window.matchMedia("(orientation: portrait)").matches?l.ORIENTATION.PORTRAIT:window.matchMedia("(orientation: landscape)").matches?l.ORIENTATION.LANDSCAPE:void 0:u>f?l.ORIENTATION.PORTRAIT:l.ORIENTATION.LANDSCAPE}},function(C,F){C.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},function(C,F){C.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},function(C,F){C.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},function(C,F){C.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},function(C,F){C.exports=function(l){var g;return""!==l&&("string"==typeof l?g=document.getElementById(l):l&&1===l.nodeType&&(g=l)),g||(g=document.body),g}},function(C,F){C.exports=function(l){var g="";try{window.DOMParser?g=(new DOMParser).parseFromString(l,"text/xml"):(g=new ActiveXObject("Microsoft.XMLDOM")).loadXML(l)}catch(u){g=null}return g&&g.documentElement&&!g.getElementsByTagName("parsererror").length?g:null}},function(C,F,n){var l=n(0),g=n(200),f=n(9),u=n(49),h=n(22),o=n(404),a=n(405),d=n(406),r=n(407),c=n(25),p=n(174),m=new l({initialize:function(x,T){this.game=x,this.config=T,this.enabled=!0,this.events=new f,this.isOver=!0,this.defaultCursor="",this.keyboard=T.inputKeyboard?new o(this):null,this.mouse=T.inputMouse?new a(this):null,this.touch=T.inputTouch?new r(this):null,this.pointers=[],this.pointersTotal=T.inputActivePointers,T.inputTouch&&1===this.pointersTotal&&(this.pointersTotal=2);for(var E=0;E<=this.pointersTotal;E++){var M=new d(this,E);M.smoothFactor=T.inputSmoothFactor,this.pointers.push(M)}this.mousePointer=T.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new c,this._tempMatrix2=new c,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],x.events.once(h.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(u.MANAGER_BOOT),this.game.events.on(h.PRE_RENDER,this.preRender,this),this.game.events.once(h.DESTROY,this.destroy,this)},setCanvasOver:function(v){this.isOver=!0,this.events.emit(u.GAME_OVER,v)},setCanvasOut:function(v){this.isOver=!1,this.events.emit(u.GAME_OUT,v)},preRender:function(){var v=this.game.loop.now,x=this.game.loop.delta,T=this.game.scene.getScenes(!0,!0);this.time=v,this.events.emit(u.MANAGER_UPDATE);for(var E=0;E<T.length;E++){var M=T[E];if(M.sys.input&&M.sys.input.updatePoll(v,x)&&this.globalTopOnly)return}},setDefaultCursor:function(v){this.defaultCursor=v,this.canvas.style.cursor!==v&&(this.canvas.style.cursor=v)},setCursor:function(v){v.cursor&&(this.canvas.style.cursor=v.cursor)},resetCursor:function(v){v.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(v){void 0===v&&(v=1);var x=[];this.pointersTotal+v>10&&(v=10-this.pointersTotal);for(var T=0;T<v;T++){var M=new d(this,this.pointers.length);M.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(M),this.pointersTotal++,x.push(M)}return x},updateInputPlugins:function(v,x){var T=this.game.scene.getScenes(!0,!0);this._tempSkip=!1;for(var E=0;E<T.length;E++){var M=T[E];if(M.sys.input&&(M.sys.input.update(v,x)&&this.globalTopOnly||this._tempSkip))return}},onTouchStart:function(v){for(var x=this.pointers,T=[],E=0;E<v.changedTouches.length;E++)for(var M=v.changedTouches[E],S=1;S<this.pointersTotal;S++){var P=x[S];if(!P.active){P.touchstart(M,v),this.activePointer=P,T.push(P);break}}this.updateInputPlugins(g.TOUCH_START,T)},onTouchMove:function(v){for(var x=this.pointers,T=[],E=0;E<v.changedTouches.length;E++)for(var M=v.changedTouches[E],S=1;S<this.pointersTotal;S++){var P=x[S];if(P.active&&P.identifier===M.identifier){P.touchmove(M,v),this.activePointer=P,T.push(P);break}}this.updateInputPlugins(g.TOUCH_MOVE,T)},onTouchEnd:function(v){for(var x=this.pointers,T=[],E=0;E<v.changedTouches.length;E++)for(var M=v.changedTouches[E],S=1;S<this.pointersTotal;S++){var P=x[S];if(P.active&&P.identifier===M.identifier){P.touchend(M,v),T.push(P);break}}this.updateInputPlugins(g.TOUCH_END,T)},onTouchCancel:function(v){for(var x=this.pointers,T=[],E=0;E<v.changedTouches.length;E++)for(var M=v.changedTouches[E],S=1;S<this.pointersTotal;S++){var P=x[S];if(P.active&&P.identifier===M.identifier){P.touchcancel(M,v),T.push(P);break}}this.updateInputPlugins(g.TOUCH_CANCEL,T)},onMouseDown:function(v){var x=this.mousePointer;x.down(v),x.updateMotion(),this.activePointer=x,this.updateInputPlugins(g.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(v){var x=this.mousePointer;x.move(v),x.updateMotion(),this.activePointer=x,this.updateInputPlugins(g.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(v){var x=this.mousePointer;x.up(v),x.updateMotion(),this.activePointer=x,this.updateInputPlugins(g.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(v){var x=this.mousePointer;x.wheel(v),this.activePointer=x,this.updateInputPlugins(g.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(v){var x=this.mouse.locked;this.mousePointer.locked=x,this.events.emit(u.POINTERLOCK_CHANGE,v,x)},inputCandidate:function(v,x){var T=v.input;if(!T||!T.enabled||!T.alwaysEnabled&&!v.willRender(x))return!1;var E=!0,M=v.parentContainer;if(M)do{if(!M.willRender(x)){E=!1;break}M=M.parentContainer}while(M);return E},hitTest:function(v,x,T,E){void 0===E&&(E=this._tempHitTest);var M=this._tempPoint,S=T.scrollX,P=T.scrollY;E.length=0,T.getWorldPoint(v.x,v.y,M),v.worldX=M.x,v.worldY=M.y;for(var L={x:0,y:0},I=this._tempMatrix,B=this._tempMatrix2,G=0;G<x.length;G++){var H=x[G];if(this.inputCandidate(H,T)){var Y=M.x+S*H.scrollFactorX-S,$=M.y+P*H.scrollFactorY-P;H.parentContainer?(H.getWorldTransformMatrix(I,B),I.applyInverse(Y,$,L)):p(Y,$,H.x,H.y,H.rotation,H.scaleX,H.scaleY,L),this.pointWithinHitArea(H,L.x,L.y)&&E.push(H)}}return E},pointWithinHitArea:function(v,x,T){x+=v.displayOriginX,T+=v.displayOriginY;var E=v.input;return!(!E||!E.hitAreaCallback(E.hitArea,x,T,v)||(E.localX=x,E.localY=T,0))},pointWithinInteractiveObject:function(v,x,T){return!!v.hitArea&&(T+=v.gameObject.displayOriginY,v.localX=x+=v.gameObject.displayOriginX,v.localY=T,v.hitAreaCallback(v.hitArea,x,T,v))},transformPointer:function(v,x,T,E){var M=v.position,S=v.prevPosition;S.x=M.x,S.y=M.y;var P=this.scaleManager.transformX(x),R=this.scaleManager.transformY(T),w=v.smoothFactor;E&&0!==w?(M.x=P*w+S.x*(1-w),M.y=R*w+S.y*(1-w)):(M.x=P,M.y=R)},destroy:function(){this.events.removeAllListeners(),this.game.events.off(h.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var v=0;v<this.pointers.length;v++)this.pointers[v].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});C.exports=m},function(C,F,n){var l=n(89),g=n(0),f=n(22),u=n(49),h=n(141),o=n(1),a=new g({initialize:function(r){this.manager=r,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.onKeyDown=o,this.onKeyUp=o,r.events.once(u.MANAGER_BOOT,this.boot,this)},boot:function(){var d=this.manager.config;this.enabled=d.inputKeyboard,this.target=d.inputKeyboardEventTarget,this.addCapture(d.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(f.POST_STEP,this.postUpdate,this)},startListeners:function(){var d=this;this.onKeyDown=function(c){!c.defaultPrevented&&d.enabled&&d.manager&&(d.queue.push(c),d.manager.events.emit(u.MANAGER_PROCESS),d.preventDefault&&!(c.altKey||c.ctrlKey||c.shiftKey||c.metaKey)&&d.captures.indexOf(c.keyCode)>-1&&c.preventDefault())},this.onKeyUp=function(c){!c.defaultPrevented&&d.enabled&&d.manager&&(d.queue.push(c),d.manager.events.emit(u.MANAGER_PROCESS),d.preventDefault&&!(c.altKey||c.ctrlKey||c.shiftKey||c.metaKey)&&d.captures.indexOf(c.keyCode)>-1&&c.preventDefault())};var r=this.target;r&&(r.addEventListener("keydown",this.onKeyDown,!1),r.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var d=this.target;d.removeEventListener("keydown",this.onKeyDown,!1),d.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(d){"string"==typeof d&&(d=d.split(",")),Array.isArray(d)||(d=[d]);for(var r=this.captures,c=0;c<d.length;c++){var p=d[c];"string"==typeof p&&(p=h[p.trim().toUpperCase()]),-1===r.indexOf(p)&&r.push(p)}this.preventDefault=r.length>0},removeCapture:function(d){"string"==typeof d&&(d=d.split(",")),Array.isArray(d)||(d=[d]);for(var r=this.captures,c=0;c<d.length;c++){var p=d[c];"string"==typeof p&&(p=h[p.toUpperCase()]),l(r,p)}this.preventDefault=r.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(f.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});C.exports=a},function(C,F,n){var l=n(0),g=n(188),f=n(49),u=n(1),h=new l({initialize:function(a){this.manager=a,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.locked=!1,this.onMouseMove=u,this.onMouseDown=u,this.onMouseUp=u,this.onMouseDownWindow=u,this.onMouseUpWindow=u,this.onMouseOver=u,this.onMouseOut=u,this.onMouseWheel=u,this.pointerLockChange=u,this.isTop=!0,a.events.once(f.MANAGER_BOOT,this.boot,this)},boot:function(){var o=this.manager.config;this.enabled=o.inputMouse,this.target=o.inputMouseEventTarget,this.passive=o.inputMousePassive,this.preventDefaultDown=o.inputMousePreventDefaultDown,this.preventDefaultUp=o.inputMousePreventDefaultUp,this.preventDefaultMove=o.inputMousePreventDefaultMove,this.preventDefaultWheel=o.inputMousePreventDefaultWheel,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,o.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(o){return o.preventDefault(),!1}),this},requestPointerLock:function(){if(g.pointerLock){var o=this.target;o.requestPointerLock=o.requestPointerLock||o.mozRequestPointerLock||o.webkitRequestPointerLock,o.requestPointerLock()}},releasePointerLock:function(){g.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var o=this.target;if(o){var a=this,d=this.manager,r=d.canvas,c=window&&window.focus&&d.game.config.autoFocus;this.onMouseMove=function(m){!m.defaultPrevented&&a.enabled&&d&&d.enabled&&(d.onMouseMove(m),a.preventDefaultMove&&m.preventDefault())},this.onMouseDown=function(m){c&&window.focus(),!m.defaultPrevented&&a.enabled&&d&&d.enabled&&(d.onMouseDown(m),a.preventDefaultDown&&m.target===r&&m.preventDefault())},this.onMouseDownWindow=function(m){!m.defaultPrevented&&a.enabled&&d&&d.enabled&&m.target!==r&&d.onMouseDown(m)},this.onMouseUp=function(m){!m.defaultPrevented&&a.enabled&&d&&d.enabled&&(d.onMouseUp(m),a.preventDefaultUp&&m.target===r&&m.preventDefault())},this.onMouseUpWindow=function(m){!m.defaultPrevented&&a.enabled&&d&&d.enabled&&m.target!==r&&d.onMouseUp(m)},this.onMouseOver=function(m){!m.defaultPrevented&&a.enabled&&d&&d.enabled&&d.setCanvasOver(m)},this.onMouseOut=function(m){!m.defaultPrevented&&a.enabled&&d&&d.enabled&&d.setCanvasOut(m)},this.onMouseWheel=function(m){!m.defaultPrevented&&a.enabled&&d&&d.enabled&&d.onMouseWheel(m),a.preventDefaultWheel&&m.target===r&&m.preventDefault()};var p={passive:!0};if(o.addEventListener("mousemove",this.onMouseMove),o.addEventListener("mousedown",this.onMouseDown),o.addEventListener("mouseup",this.onMouseUp),o.addEventListener("mouseover",this.onMouseOver,p),o.addEventListener("mouseout",this.onMouseOut,p),o.addEventListener("wheel",this.onMouseWheel,this.preventDefaultWheel?{passive:!1}:p),window&&d.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,p),window.top.addEventListener("mouseup",this.onMouseUpWindow,p)}catch(m){window.addEventListener("mousedown",this.onMouseDownWindow,p),window.addEventListener("mouseup",this.onMouseUpWindow,p),this.isTop=!1}g.pointerLock&&(this.pointerLockChange=function(m){var v=a.target;a.locked=document.pointerLockElement===v||document.mozPointerLockElement===v||document.webkitPointerLockElement===v,d.onPointerLockChange(m)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var o=this.target;o.removeEventListener("mousemove",this.onMouseMove),o.removeEventListener("mousedown",this.onMouseDown),o.removeEventListener("mouseup",this.onMouseUp),o.removeEventListener("mouseover",this.onMouseOver),o.removeEventListener("mouseout",this.onMouseOut),window&&((o=this.isTop?window.top:window).removeEventListener("mousedown",this.onMouseDownWindow),o.removeEventListener("mouseup",this.onMouseUpWindow)),g.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});C.exports=h},function(C,F,n){var l=n(343),g=n(0),f=n(48),u=n(123),h=n(354),o=n(3),a=n(102),d=new g({initialize:function(c,p){this.manager=c,this.id=p,this.camera=null,this.button=0,this.buttons=0,this.position=new o,this.prevPosition=new o,this.midPoint=new o(-1,-1),this.velocity=new o,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=0===p,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(r){var c=r.getWorldPoint(this.x,this.y);return this.worldX=c.x,this.worldY=c.y,this},positionToCamera:function(r,c){return r.getWorldPoint(this.x,this.y,c)},updateMotion:function(){var r=this.position.x,c=this.position.y,p=this.midPoint.x,m=this.midPoint.y;if(r!==p||c!==m){var v=h(this.motionFactor,p,r),x=h(this.motionFactor,m,c);u(v,r,.1)&&(v=r),u(x,c,.1)&&(x=c),this.midPoint.set(v,x);var T=r-v,E=c-x;this.velocity.set(T,E),this.angle=l(v,x,r,c),this.distance=Math.sqrt(T*T+E*E)}},up:function(r){"buttons"in r&&(this.buttons=r.buttons),this.event=r,this.button=r.button,this.upElement=r.target,this.manager.transformPointer(this,r.pageX,r.pageY,!1),0===r.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),0===this.buttons&&(this.isDown=!1,this.upTime=r.timeStamp,this.wasTouch=!1)},down:function(r){"buttons"in r&&(this.buttons=r.buttons),this.event=r,this.button=r.button,this.downElement=r.target,this.manager.transformPointer(this,r.pageX,r.pageY,!1),0===r.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),a.macOS&&r.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=r.timeStamp),this.wasTouch=!1},move:function(r){"buttons"in r&&(this.buttons=r.buttons),this.event=r,this.manager.transformPointer(this,r.pageX,r.pageY,!0),this.locked&&(this.movementX=r.movementX||r.mozMovementX||r.webkitMovementX||0,this.movementY=r.movementY||r.mozMovementY||r.webkitMovementY||0),this.moveTime=r.timeStamp,this.wasTouch=!1},wheel:function(r){"buttons"in r&&(this.buttons=r.buttons),this.event=r,this.manager.transformPointer(this,r.pageX,r.pageY,!1),this.deltaX=r.deltaX,this.deltaY=r.deltaY,this.deltaZ=r.deltaZ,this.wasTouch=!1},touchstart:function(r,c){r.pointerId&&(this.pointerId=r.pointerId),this.identifier=r.identifier,this.target=r.target,this.active=!0,this.buttons=1,this.event=c,this.downElement=r.target,this.manager.transformPointer(this,r.pageX,r.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=c.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(r,c){this.event=c,this.manager.transformPointer(this,r.pageX,r.pageY,!0),this.moveTime=c.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(r,c){this.buttons=0,this.event=c,this.upElement=r.target,this.manager.transformPointer(this,r.pageX,r.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=c.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(r,c){this.buttons=0,this.event=c,this.upElement=r.target,this.manager.transformPointer(this,r.pageX,r.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=c.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return!!(1&this.buttons)},rightButtonDown:function(){return!!(2&this.buttons)},middleButtonDown:function(){return!!(4&this.buttons)},backButtonDown:function(){return!!(8&this.buttons)},forwardButtonDown:function(){return!!(16&this.buttons)},leftButtonReleased:function(){return 0===this.button&&!this.isDown},rightButtonReleased:function(){return 2===this.button&&!this.isDown},middleButtonReleased:function(){return 1===this.button&&!this.isDown},backButtonReleased:function(){return 3===this.button&&!this.isDown},forwardButtonReleased:function(){return 4===this.button&&!this.isDown},getDistance:function(){return this.isDown?f(this.downX,this.downY,this.x,this.y):f(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?l(this.downX,this.downY,this.x,this.y):l(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(r,c){void 0===r&&(r=10),void 0===c&&(c=[]);for(var p=this.prevPosition.x,m=this.prevPosition.y,v=this.position.x,x=this.position.y,T=0;T<r;T++){var E=1/r*T;c[T]={x:h(E,p,v),y:h(E,m,x)}}return c},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(r){this.position.x=r}},y:{get:function(){return this.position.y},set:function(r){this.position.y=r}},time:{get:function(){return this.event?this.event.timeStamp:0}}});C.exports=d},function(C,F,n){var l=n(0),g=n(49),f=n(1),u=new l({initialize:function(o){this.manager=o,this.capture=!0,this.enabled=!1,this.onTouchStart=f,this.onTouchStartWindow=f,this.onTouchMove=f,this.onTouchEnd=f,this.onTouchEndWindow=f,this.onTouchCancel=f,this.onTouchCancelWindow=f,this.onTouchOver=f,this.onTouchOut=f,o.events.once(g.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputTouch,this.target=h.inputTouchEventTarget,this.capture=h.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),h.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(h){return h.preventDefault(),!1}),this},startListeners:function(){var h=this,o=this.manager.canvas,a=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(p){a&&window.focus(),!p.defaultPrevented&&h.enabled&&h.manager&&h.manager.enabled&&(h.manager.onTouchStart(p),h.capture&&p.cancelable&&p.target===o&&p.preventDefault())},this.onTouchStartWindow=function(p){!p.defaultPrevented&&h.enabled&&h.manager&&h.manager.enabled&&p.target!==o&&h.manager.onTouchStart(p)},this.onTouchMove=function(p){!p.defaultPrevented&&h.enabled&&h.manager&&h.manager.enabled&&(h.manager.onTouchMove(p),h.capture&&p.cancelable&&p.preventDefault())},this.onTouchEnd=function(p){!p.defaultPrevented&&h.enabled&&h.manager&&h.manager.enabled&&(h.manager.onTouchEnd(p),h.capture&&p.cancelable&&p.target===o&&p.preventDefault())},this.onTouchEndWindow=function(p){!p.defaultPrevented&&h.enabled&&h.manager&&h.manager.enabled&&p.target!==o&&h.manager.onTouchEnd(p)},this.onTouchCancel=function(p){!p.defaultPrevented&&h.enabled&&h.manager&&h.manager.enabled&&(h.manager.onTouchCancel(p),h.capture&&p.preventDefault())},this.onTouchCancelWindow=function(p){!p.defaultPrevented&&h.enabled&&h.manager&&h.manager.enabled&&h.manager.onTouchCancel(p)},this.onTouchOver=function(p){!p.defaultPrevented&&h.enabled&&h.manager&&h.manager.enabled&&h.manager.setCanvasOver(p)},this.onTouchOut=function(p){!p.defaultPrevented&&h.enabled&&h.manager&&h.manager.enabled&&h.manager.setCanvasOut(p)};var d=this.target;if(d){var r={passive:!0},c={passive:!1};d.addEventListener("touchstart",this.onTouchStart,this.capture?c:r),d.addEventListener("touchmove",this.onTouchMove,this.capture?c:r),d.addEventListener("touchend",this.onTouchEnd,this.capture?c:r),d.addEventListener("touchcancel",this.onTouchCancel,this.capture?c:r),d.addEventListener("touchover",this.onTouchOver,this.capture?c:r),d.addEventListener("touchout",this.onTouchOut,this.capture?c:r),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,c),window.addEventListener("touchend",this.onTouchEndWindow,c),window.addEventListener("touchcancel",this.onTouchCancelWindow,c)),this.enabled=!0}},stopListeners:function(){var h=this.target;h.removeEventListener("touchstart",this.onTouchStart),h.removeEventListener("touchmove",this.onTouchMove),h.removeEventListener("touchend",this.onTouchEnd),h.removeEventListener("touchcancel",this.onTouchCancel),h.removeEventListener("touchover",this.onTouchOver),h.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",this.onTouchEndWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});C.exports=u},function(C,F,n){var l=n(0),g=n(22),f=n(9),u=n(8),h=n(16),o=n(5),a=n(2),d=n(24),r=n(89),c=new l({Extends:f,initialize:function(m){f.call(this),this.game=m,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],m.isBooted?this.boot():m.events.once(g.BOOT,this.boot,this)},boot:function(){var p,m,v,x,T,E,M,S=this.game.config,P=S.installGlobalPlugins;for(P=P.concat(this._pendingGlobal),p=0;p<P.length;p++)v=a(m=P[p],"key",null),x=a(m,"plugin",null),T=a(m,"start",!1),E=a(m,"mapping",null),M=a(m,"data",null),v&&(x?this.install(v,x,T,E,M):console.warn("Missing `plugin` for key: "+v));for(P=(P=S.installScenePlugins).concat(this._pendingScene),p=0;p<P.length;p++)v=a(m=P[p],"key",null),x=a(m,"plugin",null),E=a(m,"mapping",null),v&&(x?this.installScenePlugin(v,x,E):console.warn("Missing `plugin` for key: "+v));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(g.DESTROY,this.destroy,this)},addToScene:function(p,m,v){var x,T,E,M=this.game,S=p.scene,P=p.settings.map,R=p.settings.isBooted;for(x=0;x<m.length;x++)M[T=m[x]]?(p[T]=M[T],P.hasOwnProperty(T)&&(S[P[T]]=p[T])):"game"===T&&P.hasOwnProperty(T)&&(S[P[T]]=M);for(var w=0;w<v.length;w++)for(E=v[w],x=0;x<E.length;x++)if(d.hasCore(T=E[x])){var L=d.getCore(T),I=new L.plugin(S,this);p[L.mapping]=I,L.custom?S[L.mapping]=I:P.hasOwnProperty(L.mapping)&&(S[P[L.mapping]]=I),R&&I.boot()}for(E=this.plugins,x=0;x<E.length;x++){var B=E[x];B.mapping&&(S[B.mapping]=B.plugin)}},getDefaultScenePlugins:function(){var p=this.game.config.defaultPlugins;return p.concat(this.scenePlugins)},installScenePlugin:function(p,m,v,x,T){if(void 0===T&&(T=!1),"function"==typeof m){if(d.hasCore(p)){if(!T&&d.hasCore(p))return void console.warn("Scene Plugin key in use: "+p)}else d.register(p,m,v,!0),this.scenePlugins.push(p);if(x){var E=new m(x,this);x.sys[p]=E,v&&""!==v&&(x[v]=E),E.boot()}}else console.warn("Invalid Scene Plugin: "+p)},install:function(p,m,v,x,T){if(void 0===v&&(v=!1),void 0===x&&(x=null),void 0===T&&(T=null),"function"!=typeof m)return console.warn("Invalid Plugin: "+p),null;if(d.hasCustom(p))return console.warn("Plugin key in use: "+p),null;if(null!==x&&(v=!0),this.game.isBooted){if(d.registerCustom(p,m,x,T),v)return this.start(p)}else this._pendingGlobal.push({key:p,plugin:m,start:v,mapping:x,data:T});return null},getIndex:function(p){for(var m=this.plugins,v=0;v<m.length;v++)if(m[v].key===p)return v;return-1},getEntry:function(p){var m=this.getIndex(p);if(-1!==m)return this.plugins[m]},isActive:function(p){var m=this.getEntry(p);return m&&m.active},start:function(p,m){void 0===m&&(m=p);var v=this.getEntry(m);return v&&!v.active?(v.active=!0,v.plugin.start()):v||(v=this.createEntry(p,m)),v?v.plugin:null},createEntry:function(p,m){var v=d.getCustom(p);if(v){var x=new v.plugin(this);this.plugins.push(v={key:m,plugin:x,active:!0,mapping:v.mapping,data:v.data}),x.init(v.data),x.start()}return v},stop:function(p){var m=this.getEntry(p);return m&&m.active&&(m.active=!1,m.plugin.stop()),this},get:function(p,m){void 0===m&&(m=!0);var v=this.getEntry(p);if(v)return v.plugin;var x=this.getClass(p);return x&&m?(v=this.createEntry(p,p))?v.plugin:null:x||null},getClass:function(p){return d.getCustomClass(p)},removeGlobalPlugin:function(p){var m=this.getEntry(p);m&&r(this.plugins,m),d.removeCustom(p)},removeScenePlugin:function(p){r(this.scenePlugins,p),d.remove(p)},registerGameObject:function(p,m,v){return m&&o.register(p,m),v&&h.register(p,v),this},removeGameObject:function(p,m,v){return void 0===m&&(m=!0),void 0===v&&(v=!0),m&&o.remove(p),v&&h.remove(p),this},registerFileType:function(p,m,v){u.register(p,m),v&&v.sys.load&&(v.sys.load[p]=m)},destroy:function(){for(var p=0;p<this.plugins.length;p++)this.plugins[p].plugin.destroy();d.destroyCustomPlugins(),this.game.noReturn&&d.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});C.exports=c},function(C,F,n){var l=n(198),g=n(0),f=n(9),u=n(101),h=n(22),o=n(395),a=n(401),d=n(396),r=n(1),c=n(10),p=n(410),m=n(76),v=n(3),x=new g({Extends:f,initialize:function(E){f.call(this),this.game=E,this.canvasBounds=new c,this.parent=null,this.parentIsWindow=!1,this.parentSize=new p,this.gameSize=new p,this.baseSize=new p,this.displaySize=new p,this.scaleMode=l.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new v(1,1),this.autoRound=!1,this.autoCenter=l.CENTER.NO_CENTER,this.orientation=l.ORIENTATION.LANDSCAPE,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:r,windowResize:r,fullScreenChange:r,fullScreenError:r}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(h.BOOT,this.boot,this)},boot:function(){var T=this.game;this.canvas=T.canvas,this.fullscreen=T.device.fullscreen,this.scaleMode!==l.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===l.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),T.events.on(h.PRE_STEP,this.step,this),T.events.once(h.READY,this.refresh,this),T.events.once(h.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(T){this.getParent(T),this.getParentBounds();var E=T.width,M=T.height,S=T.scaleMode,P=T.zoom,R=T.autoRound;if("string"==typeof E){var w=this.parentSize.width;0===w&&(w=window.innerWidth);var L=parseInt(E,10)/100;E=Math.floor(w*L)}if("string"==typeof M){var I=this.parentSize.height;0===I&&(I=window.innerHeight);var B=parseInt(M,10)/100;M=Math.floor(I*B)}this.scaleMode=S,this.autoRound=R,this.autoCenter=T.autoCenter,this.resizeInterval=T.resizeInterval,R&&(E=Math.floor(E),M=Math.floor(M)),this.gameSize.setSize(E,M),P===l.ZOOM.MAX_ZOOM&&(P=this.getMaxZoom()),this.zoom=P,1!==P&&(this._resetZoom=!0),this.baseSize.setSize(E,M),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),T.minWidth>0&&this.displaySize.setMin(T.minWidth*P,T.minHeight*P),T.maxWidth>0&&this.displaySize.setMax(T.maxWidth*P,T.maxHeight*P),this.displaySize.setSize(E,M),this.orientation=d(E,M)},getParent:function(T){var E=T.parent;if(null!==E){if(this.parent=a(E),this.parentIsWindow=this.parent===document.body,T.expandParent&&T.scaleMode!==l.SCALE_MODE.NONE){var M=this.parent.getBoundingClientRect();(this.parentIsWindow||0===M.height)&&(document.documentElement.style.height="100%",document.body.style.height="100%",M=this.parent.getBoundingClientRect(),!this.parentIsWindow&&0===M.height&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}T.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=a(T.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var T=this.parentSize,E=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(E.height=o(!0));var M=E.width,S=E.height;return(T.width!==M||T.height!==S)&&(T.setSize(M,S),!0)},lockOrientation:function(T){var E=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return!!E&&E.call(screen,T)},setParentSize:function(T,E){return this.parentSize.setSize(T,E),this.refresh()},setGameSize:function(T,E){var M=this.autoRound;M&&(T=Math.floor(T),E=Math.floor(E));var S=this.width,P=this.height;return this.gameSize.resize(T,E),this.baseSize.resize(T,E),M&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(T/E),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(S,P)},resize:function(T,E){var M=this.zoom,S=this.autoRound;S&&(T=Math.floor(T),E=Math.floor(E));var P=this.width,R=this.height;this.gameSize.resize(T,E),this.baseSize.resize(T,E),S&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(T*M,E*M),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var w=this.canvas.style,L=T*M,I=E*M;return S&&(L=Math.floor(L),I=Math.floor(I)),(L!==T||I!==E)&&(w.width=L+"px",w.height=I+"px"),this.refresh(P,R)},setZoom:function(T){return this.zoom=T,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(T,E){void 0===T&&(T=this.width),void 0===E&&(E=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var M=this.game.domContainer;if(M){this.baseSize.setCSS(M);var S=this.canvas.style,P=M.style;P.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",P.marginLeft=S.marginLeft,P.marginTop=S.marginTop}return this.emit(u.RESIZE,this.gameSize,this.baseSize,this.displaySize,T,E),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var T=d(this.width,this.height);T!==this.orientation&&(this.orientation=T,this.emit(u.ORIENTATION_CHANGE,T))}},updateScale:function(){var S,P,T=this.canvas.style,R=this.zoom,w=this.autoRound;this.scaleMode===l.SCALE_MODE.NONE?(this.displaySize.setSize(this.gameSize.width*R,this.gameSize.height*R),S=this.displaySize.width,P=this.displaySize.height,w&&(S=Math.floor(S),P=Math.floor(P)),this._resetZoom&&(T.width=S+"px",T.height=P+"px",this._resetZoom=!1)):this.scaleMode===l.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),S=this.displaySize.width,P=this.displaySize.height,w&&(S=Math.floor(S),P=Math.floor(P)),this.canvas.width=S,this.canvas.height=P):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),S=this.displaySize.width,P=this.displaySize.height,w&&(S=Math.floor(S),P=Math.floor(P)),T.width=S+"px",T.height=P+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var T=m(this.parentSize.width,this.gameSize.width,0,!0),E=m(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(T,E),1)},updateCenter:function(){var T=this.autoCenter;if(T!==l.CENTER.NO_CENTER){var E=this.canvas,M=E.style,S=E.getBoundingClientRect(),R=S.height,w=Math.floor((this.parentSize.width-S.width)/2),L=Math.floor((this.parentSize.height-R)/2);T===l.CENTER.CENTER_HORIZONTALLY?L=0:T===l.CENTER.CENTER_VERTICALLY&&(w=0),M.marginLeft=w+"px",M.marginTop=L+"px"}},updateBounds:function(){var T=this.canvasBounds,E=this.canvas.getBoundingClientRect();T.x=E.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),T.y=E.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),T.width=E.width,T.height=E.height},transformX:function(T){return(T-this.canvasBounds.left)*this.displayScale.x},transformY:function(T){return(T-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(T){void 0===T&&(T={navigationUI:"hide"});var E=this.fullscreen;if(E.available){if(!E.active){this.getFullscreenTarget()[E.request](E.keyboard?Element.ALLOW_KEYBOARD_INPUT:T)}}else this.emit(u.FULLSCREEN_UNSUPPORTED)},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(u.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(T){this.removeFullscreenTarget(),this.emit(u.FULLSCREEN_FAILED,T)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var T=document.createElement("div");T.style.margin="0",T.style.padding="0",T.style.width="100%",T.style.height="100%",this.fullscreenTarget=T,this._createdFullscreenTarget=!0}return this._createdFullscreenTarget&&(this.canvas.parentNode.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)),this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var T=this.fullscreenTarget;if(T&&T.parentNode){var E=T.parentNode;E.insertBefore(this.canvas,T),E.removeChild(T)}}},stopFullscreen:function(){var T=this.fullscreen;if(!T.available)return this.emit(u.FULLSCREEN_UNSUPPORTED),!1;T.active&&document[T.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(u.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(T){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(T)},startListeners:function(){var T=this,E=this.listeners;E.orientationChange=function(){T.updateBounds(),T._checkOrientation=!0,T.dirty=!0},E.windowResize=function(){T.updateBounds(),T.dirty=!0},window.addEventListener("orientationchange",E.orientationChange,!1),window.addEventListener("resize",E.windowResize,!1),this.fullscreen.available&&(E.fullScreenChange=function(S){return T.onFullScreenChange(S)},E.fullScreenError=function(S){return T.onFullScreenError(S)},["webkit","moz",""].forEach(function(S){document.addEventListener(S+"fullscreenchange",E.fullScreenChange,!1),document.addEventListener(S+"fullscreenerror",E.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",E.fullScreenChange,!1),document.addEventListener("MSFullscreenError",E.fullScreenError,!1))},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(T,E){!this.parent||(this._lastCheck+=E,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var T=this.listeners;window.removeEventListener("orientationchange",T.orientationChange,!1),window.removeEventListener("resize",T.windowResize,!1),["webkit","moz",""].forEach(function(M){document.removeEventListener(M+"fullscreenchange",T.fullScreenChange,!1),document.removeEventListener(M+"fullscreenerror",T.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",T.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",T.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===l.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===l.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});C.exports=x},function(C,F,n){var l=n(18),g=n(0),f=n(76),u=n(3),h=new g({initialize:function(a,d,r,c){void 0===a&&(a=0),void 0===d&&(d=a),void 0===r&&(r=0),void 0===c&&(c=null),this._width=a,this._height=d,this._parent=c,this.aspectMode=r,this.aspectRatio=0===d?1:a/d,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new u},setAspectMode:function(o){return void 0===o&&(o=0),this.aspectMode=o,this.setSize(this._width,this._height)},setSnap:function(o,a){return void 0===o&&(o=0),void 0===a&&(a=o),this.snapTo.set(o,a),this.setSize(this._width,this._height)},setParent:function(o){return this._parent=o,this.setSize(this._width,this._height)},setMin:function(o,a){return void 0===o&&(o=0),void 0===a&&(a=o),this.minWidth=l(o,0,this.maxWidth),this.minHeight=l(a,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(o,a){return void 0===o&&(o=Number.MAX_VALUE),void 0===a&&(a=o),this.maxWidth=l(o,this.minWidth,Number.MAX_VALUE),this.maxHeight=l(a,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(o,a){switch(void 0===o&&(o=0),void 0===a&&(a=o),this.aspectMode){case h.NONE:this._width=this.getNewWidth(f(o,this.snapTo.x)),this._height=this.getNewHeight(f(a,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height;break;case h.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(f(o,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case h.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(f(a,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case h.FIT:this.constrain(o,a,!0);break;case h.ENVELOP:this.constrain(o,a,!1)}return this},setAspectRatio:function(o){return this.aspectRatio=o,this.setSize(this._width,this._height)},resize:function(o,a){return this._width=this.getNewWidth(f(o,this.snapTo.x)),this._height=this.getNewHeight(f(a,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height,this},getNewWidth:function(o,a){return void 0===a&&(a=!0),o=l(o,this.minWidth,this.maxWidth),a&&this._parent&&o>this._parent.width&&(o=Math.max(this.minWidth,this._parent.width)),o},getNewHeight:function(o,a){return void 0===a&&(a=!0),o=l(o,this.minHeight,this.maxHeight),a&&this._parent&&o>this._parent.height&&(o=Math.max(this.minHeight,this._parent.height)),o},constrain:function(o,a,d){void 0===o&&(o=0),void 0===a&&(a=o),void 0===d&&(d=!0),o=this.getNewWidth(o),a=this.getNewHeight(a);var r=this.snapTo,c=0===a?1:o/a;return d&&this.aspectRatio>c||!d&&this.aspectRatio<c?(a=(o=f(o,r.x))/this.aspectRatio,r.y>0&&(o=(a=f(a,r.y))*this.aspectRatio)):(d&&this.aspectRatio<c||!d&&this.aspectRatio>c)&&(o=(a=f(a,r.y))*this.aspectRatio,r.x>0&&(a=(o=f(o,r.x))*(1/this.aspectRatio))),this._width=o,this._height=a,this},fitTo:function(o,a){return this.constrain(o,a,!0)},envelop:function(o,a){return this.constrain(o,a,!1)},setWidth:function(o){return this.setSize(o,this._height)},setHeight:function(o){return this.setSize(this._width,o)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(o){o&&o.style&&(o.style.width=this._width+"px",o.style.height=this._height+"px")},copy:function(o){return o.setAspectMode(this.aspectMode),o.aspectRatio=this.aspectRatio,o.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(o){this.setSize(o,this._height)}},height:{get:function(){return this._height},set:function(o){this.setSize(this._width,o)}}});h.NONE=0,h.WIDTH_CONTROLS_HEIGHT=1,h.HEIGHT_CONTROLS_WIDTH=2,h.FIT=3,h.ENVELOP=4,C.exports=h},function(C,F,n){var l=n(0),g=n(142),f=n(21),u=n(22),h=n(6),o=n(91),a=n(1),d=n(412),r=n(201),c=new l({initialize:function(m,v){if(this.game=m,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,v){Array.isArray(v)||(v=[v]);for(var x=0;x<v.length;x++)this._pending.push({key:"default",scene:v[x],autoStart:0===x,data:{}})}m.events.once(u.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var p,m,v,x;for(p=0;p<this._pending.length;p++){var T;v=(m=this._pending[p]).key,(x=m.scene)instanceof d?T=this.createSceneFromInstance(v,x):"object"==typeof x?T=this.createSceneFromObject(v,x):"function"==typeof x&&(T=this.createSceneFromFunction(v,x)),this.keys[v=T.sys.settings.key]=T,this.scenes.push(T),this._data[v]&&(T.sys.settings.data=this._data[v].data,this._data[v].autoStart&&(m.autoStart=!0)),(m.autoStart||T.sys.settings.active)&&this._start.push(v)}for(this._pending.length=0,this._data={},this.isBooted=!0,p=0;p<this._start.length;p++)this.start(m=this._start[p]);this._start.length=0}},processQueue:function(){var p=this._pending.length;if(0!==p||0!==this._queue.length){var v,x;if(p){for(v=0;v<p;v++)this.add((x=this._pending[v]).key,x.scene,x.autoStart,x.data);for(v=0;v<this._start.length;v++)this.start(x=this._start[v]);return this._start.length=0,void(this._pending.length=0)}for(v=0;v<this._queue.length;v++)this[(x=this._queue[v]).op](x.keyA,x.keyB);this._queue.length=0}},add:function(p,m,v,x){return void 0===v&&(v=!1),void 0===x&&(x={}),this.isProcessing||!this.isBooted?(this._pending.push({key:p,scene:m,autoStart:v,data:x}),this.isBooted||(this._data[p]={data:x}),null):(p=this.getKey(p,m),m instanceof d?T=this.createSceneFromInstance(p,m):"object"==typeof m?(m.key=p,T=this.createSceneFromObject(p,m)):"function"==typeof m&&(T=this.createSceneFromFunction(p,m)),T.sys.settings.data=x,this.keys[p=T.sys.settings.key]=T,this.scenes.push(T),(v||T.sys.settings.active)&&(this._pending.length?this._start.push(p):this.start(p)),T);var T},remove:function(p){if(this.isProcessing)this._queue.push({op:"remove",keyA:p,keyB:null});else{var m=this.getScene(p);if(!m||m.sys.isTransitioning())return this;var v=this.scenes.indexOf(m),x=m.sys.settings.key;v>-1&&(delete this.keys[x],this.scenes.splice(v,1),this._start.indexOf(x)>-1&&(v=this._start.indexOf(x),this._start.splice(v,1)),m.sys.destroy())}return this},bootScene:function(p){var x,m=p.sys,v=m.settings;m.sceneUpdate=a,p.init&&(p.init.call(p,v.data),v.status=g.INIT,v.isTransition&&m.events.emit(f.TRANSITION_INIT,v.transitionFrom,v.transitionDuration)),m.load&&(x=m.load).reset(),x&&p.preload?(p.preload.call(p),0===x.list.size?this.create(p):(v.status=g.LOADING,x.once(o.COMPLETE,this.loadComplete,this),x.start())):this.create(p)},loadComplete:function(p){var m=p.scene;this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(m)},payloadComplete:function(p){this.bootScene(p.scene)},update:function(p,m){this.processQueue(),this.isProcessing=!0;for(var v=this.scenes.length-1;v>=0;v--){var x=this.scenes[v].sys;x.settings.status>g.START&&x.settings.status<=g.RUNNING&&x.step(p,m)}},render:function(p){for(var m=0;m<this.scenes.length;m++){var v=this.scenes[m].sys;v.settings.visible&&v.settings.status>=g.LOADING&&v.settings.status<g.SLEEPING&&v.render(p)}this.isProcessing=!1},create:function(p){var m=p.sys,v=m.settings;p.create&&(v.status=g.CREATING,p.create.call(p,v.data),v.status===g.DESTROYED)||(v.isTransition&&m.events.emit(f.TRANSITION_START,v.transitionFrom,v.transitionDuration),p.update&&(m.sceneUpdate=p.update),v.status=g.RUNNING,m.events.emit(f.CREATE,p))},createSceneFromFunction:function(p,m){var v=new m;if(v instanceof d){var x=v.sys.settings.key;if(""!==x&&(p=x),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return this.createSceneFromInstance(p,v)}return v.sys=new r(v),v.sys.settings.key=p,v.sys.init(this.game),v},createSceneFromInstance:function(p,m){return""===m.sys.settings.key&&(m.sys.settings.key=p),m.sys.init(this.game),m},createSceneFromObject:function(p,m){var v=new d(m),x=v.sys.settings.key;""!==x?p=x:v.sys.settings.key=p,v.sys.init(this.game);for(var T=["init","preload","create","update","render"],E=0;E<T.length;E++){var M=h(m,T[E],null);M&&(v[T[E]]=M)}if(m.hasOwnProperty("extend"))for(var S in m.extend)if(m.extend.hasOwnProperty(S)){var P=m.extend[S];"data"===S&&v.hasOwnProperty("data")&&"object"==typeof P?v.data.merge(P):"sys"!==S&&(v[S]=P)}return v},getKey:function(p,m){if(p||(p="default"),"function"==typeof m)return p;if(m instanceof d?p=m.sys.settings.key:"object"==typeof m&&m.hasOwnProperty("key")&&(p=m.key),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return p},getScenes:function(p,m){void 0===p&&(p=!0),void 0===m&&(m=!1);for(var v=[],x=this.scenes,T=0;T<x.length;T++){var E=x[T];E&&(!p||p&&E.sys.isActive())&&v.push(E)}return m?v.reverse():v},getScene:function(p){if("string"==typeof p){if(this.keys[p])return this.keys[p]}else for(var m=0;m<this.scenes.length;m++)if(p===this.scenes[m])return p;return null},isActive:function(p){var m=this.getScene(p);return m?m.sys.isActive():null},isPaused:function(p){var m=this.getScene(p);return m?m.sys.isPaused():null},isVisible:function(p){var m=this.getScene(p);return m?m.sys.isVisible():null},isSleeping:function(p){var m=this.getScene(p);return m?m.sys.isSleeping():null},pause:function(p,m){var v=this.getScene(p);return v&&v.sys.pause(m),this},resume:function(p,m){var v=this.getScene(p);return v&&v.sys.resume(m),this},sleep:function(p,m){var v=this.getScene(p);return v&&!v.sys.isTransitioning()&&v.sys.sleep(m),this},wake:function(p,m){var v=this.getScene(p);return v&&v.sys.wake(m),this},run:function(p,m){var v=this.getScene(p);if(!v){for(var x=0;x<this._pending.length;x++)if(this._pending[x].key===p){this.queueOp("start",p,m);break}return this}v.sys.isSleeping()?v.sys.wake(m):v.sys.isPaused()?v.sys.resume(m):this.start(p,m)},start:function(p,m){if(!this.isBooted)return this._data[p]={autoStart:!0,data:m},this;var v=this.getScene(p);if(v){var T,x=v.sys;if(x.isActive()||x.isPaused())x.shutdown(),x.sceneUpdate=a,x.start(m);else if(x.sceneUpdate=a,x.start(m),x.load&&(T=x.load),T&&x.settings.hasOwnProperty("pack")&&(T.reset(),T.addPack({payload:x.settings.pack})))return x.settings.status=g.LOADING,T.once(o.COMPLETE,this.payloadComplete,this),T.start(),this;this.bootScene(v)}return this},stop:function(p,m){var v=this.getScene(p);return v&&!v.sys.isTransitioning()&&v.sys.shutdown(m),this},switch:function(p,m){var v=this.getScene(p),x=this.getScene(m);return v&&x&&v!==x&&(this.sleep(p),this.isSleeping(m)?this.wake(m):this.start(m)),this},getAt:function(p){return this.scenes[p]},getIndex:function(p){var m=this.getScene(p);return this.scenes.indexOf(m)},bringToTop:function(p){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:p,keyB:null});else{var m=this.getIndex(p);if(-1!==m&&m<this.scenes.length){var v=this.getScene(p);this.scenes.splice(m,1),this.scenes.push(v)}}return this},sendToBack:function(p){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:p,keyB:null});else{var m=this.getIndex(p);if(-1!==m&&m>0){var v=this.getScene(p);this.scenes.splice(m,1),this.scenes.unshift(v)}}return this},moveDown:function(p){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:p,keyB:null});else{var m=this.getIndex(p);if(m>0){var v=m-1,x=this.getScene(p),T=this.getAt(v);this.scenes[m]=T,this.scenes[v]=x}}return this},moveUp:function(p){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:p,keyB:null});else{var m=this.getIndex(p);if(m<this.scenes.length-1){var v=m+1,x=this.getScene(p),T=this.getAt(v);this.scenes[m]=T,this.scenes[v]=x}}return this},moveAbove:function(p,m){if(p===m)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:p,keyB:m});else{var v=this.getIndex(p),x=this.getIndex(m);if(-1!==v&&-1!==x){var T=this.getAt(x);this.scenes.splice(x,1),this.scenes.splice(v+1,0,T)}}return this},moveBelow:function(p,m){if(p===m)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:p,keyB:m});else{var v=this.getIndex(p),x=this.getIndex(m);if(-1!==v&&-1!==x){var T=this.getAt(x);this.scenes.splice(x,1),0===v?this.scenes.unshift(T):this.scenes.splice(v,0,T)}}return this},queueOp:function(p,m,v){return this._queue.push({op:p,keyA:m,keyB:v}),this},swapPosition:function(p,m){if(p===m)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:p,keyB:m});else{var v=this.getIndex(p),x=this.getIndex(m);if(v!==x&&-1!==v&&-1!==x){var T=this.getAt(v);this.scenes[v]=this.scenes[x],this.scenes[x]=T}}return this},dump:function(){for(var p=[],m=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],v=0;v<this.scenes.length;v++){var x=this.scenes[v].sys,T=!x.settings.visible||x.settings.status!==g.RUNNING&&x.settings.status!==g.PAUSED?"[-] ":"[*] ";p.push(T+=x.settings.key+" ("+m[x.settings.status]+")")}console.log(p.join("\n"))},destroy:function(){for(var p=0;p<this.scenes.length;p++)this.scenes[p].sys.destroy();this.update=a,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});C.exports=c},function(C,F,n){var l=n(0),g=n(201),f=new l({initialize:function(h){this.sys=new g(this,h)},update:function(){}});C.exports=f},function(C,F,n){var l=n(2),g=n(202);C.exports=function(u){var h=u.game.config.defaultPhysicsSystem,o=l(u.settings,"physics",!1);if(h||o){var a=[];if(h&&a.push(g(h+"Physics")),o)for(var d in o)d=g(d.concat("Physics")),-1===a.indexOf(d)&&a.push(d);return a}}},function(C,F,n){var l=n(2);C.exports=function(f){var u=f.plugins.getDefaultScenePlugins(),h=l(f.settings,"plugins",!1);return Array.isArray(h)?h:u||[]}},function(C,F,n){var l=n(142),g=n(6),f=n(143),u=n(974);C.exports={create:function(o){return"string"==typeof o?o={key:o}:void 0===o&&(o={}),{status:l.PENDING,key:g(o,"key",""),active:g(o,"active",!1),visible:g(o,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:g(o,"pack",!1),cameras:g(o,"cameras",null),map:g(o,"map",f(u,g(o,"mapAdd",{}))),physics:g(o,"physics",{}),loader:g(o,"loader",{}),plugins:g(o,"plugins",!1),input:g(o,"input",{})}}}},function(C,F,n){var l=n(31),g=n(417),f=n(0),u=n(36),h=n(39),o=n(9),a=n(103),d=n(22),r=n(382),c=n(6),p=n(419),m=n(203),v=new f({Extends:o,initialize:function(T){o.call(this),this.game=T,this.name="TextureManager",this.list={},this._tempCanvas=l.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,T.events.once(d.BOOT,this.boot,this)},boot:function(){this.on(a.LOAD,this.updatePending,this),this.on(a.ERROR,this.updatePending,this);var x=this.game.config;this.addBase64("__DEFAULT",x.defaultImage),this.addBase64("__MISSING",x.missingImage),this.addBase64("__WHITE",x.whiteImage),this._pending=3,this.game.events.once(d.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,0===this._pending&&(this.off(a.LOAD),this.off(a.ERROR),this.emit(a.READY))},checkKey:function(x){return!this.exists(x)||(console.error("Texture key already in use: "+x),!1)},remove:function(x){if("string"==typeof x){if(!this.exists(x))return console.warn("No texture found matching key: "+x),this;x=this.get(x)}return this.list.hasOwnProperty(x.key)&&(x.destroy(),this.emit(a.REMOVE,x.key)),this},removeKey:function(x){return this.list.hasOwnProperty(x)&&delete this.list[x],this},addBase64:function(x,T){if(this.checkKey(x)){var E=this,M=new Image;M.onerror=function(){E.emit(a.ERROR,x)},M.onload=function(){var S=E.create(x,M);p.Image(S,0),E.emit(a.ADD,x,S),E.emit(a.LOAD,x,S)},M.src=T}return this},getBase64:function(x,T,E,M){void 0===E&&(E="image/png"),void 0===M&&(M=.92);var S="",P=this.getFrame(x,T);if(P&&(P.source.isRenderTexture||P.source.isGLTexture))console.warn("Cannot getBase64 from WebGL Texture");else if(P){var R=P.canvasData,w=l.create2D(this,R.width,R.height);w.getContext("2d").drawImage(P.source.image,R.x,R.y,R.width,R.height,0,0,R.width,R.height),S=w.toDataURL(E,M),l.remove(w)}return S},addImage:function(x,T,E){var M=null;return this.checkKey(x)&&(M=this.create(x,T),p.Image(M,0),E&&M.setDataSource(E),this.emit(a.ADD,x,M)),M},addGLTexture:function(x,T,E,M){var S=null;return this.checkKey(x)&&(void 0===E&&(E=T.width),void 0===M&&(M=T.height),(S=this.create(x,T,E,M)).add("__BASE",0,0,0,E,M),this.emit(a.ADD,x,S)),S},addRenderTexture:function(x,T){var E=null;return this.checkKey(x)&&((E=this.create(x,T)).add("__BASE",0,0,0,T.width,T.height),this.emit(a.ADD,x,E)),E},generate:function(x,T){if(this.checkKey(x)){var E=l.create(this,1,1);return T.canvas=E,r(T),this.addCanvas(x,E)}return null},createCanvas:function(x,T,E){if(void 0===T&&(T=256),void 0===E&&(E=256),this.checkKey(x)){var M=l.create(this,T,E,h.CANVAS,!0);return this.addCanvas(x,M)}return null},addCanvas:function(x,T,E){void 0===E&&(E=!1);var M=null;return E?M=new g(this,x,T,T.width,T.height):this.checkKey(x)&&(M=new g(this,x,T,T.width,T.height),this.list[x]=M,this.emit(a.ADD,x,M)),M},addAtlas:function(x,T,E,M){return Array.isArray(E.textures)||Array.isArray(E.frames)?this.addAtlasJSONArray(x,T,E,M):this.addAtlasJSONHash(x,T,E,M)},addAtlasJSONArray:function(x,T,E,M){var S=null;if(this.checkKey(x)){if(S=this.create(x,T),Array.isArray(E))for(var P=1===E.length,R=0;R<S.source.length;R++)p.JSONArray(S,R,P?E[0]:E[R]);else p.JSONArray(S,0,E);M&&S.setDataSource(M),this.emit(a.ADD,x,S)}return S},addAtlasJSONHash:function(x,T,E,M){var S=null;if(this.checkKey(x)){if(S=this.create(x,T),Array.isArray(E))for(var P=0;P<E.length;P++)p.JSONHash(S,P,E[P]);else p.JSONHash(S,0,E);M&&S.setDataSource(M),this.emit(a.ADD,x,S)}return S},addAtlasXML:function(x,T,E,M){var S=null;return this.checkKey(x)&&(S=this.create(x,T),p.AtlasXML(S,0,E),M&&S.setDataSource(M),this.emit(a.ADD,x,S)),S},addUnityAtlas:function(x,T,E,M){var S=null;return this.checkKey(x)&&(S=this.create(x,T),p.UnityYAML(S,0,E),M&&S.setDataSource(M),this.emit(a.ADD,x,S)),S},addSpriteSheet:function(x,T,E){var M=null;return this.checkKey(x)&&(M=this.create(x,T),p.SpriteSheet(M,0,0,0,M.source[0].width,M.source[0].height,E),this.emit(a.ADD,x,M)),M},addSpriteSheetFromAtlas:function(x,T){if(!this.checkKey(x))return null;var E=c(T,"atlas",null),M=c(T,"frame",null);if(E&&M){var P=this.get(E).get(M);if(P){var R=this.create(x,P.source.image);return P.trimmed?p.SpriteSheetFromAtlas(R,P,T):p.SpriteSheet(R,0,P.cutX,P.cutY,P.cutWidth,P.cutHeight,T),this.emit(a.ADD,x,R),R}}},create:function(x,T,E,M){var S=null;return this.checkKey(x)&&(S=new m(this,x,T,E,M),this.list[x]=S),S},exists:function(x){return this.list.hasOwnProperty(x)},get:function(x){return void 0===x&&(x="__DEFAULT"),this.list[x]?this.list[x]:x instanceof m?x:this.list.__MISSING},cloneFrame:function(x,T){if(this.list[x])return this.list[x].get(T).clone()},getFrame:function(x,T){if(this.list[x])return this.list[x].get(T)},getTextureKeys:function(){var x=[];for(var T in this.list)"__DEFAULT"!==T&&"__MISSING"!==T&&x.push(T);return x},getPixel:function(x,T,E,M){var S=this.getFrame(E,M);if(S){x-=S.x,T-=S.y;var P=S.data.cut;if(T+=P.y,(x+=P.x)>=P.x&&x<P.r&&T>=P.y&&T<P.b){var R=this._tempContext;R.clearRect(0,0,1,1),R.drawImage(S.source.image,x,T,1,1,0,0,1,1);var w=R.getImageData(0,0,1,1);return new u(w.data[0],w.data[1],w.data[2],w.data[3])}}return null},getPixelAlpha:function(x,T,E,M){var S=this.getFrame(E,M);if(S){x-=S.x,T-=S.y;var P=S.data.cut;if(T+=P.y,(x+=P.x)>=P.x&&x<P.r&&T>=P.y&&T<P.b){var R=this._tempContext;return R.clearRect(0,0,1,1),R.drawImage(S.source.image,x,T,1,1,0,0,1,1),R.getImageData(0,0,1,1).data[3]}}return null},setTexture:function(x,T,E){return this.list[T]&&(x.texture=this.list[T],x.frame=x.texture.get(E)),x},renameTexture:function(x,T){var E=this.get(x);return!(!E||x===T||(E.key=T,this.list[T]=E,delete this.list[x],0))},each:function(x,T){for(var E=[null],M=1;M<arguments.length;M++)E.push(arguments[M]);for(var S in this.list)E[0]=this.list[S],x.apply(T,E)},destroy:function(){for(var x in this.list)this.list[x].destroy();this.list={},this.game=null,l.remove(this._tempCanvas)}});C.exports=v},function(C,F,n){var l=n(0),g=n(18),f=n(36),u=n(39),h=n(136),o=n(203),a=new l({Extends:o,initialize:function(r,c,p,m,v){o.call(this,r,c,p,m,v),this.add("__BASE",0,0,0,m,v),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=m,this.height=v,this.imageData=this.context.getImageData(0,0,m,v),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===u.WEBGL&&this.refresh(),this},draw:function(d,r,c){return this.context.drawImage(c,d,r),this.update()},drawFrame:function(d,r,c,p){void 0===c&&(c=0),void 0===p&&(p=0);var m=this.manager.getFrame(d,r);if(m){var v=m.canvasData,x=m.cutWidth,T=m.cutHeight,E=m.source.resolution;return this.context.drawImage(m.source.image,v.x,v.y,x,T,c,p,x/E,T/E),this.update()}return this},setPixel:function(d,r,c,p,m,v){if(void 0===v&&(v=255),d=Math.abs(Math.floor(d)),r=Math.abs(Math.floor(r)),this.getIndex(d,r)>-1){var T=this.context.getImageData(d,r,1,1);T.data[0]=c,T.data[1]=p,T.data[2]=m,T.data[3]=v,this.context.putImageData(T,d,r)}return this},putData:function(d,r,c,p,m,v,x){return void 0===p&&(p=0),void 0===m&&(m=0),void 0===v&&(v=d.width),void 0===x&&(x=d.height),this.context.putImageData(d,r,c,p,m,v,x),this},getData:function(d,r,c,p){return d=g(Math.floor(d),0,this.width-1),r=g(Math.floor(r),0,this.height-1),c=g(c,1,this.width-d),p=g(p,1,this.height-r),this.context.getImageData(d,r,c,p)},getPixel:function(d,r,c){c||(c=new f);var p=this.getIndex(d,r);if(p>-1){var m=this.data;c.setTo(m[p+0],m[p+1],m[p+2],m[p+3])}return c},getPixels:function(d,r,c,p){void 0===d&&(d=0),void 0===r&&(r=0),void 0===c&&(c=this.width),void 0===p&&(p=c),d=Math.abs(Math.round(d)),r=Math.abs(Math.round(r));for(var m=g(d,0,this.width),v=g(d+c,0,this.width),x=g(r,0,this.height),T=g(r+p,0,this.height),E=new f,M=[],S=x;S<T;S++){for(var P=[],R=m;R<v;R++)E=this.getPixel(R,S,E),P.push({x:R,y:S,color:E.color,alpha:E.alphaGL});M.push(P)}return M},getIndex:function(d,r){return d=Math.abs(Math.round(d)),r=Math.abs(Math.round(r)),d<this.width&&r<this.height?4*(d+r*this.width):-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(d,r,c,p){return void 0===d&&(d=0),void 0===r&&(r=0),void 0===c&&(c=this.width),void 0===p&&(p=this.height),this.context.clearRect(d,r,c,p),this.update()},setSize:function(d,r){return void 0===r&&(r=d),(d!==this.width||r!==this.height)&&(this.canvas.width=d,this.canvas.height=r,this._source.width=d,this._source.height=r,this._source.isPowerOf2=h(d,r),this.frames.__BASE.setSize(d,r,0,0),this.width=d,this.height=r,this.refresh()),this},destroy:function(){o.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});C.exports=a},function(C,F,n){var l=n(31),g=n(0),f=n(136),u=n(164),h=new g({initialize:function(a,d,r,c,p){void 0===p&&(p=!1);var m=a.manager.game;this.renderer=m.renderer,this.texture=a,this.source=d,this.image=d,this.compressionAlgorithm=null,this.resolution=1,this.width=r||d.naturalWidth||d.videoWidth||d.width||0,this.height=c||d.naturalHeight||d.videoHeight||d.height||0,this.scaleMode=u.DEFAULT,this.isCanvas=d instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&d instanceof HTMLVideoElement,this.isRenderTexture="RenderTexture"===d.type,this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&d instanceof WebGLTexture,this.isPowerOf2=f(this.width,this.height),this.glTexture=null,this.glIndex=0,this.glIndexCounter=-1,this.flipY=p,this.init(m)},init:function(o){var a=this.renderer;a&&(a.gl?this.isCanvas?this.glTexture=a.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=a.createVideoTexture(this.image,!1,this.flipY):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=a.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.glTexture=this.isGLTexture?this.source:a.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),o.config.antialias||this.setFilter(1)},setFilter:function(o){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,o),this.scaleMode=o},setFlipY:function(o){return void 0===o&&(o=!0),this.flipY=o,this},update:function(){var o=this.renderer.gl;o&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):o&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!1),this.isCanvas&&l.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});C.exports=h},function(C,F,n){C.exports={AtlasXML:n(975),Canvas:n(976),Image:n(977),JSONArray:n(978),JSONHash:n(979),SpriteSheet:n(980),SpriteSheetFromAtlas:n(981),UnityYAML:n(982)}},function(C,F,n){var l=n(421),g=n(424),f=n(426);C.exports={create:function(h){var o=h.config.audio,a=h.device.audio;return o.noAudio||!a.webAudio&&!a.audioData?new g(h):a.webAudio&&!o.disableWebAudio?new f(h):new l(h)}}},function(C,F,n){var l=n(144),g=n(0),f=n(69),u=n(423),h=new g({Extends:l,initialize:function(a){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,l.call(this,a)},add:function(o,a){var d=new u(this,o,a);return this.sounds.push(d),d},unlock:function(){this.locked=!1;var o=this;if(this.game.cache.audio.entries.each(function(c,p){for(var m=0;m<p.length;m++)if("true"===p[m].dataset.locked)return o.locked=!0,!1;return!0}),this.locked){var a=!1,d=function(){a=!0},r=function(){if(a)a=!1;else{document.body.removeEventListener("touchmove",d),document.body.removeEventListener("touchend",r);var c=[];if(o.game.cache.audio.entries.each(function(m,v){for(var x=0;x<v.length;x++){var T=v[x];"true"===T.dataset.locked&&c.push(T)}return!0}),0!==c.length){var p=c[c.length-1];p.oncanplaythrough=function(){p.oncanplaythrough=null,c.forEach(function(m){m.dataset.locked="false"}),o.unlocked=!0},c.forEach(function(m){m.load()})}}};this.once(f.UNLOCKED,function(){for(this.forEachActiveSound(function(p){null===p.currentMarker&&0===p.duration&&(p.duration=p.tags[0].duration),p.totalDuration=p.tags[0].duration});this.lockedActionsQueue.length;){var c=this.lockedActionsQueue.shift();c.sound[c.prop].apply?c.sound[c.prop].apply(c.sound,c.value||[]):c.sound[c.prop]=c.value}},this),document.body.addEventListener("touchmove",d,!1),document.body.addEventListener("touchend",r,!1)}},onBlur:function(){this.forEachActiveSound(function(o){o.isPlaying&&(this.onBlurPausedSounds.push(o),o.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(o){o.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){l.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(o,a,d){return"true"===o.tags[0].dataset.locked&&(this.lockedActionsQueue.push({sound:o,prop:a,value:d}),!0)},setMute:function(o){return this.mute=o,this},mute:{get:function(){return this._mute},set:function(o){this._mute=o,this.forEachActiveSound(function(a){a.updateMute()}),this.emit(f.GLOBAL_MUTE,this,o)}},setVolume:function(o){return this.volume=o,this},volume:{get:function(){return this._volume},set:function(o){this._volume=o,this.forEachActiveSound(function(a){a.updateVolume()}),this.emit(f.GLOBAL_VOLUME,this,o)}}});C.exports=h},function(C,F,n){var l=n(78);C.exports=function(f,u,h,o,a){if(void 0===o&&(o=0),void 0===a&&(a=f.length),l(f,o,a))for(var d=o;d<a;d++){var r=f[d];if(!u||u&&void 0===h&&r.hasOwnProperty(u)||u&&void 0!==h&&r[u]===h)return r}return null}},function(C,F,n){var l=n(145),g=n(0),f=n(69),u=n(18),h=new g({Extends:l,initialize:function(a,d,r){if(void 0===r&&(r={}),this.tags=a.game.cache.audio.get(d),!this.tags)throw new Error('There is no audio asset with key "'+d+'" in the audio cache');this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,l.call(this,a,d,r)},play:function(o,a){return!(this.manager.isLocked(this,"play",[o,a])||!l.prototype.play.call(this,o,a)||!this.pickAndPlayAudioTag()||(this.emit(f.PLAY,this),0))},pause:function(){return!(this.manager.isLocked(this,"pause")||this.startTime>0||!l.prototype.pause.call(this)||(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(f.PAUSE,this),0))},resume:function(){return!(this.manager.isLocked(this,"resume")||this.startTime>0||!l.prototype.resume.call(this)||!this.pickAndPlayAudioTag()||(this.emit(f.RESUME,this),0))},stop:function(){return!(this.manager.isLocked(this,"stop")||!l.prototype.stop.call(this)||(this.stopAndReleaseAudioTag(),this.emit(f.STOP,this),0))},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var a=this.currentConfig.delay,d=(this.currentMarker?this.currentMarker.start:0)+this.currentConfig.seek;return this.previousTime=d,this.audio.currentTime=d,this.applyConfig(),0===a?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*a,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var o=0;o<this.tags.length;o++){var a=this.tags[o];if("false"===a.dataset.used)return a.dataset.used="true",this.audio=a,!0}if(!this.manager.override)return!1;var d=[];this.manager.forEachActiveSound(function(c){c.key===this.key&&c.audio&&d.push(c)},this),d.sort(function(c,p){return c.loop===p.loop?p.seek/p.duration-c.seek/c.duration:c.loop?1:-1});var r=d[0];return this.audio=r.audio,r.reset(),r.audio=null,r.startTime=0,r.previousTime=0,!0},playCatchPromise:function(){var o=this.audio.play();o&&o.catch(function(a){console.warn(a)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){l.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(o){if(this.isPlaying){if(this.startTime>0)return void(this.startTime<o-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,o-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise()));var a=this.currentMarker?this.currentMarker.start:0,d=a+this.duration,r=this.audio.currentTime;if(this.currentConfig.loop)r>=d-this.manager.loopEndOffset?(this.audio.currentTime=a+Math.max(0,r-d),r=this.audio.currentTime):r<a&&(this.audio.currentTime+=a,r=this.audio.currentTime),r<this.previousTime&&this.emit(f.LOOPED,this);else if(r>=d)return this.reset(),this.stopAndReleaseAudioTag(),void this.emit(f.COMPLETE,this);this.previousTime=r}},destroy:function(){l.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=u(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){l.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(o){this.currentConfig.mute=o,!this.manager.isLocked(this,"mute",o)&&(this.updateMute(),this.emit(f.MUTE,this,o))}},setMute:function(o){return this.mute=o,this},volume:{get:function(){return this.currentConfig.volume},set:function(o){this.currentConfig.volume=o,!this.manager.isLocked(this,"volume",o)&&(this.updateVolume(),this.emit(f.VOLUME,this,o))}},setVolume:function(o){return this.volume=o,this},rate:{get:function(){return this.currentConfig.rate},set:function(o){this.currentConfig.rate=o,!this.manager.isLocked(this,f.RATE,o)&&(this.calculateRate(),this.emit(f.RATE,this,o))}},setRate:function(o){return this.rate=o,this},detune:{get:function(){return this.currentConfig.detune},set:function(o){this.currentConfig.detune=o,!this.manager.isLocked(this,f.DETUNE,o)&&(this.calculateRate(),this.emit(f.DETUNE,this,o))}},setDetune:function(o){return this.detune=o,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(o){this.manager.isLocked(this,"seek",o)||this.startTime>0||(this.isPlaying||this.isPaused)&&(o=Math.min(Math.max(0,o),this.duration),this.isPlaying?(this.previousTime=o,this.audio.currentTime=o):this.isPaused&&(this.currentConfig.seek=o),this.emit(f.SEEK,this,o))}},setSeek:function(o){return this.seek=o,this},loop:{get:function(){return this.currentConfig.loop},set:function(o){this.currentConfig.loop=o,!this.manager.isLocked(this,"loop",o)&&(this.audio&&(this.audio.loop=o),this.emit(f.LOOP,this,o))}},setLoop:function(o){return this.loop=o,this},pan:{get:function(){return this.currentConfig.pan},set:function(o){this.currentConfig.pan=o,this.emit(f.PAN,this,o)}},setPan:function(o){return this.pan=o,this}});C.exports=h},function(C,F,n){var l=n(144),g=n(0),f=n(9),u=n(425),h=n(1),o=new g({Extends:f,initialize:function(d){f.call(this),this.game=d,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(a,d){var r=new u(this,a,d);return this.sounds.push(r),r},addAudioSprite:function(a,d){var r=this.add(a,d);return r.spritemap={},r},play:function(a,d){return!1},playAudioSprite:function(a,d,r){return!1},remove:function(a){return l.prototype.remove.call(this,a)},removeByKey:function(a){return l.prototype.removeByKey.call(this,a)},pauseAll:h,resumeAll:h,stopAll:h,update:h,setRate:h,setDetune:h,setMute:h,setVolume:h,forEachActiveSound:function(a,d){l.prototype.forEachActiveSound.call(this,a,d)},destroy:function(){l.prototype.destroy.call(this)}});C.exports=o},function(C,F,n){var l=n(145),g=n(0),f=n(9),u=n(17),h=function(){return!1},a=function(){return this},d=new g({Extends:f,initialize:function(c,p,m){void 0===m&&(m={}),f.call(this),this.manager=c,this.key=p,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=u({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},m),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:h,updateMarker:h,removeMarker:function(){return null},play:h,pause:h,resume:h,stop:h,destroy:function(){l.prototype.destroy.call(this)},setMute:a,setVolume:a,setRate:a,setDetune:a,setSeek:a,setLoop:a,setPan:a});C.exports=d},function(C,F,n){var l=n(427),g=n(144),f=n(0),u=n(69),h=n(22),o=n(428),a=new f({Extends:g,initialize:function(r){this.context=this.createAudioContext(r),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked="suspended"===this.context.state&&("ontouchstart"in window||"onclick"in window),g.call(this,r),this.locked&&r.isBooted?this.unlock():r.events.once(h.BOOT,this.unlock,this)},createAudioContext:function(d){var r=d.config.audio;return r.context?(r.context.resume(),r.context):new AudioContext},setAudioContext:function(d){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=d,this.masterMuteNode=d.createGain(),this.masterVolumeNode=d.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(d.destination),this.destination=this.masterMuteNode,this},add:function(d,r){var c=new o(this,d,r);return this.sounds.push(c),c},decodeAudio:function(d,r){var c;c=Array.isArray(d)?d:[{key:d,data:r}];for(var p=this.game.cache.audio,m=c.length,v=0;v<c.length;v++){var x=c[v],T=x.key,E=x.data;"string"==typeof E&&(E=l(E));var M=function(P,R){p.add(P,R),this.emit(u.DECODED,P),0==--m&&this.emit(u.DECODED_ALL)}.bind(this,T),S=function(P,R){console.error("Error decoding audio: "+P+" - ",R?R.message:""),0==--m&&this.emit(u.DECODED_ALL)}.bind(this,T);this.context.decodeAudioData(E,M,S)}},unlock:function(){var d=this,r=document.body,c=function p(){d.context&&d.context.resume().then(function(){r.removeEventListener("touchstart",p),r.removeEventListener("touchend",p),r.removeEventListener("click",p),r.removeEventListener("keydown",p),d.unlocked=!0},function(){r.removeEventListener("touchstart",p),r.removeEventListener("touchend",p),r.removeEventListener("click",p),r.removeEventListener("keydown",p)})};r&&(r.addEventListener("touchstart",c,!1),r.addEventListener("touchend",c,!1),r.addEventListener("click",c,!1),r.addEventListener("keydown",c,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){this.locked||this.context.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var d=this;this.context.close().then(function(){d.context=null})}g.prototype.destroy.call(this)},setMute:function(d){return this.mute=d,this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(d){this.masterMuteNode.gain.setValueAtTime(d?0:1,0),this.emit(u.GLOBAL_MUTE,this,d)}},setVolume:function(d){return this.volume=d,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(d){this.masterVolumeNode.gain.setValueAtTime(d,0),this.emit(u.GLOBAL_VOLUME,this,d)}}});C.exports=a},function(C,F){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=new Uint8Array(256),g=0;g<n.length;g++)l[n.charCodeAt(g)]=g;C.exports=function(u){var d,r,c,p,h=(u=u.substr(u.indexOf(",")+1)).length,o=.75*h,a=0;"="===u[h-1]&&(o--,"="===u[h-2]&&o--);for(var m=new ArrayBuffer(o),v=new Uint8Array(m),x=0;x<h;x+=4)d=l[u.charCodeAt(x)],r=l[u.charCodeAt(x+1)],c=l[u.charCodeAt(x+2)],p=l[u.charCodeAt(x+3)],v[a++]=d<<2|r>>4,v[a++]=(15&r)<<4|c>>2,v[a++]=(3&c)<<6|63&p;return m}},function(C,F,n){var l=n(145),g=n(0),f=n(69),u=new g({Extends:l,initialize:function(o,a,d){if(void 0===d&&(d={}),this.audioBuffer=o.game.cache.audio.get(a),!this.audioBuffer)throw new Error('Audio key "'+a+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=o.context.createGain(),this.volumeNode=o.context.createGain(),this.pannerNode=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),o.context.createStereoPanner?(this.pannerNode=o.context.createStereoPanner(),this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(o.destination)):this.volumeNode.connect(o.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,l.call(this,o,a,d)},play:function(h,o){return!!l.prototype.play.call(this,h,o)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(f.PLAY,this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime||!l.prototype.pause.call(this)||(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(f.PAUSE,this),0))},resume:function(){return!(this.manager.context.currentTime<this.startTime||!l.prototype.resume.call(this)||(this.createAndStartBufferSource(),this.emit(f.RESUME,this),0))},stop:function(){return!!l.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit(f.STOP,this),!0)},createAndStartBufferSource:function(){var h=this.currentConfig.seek,a=this.manager.context.currentTime+this.currentConfig.delay,d=(this.currentMarker?this.currentMarker.start:0)+h,r=this.duration-h;this.playTime=a-h,this.startTime=a,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,a),Math.max(0,d),Math.max(0,r)),this.resetConfig()},createAndStartLoopBufferSource:function(){var h=this.getLoopTime(),o=this.currentMarker?this.currentMarker.start:0,a=this.duration;this.loopTime=h,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,h),Math.max(0,o),Math.max(0,a))},createBufferSource:function(){var h=this,o=this.manager.context.createBufferSource();return o.buffer=this.audioBuffer,o.connect(this.muteNode),o.onended=function(a){a.target===h.source&&(h.currentConfig.loop?h.hasLooped=!0:h.hasEnded=!0)},o},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),l.prototype.applyConfig.call(this)},update:function(){this.hasEnded?(this.hasEnded=!1,l.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(f.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(f.LOOPED,this))},destroy:function(){l.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode.disconnect(),this.pannerNode=null,this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){l.prototype.calculateRate.call(this);var h=this.manager.context.currentTime;this.source&&"number"==typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,h),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,h)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var h=0,o=0;o<this.rateUpdates.length;o++)h+=((o<this.rateUpdates.length-1?this.rateUpdates[o+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[o].time)*this.rateUpdates[o].rate;return h},getLoopTime:function(){for(var h=0,o=0;o<this.rateUpdates.length-1;o++)h+=(this.rateUpdates[o+1].time-this.rateUpdates[o].time)*this.rateUpdates[o].rate;var a=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+a.time+(this.duration-h)/a.rate},rate:{get:function(){return this.currentConfig.rate},set:function(h){this.currentConfig.rate=h,this.calculateRate(),this.emit(f.RATE,this,h)}},setRate:function(h){return this.rate=h,this},detune:{get:function(){return this.currentConfig.detune},set:function(h){this.currentConfig.detune=h,this.calculateRate(),this.emit(f.DETUNE,this,h)}},setDetune:function(h){return this.detune=h,this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(h){this.currentConfig.mute=h,this.muteNode.gain.setValueAtTime(h?0:1,0),this.emit(f.MUTE,this,h)}},setMute:function(h){return this.mute=h,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(h){this.currentConfig.volume=h,this.volumeNode.gain.setValueAtTime(h,0),this.emit(f.VOLUME,this,h)}},setVolume:function(h){return this.volume=h,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(h){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(h=Math.min(Math.max(0,h),this.duration),this.currentConfig.seek=h,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(f.SEEK,this,h))}},setSeek:function(h){return this.seek=h,this},loop:{get:function(){return this.currentConfig.loop},set:function(h){this.currentConfig.loop=h,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),h&&this.createAndStartLoopBufferSource()),this.emit(f.LOOP,this,h)}},setLoop:function(h){return this.loop=h,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(h){this.currentConfig.pan=h,this.pannerNode&&this.pannerNode.pan.setValueAtTime(h,this.manager.context.currentTime),this.emit(f.PAN,this,h)}},setPan:function(h){return this.pan=h,this}});C.exports=u},function(C,F){C.exports=function(l){for(var g=l.length,f=l[0].length,u=new Array(f),h=0;h<f;h++){u[h]=new Array(g);for(var o=g-1;o>-1;o--)u[h][o]=l[o][h]}return u}},function(C,F){function n(f,u,h){var o=f[u];f[u]=f[h],f[h]=o}function l(f,u){return f<u?-1:f>u?1:0}var g=function(f,u,h,o,a){for(void 0===h&&(h=0),void 0===o&&(o=f.length-1),void 0===a&&(a=l);o>h;){if(o-h>600){var d=o-h+1,r=u-h+1,c=Math.log(d),p=.5*Math.exp(2*c/3),m=.5*Math.sqrt(c*p*(d-p)/d)*(r-d/2<0?-1:1),v=Math.max(h,Math.floor(u-r*p/d+m)),x=Math.min(o,Math.floor(u+(d-r)*p/d+m));g(f,u,v,x,a)}var T=f[u],E=h,M=o;for(n(f,h,u),a(f[o],T)>0&&n(f,h,o);E<M;){for(n(f,E,M),E++,M--;a(f[E],T)<0;)E++;for(;a(f[M],T)>0;)M--}0===a(f[h],T)?n(f,h,M):n(f,++M,o),M<=u&&(h=M+1),u<=M&&(o=M-1)}};C.exports=g},function(C,F,n){var l=n(6),g=n(129),f=function(h,o,a){for(var d=[],r=0;r<h.length;r++)for(var c=0;c<o.length;c++)for(var p=0;p<a;p++)d.push({a:h[r],b:o[c]});return d};C.exports=function(h,o,a){var d=l(a,"max",0),r=l(a,"qty",1),c=l(a,"random",!1),p=l(a,"randomB",!1),m=l(a,"repeat",0),v=l(a,"yoyo",!1),x=[];if(p&&g(o),-1===m)if(0===d)m=0;else{var T=h.length*o.length*r;v&&(T*=2),m=Math.ceil(d/T)}for(var E=0;E<=m;E++){var M=f(h,o,r);c&&g(M),x=x.concat(M),v&&(M.reverse(),x=x.concat(M))}return d&&x.splice(d),x}},function(C,F,n){C.exports={PROCESS_QUEUE_ADD:n(1035),PROCESS_QUEUE_REMOVE:n(1036)}},function(C,F,n){var l=n(13);C.exports=function(f,u){var h=l(u,"anims",null);if(null===h)return f;if("string"==typeof h)f.anims.play(h);else if("object"==typeof h){var o=f.anims,a=l(h,"key",void 0);if(a){var d=l(h,"startFrame",void 0),r=l(h,"delay",0),c=l(h,"repeat",0),p=l(h,"repeatDelay",0),m=l(h,"yoyo",!1),v=l(h,"play",!1),x=l(h,"delayedPlay",0),T={key:a,delay:r,repeat:c,repeatDelay:p,yoyo:m,startFrame:d};v?o.play(T):x>0?o.playAfterDelay(T,x):o.load(T)}}return f}},function(C,F,n){var l=n(0),g=n(106),f=new l({initialize:function(h,o,a,d,r){this.parent=h,this.x=o,this.y=a,this.frame=d,this.data={},this.tint=16777215,this._visible=r,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(u){return this.frame=void 0===u?this.parent.frame:u instanceof g&&u.texture===this.parent.texture?u:this.parent.texture.get(u),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(u,h,o){return this.x=u,this.y=h,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,o&&this.setFrame(o),this},setPosition:function(u,h){return this.x=u,this.y=h,this},setFlipX:function(u){return this.flipX=u,this},setFlipY:function(u){return this.flipY=u,this},setFlip:function(u,h){return this.flipX=u,this.flipY=h,this},setVisible:function(u){return this.visible=u,this},setAlpha:function(u){return this.alpha=u,this},setTint:function(u){return this.tint=u,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(u){this.parent.dirty|=this._visible!==u,this._visible=u}},alpha:{get:function(){return this._alpha},set:function(u){this.parent.dirty|=this._alpha>0!=u>0,this._alpha=u}}});C.exports=f},function(C,F,n){var l=n(10);C.exports=function(f,u,h){void 0===h&&(h=new l);var o=Math.min(f.x,u.x),a=Math.min(f.y,u.y),d=Math.max(f.right,u.right)-o,r=Math.max(f.bottom,u.bottom)-a;return h.setTo(o,a,d,r)}},function(C,F,n){var l=n(0),g=n(11),f=n(1049),u=n(15),h=n(7),o=n(199),a=n(21),d=n(138),r=new l({Extends:u,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Origin,g.ScrollFactor,g.Transform,g.Visible,f],initialize:function(p,m,v,x,T,E){u.call(this,p,"DOMElement"),this.parent=p.sys.game.domContainer,this.cache=p.sys.cache.html,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new d,this.rotate3dAngle="deg",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(m,v),"string"==typeof x?"#"===x[0]?this.setElement(x.substr(1),T,E):this.createElement(x,T,E):x&&this.setElement(x,T,E),p.sys.events.on(a.SLEEP,this.handleSceneEvent,this),p.sys.events.on(a.WAKE,this.handleSceneEvent,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},handleSceneEvent:function(c){var p=this.node;p&&(p.style.display=c.settings.visible?"block":"none")},setSkew:function(c,p){return void 0===c&&(c=0),void 0===p&&(p=c),this.skewX=c,this.skewY=p,this},setPerspective:function(c){return this.parent.style.perspective=c+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(c){this.parent.style.perspective=c+"px"}},addListener:function(c){if(this.node){c=c.split(" ");for(var p=0;p<c.length;p++)this.node.addEventListener(c[p],this.handler,!1)}return this},removeListener:function(c){if(this.node){c=c.split(" ");for(var p=0;p<c.length;p++)this.node.removeEventListener(c[p],this.handler)}return this},dispatchNativeEvent:function(c){this.emit(c.type,c)},createElement:function(c,p,m){return this.setElement(document.createElement(c),p,m)},setElement:function(c,p,m){var v;if(this.removeElement(),"string"==typeof c?("#"===c[0]&&(c=c.substr(1)),v=document.getElementById(c)):"object"==typeof c&&1===c.nodeType&&(v=c),!v)return this;if(this.node=v,p&&h(p))for(var x in p)v.style[x]=p[x];else"string"==typeof p&&(v.style=p);return v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent&&this.parent.appendChild(v),m&&(v.innerText=m),this.updateSize()},createFromCache:function(c,p){var m=this.cache.get(c);return m&&this.createFromHTML(m,p),this},createFromHTML:function(c,p){void 0===p&&(p="div"),this.removeElement();var m=document.createElement(p);return this.node=m,m.style.zIndex="0",m.style.display="inline",m.style.position="absolute",m.phaser=this,this.parent&&this.parent.appendChild(m),m.innerHTML=c,this.updateSize()},removeElement:function(){return this.node&&(o(this.node),this.node=null),this},updateSize:function(){var c=this.node,p=c.getBoundingClientRect();return this.width=c.clientWidth,this.height=c.clientHeight,this.displayWidth=p.width||0,this.displayHeight=p.height||0,this},getChildByProperty:function(c,p){if(this.node)for(var m=this.node.querySelectorAll("*"),v=0;v<m.length;v++)if(m[v][c]===p)return m[v];return null},getChildByID:function(c){return this.getChildByProperty("id",c)},getChildByName:function(c){return this.getChildByProperty("name",c)},setClassName:function(c){return this.node&&(this.node.className=c,this.updateSize()),this},setText:function(c){return this.node&&(this.node.innerText=c,this.updateSize()),this},setHTML:function(c){return this.node&&(this.node.innerHTML=c,this.updateSize()),this},preUpdate:function(){var c=this.parentContainer,p=this.node;p&&c&&!c.willRender()&&(p.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(a.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(a.WAKE,this.handleSceneEvent,this)}});C.exports=r},function(C,F,n){var l=n(1050),g=n(15),f=n(25),u=new f,h=new f,o=new f;C.exports=function(d,r,c,p){var m=r.node,v=m.style;if(!(m&&v&&r.scene.sys.settings.visible&&g.RENDER_MASK===r.renderFlags)||0!==r.cameraFilter&&r.cameraFilter&c.id||r.parentContainer&&!r.parentContainer.willRender())m&&(v.display="none");else{var T=r.parentContainer,E=c.alpha*r.alpha;T&&(E*=T.alpha);var M=u,S=h,P=o,R=0,w=0,L="0%",I="0%";p?(S.applyITRS(r.x-(R=r.width*r.scaleX*r.originX),r.y-(w=r.height*r.scaleY*r.originY),r.rotation,r.scaleX,r.scaleY),M.copyFrom(c.matrix),M.multiplyWithOffset(p,-c.scrollX*r.scrollFactorX,-c.scrollY*r.scrollFactorY),S.e=r.x-R,S.f=r.y-w,M.multiply(S,P)):(S.applyITRS(r.x-(R=r.width*r.originX),r.y-(w=r.height*r.originY),r.rotation,r.scaleX,r.scaleY),M.copyFrom(c.matrix),L=100*r.originX+"%",I=100*r.originY+"%",S.e-=c.scrollX*r.scrollFactorX,S.f-=c.scrollY*r.scrollFactorY,M.multiply(S,P)),r.transformOnly||(v.display="block",v.opacity=E,v.zIndex=r._depth,v.pointerEvents="auto",v.mixBlendMode=l[r._blendMode]),v.transform=P.getCSSMatrix()+" skew("+r.skewX+"rad, "+r.skewY+"rad) rotate3d("+r.rotate3d.x+","+r.rotate3d.y+","+r.rotate3d.z+","+r.rotate3d.w+r.rotate3dAngle+")",v.transformOrigin=L+" "+I}}},function(C,F,n){var l=n(0),g=n(11),f=n(15),u=n(1054),h=new l({Extends:f,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.Origin,g.ScrollFactor,g.Size,g.Texture,g.Tint,g.Transform,g.Visible,u],initialize:function(a){f.call(this,a,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});C.exports=h},function(C,F,n){var l=n(215),g=n(95),f=n(14),u=n(4);C.exports=function(o,a,d){void 0===d&&(d=new u);var r=g(a,0,f.PI2);return l(o,r,d)}},function(C,F,n){var l=n(441),g=n(215),f=n(95),u=n(14);C.exports=function(o,a,d,r){void 0===r&&(r=[]),!a&&d>0&&(a=l(o)/d);for(var c=0;c<a;c++){var p=f(c/a,0,u.PI2);r.push(g(o,p))}return r}},function(C,F){C.exports=function(l){var g=l.width/2,f=l.height/2,u=Math.pow(g-f,2)/Math.pow(g+f,2);return Math.PI*(g+f)*(1+3*u/(10+Math.sqrt(4-3*u)))}},function(C,F,n){var l=n(214),g=n(30);C.exports=function(u,h,o,a,d,r){var c=h.commandBuffer,p=c.length,m=d||u.currentContext;if(0!==p&&g(u,m,h,o,a)){var T=0,E=0,M=1;m.beginPath();for(var w=0;w<p;++w)switch(c[w]){case l.ARC:m.arc(c[w+1],c[w+2],c[w+3],c[w+4],c[w+5],c[w+6]),w+=7;break;case l.LINE_STYLE:M=c[w+1],m.strokeStyle="rgba("+((16711680&(T=c[w+2]))>>>16)+","+((65280&T)>>>8)+","+(255&T)+","+c[w+3]+")",m.lineWidth=M,w+=3;break;case l.FILL_STYLE:m.fillStyle="rgba("+((16711680&(E=c[w+1]))>>>16)+","+((65280&E)>>>8)+","+(255&E)+","+c[w+2]+")",w+=2;break;case l.BEGIN_PATH:m.beginPath();break;case l.CLOSE_PATH:m.closePath();break;case l.FILL_PATH:r||m.fill();break;case l.STROKE_PATH:r||m.stroke();break;case l.FILL_RECT:r?m.rect(c[w+1],c[w+2],c[w+3],c[w+4]):m.fillRect(c[w+1],c[w+2],c[w+3],c[w+4]),w+=4;break;case l.FILL_TRIANGLE:m.beginPath(),m.moveTo(c[w+1],c[w+2]),m.lineTo(c[w+3],c[w+4]),m.lineTo(c[w+5],c[w+6]),m.closePath(),r||m.fill(),w+=6;break;case l.STROKE_TRIANGLE:m.beginPath(),m.moveTo(c[w+1],c[w+2]),m.lineTo(c[w+3],c[w+4]),m.lineTo(c[w+5],c[w+6]),m.closePath(),r||m.stroke(),w+=6;break;case l.LINE_TO:m.lineTo(c[w+1],c[w+2]),w+=2;break;case l.MOVE_TO:m.moveTo(c[w+1],c[w+2]),w+=2;break;case l.LINE_FX_TO:m.lineTo(c[w+1],c[w+2]),w+=5;break;case l.MOVE_FX_TO:m.moveTo(c[w+1],c[w+2]),w+=5;break;case l.SAVE:m.save();break;case l.RESTORE:m.restore();break;case l.TRANSLATE:m.translate(c[w+1],c[w+2]),w+=2;break;case l.SCALE:m.scale(c[w+1],c[w+2]),w+=2;break;case l.ROTATE:m.rotate(c[w+1]),w+=1;break;case l.GRADIENT_FILL_STYLE:w+=5;break;case l.GRADIENT_LINE_STYLE:w+=6}m.restore()}}},function(C,F,n){var l=n(0),g=n(135),f=n(80),u=n(2),h=n(66),o=new l({initialize:function(d,r,c,p){void 0===p&&(p=!1),this.propertyKey=r,this.propertyValue=c,this.defaultValue=c,this.steps=0,this.counter=0,this.start=0,this.end=0,this.emitOnly=p,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(d)},loadConfig:function(a,d){void 0===a&&(a={}),d&&(this.propertyKey=d),this.propertyValue=u(a,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(a){return this.propertyValue=a,this.setMethods()},setMethods:function(){var a=this.propertyValue,d=typeof a;if(this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,"number"===d)this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(a))this.onEmit=this.randomStaticValueEmit;else if("function"===d)this.emitOnly?this.onEmit=a:this.onUpdate=a;else if("object"===d&&this.hasBoth(a,"start","end")){this.start=a.start,this.end=a.end;var r=this.has(a,"random");if(r&&(this.onEmit=this.randomRangedValueEmit),this.has(a,"steps"))this.steps=a.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var c=this.has(a,"ease")?a.ease:"Linear";this.ease=f(c,a.easeParams),r||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else if("object"===d&&this.hasBoth(a,"min","max"))this.start=a.min,this.end=a.max,this.onEmit=this.randomRangedValueEmit;else if("object"===d&&this.has(a,"random")){var p=a.random;Array.isArray(p)&&(this.start=p[0],this.end=p[1]),this.onEmit=this.randomRangedValueEmit}else"object"===d&&this.hasEither(a,"onEmit","onUpdate")&&(this.has(a,"onEmit")&&(this.onEmit=a.onEmit),this.has(a,"onUpdate")&&(this.onUpdate=a.onUpdate));return this},has:function(a,d){return a.hasOwnProperty(d)},hasBoth:function(a,d,r){return a.hasOwnProperty(d)&&a.hasOwnProperty(r)},hasEither:function(a,d,r){return a.hasOwnProperty(d)||a.hasOwnProperty(r)},defaultEmit:function(a,d,r){return r},defaultUpdate:function(a,d,r,c){return c},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var a=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[a]},randomRangedValueEmit:function(a,d){var r=g(this.start,this.end);return a&&a.data[d]&&(a.data[d].min=r),r},steppedEmit:function(){var a=this.counter;return this.counter=h(this.counter+(this.end-this.start)/this.steps,this.start,this.end),a},easedValueEmit:function(a,d){if(a&&a.data[d]){var r=a.data[d];r.min=this.start,r.max=this.end}return this.start},easeValueUpdate:function(a,d,r){var c=a.data[d];return(c.max-c.min)*this.ease(r)+c.min}});C.exports=o},function(C,F,n){var l=n(0),g=n(2),f=new l({initialize:function(h,o,a,d,r){if("object"==typeof h){var c=h;h=g(c,"x",0),o=g(c,"y",0),a=g(c,"power",0),d=g(c,"epsilon",100),r=g(c,"gravity",50)}else void 0===h&&(h=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===d&&(d=100),void 0===r&&(r=50);this.x=h,this.y=o,this.active=!0,this._gravity=r,this._power=0,this._epsilon=0,this.power=a,this.epsilon=d},update:function(u,h){var o=this.x-u.x,a=this.y-u.y,d=o*o+a*a;if(0!==d){var r=Math.sqrt(d);d<this._epsilon&&(d=this._epsilon);var c=this._power*h/(d*r)*100;u.velocityX+=o*c,u.velocityY+=a*c}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(u){this._epsilon=u*u}},power:{get:function(){return this._power/this._gravity},set:function(u){this._power=u*this._gravity}},gravity:{get:function(){return this._gravity},set:function(u){var h=this.power;this._gravity=u,this.power=h}}});C.exports=f},function(C,F,n){var l=n(0),g=n(34),f=n(48),u=new l({initialize:function(o){this.emitter=o,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},resetPosition:function(){this.x=0,this.y=0},fire:function(h,o){var a=this.emitter;this.frame=a.getFrame(),a.emitZone&&a.emitZone.getPoint(this),this.x+=void 0===h?a.x.onEmit(this,"x"):h,this.y+=void 0===o?a.y.onEmit(this,"y"):o,this.life=a.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var d=a.speedX.onEmit(this,"speedX"),r=a.speedY?a.speedY.onEmit(this,"speedY"):d;if(a.radial){var c=g(a.angle.onEmit(this,"angle"));this.velocityX=Math.cos(c)*Math.abs(d),this.velocityY=Math.sin(c)*Math.abs(r)}else if(a.moveTo){var p=a.moveToX.onEmit(this,"moveToX"),m=a.moveToY?a.moveToY.onEmit(this,"moveToY"):p,v=Math.atan2(m-this.y,p-this.x),x=f(this.x,this.y,p,m)/(this.life/1e3);this.velocityX=Math.cos(v)*x,this.velocityY=Math.sin(v)*x}else this.velocityX=d,this.velocityY=r;a.acceleration&&(this.accelerationX=a.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=a.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=a.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=a.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=a.delay.onEmit(this,"delay"),this.scaleX=a.scaleX.onEmit(this,"scaleX"),this.scaleY=a.scaleY?a.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=a.rotate.onEmit(this,"rotate"),this.rotation=g(this.angle),this.bounce=a.bounce.onEmit(this,"bounce"),this.alpha=a.alpha.onEmit(this,"alpha"),this.tint=a.tint.onEmit(this,"tint")},computeVelocity:function(h,o,a,d){var r=this.velocityX,c=this.velocityY,p=this.accelerationX,m=this.accelerationY,v=this.maxVelocityX,x=this.maxVelocityY;r+=h.gravityX*a,c+=h.gravityY*a,p&&(r+=p*a),m&&(c+=m*a),r>v?r=v:r<-v&&(r=-v),c>x?c=x:c<-x&&(c=-x),this.velocityX=r,this.velocityY=c;for(var T=0;T<d.length;T++)d[T].update(this,o,a)},checkBounds:function(h){var o=h.bounds,a=-this.bounce;this.x<o.x&&h.collideLeft?(this.x=o.x,this.velocityX*=a):this.x>o.right&&h.collideRight&&(this.x=o.right,this.velocityX*=a),this.y<o.y&&h.collideTop?(this.y=o.y,this.velocityY*=a):this.y>o.bottom&&h.collideBottom&&(this.y=o.bottom,this.velocityY*=a)},update:function(h,o,a){if(this.delayCurrent>0)return this.delayCurrent-=h,!1;var d=this.emitter,r=1-this.lifeCurrent/this.life;return this.lifeT=r,this.computeVelocity(d,h,o,a),this.x+=this.velocityX*o,this.y+=this.velocityY*o,d.bounds&&this.checkBounds(d),d.deathZone&&d.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=d.scaleX.onUpdate(this,"scaleX",r,this.scaleX),this.scaleY=d.scaleY?d.scaleY.onUpdate(this,"scaleY",r,this.scaleY):this.scaleX,this.angle=d.rotate.onUpdate(this,"rotate",r,this.angle),this.rotation=g(this.angle),this.alpha=d.alpha.onUpdate(this,"alpha",r,this.alpha),this.tint=d.tint.onUpdate(this,"tint",r,this.tint),this.lifeCurrent-=h,this.lifeCurrent<=0)}});C.exports=u},function(C,F,n){var l=n(33),g=n(0),f=n(11),u=n(447),h=n(448),o=n(443),a=n(2),d=n(207),r=n(449),c=n(125),p=n(445),m=n(450),v=n(10),x=n(79),T=n(3),E=n(66),M=new g({Mixins:[f.BlendMode,f.Mask,f.ScrollFactor,f.Visible],initialize:function(P,R){this.manager=P,this.texture=P.texture,this.frames=[P.defaultFrame],this.defaultFrame=P.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=p,this.x=new o(R,"x",0,!0),this.y=new o(R,"y",0,!0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new o(R,"accelerationX",0,!0),this.accelerationY=new o(R,"accelerationY",0,!0),this.maxVelocityX=new o(R,"maxVelocityX",1e4,!0),this.maxVelocityY=new o(R,"maxVelocityY",1e4,!0),this.speedX=new o(R,"speedX",0,!0),this.speedY=new o(R,"speedY",0,!0),this.moveTo=!1,this.moveToX=new o(R,"moveToX",0,!0),this.moveToY=new o(R,"moveToY",0,!0),this.bounce=new o(R,"bounce",0,!0),this.scaleX=new o(R,"scaleX",1),this.scaleY=new o(R,"scaleY",1),this.tint=new o(R,"tint",16777215),this.alpha=new o(R,"alpha",1),this.lifespan=new o(R,"lifespan",1e3,!0),this.angle=new o(R,"angle",{min:0,max:360},!0),this.rotate=new o(R,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new o(R,"quantity",1,!0),this.delay=new o(R,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=l.NORMAL,this.follow=null,this.followOffset=new T,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,R&&this.fromJSON(R)},fromJSON:function(S){if(!S)return this;var P=0,R="";for(P=0;P<this.configFastMap.length;P++)c(S,R=this.configFastMap[P])&&(this[R]=a(S,R));for(P=0;P<this.configOpMap.length;P++)c(S,R=this.configOpMap[P])&&this[R].loadConfig(S);if(this.acceleration=0!==this.accelerationX.propertyValue||0!==this.accelerationY.propertyValue,this.moveTo=0!==this.moveToX.propertyValue||0!==this.moveToY.propertyValue,c(S,"speed")&&(this.speedX.loadConfig(S,"speed"),this.speedY=null),(r(S,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),c(S,"scale")&&(this.scaleX.loadConfig(S,"scale"),this.scaleY=null),c(S,"callbackScope")){var w=a(S,"callbackScope",null);this.emitCallbackScope=w,this.deathCallbackScope=w}return c(S,"emitZone")&&this.setEmitZone(S.emitZone),c(S,"deathZone")&&this.setDeathZone(S.deathZone),c(S,"bounds")&&this.setBounds(S.bounds),c(S,"followOffset")&&this.followOffset.setFromObject(a(S,"followOffset",0)),c(S,"frame")&&this.setFrame(S.frame),c(S,"reserve")&&this.reserve(S.reserve),this},toJSON:function(S){void 0===S&&(S={});var P=0,R="";for(P=0;P<this.configFastMap.length;P++)S[R=this.configFastMap[P]]=this[R];for(P=0;P<this.configOpMap.length;P++)this[R=this.configOpMap[P]]&&(S[R]=this[R].toJSON());return this.speedY||(delete S.speedX,S.speed=this.speedX.toJSON()),this.scaleY||(delete S.scaleX,S.scale=this.scaleX.toJSON()),S},startFollow:function(S,P,R,w){return void 0===P&&(P=0),void 0===R&&(R=0),void 0===w&&(w=!1),this.follow=S,this.followOffset.set(P,R),this.trackVisible=w,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(1===this.frames.length)return this.defaultFrame;if(this.randomFrame)return d(this.frames);var S=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=E(this.currentFrame+1,0,this._frameLength)),S},setFrame:function(S,P,R){void 0===P&&(P=!0),void 0===R&&(R=1),this.randomFrame=P,this.frameQuantity=R,this.currentFrame=0,this._frameCounter=0;var w=typeof S;if(Array.isArray(S)||"string"===w||"number"===w)this.manager.setEmitterFrames(S,this);else if("object"===w){var L=S;(S=a(L,"frames",null))&&this.manager.setEmitterFrames(S,this);var I=a(L,"cycle",!1);this.randomFrame=!I,this.frameQuantity=a(L,"quantity",R)}return this._frameLength=this.frames.length,1===this._frameLength&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(S){return void 0===S&&(S=!0),this.radial=S,this},setPosition:function(S,P){return this.x.onChange(S),this.y.onChange(P),this},setBounds:function(S,P,R,w){if("object"==typeof S){var L=S;S=L.x,P=L.y,R=c(L,"w")?L.w:L.width,w=c(L,"h")?L.h:L.height}return this.bounds?this.bounds.setTo(S,P,R,w):this.bounds=new v(S,P,R,w),this},setSpeedX:function(S){return this.speedX.onChange(S),this.radial=!1,this},setSpeedY:function(S){return this.speedY&&(this.speedY.onChange(S),this.radial=!1),this},setSpeed:function(S){return this.speedX.onChange(S),this.speedY=null,this.radial=!0,this},setScaleX:function(S){return this.scaleX.onChange(S),this},setScaleY:function(S){return this.scaleY.onChange(S),this},setScale:function(S){return this.scaleX.onChange(S),this.scaleY=null,this},setGravityX:function(S){return this.gravityX=S,this},setGravityY:function(S){return this.gravityY=S,this},setGravity:function(S,P){return this.gravityX=S,this.gravityY=P,this},setAlpha:function(S){return this.alpha.onChange(S),this},setTint:function(S){return this.tint.onChange(S),this},setEmitterAngle:function(S){return this.angle.onChange(S),this},setAngle:function(S){return this.angle.onChange(S),this},setLifespan:function(S){return this.lifespan.onChange(S),this},setQuantity:function(S){return this.quantity.onChange(S),this},setFrequency:function(S,P){return this.frequency=S,this._counter=0,P&&this.quantity.onChange(P),this},setEmitZone:function(S){if(void 0===S)this.emitZone=null;else{var P=a(S,"type","random"),R=a(S,"source",null);switch(P){case"random":this.emitZone=new m(R);break;case"edge":var w=a(S,"quantity",1),L=a(S,"stepRate",0),I=a(S,"yoyo",!1),B=a(S,"seamless",!0);this.emitZone=new h(R,w,L,I,B)}}return this},setDeathZone:function(S){if(void 0===S)this.deathZone=null;else{var P=a(S,"type","onEnter"),R=a(S,"source",null);R&&"function"==typeof R.contains&&(this.deathZone=new u(R,"onEnter"===P))}return this},reserve:function(S){for(var P=this.dead,R=0;R<S;R++)P.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(S,P){return void 0===S?(this.emitCallback=null,this.emitCallbackScope=null):"function"==typeof S&&(this.emitCallback=S,P&&(this.emitCallbackScope=P)),this},onParticleDeath:function(S,P){return void 0===S?(this.deathCallback=null,this.deathCallbackScope=null):"function"==typeof S&&(this.deathCallback=S,P&&(this.deathCallbackScope=P)),this},killAll:function(){for(var S=this.dead,P=this.alive;P.length>0;)S.push(P.pop());return this},forEachAlive:function(S,P){for(var R=this.alive,w=R.length,L=0;L<w;++L)S.call(P,R[L],this);return this},forEachDead:function(S,P){for(var R=this.dead,w=R.length,L=0;L<w;++L)S.call(P,R[L],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},remove:function(){return this.manager.removeEmitter(this),this},depthSort:function(){return x(this.alive,this.depthSortCallback),this},flow:function(S,P){return void 0===P&&(P=1),this.frequency=S,this.quantity.onChange(P),this.start()},explode:function(S,P,R){return this.frequency=-1,this.emitParticle(S,P,R)},emitParticleAt:function(S,P,R){return this.emitParticle(R,S,P)},emitParticle:function(S,P,R){if(!this.atLimit()){void 0===S&&(S=this.quantity.onEmit());for(var w=this.dead,L=this.follow?this.follow.x+this.followOffset.x:P,I=this.follow?this.follow.y+this.followOffset.y:R,B=0;B<S;B++){var G=w.pop();if(G||(G=new this.particleClass(this)),G.fire(L,I),this.particleBringToTop?this.alive.push(G):this.alive.unshift(G),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,G,this),this.atLimit())break}return G}},preUpdate:function(S,P){var R=(P*=this.timeScale)/1e3;this.trackVisible&&(this.visible=this.follow.visible);var w=this.manager.getProcessors(),L=this.alive,I=this.dead,B=0,G=[],H=L.length;for(B=0;B<H;B++){var Y=L[B];Y.update(P,R,w)&&G.push({index:B,particle:Y})}if((H=G.length)>0){var $=this.deathCallback,J=this.deathCallbackScope;for(B=H-1;B>=0;B--){var _=G[B];L.splice(_.index,1),I.push(_.particle),$&&$.call(J,_.particle),_.particle.resetPosition()}}!this.on||(0===this.frequency?this.emitParticle():this.frequency>0&&(this._counter-=P,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(S,P){return S.y-P.y}});C.exports=M},function(C,F,n){var g=new(n(0))({initialize:function(u,h){this.source=u,this.killOnEnter=h},willKill:function(f){var u=this.source.contains(f.x,f.y);return u&&this.killOnEnter||!u&&!this.killOnEnter}});C.exports=g},function(C,F,n){var g=new(n(0))({initialize:function(u,h,o,a,d){void 0===a&&(a=!1),void 0===d&&(d=!0),this.source=u,this.points=[],this.quantity=h,this.stepRate=o,this.yoyo=a,this.counter=-1,this.seamless=d,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var f=this.points[0],u=this.points[this.points.length-1];f.x===u.x&&f.y===u.y&&this.points.pop()}var h=this._length;return this._length=this.points.length,this._length<h&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(f){return this.source=f,this.updateSource()},getPoint:function(f){0===this._direction?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var u=this.points[this.counter];u&&(f.x=u.x,f.y=u.y)}});C.exports=g},function(C,F){C.exports=function(l,g){for(var f=0;f<g.length;f++)if(l.hasOwnProperty(g[f]))return!0;return!1}},function(C,F,n){var l=n(0),g=n(3),f=new l({initialize:function(h){this.source=h,this._tempVec=new g},getPoint:function(u){var h=this._tempVec;this.source.getRandomPoint(h),u.x=h.x,u.y=h.y}});C.exports=f},function(C,F,n){var l=n(0),g=n(11),f=n(73),u=new l({Extends:f,Mixins:[g.PathFollower],initialize:function(o,a,d,r,c,p){f.call(this,o,d,r,c,p),this.path=a},preUpdate:function(h,o){this.anims.update(h,o),this.pathUpdate(h)}});C.exports=u},function(C,F){C.exports=function(l,g,f){var h=l.context,o=l.style,a=[],d=0,r=f.length;o.maxLines>0&&o.maxLines<f.length&&(r=o.maxLines),o.syncFont(l.canvas,h);for(var c=0;c<r;c++){var p=o.strokeThickness;p+=h.measureText(f[c]).width,o.wordWrap&&(p-=h.measureText(" ").width),a[c]=Math.ceil(p),d=Math.max(d,a[c])}var m=g.fontSize+o.strokeThickness,v=m*r,x=l.lineSpacing;return r>1&&(v+=x*(r-1)),{width:d,height:v,lines:r,lineWidths:a,lineSpacing:x,lineHeight:m}}},function(C,F,n){var l=n(0),g=n(13),f=n(6),u=n(454),h={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xc3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},o=new l({initialize:function(d,r){this.parent=d,this.setStyle(r,!1,!0);var c=f(r,"metrics",!1);this.metrics=c?{ascent:f(c,"ascent",0),descent:f(c,"descent",0),fontSize:f(c,"fontSize",0)}:u(this)},setStyle:function(a,d,r){for(var c in void 0===d&&(d=!0),void 0===r&&(r=!1),a&&a.hasOwnProperty("fontSize")&&"number"==typeof a.fontSize&&(a.fontSize=a.fontSize.toString()+"px"),h){var p=r?h[c][1]:this[c];this[c]="wordWrapCallback"===c||"wordWrapCallbackScope"===c?f(a,h[c][0],p):g(a,h[c][0],p)}var m=f(a,"font",null);null!==m&&this.setFont(m,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var v=f(a,"fill",null);return null!==v&&(this.color=v),d?this.update(!0):this.parent},syncFont:function(a,d){d.font=this._font},syncStyle:function(a,d){d.textBaseline="alphabetic",d.fillStyle=this.color,d.strokeStyle=this.stroke,d.lineWidth=this.strokeThickness,d.lineCap="round",d.lineJoin="round"},syncShadow:function(a,d){d?(a.shadowOffsetX=this.shadowOffsetX,a.shadowOffsetY=this.shadowOffsetY,a.shadowColor=this.shadowColor,a.shadowBlur=this.shadowBlur):(a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowColor=0,a.shadowBlur=0)},update:function(a){return a&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=u(this)),this.parent.updateText()},setFont:function(a,d){void 0===d&&(d=!0);var r=a,c="",p="";if("string"!=typeof a)r=f(a,"fontFamily","Courier"),c=f(a,"fontSize","16px"),p=f(a,"fontStyle","");else{var m=a.split(" "),v=0;p=m.length>2?m[v++]:"",c=m[v++]||"16px",r=m[v++]||"Courier"}return(r!==this.fontFamily||c!==this.fontSize||p!==this.fontStyle)&&(this.fontFamily=r,this.fontSize=c,this.fontStyle=p,d&&this.update(!0)),this.parent},setFontFamily:function(a){return this.fontFamily!==a&&(this.fontFamily=a,this.update(!0)),this.parent},setFontStyle:function(a){return this.fontStyle!==a&&(this.fontStyle=a,this.update(!0)),this.parent},setFontSize:function(a){return"number"==typeof a&&(a=a.toString()+"px"),this.fontSize!==a&&(this.fontSize=a,this.update(!0)),this.parent},setTestString:function(a){return this.testString=a,this.update(!0)},setFixedSize:function(a,d){return this.fixedWidth=a,this.fixedHeight=d,a&&(this.parent.width=a),d&&(this.parent.height=d),this.update(!1)},setBackgroundColor:function(a){return this.backgroundColor=a,this.update(!1)},setFill:function(a){return this.color=a,this.update(!1)},setColor:function(a){return this.color=a,this.update(!1)},setResolution:function(a){return this.resolution=a,this.update(!1)},setStroke:function(a,d){return void 0===d&&(d=this.strokeThickness),void 0===a&&0!==this.strokeThickness?(this.strokeThickness=0,this.update(!0)):(this.stroke!==a||this.strokeThickness!==d)&&(this.stroke=a,this.strokeThickness=d,this.update(!0)),this.parent},setShadow:function(a,d,r,c,p,m){return void 0===a&&(a=0),void 0===d&&(d=0),void 0===r&&(r="#000"),void 0===c&&(c=0),void 0===p&&(p=!1),void 0===m&&(m=!0),this.shadowOffsetX=a,this.shadowOffsetY=d,this.shadowColor=r,this.shadowBlur=c,this.shadowStroke=p,this.shadowFill=m,this.update(!1)},setShadowOffset:function(a,d){return void 0===a&&(a=0),void 0===d&&(d=a),this.shadowOffsetX=a,this.shadowOffsetY=d,this.update(!1)},setShadowColor:function(a){return void 0===a&&(a="#000"),this.shadowColor=a,this.update(!1)},setShadowBlur:function(a){return void 0===a&&(a=0),this.shadowBlur=a,this.update(!1)},setShadowStroke:function(a){return this.shadowStroke=a,this.update(!1)},setShadowFill:function(a){return this.shadowFill=a,this.update(!1)},setWordWrapWidth:function(a,d){return void 0===d&&(d=!1),this.wordWrapWidth=a,this.wordWrapUseAdvanced=d,this.update(!1)},setWordWrapCallback:function(a,d){return void 0===d&&(d=null),this.wordWrapCallback=a,this.wordWrapCallbackScope=d,this.update(!1)},setAlign:function(a){return void 0===a&&(a="left"),this.align=a,this.update(!1)},setMaxLines:function(a){return void 0===a&&(a=0),this.maxLines=a,this.update(!1)},getTextMetrics:function(){var a=this.metrics;return{ascent:a.ascent,descent:a.descent,fontSize:a.fontSize}},toJSON:function(){var a={};for(var d in h)a[d]=this[d];return a.metrics=this.getTextMetrics(),a},destroy:function(){this.parent=void 0}});C.exports=o},function(C,F,n){var l=n(31);C.exports=function(f){var u=l.create(this),h=u.getContext("2d");f.syncFont(u,h);var o=h.measureText(f.testString);if(o.hasOwnProperty("actualBoundingBoxAscent")){var a=o.actualBoundingBoxAscent,d=o.actualBoundingBoxDescent;return l.remove(u),{ascent:a,descent:d,fontSize:a+d}}var r=Math.ceil(o.width*f.baselineX),c=r,p=2*c;c=c*f.baselineY|0,u.width=r,u.height=p,h.fillStyle="#f00",h.fillRect(0,0,r,p),h.font=f._font,h.textBaseline="alphabetic",h.fillStyle="#000",h.fillText(f.testString,0,c);var m={ascent:0,descent:0,fontSize:0};if(!h.getImageData(0,0,r,p))return m.ascent=c,m.descent=c+6,m.fontSize=m.ascent+m.descent,l.remove(u),m;var E,M,v=h.getImageData(0,0,r,p).data,x=v.length,T=4*r,S=0,P=!1;for(E=0;E<c;E++){for(M=0;M<T;M+=4)if(255!==v[S+M]){P=!0;break}if(P)break;S+=T}for(m.ascent=c-E,S=x-T,P=!1,E=p;E>c;E--){for(M=0;M<T;M+=4)if(255!==v[S+M]){P=!0;break}if(P)break;S-=T}return m.descent=E-c,m.fontSize=m.ascent+m.descent,l.remove(u),m}},function(C,F,n){var l=n(1091),g=n(0),f=n(34),u=n(68),h=n(62),o=n(14),a=n(32),d=new g({Extends:a,Mixins:[l],initialize:function(c,p,m,v,x,T,E,M,S){void 0===p&&(p=0),void 0===m&&(m=0),void 0===v&&(v=128),void 0===x&&(x=0),void 0===T&&(T=360),void 0===E&&(E=!1),a.call(this,c,"Arc",new h(0,0,v)),this._startAngle=x,this._endAngle=T,this._anticlockwise=E,this._iterations=.01,this.setPosition(p,m);var P=2*this.geom.radius;this.setSize(P,P),void 0!==M&&this.setFillStyle(M,S),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(r){this._iterations=r,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(r){this.geom.radius=r;var c=2*r;this.setSize(c,c),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(r){this._startAngle=r,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(r){this._endAngle=r,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(r){this._anticlockwise=r,this.updateData()}},setRadius:function(r){return this.radius=r,this},setIterations:function(r){return void 0===r&&(r=.01),this.iterations=r,this},setStartAngle:function(r,c){return this._startAngle=r,void 0!==c&&(this._anticlockwise=c),this.updateData()},setEndAngle:function(r,c){return this._endAngle=r,void 0!==c&&(this._anticlockwise=c),this.updateData()},updateData:function(){var r=this._iterations,c=r,p=this.geom.radius,m=f(this._startAngle),v=f(this._endAngle),T=p,E=p;v-=m,this._anticlockwise?v<-o.PI2?v=-o.PI2:v>0&&(v=v%o.PI2-o.PI2):v>o.PI2?v=o.PI2:v<0&&(v=o.PI2+v%o.PI2);for(var S,M=[T+Math.cos(m)*p,E+Math.sin(m)*p];c<1;)S=v*c+m,M.push(T+Math.cos(S)*p,E+Math.sin(S)*p),c+=r;return S=v+m,M.push(T+Math.cos(S)*p,E+Math.sin(S)*p),M.push(T+Math.cos(m)*p,E+Math.sin(m)*p),this.pathIndexes=u(M),this.pathData=M,this}});C.exports=d},function(C,F,n){var l=n(0),g=n(1094),f=n(68),u=n(10),h=n(32),o=new l({Extends:h,Mixins:[g],initialize:function(d,r,c,p,m,v){void 0===r&&(r=0),void 0===c&&(c=0),h.call(this,d,"Curve",p),this._smoothness=32,this._curveBounds=new u,this.closePath=!1,this.setPosition(r,c),void 0!==m&&this.setFillStyle(m,v),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(a){this._smoothness=a,this.updateData()}},setSmoothness:function(a){return this._smoothness=a,this.updateData()},updateData:function(){var a=this._curveBounds,d=this._smoothness;this.geom.getBounds(a,d),this.setSize(a.width,a.height),this.updateDisplayOrigin();for(var r=[],c=this.geom.getPoints(d),p=0;p<c.length;p++)r.push(c[p].x,c[p].y);return r.push(c[0].x,c[0].y),this.pathIndexes=f(r),this.pathData=r,this}});C.exports=o},function(C,F,n){var l=n(0),g=n(68),f=n(1097),u=n(108),h=n(32),o=new l({Extends:h,Mixins:[f],initialize:function(d,r,c,p,m,v,x){void 0===r&&(r=0),void 0===c&&(c=0),void 0===p&&(p=128),void 0===m&&(m=128),h.call(this,d,"Ellipse",new u(p/2,m/2,p,m)),this._smoothness=64,this.setPosition(r,c),this.width=p,this.height=m,void 0!==v&&this.setFillStyle(v,x),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(a){this._smoothness=a,this.updateData()}},setSize:function(a,d){return this.width=a,this.height=d,this.geom.setPosition(a/2,d/2),this.geom.setSize(a,d),this.updateData()},setSmoothness:function(a){return this._smoothness=a,this.updateData()},updateData:function(){for(var a=[],d=this.geom.getPoints(this._smoothness),r=0;r<d.length;r++)a.push(d[r].x,d[r].y);return a.push(d[0].x,d[0].y),this.pathIndexes=g(a),this.pathData=a,this}});C.exports=o},function(C,F,n){var l=n(0),g=n(32),f=n(1100),u=new l({Extends:g,Mixins:[f],initialize:function(o,a,d,r,c,p,m,v,x,T,E){void 0===a&&(a=0),void 0===d&&(d=0),void 0===r&&(r=128),void 0===c&&(c=128),void 0===p&&(p=32),void 0===m&&(m=32),g.call(this,o,"Grid",null),this.cellWidth=p,this.cellHeight=m,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.setPosition(a,d),this.setSize(r,c),this.setFillStyle(v,x),void 0!==T&&this.setOutlineStyle(T,E),this.updateDisplayOrigin()},setFillStyle:function(h,o){return void 0===o&&(o=1),void 0===h?this.showCells=!1:(this.fillColor=h,this.fillAlpha=o,this.showCells=!0),this},setAltFillStyle:function(h,o){return void 0===o&&(o=1),void 0===h?this.showAltCells=!1:(this.altFillColor=h,this.altFillAlpha=o,this.showAltCells=!0),this},setOutlineStyle:function(h,o){return void 0===o&&(o=1),void 0===h?this.showOutline=!1:(this.outlineFillColor=h,this.outlineFillAlpha=o,this.showOutline=!0),this}});C.exports=u},function(C,F,n){var l=n(1103),g=n(0),f=n(32),u=new g({Extends:f,Mixins:[l],initialize:function(o,a,d,r,c,p,m,v){void 0===a&&(a=0),void 0===d&&(d=0),void 0===r&&(r=48),void 0===c&&(c=32),void 0===p&&(p=15658734),void 0===m&&(m=10066329),void 0===v&&(v=13421772),f.call(this,o,"IsoBox",null),this.projection=4,this.fillTop=p,this.fillLeft=m,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(a,d),this.setSize(r,c),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setFaces:function(h,o,a){return void 0===h&&(h=!0),void 0===o&&(o=!0),void 0===a&&(a=!0),this.showTop=h,this.showLeft=o,this.showRight=a,this},setFillStyle:function(h,o,a){return this.fillTop=h,this.fillLeft=o,this.fillRight=a,this.isFilled=!0,this}});C.exports=u},function(C,F,n){var l=n(0),g=n(1106),f=n(32),u=new l({Extends:f,Mixins:[g],initialize:function(o,a,d,r,c,p,m,v,x){void 0===a&&(a=0),void 0===d&&(d=0),void 0===r&&(r=48),void 0===c&&(c=32),void 0===p&&(p=!1),void 0===m&&(m=15658734),void 0===v&&(v=10066329),void 0===x&&(x=13421772),f.call(this,o,"IsoTriangle",null),this.projection=4,this.fillTop=m,this.fillLeft=v,this.fillRight=x,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=p,this.isFilled=!0,this.setPosition(a,d),this.setSize(r,c),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setReversed:function(h){return this.isReversed=h,this},setFaces:function(h,o,a){return void 0===h&&(h=!0),void 0===o&&(o=!0),void 0===a&&(a=!0),this.showTop=h,this.showLeft=o,this.showRight=a,this},setFillStyle:function(h,o,a){return this.fillTop=h,this.fillLeft=o,this.fillRight=a,this.isFilled=!0,this}});C.exports=u},function(C,F,n){var l=n(0),g=n(32),f=n(45),u=n(1109),h=new l({Extends:g,Mixins:[u],initialize:function(a,d,r,c,p,m,v,x,T){void 0===d&&(d=0),void 0===r&&(r=0),void 0===c&&(c=0),void 0===p&&(p=0),void 0===m&&(m=128),void 0===v&&(v=0),g.call(this,a,"Line",new f(c,p,m,v));var E=Math.max(1,this.geom.right-this.geom.left),M=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(d,r),this.setSize(E,M),void 0!==x&&this.setStrokeStyle(1,x,T),this.updateDisplayOrigin()},setLineWidth:function(o,a){return void 0===a&&(a=o),this._startWidth=o,this._endWidth=a,this.lineWidth=o,this},setTo:function(o,a,d,r){return this.geom.setTo(o,a,d,r),this}});C.exports=h},function(C,F,n){var l=n(1112),g=n(0),f=n(68),u=n(463),h=n(224),o=n(32),a=n(466),d=new g({Extends:o,Mixins:[l],initialize:function(c,p,m,v,x,T){void 0===p&&(p=0),void 0===m&&(m=0),o.call(this,c,"Polygon",new h(v));var E=u(this.geom);this.setPosition(p,m),this.setSize(E.width,E.height),void 0!==x&&this.setFillStyle(x,T),this.updateDisplayOrigin(),this.updateData()},smooth:function(r){void 0===r&&(r=1);for(var c=0;c<r;c++)a(this.geom);return this.updateData()},updateData:function(){for(var r=[],c=this.geom.points,p=0;p<c.length;p++)r.push(c[p].x,c[p].y);return r.push(c[0].x,c[0].y),this.pathIndexes=f(r),this.pathData=r,this}});C.exports=d},function(C,F,n){var l=n(10);C.exports=function(f,u){void 0===u&&(u=new l);for(var r,h=1/0,o=1/0,a=-h,d=-o,c=0;c<f.points.length;c++)r=f.points[c],h=Math.min(h,r.x),o=Math.min(o,r.y),a=Math.max(a,r.x),d=Math.max(d,r.y);return u.x=h,u.y=o,u.width=a-h,u.height=d-o,u}},function(C,F,n){var l=n(64),g=n(45),f=n(465);C.exports=function(h,o,a,d){void 0===d&&(d=[]);var r=h.points,c=f(h);!o&&a>0&&(o=c/a);for(var p=0;p<o;p++)for(var m=c*(p/o),v=0,x=0;x<r.length;x++){var T=r[x],E=r[(x+1)%r.length],M=new g(T.x,T.y,E.x,E.y),S=l(M);if(!(m<v||m>v+S)){var P=M.getPoint((m-v)/S);d.push(P);break}v+=S}return d}},function(C,F,n){var l=n(64),g=n(45);C.exports=function(u){for(var h=u.points,o=0,a=0;a<h.length;a++){var d=h[a],r=h[(a+1)%h.length],c=new g(d.x,d.y,r.x,r.y);o+=l(c)}return o}},function(C,F){var n=function(g,f){return g[0]=f[0],g[1]=f[1],g};C.exports=function(g){var f,u=[],h=g.points;for(f=0;f<h.length;f++)u.push([h[f].x,h[f].y]);var o=[];for(u.length>0&&o.push(n([0,0],u[0])),f=0;f<u.length-1;f++){var a=u[f],d=u[f+1],r=a[0],c=a[1],p=d[0],m=d[1];o.push([.85*r+.15*p,.85*c+.15*m]),o.push([.15*r+.85*p,.15*c+.85*m])}return u.length>1&&o.push(n([0,0],u[u.length-1])),g.setTo(o)}},function(C,F,n){var l=n(0),g=n(10),f=n(32),u=n(1115),h=new l({Extends:f,Mixins:[u],initialize:function(a,d,r,c,p,m,v){void 0===d&&(d=0),void 0===r&&(r=0),void 0===c&&(c=128),void 0===p&&(p=128),f.call(this,a,"Rectangle",new g(0,0,c,p)),this.setPosition(d,r),this.setSize(c,p),void 0!==m&&this.setFillStyle(m,v),this.updateDisplayOrigin(),this.updateData()},setSize:function(o,a){return this.width=o,this.height=a,this.geom.setSize(o,a),this.updateData(),this},updateData:function(){var o=[],a=this.geom,d=this._tempLine;return a.getLineA(d),o.push(d.x1,d.y1,d.x2,d.y2),a.getLineB(d),o.push(d.x2,d.y2),a.getLineC(d),o.push(d.x2,d.y2),a.getLineD(d),o.push(d.x2,d.y2),this.pathData=o,this}});C.exports=h},function(C,F,n){var l=n(1118),g=n(0),f=n(68),u=n(32),h=new g({Extends:u,Mixins:[l],initialize:function(a,d,r,c,p,m,v,x){void 0===d&&(d=0),void 0===r&&(r=0),void 0===c&&(c=5),void 0===p&&(p=32),void 0===m&&(m=64),u.call(this,a,"Star",null),this._points=c,this._innerRadius=p,this._outerRadius=m,this.setPosition(d,r),this.setSize(2*m,2*m),void 0!==v&&this.setFillStyle(v,x),this.updateDisplayOrigin(),this.updateData()},setPoints:function(o){return this._points=o,this.updateData()},setInnerRadius:function(o){return this._innerRadius=o,this.updateData()},setOuterRadius:function(o){return this._outerRadius=o,this.updateData()},points:{get:function(){return this._points},set:function(o){this._points=o,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(o){this._innerRadius=o,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(o){this._outerRadius=o,this.updateData()}},updateData:function(){var o=[],a=this._points,d=this._innerRadius,r=this._outerRadius,c=Math.PI/2*3,p=Math.PI/a,m=r,v=r;o.push(m,v+-r);for(var x=0;x<a;x++)o.push(m+Math.cos(c)*r,v+Math.sin(c)*r),c+=p,o.push(m+Math.cos(c)*d,v+Math.sin(c)*d),c+=p;return o.push(m,v+-r),this.pathIndexes=f(o),this.pathData=o,this}});C.exports=h},function(C,F,n){var l=n(0),g=n(32),f=n(82),u=n(1121),h=new l({Extends:g,Mixins:[u],initialize:function(a,d,r,c,p,m,v,x,T,E,M){void 0===d&&(d=0),void 0===r&&(r=0),void 0===c&&(c=0),void 0===p&&(p=128),void 0===m&&(m=64),void 0===v&&(v=0),void 0===x&&(x=128),void 0===T&&(T=128),g.call(this,a,"Triangle",new f(c,p,m,v,x,T));var S=this.geom.right-this.geom.left,P=this.geom.bottom-this.geom.top;this.setPosition(d,r),this.setSize(S,P),void 0!==E&&this.setFillStyle(E,M),this.updateDisplayOrigin(),this.updateData()},setTo:function(o,a,d,r,c,p){return this.geom.setTo(o,a,d,r,c,p),this.updateData()},updateData:function(){var o=[],a=this.geom,d=this._tempLine;return a.getLineA(d),o.push(d.x1,d.y1,d.x2,d.y2),a.getLineB(d),o.push(d.x2,d.y2),a.getLineC(d),o.push(d.x2,d.y2),this.pathData=o,this}});C.exports=h},function(C,F,n){var l=n(4),g=n(64);C.exports=function(u,h,o){void 0===o&&(o=new l);var a=u.getLineA(),d=u.getLineB(),r=u.getLineC();if(h<=0||h>=1)return o.x=a.x1,o.y=a.y1,o;var c=g(a),p=g(d),m=g(r),x=(c+p+m)*h,T=0;return x<c?(o.x=a.x1+(a.x2-a.x1)*(T=x/c),o.y=a.y1+(a.y2-a.y1)*T):x>c+p?(o.x=r.x1+(r.x2-r.x1)*(T=(x-=c+p)/m),o.y=r.y1+(r.y2-r.y1)*T):(o.x=d.x1+(d.x2-d.x1)*(T=(x-=c)/p),o.y=d.y1+(d.y2-d.y1)*T),o}},function(C,F,n){var l=n(64),g=n(4);C.exports=function(u,h,o,a){void 0===a&&(a=[]);var d=u.getLineA(),r=u.getLineB(),c=u.getLineC(),p=l(d),m=l(r),v=l(c),x=p+m+v;!h&&o>0&&(h=x/o);for(var T=0;T<h;T++){var E=x*(T/h),M=0,S=new g;E<p?(S.x=d.x1+(d.x2-d.x1)*(M=E/p),S.y=d.y1+(d.y2-d.y1)*M):E>p+m?(S.x=c.x1+(c.x2-c.x1)*(M=(E-=p+m)/v),S.y=c.y1+(c.y2-c.y1)*M):(S.x=r.x1+(r.x2-r.x1)*(M=(E-=p)/m),S.y=r.y1+(r.y2-r.y1)*M),a.push(S)}return a}},function(C,F){C.exports=function(l,g,f){if(!l||"number"==typeof l)return!1;if(l.hasOwnProperty(g))return l[g]=f,!0;if(-1!==g.indexOf(".")){for(var u=g.split("."),h=l,o=l,a=0;a<u.length;a++){if(!h.hasOwnProperty(u[a]))return!1;o=h,h=h[u[a]]}return o[u[u.length-1]]=f,!0}return!1}},function(C,F,n){var l=n(113),g=n(115);C.exports=function(u,h,o,a,d,r,c){if(void 0===a&&(a=!1),void 0===r&&(r=16777215),void 0===c&&(c=1),u.length===h.length){var m,R,w,L,p={faces:[],verts:[]},I=a?3:2,B=Array.isArray(r),G=Array.isArray(c);if(Array.isArray(o)&&o.length>0)for(m=0;m<o.length;m++){var H=o[m],Y=2*o[m],$=o[m]*I;R=0,w=0,L=0,d&&(R=d[$],w=d[$+1],L=a?d[$+2]:0),p.verts.push(new g(u[$],u[$+1],a?u[$+2]:0,h[Y],h[Y+1],B?r[H]:r,G?c[H]:c,R,w,L))}else{var J=0,_=0;for(m=0;m<u.length;m+=I)R=0,w=0,L=0,d&&(R=d[m],w=d[m+1],L=a?d[m+2]:0),p.verts.push(new g(u[m],u[m+1],a?u[m+2]:0,h[J],h[J+1],B?r[_]:r,G?c[_]:c,R,w,L)),J+=2,_++}for(m=0;m<p.verts.length;m+=3)p.faces.push(new l(p.verts[m],p.verts[m+1],p.verts[m+2]));return p}console.warn("GenerateVerts: vertices and uvs count not equal")}},function(C,F,n){var l=n(113),g=n(67),f=n(37),u=n(115),h=new f,o=new f,a=new g;C.exports=function(r,c,p,m,v,x,T,E,M,S){void 0===p&&(p=1),void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=0),void 0===T&&(T=0),void 0===E&&(E=0),void 0===M&&(M=0),void 0===S&&(S=!0);var P={faces:[],verts:[]},R=r.materials;h.set(m,v,x),o.set(T,E,M),a.fromRotationXYTranslation(o,h,S);for(var w=0;w<r.models.length;w++)for(var L=r.models[w],I=L.vertices,B=L.textureCoords,G=L.faces,H=0;H<G.length;H++){var Y=G[H],$=Y.vertices[0],J=Y.vertices[1],_=Y.vertices[2],tt=I[$.vertexIndex],U=I[J.vertexIndex],V=I[_.vertexIndex],X=$.textureCoordsIndex,W=J.textureCoordsIndex,j=_.textureCoordsIndex,K=-1===X?{u:0,v:1}:B[X],q=-1===W?{u:0,v:0}:B[W],et=-1===j?{u:1,v:1}:B[j],rt=16777215;""!==Y.material&&R[Y.material]&&(rt=R[Y.material]);var ot=new u(tt.x*p,tt.y*p,tt.z*p,K.u,K.v,rt).transformMat4(a),at=new u(U.x*p,U.y*p,U.z*p,q.u,q.v,rt).transformMat4(a),ft=new u(V.x*p,V.y*p,V.z*p,et.u,et.v,rt).transformMat4(a);P.verts.push(ot,at,ft),P.faces.push(new l(ot,at,ft))}return c&&(c.faces=c.faces.concat(P.faces),c.vertices=c.vertices.concat(P.verts)),P}},function(C,F,n){var l=n(62),g=n(0),f=n(11),u=n(197),h=n(12),o=new g({Extends:l,Mixins:[f.ScrollFactor,f.Visible],initialize:function(d,r,c,p,m,v,x){l.call(this,d,r,c),this.color=new u(p,m,v),this.intensity=x,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1)},willRender:function(a){return!(o.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&a.id)},setColor:function(a){var d=h.getFloatsFromUintRGB(a);return this.color.set(d[0],d[1],d[2]),this},setIntensity:function(a){return this.intensity=a,this},setRadius:function(a){return this.radius=a,this}});o.RENDER_MASK=15,C.exports=o},function(C,F,n){var l=n(150),g=n(0),f=n(48),u=n(475),h=n(149),o=n(197),a=n(74),d=n(79),r=n(12),c=new g({initialize:function(){this.lights=[],this.ambientColor=new o(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(p,m,v,x,T){return this.systems.displayList.add(new h(this.scene,p,m,v,x,T))},enable:function(){return-1===this.maxLights&&(this.maxLights=this.scene.sys.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(p){for(var m=this.lights,v=p.worldView,x=[],T=0;T<m.length;T++){var E=m[T];E.willRender(p)&&l(E,v)&&x.push({light:E,distance:f(E.x,E.y,v.centerX,v.centerY)})}return x.length>this.maxLights&&(d(x,this.sortByDistance),x=x.slice(0,this.maxLights)),this.visibleLights=x.length,x},sortByDistance:function(p,m){return p.distance>=m.distance},setAmbientColor:function(p){var m=r.getFloatsFromUintRGB(p);return this.ambientColor.set(m[0],m[1],m[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(p,m,v,x,T){void 0===p&&(p=0),void 0===m&&(m=0),void 0===v&&(v=128),void 0===x&&(x=16777215),void 0===T&&(T=1);var E=r.getFloatsFromUintRGB(x),M=new u(p,m,v,E[0],E[1],E[2],T);return this.lights.push(M),M},removeLight:function(p){var m=this.lights.indexOf(p);return m>=0&&a(this.lights,m),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});C.exports=c},function(C,F,n){var l=n(55),g=n(17),f={Circle:n(1185),Ellipse:n(1195),Intersects:n(478),Line:n(1215),Mesh:n(1237),Point:n(1240),Polygon:n(1254),Rectangle:n(496),Triangle:n(1287)};f=g(!1,f,l),C.exports=f},function(C,F,n){C.exports={CircleToCircle:n(228),CircleToRectangle:n(150),GetCircleToCircle:n(1205),GetCircleToRectangle:n(1206),GetLineToCircle:n(229),GetLineToLine:n(479),GetLineToPoints:n(480),GetLineToPolygon:n(481),GetLineToRectangle:n(231),GetRaysFromPointToPolygon:n(1207),GetRectangleIntersection:n(1208),GetRectangleToRectangle:n(1209),GetRectangleToTriangle:n(1210),GetTriangleToCircle:n(1211),GetTriangleToLine:n(486),GetTriangleToTriangle:n(1212),LineToCircle:n(230),LineToLine:n(92),LineToRectangle:n(482),PointToLine:n(490),PointToLineSegment:n(1213),RectangleToRectangle:n(114),RectangleToTriangle:n(483),RectangleToValues:n(1214),TriangleToCircle:n(485),TriangleToLine:n(487),TriangleToTriangle:n(488)}},function(C,F,n){var l=n(37);C.exports=function(f,u,h){var o=f.x1,a=f.y1,c=u.x1,p=u.y1,x=f.x2-o,T=f.y2-a,E=u.x2-c,M=u.y2-p;if(0===x||0==M*x-E*T)return!1;var P=(x*(p-a)+T*(o-c))/(E*T-M*x),R=(c+E*P-o)/x;return R<0||P<0||P>1?null:(void 0===h&&(h=new l),h.set(o+x*R,a+T*R,R))}},function(C,F,n){var l=n(37),g=n(479),u=new(n(45)),h=new l;C.exports=function(a,d,r){void 0===r&&(r=new l);var c=!1;r.set(),h.set();for(var p=d[0],m=1;m<d.length;m++){var v=d[m];u.setTo(p.x,p.y,v.x,v.y),p=v,g(a,u,h)&&(!c||h.z<r.z)&&(r.copy(h),c=!0)}return c?r:null}},function(C,F,n){var l=n(37),g=n(138),f=n(480),u=new l;C.exports=function(o,a,d){void 0===d&&(d=new g),Array.isArray(a)||(a=[a]);var r=!1;d.set(),u.set();for(var c=0;c<a.length;c++)f(o,a[c].points,u)&&(!r||u.z<d.z)&&(d.set(u.x,u.y,u.z,c),r=!0);return r?d:null}},function(C,F){C.exports=function(l,g){var f=l.x1,u=l.y1,h=l.x2,o=l.y2,a=g.x,d=g.y,r=g.right,c=g.bottom,p=0;if(f>=a&&f<=r&&u>=d&&u<=c||h>=a&&h<=r&&o>=d&&o<=c)return!0;if(f<a&&h>=a){if((p=u+(o-u)*(a-f)/(h-f))>d&&p<=c)return!0}else if(f>r&&h<=r&&(p=u+(o-u)*(r-f)/(h-f))>=d&&p<=c)return!0;if(u<d&&o>=d){if((p=f+(h-f)*(d-u)/(o-u))>=a&&p<=r)return!0}else if(u>c&&o<=c&&(p=f+(h-f)*(c-u)/(o-u))>=a&&p<=r)return!0;return!1}},function(C,F,n){var l=n(92),g=n(56),f=n(232),u=n(484);C.exports=function(o,a){if(a.left>o.right||a.right<o.left||a.top>o.bottom||a.bottom<o.top)return!1;var d=a.getLineA(),r=a.getLineB(),c=a.getLineC();if(g(o,d.x1,d.y1)||g(o,d.x2,d.y2)||g(o,r.x1,r.y1)||g(o,r.x2,r.y2)||g(o,c.x1,c.y1)||g(o,c.x2,c.y2))return!0;var p=o.getLineA(),m=o.getLineB(),v=o.getLineC(),x=o.getLineD();if(l(d,p)||l(d,m)||l(d,v)||l(d,x)||l(r,p)||l(r,m)||l(r,v)||l(r,x)||l(c,p)||l(c,m)||l(c,v)||l(c,x))return!0;var T=u(o);return f(a,T,!0).length>0}},function(C,F){C.exports=function(l,g){return void 0===g&&(g=[]),g.push({x:l.x,y:l.y}),g.push({x:l.right,y:l.y}),g.push({x:l.right,y:l.bottom}),g.push({x:l.x,y:l.bottom}),g}},function(C,F,n){var l=n(230),g=n(112);C.exports=function(u,h){return!(u.left>h.right||u.right<h.left||u.top>h.bottom||u.bottom<h.top||!(g(u,h.x,h.y)||l(u.getLineA(),h)||l(u.getLineB(),h)||l(u.getLineC(),h)))}},function(C,F,n){var l=n(4),g=n(487),f=n(92);C.exports=function(h,o,a){if(void 0===a&&(a=[]),g(h,o))for(var d=h.getLineA(),r=h.getLineB(),c=h.getLineC(),p=[new l,new l,new l],m=[f(d,o,p[0]),f(r,o,p[1]),f(c,o,p[2])],v=0;v<3;v++)m[v]&&a.push(p[v]);return a}},function(C,F,n){var l=n(92);C.exports=function(f,u){return!!(f.contains(u.x1,u.y1)||f.contains(u.x2,u.y2)||l(f.getLineA(),u)||l(f.getLineB(),u)||l(f.getLineC(),u))}},function(C,F,n){var l=n(232),g=n(489),f=n(92);C.exports=function(h,o){if(h.left>o.right||h.right<o.left||h.top>o.bottom||h.bottom<o.top)return!1;var a=h.getLineA(),d=h.getLineB(),r=h.getLineC(),c=o.getLineA(),p=o.getLineB(),m=o.getLineC();if(f(a,c)||f(a,p)||f(a,m)||f(d,c)||f(d,p)||f(d,m)||f(r,c)||f(r,p)||f(r,m))return!0;var v=g(h),x=l(o,v,!0);return x.length>0||(v=g(o),(x=l(h,v,!0)).length>0)}},function(C,F){C.exports=function(l,g){return void 0===g&&(g=[]),g.push({x:l.x1,y:l.y1}),g.push({x:l.x2,y:l.y2}),g.push({x:l.x3,y:l.y3}),g}},function(C,F){C.exports=function(l,g,f){void 0===f&&(f=1);var u=g.x1,h=g.y1,o=g.x2,a=g.y2,d=l.x,r=l.y,c=(o-u)*(o-u)+(a-h)*(a-h);if(0===c)return!1;var p=((d-u)*(o-u)+(r-h)*(a-h))/c;return p<0?Math.sqrt((u-d)*(u-d)+(h-r)*(h-r))<=f:p>=0&&p<=1?Math.abs(((h-r)*(o-u)-(u-d)*(a-h))/c)*Math.sqrt(c)<=f:Math.sqrt((o-d)*(o-d)+(a-r)*(a-r))<=f}},function(C,F,n){var l=n(14),g=n(66),f=n(93);C.exports=function(h){var o=f(h)-l.TAU;return g(o,-Math.PI,Math.PI)}},function(C,F){var n=!0,l="untitled",g="",f="";function u(T){var E=T.indexOf("#");return E>-1?T.substring(0,E):T}function h(T){return 0===T.models.length&&T.models.push({faces:[],name:l,textureCoords:[],vertexNormals:[],vertices:[]}),g="",T.models[T.models.length-1]}function o(T,E){E.models.push({faces:[],name:T.length>=2?T[1]:l,textureCoords:[],vertexNormals:[],vertices:[]}),g=""}function a(T){2===T.length&&(g=T[1])}function d(T,E){var M=T.length,S=M>=2?parseFloat(T[1]):0,P=M>=3?parseFloat(T[2]):0,R=M>=4?parseFloat(T[3]):0;h(E).vertices.push({x:S,y:P,z:R})}function r(T,E){var M=T.length,S=M>=2?parseFloat(T[1]):0,P=M>=3?parseFloat(T[2]):0,R=M>=4?parseFloat(T[3]):0;isNaN(S)&&(S=0),isNaN(P)&&(P=0),isNaN(R)&&(R=0),n&&(P=1-P),h(E).textureCoords.push({u:S,v:P,w:R})}function c(T,E){var M=T.length,S=M>=2?parseFloat(T[1]):0,P=M>=3?parseFloat(T[2]):0,R=M>=4?parseFloat(T[3]):0;h(E).vertexNormals.push({x:S,y:P,z:R})}function p(T,E){var M=T.length-1;if(!(M<3)){for(var S={group:g,material:f,vertices:[]},P=0;P<M;P++){var w=T[P+1].split("/"),L=w.length;if(!(L<1||L>3)){var I=0,B=0,G=0;I=parseInt(w[0],10),L>1&&""!==w[1]&&(B=parseInt(w[1],10)),L>2&&(G=parseInt(w[2],10)),0!==I&&(I<0&&(I=h(E).vertices.length+1+I),S.vertices.push({textureCoordsIndex:B-=1,vertexIndex:I-=1,vertexNormalIndex:G-=1}))}}h(E).faces.push(S)}}function m(T,E){T.length>=2&&E.materialLibraries.push(T[1])}function v(T){T.length>=2&&(f=T[1])}C.exports=function(T,E){void 0===E&&(E=!0),n=E;var M={materials:{},materialLibraries:[],models:[]};g="",f="";for(var S=T.split("\n"),P=0;P<S.length;P++){var w=u(S[P]).replace(/\s\s+/g," ").trim().split(" ");switch(w[0].toLowerCase()){case"o":o(w,M);break;case"g":a(w);break;case"v":d(w,M);break;case"vt":r(w,M);break;case"vn":c(w,M);break;case"f":p(w,M);break;case"mtllib":m(w,M);break;case"usemtl":v(w)}}return M}},function(C,F,n){var l=n(100);C.exports=function(f){for(var u={},h=f.split("\n"),o="",a=0;a<h.length;a++){var d=h[a].trim();if(0!==d.indexOf("#")&&""!==d){var r=d.replace(/\s\s+/g," ").trim().split(" ");switch(r[0].toLowerCase()){case"newmtl":o=r[1];break;case"kd":var c=Math.floor(255*r[1]),p=r.length>=2?Math.floor(255*r[2]):c,m=r.length>=3?Math.floor(255*r[3]):c;u[o]=l(c,p,m)}}}return u}},function(C,F){C.exports=function(l){return Math.sqrt(l.x*l.x+l.y*l.y)}},function(C,F){C.exports=function(l){return l.x*l.x+l.y*l.y}},function(C,F,n){var l=n(10);l.Area=n(1261),l.Ceil=n(1262),l.CeilAll=n(1263),l.CenterOn=n(187),l.Clone=n(1264),l.Contains=n(56),l.ContainsPoint=n(1265),l.ContainsRect=n(497),l.CopyFrom=n(1266),l.Decompose=n(484),l.Equals=n(1267),l.FitInside=n(1268),l.FitOutside=n(1269),l.Floor=n(1270),l.FloorAll=n(1271),l.FromPoints=n(196),l.FromXY=n(1272),l.GetAspectRatio=n(234),l.GetCenter=n(1273),l.GetPoint=n(167),l.GetPoints=n(300),l.GetSize=n(1274),l.Inflate=n(1275),l.Intersection=n(1276),l.MarchingAnts=n(310),l.MergePoints=n(1277),l.MergeRect=n(1278),l.MergeXY=n(1279),l.Offset=n(1280),l.OffsetPoint=n(1281),l.Overlaps=n(1282),l.Perimeter=n(128),l.PerimeterPoint=n(1283),l.Random=n(170),l.RandomOutside=n(1284),l.SameDimensions=n(1285),l.Scale=n(1286),l.Union=n(435),C.exports=l},function(C,F){C.exports=function(l,g){return!(g.width*g.height>l.width*l.height)&&g.x>l.x&&g.x<l.right&&g.right>l.x&&g.right<l.right&&g.y>l.y&&g.y<l.bottom&&g.bottom>l.y&&g.bottom<l.bottom}},function(C,F,n){var l=n(4);C.exports=function(f,u){return void 0===u&&(u=new l),u.x=(f.x1+f.x2+f.x3)/3,u.y=(f.y1+f.y2+f.y3)/3,u}},function(C,F){C.exports=function(l,g,f){return l.x1+=g,l.y1+=f,l.x2+=g,l.y2+=f,l.x3+=g,l.y3+=f,l}},function(C,F,n){var l=n(4);function g(u,h,o,a){var d=u-o,r=h-a;return Math.sqrt(d*d+r*r)}C.exports=function(u,h){void 0===h&&(h=new l);var o=u.x1,a=u.y1,d=u.x2,r=u.y2,c=u.x3,p=u.y3,m=g(c,p,d,r),v=g(o,a,c,p),x=g(d,r,o,a),T=m+v+x;return h.x=(o*m+d*v+c*x)/T,h.y=(a*m+r*v+p*x)/T,h}},function(C,F){C.exports=function(l,g){return function(f,u,h,o){var a=l.getPixelAlpha(u,h,o.texture.key,o.frame.name);return a&&a>=g}}},function(C,F){C.exports=function(l,g,f){return{gameObject:l,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:g,hitAreaCallback:f,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}}},function(C,F,n){var g=new(n(0))({initialize:function(u,h){this.pad=u,this.events=u.events,this.index=h,this.value=0,this.threshold=.1},update:function(f){this.value=f},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});C.exports=g},function(C,F,n){var l=n(0),g=n(236),f=new l({initialize:function(h,o){this.pad=h,this.events=h.manager,this.index=o,this.value=0,this.threshold=1,this.pressed=!1},update:function(u){this.value=u;var h=this.pad,o=this.index;u>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(g.BUTTON_DOWN,h,this,u),this.pad.emit(g.GAMEPAD_BUTTON_DOWN,o,u,this)):this.pressed&&(this.pressed=!1,this.events.emit(g.BUTTON_UP,h,this,u),this.pad.emit(g.GAMEPAD_BUTTON_UP,o,u,this))},destroy:function(){this.pad=null,this.events=null}});C.exports=f},function(C,F,n){var l=n(503),g=n(504),f=n(0),u=n(9),h=n(3),o=new f({Extends:u,initialize:function(d,r){u.call(this),this.manager=d,this.pad=r,this.id=r.id,this.index=r.index;for(var c=[],p=0;p<r.buttons.length;p++)c.push(new g(this,p));this.buttons=c;var m=[];for(p=0;p<r.axes.length;p++)m.push(new l(this,p));this.axes=m,this.vibration=r.vibrationActuator;var v={value:0,pressed:!1};this._LCLeft=c[14]?c[14]:v,this._LCRight=c[15]?c[15]:v,this._LCTop=c[12]?c[12]:v,this._LCBottom=c[13]?c[13]:v,this._RCLeft=c[2]?c[2]:v,this._RCRight=c[1]?c[1]:v,this._RCTop=c[3]?c[3]:v,this._RCBottom=c[0]?c[0]:v,this._FBLeftTop=c[4]?c[4]:v,this._FBLeftBottom=c[6]?c[6]:v,this._FBRightTop=c[5]?c[5]:v,this._FBRightBottom=c[7]?c[7]:v;var x={value:0};this._HAxisLeft=m[0]?m[0]:x,this._VAxisLeft=m[1]?m[1]:x,this._HAxisRight=m[2]?m[2]:x,this._VAxisRight=m[3]?m[3]:x,this.leftStick=new h,this.rightStick=new h,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(a){return this.axes[a].getValue()},setAxisThreshold:function(a){for(var d=0;d<this.axes.length;d++)this.axes[d].threshold=a},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(a){return this.buttons[a].value},isButtonDown:function(a){return this.buttons[a].pressed},update:function(a){if(!(a.timestamp<this._created)){var d,r=this.buttons,c=a.buttons,p=r.length;for(d=0;d<p;d++)r[d].update(c[d].value);var m=this.axes,v=a.axes;for(p=m.length,d=0;d<p;d++)m[d].update(v[d]);p>=2&&(this.leftStick.set(m[0].getValue(),m[1].getValue()),p>=4&&this.rightStick.set(m[2].getValue(),m[3].getValue()))}},destroy:function(){var a;for(this.removeAllListeners(),this.manager=null,this.pad=null,a=0;a<this.buttons.length;a++)this.buttons[a].destroy();for(a=0;a<this.axes.length;a++)this.axes[a].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});C.exports=o},function(C,F,n){var l=n(0),g=n(9),f=n(152),u=new l({Extends:g,initialize:function(o,a){g.call(this),this.plugin=o,this.keyCode=a,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(h){return this.emitOnRepeat=h,this},onDown:function(h){this.originalEvent=h,this.enabled&&(this.altKey=h.altKey,this.ctrlKey=h.ctrlKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.location=h.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(f.DOWN,this,h):(this.isDown=!0,this.isUp=!1,this.timeDown=h.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(f.DOWN,this,h)))},onUp:function(h){this.originalEvent=h,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=h.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(f.UP,this,h))},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});C.exports=u},function(C,F,n){var l=n(0),g=n(152),f=n(2),u=n(508),h=n(510),o=new l({initialize:function(d,r,c){if(void 0===c&&(c={}),r.length<2)return!1;this.manager=d,this.enabled=!0,this.keyCodes=[];for(var p=0;p<r.length;p++){var m=r[p];"string"==typeof m?this.keyCodes.push(m.toUpperCase().charCodeAt(0)):"number"==typeof m?this.keyCodes.push(m):m.hasOwnProperty("keyCode")&&this.keyCodes.push(m.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=f(c,"resetOnWrongKey",!0),this.maxKeyDelay=f(c,"maxKeyDelay",0),this.resetOnMatch=f(c,"resetOnMatch",!1),this.deleteOnMatch=f(c,"deleteOnMatch",!1);var v=this;this.onKeyDown=function(T){!v.matched&&v.enabled&&u(T,v)&&(v.manager.emit(g.COMBO_MATCH,v,T),v.resetOnMatch?h(v):v.deleteOnMatch&&v.destroy())},this.manager.on(g.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(g.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});C.exports=o},function(C,F,n){var l=n(509);C.exports=function(f,u){if(u.matched)return!0;var h=!1,o=!1;return f.keyCode===u.current&&(u.index>0&&u.maxKeyDelay>0?f.timeStamp<=u.timeLastMatched+u.maxKeyDelay&&(o=!0,h=l(f,u)):(o=!0,h=l(f,u))),!o&&u.resetOnWrongKey&&(u.index=0,u.current=u.keyCodes[0]),h&&(u.timeLastMatched=f.timeStamp,u.matched=!0,u.timeMatched=f.timeStamp),h}},function(C,F){C.exports=function(l,g){return g.timeLastMatched=l.timeStamp,g.index++,g.index===g.size||(g.current=g.keyCodes[g.index],!1)}},function(C,F){C.exports=function(l){return l.current=l.keyCodes[0],l.index=0,l.timeLastMatched=0,l.matched=!1,l.timeMatched=0,l}},function(C,F,n){var l=n(237);C.exports=function(f,u){var h=l(u,f.xhrSettings),o=new XMLHttpRequest;if(o.open("GET",f.src,h.async,h.user,h.password),o.responseType=f.xhrSettings.responseType,o.timeout=h.timeout,h.headers)for(var a in h.headers)o.setRequestHeader(a,h.headers[a]);return h.header&&h.headerValue&&o.setRequestHeader(h.header,h.headerValue),h.requestedWith&&o.setRequestHeader("X-Requested-With",h.requestedWith),h.overrideMimeType&&o.overrideMimeType(h.overrideMimeType),h.withCredentials&&(o.withCredentials=!0),o.onload=f.onLoad.bind(f,o),o.onerror=f.onError.bind(f,o),o.onprogress=f.onProgress.bind(f),o.send(),o}},function(C,F,n){var l=n(0),g=n(20),f=n(23),u=n(8),h=n(2),o=n(513),a=n(7),d=new l({Extends:f,initialize:function(c,p,m,v,x){if(a(p)){var T=p;p=h(T,"key"),v=h(T,"xhrSettings"),x=h(T,"context",x)}f.call(this,c,{type:"audio",cache:c.cacheManager.audio,extension:m.type,responseType:"arraybuffer",key:p,url:m.url,xhrSettings:v,config:{context:x}})},onProcess:function(){this.state=g.FILE_PROCESSING;var r=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(c){r.data=c,r.onProcessComplete()},function(c){console.error("Error decoding audio: "+r.key+" - ",c?c.message:null),r.onProcessError()}),this.config.context=null}});d.create=function(r,c,p,m,v){var x=r.systems.game,T=x.config.audio,E=x.device.audio;a(c)&&(p=h(c,"url",[]),m=h(c,"config",{}));var M=d.getAudioURL(x,p);return M?E.webAudio&&!T.disableWebAudio?new d(r,c,M,v,x.sound.context):new o(r,c,M,m):null},d.getAudioURL=function(r,c){Array.isArray(c)||(c=[c]);for(var p=0;p<c.length;p++){var m=h(c[p],"url",c[p]);if(0===m.indexOf("blob:")||0===m.indexOf("data:"))return{url:m,type:""};var v=m.match(/\.([a-zA-Z0-9]+)($|\?)/);if(v=h(c[p],"type",v?v[1]:"").toLowerCase(),r.device.audio[v])return{url:m,type:v}}return null},u.register("audio",function(r,c,p,m){var E,v=this.systems.game,T=v.device.audio;if(v.config.audio.noAudio||!T.webAudio&&!T.audioData)return this;if(Array.isArray(r))for(var M=0;M<r.length;M++)(E=d.create(this,r[M]))&&this.addFile(E);else(E=d.create(this,r,c,p,m))&&this.addFile(E);return this}),C.exports=d},function(C,F,n){var l=n(0),g=n(91),f=n(23),u=n(2),h=n(153),o=n(7),a=new l({Extends:f,initialize:function(r,c,p,m){if(o(c)){var v=c;c=u(v,"key"),m=u(v,"config",m)}f.call(this,r,{type:"audio",cache:r.cacheManager.audio,extension:p.type,key:c,url:p.url,config:m}),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var d=0;d<this.data.length;d++){var r=this.data[d];r.oncanplaythrough=null,r.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(d){var r=d.target;r.oncanplaythrough=null,r.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(g.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var d=this.config&&this.config.instances||1;this.filesTotal=d,this.filesLoaded=0,this.percentComplete=0;for(var r=0;r<d;r++){var c=new Audio;c.dataset||(c.dataset={}),c.dataset.name=this.key+("0"+r).slice(-2),c.dataset.used="false",this.locked?c.dataset.locked="true":(c.dataset.locked="false",c.preload="auto",c.oncanplaythrough=this.onProgress.bind(this),c.onerror=this.onError.bind(this)),this.data.push(c)}for(r=0;r<this.data.length;r++)(c=this.data[r]).src=h(this,this.loader.baseURL),this.locked||c.load();this.locked&&setTimeout(this.onLoad.bind(this))}});C.exports=a},function(C,F,n){var l=n(0),g=n(20),f=n(23),u=n(8),h=n(2),o=n(7),a=new l({Extends:f,initialize:function(r,c,p,m){var v="js";if(o(c)){var x=c;c=h(x,"key"),p=h(x,"url"),m=h(x,"xhrSettings"),v=h(x,"extension",v)}f.call(this,r,{type:"script",cache:!1,extension:v,responseType:"text",key:c,url:p,xhrSettings:m})},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});u.register("script",function(d,r,c){if(Array.isArray(d))for(var p=0;p<d.length;p++)this.addFile(new a(this,d[p]));else this.addFile(new a(this,d,r,c));return this}),C.exports=a},function(C,F,n){var l=n(516),g=n(155),f=n(0),u=n(60),h=n(518),o=n(519),a=new f({initialize:function(r){this.world=r,this.scene=r.scene,this.sys=r.scene.sys},collider:function(d,r,c,p,m){return this.world.addCollider(d,r,c,p,m)},overlap:function(d,r,c,p,m){return this.world.addOverlap(d,r,c,p,m)},existing:function(d,r){return this.world.enableBody(d,r?u.STATIC_BODY:u.DYNAMIC_BODY),d},staticImage:function(d,r,c,p){var m=new l(this.scene,d,r,c,p);return this.sys.displayList.add(m),this.world.enableBody(m,u.STATIC_BODY),m},image:function(d,r,c,p){var m=new l(this.scene,d,r,c,p);return this.sys.displayList.add(m),this.world.enableBody(m,u.DYNAMIC_BODY),m},staticSprite:function(d,r,c,p){var m=new g(this.scene,d,r,c,p);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,u.STATIC_BODY),m},sprite:function(d,r,c,p){var m=new g(this.scene,d,r,c,p);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,u.DYNAMIC_BODY),m},staticGroup:function(d,r){return this.sys.updateList.add(new o(this.world,this.world.scene,d,r))},group:function(d,r){return this.sys.updateList.add(new h(this.world,this.world.scene,d,r))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});C.exports=a},function(C,F,n){var l=n(0),g=n(240),f=n(124),u=new l({Extends:f,Mixins:[g.Acceleration,g.Angular,g.Bounce,g.Debug,g.Drag,g.Enable,g.Friction,g.Gravity,g.Immovable,g.Mass,g.Pushable,g.Size,g.Velocity],initialize:function(o,a,d,r,c){f.call(this,o,a,d,r,c),this.body=null}});C.exports=u},function(C,F,n){var l=n(241),g=n(62),f=n(228),u=n(150);C.exports=function(o,a,d,r,c,p){var m=l(o,a-r,d-r,2*r,2*r,c,p);if(0===m.length)return m;for(var v=new g(a,d,r),x=new g,T=[],E=0;E<m.length;E++){var M=m[E];M.isCircle?(x.setTo(M.center.x,M.center.y,M.halfWidth),f(v,x)&&T.push(M)):u(v,M)&&T.push(M)}return T}},function(C,F,n){var l=n(155),g=n(0),f=n(60),u=n(2),h=n(110),o=n(7),a=new g({Extends:h,initialize:function(r,c,p,m){if(p||m)if(o(p))m=p,p=null,m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(p)&&o(p[0])){m=p[0];var v=this;p.forEach(function(x){x.internalCreateCallback=v.createCallbackHandler,x.internalRemoveCallback=v.removeCallbackHandler}),p=null}else m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=r,m.classType=u(m,"classType",l),this.physicsType=f.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:u(m,"collideWorldBounds",!1),setBoundsRectangle:u(m,"customBoundsRectangle",null),setAccelerationX:u(m,"accelerationX",0),setAccelerationY:u(m,"accelerationY",0),setAllowDrag:u(m,"allowDrag",!0),setAllowGravity:u(m,"allowGravity",!0),setAllowRotation:u(m,"allowRotation",!0),setBounceX:u(m,"bounceX",0),setBounceY:u(m,"bounceY",0),setDragX:u(m,"dragX",0),setDragY:u(m,"dragY",0),setEnable:u(m,"enable",!0),setGravityX:u(m,"gravityX",0),setGravityY:u(m,"gravityY",0),setFrictionX:u(m,"frictionX",0),setFrictionY:u(m,"frictionY",0),setMaxVelocityX:u(m,"maxVelocityX",1e4),setMaxVelocityY:u(m,"maxVelocityY",1e4),setVelocityX:u(m,"velocityX",0),setVelocityY:u(m,"velocityY",0),setAngularVelocity:u(m,"angularVelocity",0),setAngularAcceleration:u(m,"angularAcceleration",0),setAngularDrag:u(m,"angularDrag",0),setMass:u(m,"mass",1),setImmovable:u(m,"immovable",!1)},h.call(this,c,p,m),this.type="PhysicsGroup"},createCallbackHandler:function(d){d.body||this.world.enableBody(d,f.DYNAMIC_BODY);var r=d.body;for(var c in this.defaults)r[c](this.defaults[c])},removeCallbackHandler:function(d){d.body&&this.world.disableBody(d)},setVelocity:function(d,r,c){void 0===c&&(c=0);for(var p=this.getChildren(),m=0;m<p.length;m++)p[m].body.velocity.set(d+m*c,r+m*c);return this},setVelocityX:function(d,r){void 0===r&&(r=0);for(var c=this.getChildren(),p=0;p<c.length;p++)c[p].body.velocity.x=d+p*r;return this},setVelocityY:function(d,r){void 0===r&&(r=0);for(var c=this.getChildren(),p=0;p<c.length;p++)c[p].body.velocity.y=d+p*r;return this}});C.exports=a},function(C,F,n){var l=n(155),g=n(0),f=n(60),u=n(2),h=n(110),o=n(7),a=new g({Extends:h,initialize:function(r,c,p,m){p||m?o(p)?(m=p,p=null,m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler,m.createMultipleCallback=this.createMultipleCallbackHandler,m.classType=u(m,"classType",l)):Array.isArray(p)&&o(p[0])?(m=p,p=null,m.forEach(function(v){v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=u(v,"classType",l)})):m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}:m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:l},this.world=r,this.physicsType=f.STATIC_BODY,h.call(this,c,p,m),this.type="StaticPhysicsGroup"},createCallbackHandler:function(d){d.body||this.world.enableBody(d,f.STATIC_BODY)},removeCallbackHandler:function(d){d.body&&this.world.disableBody(d)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var d=this.children.entries,r=0;r<d.length;r++)d[r].body.reset();return this}});C.exports=a},function(C,F,n){var l=n(344),g=n(521),f=n(18),u=n(0),h=n(522),o=n(60),a=n(48),d=n(9),r=n(242),c=n(123),p=n(348),m=n(349),v=n(243),x=n(244),T=n(523),E=n(6),M=n(14),S=n(208),P=n(524),R=n(10),w=n(525),L=n(526),I=n(531),B=n(532),G=n(148),H=n(533),Y=n(245),$=n(25),J=n(3),_=n(66),tt=new u({Extends:d,initialize:function(V,X){d.call(this),this.scene=V,this.bodies=new G,this.staticBodies=new G,this.pendingDestroy=new G,this.colliders=new S,this.gravity=new J(E(X,"gravity.x",0),E(X,"gravity.y",0)),this.bounds=new R(E(X,"x",0),E(X,"y",0),E(X,"width",V.sys.scale.width),E(X,"height",V.sys.scale.height)),this.checkCollision={up:E(X,"checkCollision.up",!0),down:E(X,"checkCollision.down",!0),left:E(X,"checkCollision.left",!0),right:E(X,"checkCollision.right",!0)},this.fps=E(X,"fps",60),this.fixedStep=E(X,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=E(X,"timeScale",1),this.OVERLAP_BIAS=E(X,"overlapBias",4),this.TILE_BIAS=E(X,"tileBias",16),this.forceX=E(X,"forceX",!1),this.isPaused=E(X,"isPaused",!1),this._total=0,this.drawDebug=E(X,"debug",!1),this.defaults={debugShowBody:E(X,"debugShowBody",!0),debugShowStaticBody:E(X,"debugShowStaticBody",!0),debugShowVelocity:E(X,"debugShowVelocity",!0),bodyDebugColor:E(X,"debugBodyColor",16711935),staticBodyDebugColor:E(X,"debugStaticBodyColor",255),velocityDebugColor:E(X,"debugVelocityColor",65280)},this.maxEntries=E(X,"maxEntries",16),this.useTree=E(X,"useTree",!0),this.tree=new w(this.maxEntries),this.staticTree=new w(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new $,this._tempMatrix2=new $,this.drawDebug&&this.createDebugGraphic()},enable:function(U,V){void 0===V&&(V=o.DYNAMIC_BODY),Array.isArray(U)||(U=[U]);for(var X=0;X<U.length;X++){var W=U[X];if(W.isParent)for(var j=W.getChildren(),K=0;K<j.length;K++){var q=j[K];q.isParent?this.enable(q,V):this.enableBody(q,V)}else this.enableBody(W,V)}},enableBody:function(U,V){return void 0===V&&(V=o.DYNAMIC_BODY),U.body||(V===o.DYNAMIC_BODY?U.body=new g(this,U):V===o.STATIC_BODY&&(U.body=new H(this,U))),this.add(U.body),U},add:function(U){return U.physicsType===o.DYNAMIC_BODY?this.bodies.set(U):U.physicsType===o.STATIC_BODY&&(this.staticBodies.set(U),this.staticTree.insert(U)),U.enable=!0,U},disable:function(U){Array.isArray(U)||(U=[U]);for(var V=0;V<U.length;V++){var X=U[V];if(X.isParent)for(var W=X.getChildren(),j=0;j<W.length;j++){var K=W[j];K.isParent?this.disable(K):this.disableBody(K.body)}else this.disableBody(X.body)}},disableBody:function(U){this.remove(U),U.enable=!1},remove:function(U){U.physicsType===o.DYNAMIC_BODY?(this.tree.remove(U),this.bodies.delete(U)):U.physicsType===o.STATIC_BODY&&(this.staticBodies.delete(U),this.staticTree.remove(U))},createDebugGraphic:function(){var U=this.scene.sys.add.graphics({x:0,y:0});return U.setDepth(Number.MAX_VALUE),this.debugGraphic=U,this.drawDebug=!0,U},setBounds:function(U,V,X,W,j,K,q,et){return this.bounds.setTo(U,V,X,W),void 0!==j&&this.setBoundsCollision(j,K,q,et),this},setBoundsCollision:function(U,V,X,W){return void 0===U&&(U=!0),void 0===V&&(V=!0),void 0===X&&(X=!0),void 0===W&&(W=!0),this.checkCollision.left=U,this.checkCollision.right=V,this.checkCollision.up=X,this.checkCollision.down=W,this},pause:function(){return this.isPaused=!0,this.emit(r.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(r.RESUME),this},addCollider:function(U,V,X,W,j){void 0===X&&(X=null),void 0===W&&(W=null),void 0===j&&(j=X);var K=new h(this,!1,U,V,X,W,j);return this.colliders.add(K),K},addOverlap:function(U,V,X,W,j){void 0===X&&(X=null),void 0===W&&(W=null),void 0===j&&(j=X);var K=new h(this,!0,U,V,X,W,j);return this.colliders.add(K),K},removeCollider:function(U){return this.colliders.remove(U),this},setFPS:function(U){return this.fps=U,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(U,V){if(!this.isPaused&&0!==this.bodies.size){var X,W=this._frameTime,j=this._frameTimeMS*this.timeScale;this._elapsed+=V;var K,q=this.bodies.entries,et=this._elapsed>=j;for(this.fixedStep||(W=.001*V,et=!0,this._elapsed=0),X=0;X<q.length;X++)(K=q[X]).enable&&K.preUpdate(et,W);if(et){this._elapsed-=j,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(q));var rt=this.colliders.update();for(X=0;X<rt.length;X++){var ot=rt[X];ot.active&&ot.update()}this.emit(r.WORLD_STEP,W)}for(;this._elapsed>=j;)this._elapsed-=j,this.step(W)}},step:function(U){var V,X,W=this.bodies.entries,j=W.length;for(V=0;V<j;V++)(X=W[V]).enable&&X.update(U);this.useTree&&(this.tree.clear(),this.tree.load(W));var K=this.colliders.update();for(V=0;V<K.length;V++){var q=K[V];q.active&&q.update()}this.emit(r.WORLD_STEP,U),this.stepsLastFrame++},postUpdate:function(){var U,V,X=this.bodies.entries,W=X.length,j=this.bodies,K=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,U=0;U<W;U++)(V=X[U]).enable&&V.postUpdate();if(this.drawDebug){var q=this.debugGraphic;for(q.clear(),U=0;U<W;U++)(V=X[U]).willDrawDebug()&&V.drawDebug(q);for(W=(X=K.entries).length,U=0;U<W;U++)(V=X[U]).willDrawDebug()&&V.drawDebug(q)}var et=this.pendingDestroy;if(et.size>0){var rt=this.tree,ot=this.staticTree;for(W=(X=et.entries).length,U=0;U<W;U++)(V=X[U]).physicsType===o.DYNAMIC_BODY?(rt.remove(V),j.delete(V)):V.physicsType===o.STATIC_BODY&&(ot.remove(V),K.delete(V)),V.world=void 0,V.gameObject=void 0;et.clear()}},updateMotion:function(U,V){U.allowRotation&&this.computeAngularVelocity(U,V),this.computeVelocity(U,V)},computeAngularVelocity:function(U,V){var X=U.angularVelocity,W=U.angularAcceleration,j=U.angularDrag,K=U.maxAngular;W?X+=W*V:U.allowDrag&&j&&(p(X-(j*=V),0,.1)?X-=j:m(X+j,0,.1)?X+=j:X=0),X=f(X,-K,K),U.angularVelocity+=X-U.angularVelocity,U.rotation+=U.angularVelocity*V},computeVelocity:function(U,V){var X=U.velocity.x,W=U.acceleration.x,j=U.drag.x,K=U.maxVelocity.x,q=U.velocity.y,et=U.acceleration.y,rt=U.drag.y,ot=U.maxVelocity.y,at=U.speed,ft=U.maxSpeed,ct=U.allowDrag,xt=U.useDamping;U.allowGravity&&(X+=(this.gravity.x+U.gravity.x)*V,q+=(this.gravity.y+U.gravity.y)*V),W?X+=W*V:ct&&j&&(xt?(X*=j=Math.pow(j,V),at=Math.sqrt(X*X+q*q),c(at,0,.001)&&(X=0)):p(X-(j*=V),0,.01)?X-=j:m(X+j,0,.01)?X+=j:X=0),et?q+=et*V:ct&&rt&&(xt?(q*=rt=Math.pow(rt,V),at=Math.sqrt(X*X+q*q),c(at,0,.001)&&(q=0)):p(q-(rt*=V),0,.01)?q-=rt:m(q+rt,0,.01)?q+=rt:q=0),X=f(X,-K,K),q=f(q,-ot,ot),U.velocity.set(X,q),ft>-1&&at>ft&&(U.velocity.normalize().scale(ft),at=ft),U.speed=at},separate:function(U,V,X,W,j,K){if(!K&&!U.enable||!V.enable||U.checkCollision.none||V.checkCollision.none||!this.intersects(U,V)||X&&!1===X.call(W,U.gameObject,V.gameObject))return!1;if(U.isCircle&&V.isCircle)return this.separateCircle(U,V,j);if(U.isCircle!==V.isCircle){var q=U.isCircle?V:U,rt={x:q.x,y:q.y,right:q.right,bottom:q.bottom},ot=(U.isCircle?U:V).center;if((ot.y<rt.y||ot.y>rt.bottom)&&(ot.x<rt.x||ot.x>rt.right))return this.separateCircle(U,V,j)}var at=!1,ft=!1;j?(at=I(U,V,j,this.OVERLAP_BIAS),ft=B(U,V,j,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+U.gravity.y)<Math.abs(this.gravity.x+U.gravity.x)?(at=I(U,V,j,this.OVERLAP_BIAS),this.intersects(U,V)&&(ft=B(U,V,j,this.OVERLAP_BIAS))):(ft=B(U,V,j,this.OVERLAP_BIAS),this.intersects(U,V)&&(at=I(U,V,j,this.OVERLAP_BIAS)));var ct=at||ft;return ct&&(j?(U.onOverlap||V.onOverlap)&&this.emit(r.OVERLAP,U.gameObject,V.gameObject,U,V):(U.onCollide||V.onCollide)&&this.emit(r.COLLIDE,U.gameObject,V.gameObject,U,V)),ct},separateCircle:function(U,V,X,W){v(U,V,!1,W),x(U,V,!1,W);var j=0;if(U.isCircle!==V.isCircle){var K={x:V.isCircle?U.position.x:V.position.x,y:V.isCircle?U.position.y:V.position.y,right:V.isCircle?U.right:V.right,bottom:V.isCircle?U.bottom:V.bottom},q={x:U.isCircle?U.center.x:V.center.x,y:U.isCircle?U.center.y:V.center.y,radius:U.isCircle?U.halfWidth:V.halfWidth};q.y<K.y?q.x<K.x?j=a(q.x,q.y,K.x,K.y)-q.radius:q.x>K.right&&(j=a(q.x,q.y,K.right,K.y)-q.radius):q.y>K.bottom&&(q.x<K.x?j=a(q.x,q.y,K.x,K.bottom)-q.radius:q.x>K.right&&(j=a(q.x,q.y,K.right,K.bottom)-q.radius)),j*=-1}else j=U.halfWidth+V.halfWidth-a(U.center.x,U.center.y,V.center.x,V.center.y);if(U.overlapR=j,V.overlapR=j,X||0===j||U.immovable&&V.immovable||U.customSeparateX||V.customSeparateX)return 0!==j&&(U.onOverlap||V.onOverlap)&&this.emit(r.OVERLAP,U.gameObject,V.gameObject,U,V),0!==j;var rt=U.center.y-V.center.y,ot=Math.sqrt(Math.pow(U.center.x-V.center.x,2)+Math.pow(rt,2)),at=(V.center.x-U.center.x)/ot||0,ft=(V.center.y-U.center.y)/ot||0,ct=2*(U.velocity.x*at+U.velocity.y*ft-V.velocity.x*at-V.velocity.y*ft)/(U.mass+V.mass);(U.immovable||V.immovable)&&(ct*=2),U.immovable||(U.velocity.x=U.velocity.x-ct/U.mass*at,U.velocity.y=U.velocity.y-ct/U.mass*ft),V.immovable||(V.velocity.x=V.velocity.x+ct/V.mass*at,V.velocity.y=V.velocity.y+ct/V.mass*ft),!U.immovable&&!V.immovable&&(j/=2);var xt=l(U.center,V.center),mt=(j+M.EPSILON)*Math.cos(xt),Ct=(j+M.EPSILON)*Math.sin(xt);return U.immovable||(U.x-=mt,U.y-=Ct,U.updateCenter()),V.immovable||(V.x+=mt,V.y+=Ct,V.updateCenter()),U.velocity.x*=U.bounce.x,U.velocity.y*=U.bounce.y,V.velocity.x*=V.bounce.x,V.velocity.y*=V.bounce.y,(U.onCollide||V.onCollide)&&this.emit(r.COLLIDE,U.gameObject,V.gameObject,U,V),!0},intersects:function(U,V){return U!==V&&(U.isCircle||V.isCircle?U.isCircle?V.isCircle?a(U.center.x,U.center.y,V.center.x,V.center.y)<=U.halfWidth+V.halfWidth:this.circleBodyIntersects(U,V):this.circleBodyIntersects(V,U):!(U.right<=V.position.x||U.bottom<=V.position.y||U.position.x>=V.right||U.position.y>=V.bottom))},circleBodyIntersects:function(U,V){var X=f(U.center.x,V.left,V.right),W=f(U.center.y,V.top,V.bottom);return(U.center.x-X)*(U.center.x-X)+(U.center.y-W)*(U.center.y-W)<=U.halfWidth*U.halfWidth},overlap:function(U,V,X,W,j){return void 0===X&&(X=null),void 0===W&&(W=null),void 0===j&&(j=X),this.collideObjects(U,V,X,W,j,!0)},collide:function(U,V,X,W,j){return void 0===X&&(X=null),void 0===W&&(W=null),void 0===j&&(j=X),this.collideObjects(U,V,X,W,j,!1)},collideObjects:function(U,V,X,W,j,K){var q,et;U.isParent&&void 0===U.physicsType&&(U=U.children.entries),V&&V.isParent&&void 0===V.physicsType&&(V=V.children.entries);var rt=Array.isArray(U),ot=Array.isArray(V);if(this._total=0,rt||ot)if(!rt&&ot)for(q=0;q<V.length;q++)this.collideHandler(U,V[q],X,W,j,K);else if(rt&&!ot)if(V)for(q=0;q<U.length;q++)this.collideHandler(U[q],V,X,W,j,K);else for(q=0;q<U.length;q++){var at=U[q];for(et=q+1;et<U.length;et++)q!==et&&this.collideHandler(at,U[et],X,W,j,K)}else for(q=0;q<U.length;q++)for(et=0;et<V.length;et++)this.collideHandler(U[q],V[et],X,W,j,K);else this.collideHandler(U,V,X,W,j,K);return this._total>0},collideHandler:function(U,V,X,W,j,K){if(void 0===V&&U.isParent)return this.collideGroupVsGroup(U,U,X,W,j,K);if(!U||!V)return!1;if(U.body){if(V.body)return this.collideSpriteVsSprite(U,V,X,W,j,K);if(V.isParent)return this.collideSpriteVsGroup(U,V,X,W,j,K);if(V.isTilemap)return this.collideSpriteVsTilemapLayer(U,V,X,W,j,K)}else if(U.isParent){if(V.body)return this.collideSpriteVsGroup(V,U,X,W,j,K);if(V.isParent)return this.collideGroupVsGroup(U,V,X,W,j,K);if(V.isTilemap)return this.collideGroupVsTilemapLayer(U,V,X,W,j,K)}else if(U.isTilemap){if(V.body)return this.collideSpriteVsTilemapLayer(V,U,X,W,j,K);if(V.isParent)return this.collideGroupVsTilemapLayer(V,U,X,W,j,K)}},collideSpriteVsSprite:function(U,V,X,W,j,K){return!(!U.body||!V.body||(this.separate(U.body,V.body,W,j,K)&&(X&&X.call(j,U,V),this._total++),0))},collideSpriteVsGroup:function(U,V,X,W,j,K){var et,rt,ot,q=U.body;if(0!==V.length&&q&&q.enable&&!q.checkCollision.none)if(this.useTree||V.physicsType===o.STATIC_BODY){var at=this.treeMinMax;at.minX=q.left,at.minY=q.top,at.maxX=q.right,at.maxY=q.bottom;var ft=V.physicsType===o.DYNAMIC_BODY?this.tree.search(at):this.staticTree.search(at);for(rt=ft.length,et=0;et<rt;et++)q!==(ot=ft[et])&&ot.enable&&!ot.checkCollision.none&&V.contains(ot.gameObject)&&this.separate(q,ot,W,j,K,!0)&&(X&&X.call(j,q.gameObject,ot.gameObject),this._total++)}else{var ct=V.getChildren(),xt=V.children.entries.indexOf(U);for(rt=ct.length,et=0;et<rt;et++)(ot=ct[et].body)&&et!==xt&&ot.enable&&this.separate(q,ot,W,j,K)&&(X&&X.call(j,q.gameObject,ot.gameObject),this._total++)}},collideGroupVsTilemapLayer:function(U,V,X,W,j,K){var q=U.getChildren();if(0===q.length)return!1;for(var et=!1,rt=0;rt<q.length;rt++)q[rt].body&&this.collideSpriteVsTilemapLayer(q[rt],V,X,W,j,K)&&(et=!0);return et},collideTiles:function(U,V,X,W,j){return!(!U.body.enable||0===V.length)&&this.collideSpriteVsTilesHandler(U,V,X,W,j,!1,!1)},overlapTiles:function(U,V,X,W,j){return!(!U.body.enable||0===V.length)&&this.collideSpriteVsTilesHandler(U,V,X,W,j,!0,!1)},collideSpriteVsTilemapLayer:function(U,V,X,W,j,K){var q=U.body;if(!q.enable||q.checkCollision.none)return!1;var et=q.position.x,ot=q.width,at=q.height,ft=V.layer;if(ft.tileWidth>ft.baseTileWidth){var ct=(ft.tileWidth-ft.baseTileWidth)*V.scaleX;et-=ct,ot+=ct}ft.tileHeight>ft.baseTileHeight&&(at+=(ft.tileHeight-ft.baseTileHeight)*V.scaleY);var mt=T(et,q.position.y,ot,at,null,V.scene.cameras.main,V.layer);return 0!==mt.length&&this.collideSpriteVsTilesHandler(U,mt,X,W,j,K,!0)},collideSpriteVsTilesHandler:function(U,V,X,W,j,K,q){for(var rt,at,et=U.body,ot={left:0,right:0,top:0,bottom:0},ft=!1,ct=0;ct<V.length;ct++){var xt=(at=(rt=V[ct]).tilemapLayer).tileToWorldXY(rt.x,rt.y);ot.left=xt.x,ot.top=xt.y,rt.baseHeight!==rt.height&&(ot.top-=(rt.height-rt.baseHeight)*at.scaleY),ot.right=ot.left+rt.width*at.scaleX,ot.bottom=ot.top+rt.height*at.scaleY,Y(ot,et)&&(!W||W.call(j,U,rt))&&P(rt,U)&&(K||L(ct,et,rt,ot,at,this.TILE_BIAS,q))&&(this._total++,ft=!0,X&&X.call(j,U,rt),K&&et.onOverlap?this.emit(r.TILE_OVERLAP,U,rt,et):et.onCollide&&this.emit(r.TILE_COLLIDE,U,rt,et))}return ft},collideGroupVsGroup:function(U,V,X,W,j,K){if(0!==U.length&&0!==V.length)for(var q=U.getChildren(),et=0;et<q.length;et++)this.collideSpriteVsGroup(q[et],V,X,W,j,K)},wrap:function(U,V){U.body?this.wrapObject(U,V):U.getChildren?this.wrapArray(U.getChildren(),V):Array.isArray(U)?this.wrapArray(U,V):this.wrapObject(U,V)},wrapArray:function(U,V){for(var X=0;X<U.length;X++)this.wrapObject(U[X],V)},wrapObject:function(U,V){void 0===V&&(V=0),U.x=_(U.x,this.bounds.left-V,this.bounds.right+V),U.y=_(U.y,this.bounds.top-V,this.bounds.bottom+V)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});C.exports=tt},function(C,F,n){var l=n(0),g=n(60),f=n(242),u=n(193),h=n(10),o=n(56),a=n(3),d=new l({initialize:function(c,p){var m=p.displayWidth?p.displayWidth:64,v=p.displayHeight?p.displayHeight:64;this.world=c,this.gameObject=p,this.transform={x:p.x,y:p.y,rotation:p.angle,scaleX:p.scaleX,scaleY:p.scaleY,displayOriginX:p.displayOriginX,displayOriginY:p.displayOriginY},this.debugShowBody=c.defaults.debugShowBody,this.debugShowVelocity=c.defaults.debugShowVelocity,this.debugBodyColor=c.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new a,this.position=new a(p.x-p.scaleX*p.displayOriginX,p.y-p.scaleY*p.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=p.angle,this.preRotation=p.angle,this.width=m,this.height=v,this.sourceWidth=m,this.sourceHeight=v,p.frame&&(this.sourceWidth=p.frame.realWidth,this.sourceHeight=p.frame.realHeight),this.halfWidth=Math.abs(m/2),this.halfHeight=Math.abs(v/2),this.center=new a(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new a,this.newVelocity=new a,this.deltaMax=new a,this.acceleration=new a,this.allowDrag=!0,this.drag=new a,this.allowGravity=!0,this.gravity=new a,this.bounce=new a,this.worldBounce=null,this.customBoundsRectangle=c.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new a(1e4,1e4),this.maxSpeed=-1,this.friction=new a(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=g.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=g.DYNAMIC_BODY,this._sx=p.scaleX,this._sy=p.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new h},updateBounds:function(){var r=this.gameObject,c=this.transform;if(r.parentContainer){var p=r.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);c.x=p.tx,c.y=p.ty,c.rotation=u(p.rotation),c.scaleX=p.scaleX,c.scaleY=p.scaleY,c.displayOriginX=r.displayOriginX,c.displayOriginY=r.displayOriginY}else c.x=r.x,c.y=r.y,c.rotation=r.angle,c.scaleX=r.scaleX,c.scaleY=r.scaleY,c.displayOriginX=r.displayOriginX,c.displayOriginY=r.displayOriginY;var m=!1;if(this.syncBounds){var v=r.getBounds(this._bounds);this.width=v.width,this.height=v.height,m=!0}else{var x=Math.abs(c.scaleX),T=Math.abs(c.scaleY);(this._sx!==x||this._sy!==T)&&(this.width=this.sourceWidth*x,this.height=this.sourceHeight*T,this._sx=x,this._sy=T,m=!0)}m&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var r=this.transform;this.position.x=r.x+r.scaleX*(this.offset.x-r.displayOriginX),this.position.y=r.y+r.scaleY*(this.offset.y-r.displayOriginY),this.updateCenter()},resetFlags:function(r){void 0===r&&(r=!1);var c=this.wasTouching,p=this.touching,m=this.blocked;r?(c.none=!0,c.up=!1,c.down=!1,c.left=!1,c.right=!1):(c.none=p.none,c.up=p.up,c.down=p.down,c.left=p.left,c.right=p.right),p.none=!0,p.up=!1,p.down=!1,p.left=!1,p.right=!1,m.none=!0,m.up=!1,m.down=!1,m.left=!1,m.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(r,c){r&&this.resetFlags(),this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),r&&this.update(c)},update:function(r){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,r);var c=this.velocity.x,p=this.velocity.y;this.newVelocity.set(c*r,p*r),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(p,c),this.speed=Math.sqrt(c*c+p*p),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(f.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var r=this.position.x-this.prevFrame.x,c=this.position.y-this.prevFrame.y;if(this.moves){var p=this.deltaMax.x,m=this.deltaMax.y;0!==p&&0!==r&&(r<0&&r<-p?r=-p:r>0&&r>p&&(r=p)),0!==m&&0!==c&&(c<0&&c<-m?c=-m:c>0&&c>m&&(c=m)),this.gameObject.x+=r,this.gameObject.y+=c}r<0?this.facing=g.FACING_LEFT:r>0&&(this.facing=g.FACING_RIGHT),c<0?this.facing=g.FACING_UP:c>0&&(this.facing=g.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=r,this._ty=c},setBoundsRectangle:function(r){return this.customBoundsRectangle=r||this.world.bounds,this},checkWorldBounds:function(){var r=this.position,c=this.customBoundsRectangle,p=this.world.checkCollision,m=this.worldBounce?-this.worldBounce.x:-this.bounce.x,v=this.worldBounce?-this.worldBounce.y:-this.bounce.y,x=!1;return r.x<c.x&&p.left?(r.x=c.x,this.velocity.x*=m,this.blocked.left=!0,x=!0):this.right>c.right&&p.right&&(r.x=c.right-this.width,this.velocity.x*=m,this.blocked.right=!0,x=!0),r.y<c.y&&p.up?(r.y=c.y,this.velocity.y*=v,this.blocked.up=!0,x=!0):this.bottom>c.bottom&&p.down&&(r.y=c.bottom-this.height,this.velocity.y*=v,this.blocked.down=!0,x=!0),x&&(this.blocked.none=!1,this.updateCenter()),x},setOffset:function(r,c){return void 0===c&&(c=r),this.offset.set(r,c),this},setSize:function(r,c,p){void 0===p&&(p=!0);var m=this.gameObject;return!r&&m.frame&&(r=m.frame.realWidth),!c&&m.frame&&(c=m.frame.realHeight),this.sourceWidth=r,this.sourceHeight=c,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),p&&m.getCenter&&this.offset.set((m.width-r)/2,(m.height-c)/2),this.isCircle=!1,this.radius=0,this},setCircle:function(r,c,p){return void 0===c&&(c=this.offset.x),void 0===p&&(p=this.offset.y),r>0?(this.isCircle=!0,this.radius=r,this.sourceWidth=2*r,this.sourceHeight=2*r,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(c,p),this.updateCenter()):this.isCircle=!1,this},reset:function(r,c){this.stop();var p=this.gameObject;p.setPosition(r,c),p.getTopLeft?p.getTopLeft(this.position):this.position.set(r,c),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=p.angle,this.preRotation=p.angle,this.updateBounds(),this.updateCenter(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(r){return r.x=this.x,r.y=this.y,r.right=this.right,r.bottom=this.bottom,r},hitTest:function(r,c){return this.isCircle?this.radius>0&&r>=this.left&&r<=this.right&&c>=this.top&&c<=this.bottom&&(this.center.x-r)*(this.center.x-r)+(this.center.y-c)*(this.center.y-c)<=this.radius*this.radius:o(this,r,c)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(r){var c=this.position,p=c.x+this.halfWidth,m=c.y+this.halfHeight;this.debugShowBody&&(r.lineStyle(r.defaultStrokeWidth,this.debugBodyColor),this.isCircle?r.strokeCircle(p,m,this.width/2):(this.checkCollision.up&&r.lineBetween(c.x,c.y,c.x+this.width,c.y),this.checkCollision.right&&r.lineBetween(c.x+this.width,c.y,c.x+this.width,c.y+this.height),this.checkCollision.down&&r.lineBetween(c.x,c.y+this.height,c.x+this.width,c.y+this.height),this.checkCollision.left&&r.lineBetween(c.x,c.y,c.x,c.y+this.height))),this.debugShowVelocity&&(r.lineStyle(r.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),r.lineBetween(p,m,p+this.velocity.x/2,m+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(r,c,p,m){void 0===r&&(r=!0),this.collideWorldBounds=r;var v=void 0!==c,x=void 0!==p;return(v||x)&&(this.worldBounce||(this.worldBounce=new a),v&&(this.worldBounce.x=c),x&&(this.worldBounce.y=p)),void 0!==m&&(this.onWorldBounds=m),this},setVelocity:function(r,c){return this.velocity.set(r,c),r=this.velocity.x,c=this.velocity.y,this.speed=Math.sqrt(r*r+c*c),this},setVelocityX:function(r){this.velocity.x=r;var p=this.velocity.y;return this.speed=Math.sqrt(r*r+p*p),this},setVelocityY:function(r){this.velocity.y=r;var c=this.velocity.x;return this.speed=Math.sqrt(c*c+r*r),this},setMaxVelocity:function(r,c){return this.maxVelocity.set(r,c),this},setMaxVelocityX:function(r){return this.maxVelocity.x=r,this},setMaxVelocityY:function(r){return this.maxVelocity.y=r,this},setMaxSpeed:function(r){return this.maxSpeed=r,this},setBounce:function(r,c){return this.bounce.set(r,c),this},setBounceX:function(r){return this.bounce.x=r,this},setBounceY:function(r){return this.bounce.y=r,this},setAcceleration:function(r,c){return this.acceleration.set(r,c),this},setAccelerationX:function(r){return this.acceleration.x=r,this},setAccelerationY:function(r){return this.acceleration.y=r,this},setAllowDrag:function(r){return void 0===r&&(r=!0),this.allowDrag=r,this},setAllowGravity:function(r){return void 0===r&&(r=!0),this.allowGravity=r,this},setAllowRotation:function(r){return void 0===r&&(r=!0),this.allowRotation=r,this},setDrag:function(r,c){return this.drag.set(r,c),this},setDamping:function(r){return this.useDamping=r,this},setDragX:function(r){return this.drag.x=r,this},setDragY:function(r){return this.drag.y=r,this},setGravity:function(r,c){return this.gravity.set(r,c),this},setGravityX:function(r){return this.gravity.x=r,this},setGravityY:function(r){return this.gravity.y=r,this},setFriction:function(r,c){return this.friction.set(r,c),this},setFrictionX:function(r){return this.friction.x=r,this},setFrictionY:function(r){return this.friction.y=r,this},setAngularVelocity:function(r){return this.angularVelocity=r,this},setAngularAcceleration:function(r){return this.angularAcceleration=r,this},setAngularDrag:function(r){return this.angularDrag=r,this},setMass:function(r){return this.mass=r,this},setImmovable:function(r){return void 0===r&&(r=!0),this.immovable=r,this},setEnable:function(r){return void 0===r&&(r=!0),this.enable=r,this},processX:function(r,c,p,m){this.x+=r,this.updateCenter(),null!==c&&(this.velocity.x=c);var v=this.blocked;p&&(v.left=!0),m&&(v.right=!0)},processY:function(r,c,p,m){this.y+=r,this.updateCenter(),null!==c&&(this.velocity.y=c);var v=this.blocked;p&&(v.up=!0),m&&(v.down=!0)},x:{get:function(){return this.position.x},set:function(r){this.position.x=r}},y:{get:function(){return this.position.y},set:function(r){this.position.y=r}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});C.exports=d},function(C,F,n){var g=new(n(0))({initialize:function(u,h,o,a,d,r,c){this.world=u,this.name="",this.active=!0,this.overlapOnly=h,this.object1=o,this.object2=a,this.collideCallback=d,this.processCallback=r,this.callbackContext=c},setName:function(f){return this.name=f,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});C.exports=g},function(C,F,n){var l=n(26),g=n(3),f=new g,u=new g;C.exports=function(o,a,d,r,c,p,m){var v=m.tilemapLayer.tilemap._convert.WorldToTileXY;v(o,a,!0,f,p,m);var x=f.x,T=f.y;v(o+d,a+r,!1,u,p,m);var E=Math.ceil(u.x),M=Math.ceil(u.y);return l(x,T,E-x,M-T,c,m)}},function(C,F){C.exports=function(l,g){return l.collisionCallback?!l.collisionCallback.call(l.collisionCallbackContext,g,l):!l.layer.callbacks[l.index]||!l.layer.callbacks[l.index].callback.call(l.layer.callbacks[l.index].callbackContext,g,l)}},function(C,F,n){var l=n(430);function g(M){if(!(this instanceof g))return new g(M,[".left",".top",".right",".bottom"]);this._maxEntries=Math.max(4,M||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function f(M,S,P){if(!P)return S.indexOf(M);for(var R=0;R<S.length;R++)if(P(M,S[R]))return R;return-1}function u(M,S){h(M,0,M.children.length,S,M)}function h(M,S,P,R,w){w||(w=T(null)),w.minX=1/0,w.minY=1/0,w.maxX=-1/0,w.maxY=-1/0;for(var I,L=S;L<P;L++)I=M.children[L],o(w,M.leaf?R(I):I);return w}function o(M,S){return M.minX=Math.min(M.minX,S.minX),M.minY=Math.min(M.minY,S.minY),M.maxX=Math.max(M.maxX,S.maxX),M.maxY=Math.max(M.maxY,S.maxY),M}function a(M,S){return M.minX-S.minX}function d(M,S){return M.minY-S.minY}function r(M){return(M.maxX-M.minX)*(M.maxY-M.minY)}function c(M){return M.maxX-M.minX+(M.maxY-M.minY)}function p(M,S){return(Math.max(S.maxX,M.maxX)-Math.min(S.minX,M.minX))*(Math.max(S.maxY,M.maxY)-Math.min(S.minY,M.minY))}function m(M,S){var P=Math.max(M.minX,S.minX),R=Math.max(M.minY,S.minY),w=Math.min(M.maxX,S.maxX),L=Math.min(M.maxY,S.maxY);return Math.max(0,w-P)*Math.max(0,L-R)}function v(M,S){return M.minX<=S.minX&&M.minY<=S.minY&&S.maxX<=M.maxX&&S.maxY<=M.maxY}function x(M,S){return S.minX<=M.maxX&&S.minY<=M.maxY&&S.maxX>=M.minX&&S.maxY>=M.minY}function T(M){return{children:M,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function E(M,S,P,R,w){for(var I,L=[S,P];L.length;)!((P=L.pop())-(S=L.pop())<=R)&&(I=S+Math.ceil((P-S)/R/2)*R,l(M,I,S,P,w),L.push(S,I,I,P))}g.prototype={all:function(){return this._all(this.data,[])},search:function(M){var S=this.data,P=[],R=this.toBBox;if(!x(M,S))return P;for(var L,I,B,G,w=[];S;){for(L=0,I=S.children.length;L<I;L++)B=S.children[L],x(M,G=S.leaf?R(B):B)&&(S.leaf?P.push(B):v(M,G)?this._all(B,P):w.push(B));S=w.pop()}return P},collides:function(M){var S=this.data,P=this.toBBox;if(!x(M,S))return!1;for(var w,L,I,B,R=[];S;){for(w=0,L=S.children.length;w<L;w++)if(I=S.children[w],x(M,B=S.leaf?P(I):I)){if(S.leaf||v(M,B))return!0;R.push(I)}S=R.pop()}return!1},load:function(M){if(!M||!M.length)return this;if(M.length<this._minEntries){for(var S=0,P=M.length;S<P;S++)this.insert(M[S]);return this}var R=this._build(M.slice(),0,M.length-1,0);if(this.data.children.length)if(this.data.height===R.height)this._splitRoot(this.data,R);else{if(this.data.height<R.height){var w=this.data;this.data=R,R=w}this._insert(R,this.data.height-R.height-1,!0)}else this.data=R;return this},insert:function(M){return M&&this._insert(M,this.data.height-1),this},clear:function(){return this.data=T([]),this},remove:function(M,S){if(!M)return this;for(var I,B,G,H,P=this.data,R=this.toBBox(M),w=[],L=[];P||w.length;){if(P||(P=w.pop(),B=w[w.length-1],I=L.pop(),H=!0),P.leaf&&-1!==(G=f(M,P.children,S)))return P.children.splice(G,1),w.push(P),this._condense(w),this;H||P.leaf||!v(P,R)?B?(I++,P=B.children[I],H=!1):P=null:(w.push(P),L.push(I),I=0,B=P,P=P.children[0])}return this},toBBox:function(M){return M},compareMinX:a,compareMinY:d,toJSON:function(){return this.data},fromJSON:function(M){return this.data=M,this},_all:function(M,S){for(var P=[];M;)M.leaf?S.push.apply(S,M.children):P.push.apply(P,M.children),M=P.pop();return S},_build:function(M,S,P,R){var I,w=P-S+1,L=this._maxEntries;if(w<=L)return u(I=T(M.slice(S,P+1)),this.toBBox),I;R||(R=Math.ceil(Math.log(w)/Math.log(L)),L=Math.ceil(w/Math.pow(L,R-1))),(I=T([])).leaf=!1,I.height=R;var H,Y,$,J,B=Math.ceil(w/L),G=B*Math.ceil(Math.sqrt(L));for(E(M,S,P,G,this.compareMinX),H=S;H<=P;H+=G)for(E(M,H,$=Math.min(H+G-1,P),B,this.compareMinY),Y=H;Y<=$;Y+=B)J=Math.min(Y+B-1,$),I.children.push(this._build(M,Y,J,R-1));return u(I,this.toBBox),I},_chooseSubtree:function(M,S,P,R){for(var w,L,I,B,G,H,Y,$;R.push(S),!S.leaf&&R.length-1!==P;){for(Y=$=1/0,w=0,L=S.children.length;w<L;w++)G=r(I=S.children[w]),(H=p(M,I)-G)<$?($=H,Y=G<Y?G:Y,B=I):H===$&&G<Y&&(Y=G,B=I);S=B||S.children[0]}return S},_insert:function(M,S,P){var w=P?M:(0,this.toBBox)(M),L=[],I=this._chooseSubtree(w,this.data,S,L);for(I.children.push(M),o(I,w);S>=0&&L[S].children.length>this._maxEntries;)this._split(L,S),S--;this._adjustParentBBoxes(w,L,S)},_split:function(M,S){var P=M[S],R=P.children.length,w=this._minEntries;this._chooseSplitAxis(P,w,R);var L=this._chooseSplitIndex(P,w,R),I=T(P.children.splice(L,P.children.length-L));I.height=P.height,I.leaf=P.leaf,u(P,this.toBBox),u(I,this.toBBox),S?M[S-1].children.push(I):this._splitRoot(P,I)},_splitRoot:function(M,S){this.data=T([M,S]),this.data.height=M.height+1,this.data.leaf=!1,u(this.data,this.toBBox)},_chooseSplitIndex:function(M,S,P){var R,w,L,I,B,G,H,Y;for(G=H=1/0,R=S;R<=P-S;R++)I=m(w=h(M,0,R,this.toBBox),L=h(M,R,P,this.toBBox)),B=r(w)+r(L),I<G?(G=I,Y=R,H=B<H?B:H):I===G&&B<H&&(H=B,Y=R);return Y},_chooseSplitAxis:function(M,S,P){var R=M.leaf?this.compareMinX:a,w=M.leaf?this.compareMinY:d;this._allDistMargin(M,S,P,R)<this._allDistMargin(M,S,P,w)&&M.children.sort(R)},_allDistMargin:function(M,S,P,R){M.children.sort(R);var G,H,w=this.toBBox,L=h(M,0,S,w),I=h(M,P-S,P,w),B=c(L)+c(I);for(G=S;G<P-S;G++)H=M.children[G],o(L,M.leaf?w(H):H),B+=c(L);for(G=P-S-1;G>=S;G--)H=M.children[G],o(I,M.leaf?w(H):H),B+=c(I);return B},_adjustParentBBoxes:function(M,S,P){for(var R=P;R>=0;R--)o(S[R],M)},_condense:function(M){for(var P,S=M.length-1;S>=0;S--)0===M[S].children.length?S>0?(P=M[S-1].children).splice(P.indexOf(M[S]),1):this.clear():u(M[S],this.toBBox)},compareMinX:function(M,S){return M.left-S.left},compareMinY:function(M,S){return M.top-S.top},toBBox:function(M){return{minX:M.left,minY:M.top,maxX:M.right,maxY:M.bottom}}},C.exports=g},function(C,F,n){var l=n(527),g=n(529),f=n(245);C.exports=function(h,o,a,d,r,c,p){var m=d.left,v=d.top,x=d.right,T=d.bottom,E=a.faceLeft||a.faceRight,M=a.faceTop||a.faceBottom;if(p||(E=!0,M=!0),!E&&!M)return!1;var S=0,P=0,R=0,w=1;if(o.deltaAbsX()>o.deltaAbsY()?R=-1:o.deltaAbsX()<o.deltaAbsY()&&(w=-1),0!==o.deltaX()&&0!==o.deltaY()&&E&&M&&(R=Math.min(Math.abs(o.position.x-x),Math.abs(o.right-m)),w=Math.min(Math.abs(o.position.y-T),Math.abs(o.bottom-v))),R<w){if(E&&0!==(S=l(o,a,m,x,c,p))&&!f(d,o))return!0;M&&(P=g(o,a,v,T,c,p))}else{if(M&&0!==(P=g(o,a,v,T,c,p))&&!f(d,o))return!0;E&&(S=l(o,a,m,x,c,p))}return 0!==S||0!==P}},function(C,F,n){var l=n(528);C.exports=function(f,u,h,o,a,d){var r=0,c=u.faceLeft,p=u.faceRight,m=u.collideLeft,v=u.collideRight;return d||(c=!0,p=!0,m=!0,v=!0),f.deltaX()<0&&v&&f.checkCollision.left?p&&f.x<o&&(r=f.x-o)<-a&&(r=0):f.deltaX()>0&&m&&f.checkCollision.right&&c&&f.right>h&&(r=f.right-h)>a&&(r=0),0!==r&&(f.customSeparateX?f.overlapX=r:l(f,r)),r}},function(C,F){C.exports=function(l,g){g<0?(l.blocked.none=!1,l.blocked.left=!0):g>0&&(l.blocked.none=!1,l.blocked.right=!0),l.position.x-=g,l.velocity.x=0===l.bounce.x?0:-l.velocity.x*l.bounce.x}},function(C,F,n){var l=n(530);C.exports=function(f,u,h,o,a,d){var r=0,c=u.faceTop,p=u.faceBottom,m=u.collideUp,v=u.collideDown;return d||(c=!0,p=!0,m=!0,v=!0),f.deltaY()<0&&v&&f.checkCollision.up?p&&f.y<o&&(r=f.y-o)<-a&&(r=0):f.deltaY()>0&&m&&f.checkCollision.down&&c&&f.bottom>h&&(r=f.bottom-h)>a&&(r=0),0!==r&&(f.customSeparateY?f.overlapY=r:l(f,r)),r}},function(C,F){C.exports=function(l,g){g<0?(l.blocked.none=!1,l.blocked.up=!0):g>0&&(l.blocked.none=!1,l.blocked.down=!0),l.position.y-=g,l.velocity.y=0===l.bounce.y?0:-l.velocity.y*l.bounce.y}},function(C,F,n){var l=n(243),g=n(1383);C.exports=function(u,h,o,a){var d=l(u,h,o,a),r=u.immovable,c=h.immovable;if(o||0===d||r&&c||u.customSeparateX||h.customSeparateX)return 0!==d||u.embedded&&h.embedded;var p=g.Set(u,h,d);return r||c?(r?g.RunImmovableBody1(p):c&&g.RunImmovableBody2(p),!0):p>0||g.Check()}},function(C,F,n){var l=n(244),g=n(1384);C.exports=function(u,h,o,a){var d=l(u,h,o,a),r=u.immovable,c=h.immovable;if(o||0===d||r&&c||u.customSeparateY||h.customSeparateY)return 0!==d||u.embedded&&h.embedded;var p=g.Set(u,h,d);return r||c?(r?g.RunImmovableBody1(p):c&&g.RunImmovableBody2(p),!0):p>0||g.Check()}},function(C,F,n){var l=n(63),g=n(0),f=n(60),u=n(56),h=n(3),o=new g({initialize:function(d,r){var c=r.displayWidth?r.displayWidth:64,p=r.displayHeight?r.displayHeight:64;this.world=d,this.gameObject=r,this.debugShowBody=d.defaults.debugShowStaticBody,this.debugBodyColor=d.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new h,this.position=new h(r.x-c*r.originX,r.y-p*r.originY),this.width=c,this.height=p,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new h(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=h.ZERO,this.allowGravity=!1,this.gravity=h.ZERO,this.bounce=h.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=f.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(a,d){return a&&a!==this.gameObject&&(this.gameObject.body=null,a.body=this,this.gameObject=a),d&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var a=this.gameObject;return a.getTopLeft(this.position),this.width=a.displayWidth,this.height=a.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(a,d){return void 0===d&&(d=a),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(a,d),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(a,d,r){void 0===r&&(r=!0);var c=this.gameObject;if(!a&&c.frame&&(a=c.frame.realWidth),!d&&c.frame&&(d=c.frame.realHeight),this.world.staticTree.remove(this),this.width=a,this.height=d,this.halfWidth=Math.floor(a/2),this.halfHeight=Math.floor(d/2),r&&c.getCenter){var p=c.displayWidth/2,m=c.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(p-this.halfWidth,m-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(a,d,r){return void 0===d&&(d=this.offset.x),void 0===r&&(r=this.offset.y),a>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=a,this.width=2*a,this.height=2*a,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(d,r),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(a,d){var r=this.gameObject;void 0===a&&(a=r.x),void 0===d&&(d=r.y),this.world.staticTree.remove(this),r.setPosition(a,d),r.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(a){return a.x=this.x,a.y=this.y,a.right=this.right,a.bottom=this.bottom,a},hitTest:function(a,d){return this.isCircle?l(this,a,d):u(this,a,d)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(a){var d=this.position,r=d.x+this.halfWidth,c=d.y+this.halfHeight;this.debugShowBody&&(a.lineStyle(a.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?a.strokeCircle(r,c,this.width/2):a.strokeRect(d.x,d.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(a){return a<=0&&(a=.1),this.mass=a,this},x:{get:function(){return this.position.x},set:function(a){this.world.staticTree.remove(this),this.position.x=a,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(a){this.world.staticTree.remove(this),this.position.y=a,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});C.exports=o},function(C,F,n){C.exports={Bounce:n(1500),Collision:n(1501),Force:n(1502),Friction:n(1503),Gravity:n(1504),Mass:n(1505),Sensor:n(1506),SetBody:n(1507),Sleep:n(1508),Static:n(1525),Transform:n(1526),Velocity:n(1527)}},function(C,F){var n={};C.exports=n,n.create=function(l,g){var f=l.bodyA,u=l.bodyB,h={id:n.id(f,u),bodyA:f,bodyB:u,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:f.isSensor||u.isSensor,timeCreated:g,timeUpdated:g,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return n.update(h,l,g),h},n.update=function(l,g,f){if(l.collision=g,g.collided){var u=g.supports,h=l.activeContacts,o=g.parentA,a=g.parentB;l.inverseMass=o.inverseMass+a.inverseMass,l.friction=Math.min(o.friction,a.friction),l.frictionStatic=Math.max(o.frictionStatic,a.frictionStatic),l.restitution=Math.max(o.restitution,a.restitution),l.slop=Math.max(o.slop,a.slop);for(var d=0;d<u.length;d++)h[d]=u[d].contact;var r=u.length;r<h.length&&(h.length=r),l.separation=g.depth,n.setActive(l,!0,f)}else!0===l.isActive&&n.setActive(l,!1,f)},n.setActive=function(l,g,f){g?(l.isActive=!0,l.timeUpdated=f):(l.isActive=!1,l.activeContacts.length=0)},n.id=function(l,g){return l.id<g.id?"A"+l.id+"B"+g.id:"A"+g.id+"B"+l.id}},function(C,F,n){var g=new(n(0))({initialize:function(u){this.pluginManager=u,this.game=u.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});C.exports=g},function(C,F,n){var g=new(n(3));C.exports=function(u,h,o,a){var d=o.tilemapLayer,r=d.cullPaddingX,c=d.cullPaddingY,p=d.tilemap.tileToWorldXY(u,h,g,a,d);return p.x>a.worldView.x+d.scaleX*o.tileWidth*(-r-.5)&&p.x<a.worldView.right+d.scaleX*o.tileWidth*(r-.5)&&p.y>a.worldView.y+d.scaleY*o.tileHeight*(-c-1)&&p.y<a.worldView.bottom+d.scaleY*o.tileHeight*(c-.5)}},function(C,F,n){var l=n(26);C.exports=function(f,u,h,o,a,d,r){for(var c=l(h,o,a,d,null,r),p=0;p<c.length;p++)c[p]&&c[p].index===f&&(c[p].index=u)}},function(C,F,n){var l=n(10),g=n(137),f=n(76),u=new l;C.exports=function(o,a){var d=o.tilemapLayer.tilemap,r=o.tilemapLayer,c=Math.floor(d.tileWidth*r.scaleX),p=Math.floor(d.tileHeight*r.scaleY),m=f(a.worldView.x-r.x,c,0,!0)-r.cullPaddingX,v=g(a.worldView.right-r.x,c,0,!0)+r.cullPaddingX,x=f(a.worldView.y-r.y,p,0,!0)-r.cullPaddingY,T=g(a.worldView.bottom-r.y,p,0,!0)+r.cullPaddingY;return u.setTo(m,x,v-m,T-x)}},function(C,F,n){var l=n(539),g=n(157);C.exports=function(u,h,o,a){void 0===o&&(o=[]),void 0===a&&(a=0),o.length=0;var d=u.tilemapLayer,r=l(u,h);return(d.skipCull||1!==d.scrollFactorX||1!==d.scrollFactorY)&&(r.left=0,r.right=u.width,r.top=0,r.bottom=u.height),g(u,r,a,o),o}},function(C,F,n){var l=n(542),g=n(157);C.exports=function(u,h,o,a){void 0===o&&(o=[]),void 0===a&&(a=0),o.length=0;var d=u.tilemapLayer;if(!d.skipCull&&1===d.scrollFactorX&&1===d.scrollFactorY){var r=l(u,h);g(u,r,a,o)}return o}},function(C,F,n){var l=n(137),g=n(76);C.exports=function(u,h){var o=u.tilemapLayer.tilemap,a=u.tilemapLayer,d=Math.floor(o.tileWidth*a.scaleX),r=Math.floor(o.tileHeight*a.scaleY),c=u.hexSideLength,p=(r-c)/2+c;return{left:g(h.worldView.x-a.x,d,0,!0)-a.cullPaddingX,right:l(h.worldView.right-a.x,d,0,!0)+a.cullPaddingX,top:g(h.worldView.y-a.y,p,0,!0)-a.cullPaddingY,bottom:l(h.worldView.bottom-a.y,p,0,!0)+a.cullPaddingY}}},function(C,F,n){var l=n(537);C.exports=function(f,u,h,o){void 0===h&&(h=[]),void 0===o&&(o=0),h.length=0;var T,E,M,a=f.tilemapLayer,d=f.data,r=f.width,c=f.height,m=r,x=c;if(!a.skipCull)if(0===o){for(E=0;E<x;E++)for(T=0;d[E]&&T<m;T++)if(l(T,E,f,u)){if(!(M=d[E][T])||-1===M.index||!M.visible||0===M.alpha)continue;h.push(M)}}else if(1===o){for(E=0;E<x;E++)for(T=m;d[E]&&T>=0;T--)if(l(T,E,f,u)){if(!(M=d[E][T])||-1===M.index||!M.visible||0===M.alpha)continue;h.push(M)}}else if(2===o){for(E=x;E>=0;E--)for(T=0;d[E]&&T<m;T++)if(l(T,E,f,u)){if(!(M=d[E][T])||-1===M.index||!M.visible||0===M.alpha)continue;h.push(M)}}else if(3===o)for(E=x;E>=0;E--)for(T=m;d[E]&&T>=0;T--)if(l(T,E,f,u)){if(!(M=d[E][T])||-1===M.index||!M.visible||0===M.alpha)continue;h.push(M)}return a.tilesDrawn=h.length,a.tilesTotal=r*c,h}},function(C,F,n){var l=n(545),g=n(157);C.exports=function(u,h,o,a){void 0===o&&(o=[]),void 0===a&&(a=0),o.length=0;var d=u.tilemapLayer;if(!d.skipCull&&1===d.scrollFactorX&&1===d.scrollFactorY){var r=l(u,h);g(u,r,a,o)}return o}},function(C,F,n){var l=n(137),g=n(76);C.exports=function(u,h){var o=u.tilemapLayer.tilemap,a=u.tilemapLayer,d=Math.floor(o.tileWidth*a.scaleX),r=Math.floor(o.tileHeight*a.scaleY);return{left:g(h.worldView.x-a.x,d,0,!0)-a.cullPaddingX,right:l(h.worldView.right-a.x,d,0,!0)+a.cullPaddingX,top:g(h.worldView.y-a.y,r/2,0,!0)-a.cullPaddingY,bottom:l(h.worldView.bottom-a.y,r/2,0,!0)+a.cullPaddingY}}},function(C,F,n){var l=n(3);C.exports=function(f,u,h,o,a){h||(h=new l);var d=a.baseTileWidth,r=a.baseTileHeight,c=a.tilemapLayer,p=0,m=0;c&&(o||(o=c.scene.cameras.main),p=c.x+o.scrollX*(1-c.scrollFactorX),d*=c.scaleX,m=c.y+o.scrollY*(1-c.scrollFactorY),r*=c.scaleY);var v=a.hexSideLength;return h.set(p+f*d+u%2*(d/2),m+u*((r-v)/2+v))}},function(C,F,n){var l=n(3);C.exports=function(f,u,h,o,a){h||(h=new l);var d=a.baseTileWidth,r=a.baseTileHeight,c=a.tilemapLayer,p=0,m=0;return c&&(o||(o=c.scene.cameras.main),p=c.x+o.scrollX*(1-c.scrollFactorX),d*=c.scaleX,m=c.y+o.scrollY*(1-c.scrollFactorY),r*=c.scaleY),h.set(p+d/2*(f-u),m+(f+u)*(r/2))}},function(C,F,n){var l=n(3);C.exports=function(f,u,h,o,a){h||(h=new l);var d=a.baseTileWidth,r=a.baseTileHeight,c=a.tilemapLayer,p=0,m=0;return c&&(o||(o=c.scene.cameras.main),p=c.x+o.scrollX*(1-c.scrollFactorX),d*=c.scaleX,m=c.y+o.scrollY*(1-c.scrollFactorY),r*=c.scaleY),h.set(p+f*d+u%2*(d/2),m+u*(r/2))}},function(C,F,n){var l=n(249),g=n(250),f=n(3);C.exports=function(h,o,a,d,r){return a||(a=new f(0,0)),a.x=l(h,d,r),a.y=g(o,d,r),a}},function(C,F){C.exports=function(l,g,f){var u=f.baseTileHeight,h=f.tilemapLayer,o=0;h&&(void 0===g&&(g=h.scene.cameras.main),o=h.y+g.scrollY*(1-h.scrollFactorY),u*=h.scaleY);var a=h.tilemap.hexSideLength;return o+l*((u-a)/2+a)}},function(C,F){C.exports=function(l,g,f){var u=f.baseTileHeight,h=f.tilemapLayer,o=0;return h&&(void 0===g&&(g=h.scene.cameras.main),o=h.y+g.scrollY*(1-h.scrollFactorY),u*=h.scaleY),o+l*(u/2)}},function(C,F,n){var l=n(3);C.exports=function(f,u,h,o,a,d){o||(o=new l);var r=d.baseTileWidth,c=d.baseTileHeight,p=d.tilemapLayer;p&&(a||(a=p.scene.cameras.main),u-=p.y+a.scrollY*(1-p.scrollFactorY),c*=p.scaleY,f-=p.x+a.scrollX*(1-p.scrollFactorX),r*=p.scaleX);var m=d.hexSideLength,v=(c-m)/2+m,x=h?Math.floor(u/v):u/v,T=h?Math.floor((f-x%2*.5*r)/r):(f-x%2*.5*r)/r;return o.set(T,x)}},function(C,F,n){var l=n(3);C.exports=function(f,u,h,o,a,d){o||(o=new l);var r=d.baseTileWidth,c=d.baseTileHeight,p=d.tilemapLayer;p&&(a||(a=p.scene.cameras.main),u-=p.y+a.scrollY*(1-p.scrollFactorY),c*=p.scaleY,f-=p.x+a.scrollX*(1-p.scrollFactorX),r*=p.scaleX),f-=r/2;var m=h?Math.floor((f/(r/2)+u/(c/2))/2):(f/(r/2)+u/(c/2))/2,v=h?Math.floor((u/(c/2)-f/(r/2))/2):(u/(c/2)-f/(r/2))/2;return o.set(m,v)}},function(C,F,n){var l=n(3);C.exports=function(f,u,h,o,a,d){o||(o=new l);var r=d.baseTileWidth,c=d.baseTileHeight,p=d.tilemapLayer;p&&(a||(a=p.scene.cameras.main),u-=p.y+a.scrollY*(1-p.scrollFactorY),c*=p.scaleY,f-=p.x+a.scrollX*(1-p.scrollFactorX),r*=p.scaleX);var m=h?Math.floor(u/(c/2)):u/(c/2),v=h?Math.floor((f+m%2*.5*r)/r):(f+m%2*.5*r)/r;return o.set(v,m)}},function(C,F,n){var l=n(251),g=n(252),f=n(3);C.exports=function(h,o,a,d,r,c){return void 0===a&&(a=!0),d||(d=new f(0,0)),d.x=l(h,a,r,c),d.y=g(o,a,r,c),d}},function(C,F){C.exports=function(l,g,f,u){var h=u.baseTileHeight,o=u.tilemapLayer;o&&(f||(f=o.scene.cameras.main),l-=o.y+f.scrollY*(1-o.scrollFactorY),h*=o.scaleY);var a=u.hexSideLength,d=(h-a)/2+a;return g?Math.floor(l/d):l/d}},function(C,F){C.exports=function(l,g,f,u){var h=u.baseTileHeight,o=u.tilemapLayer;return o&&(f||(f=o.scene.cameras.main),l-=o.y+f.scrollY*(1-o.scrollFactorY),h*=o.scaleY),g?Math.floor(l/(h/2)):l/(h/2)}},function(C,F,n){var l=n(118);C.exports=function(f,u,h){if(l(f,u,h)){var o=h.data[u][f];return null!==o&&o.index>-1}return!1}},function(C,F,n){var l=n(83),g=n(118),f=n(248);C.exports=function(h,o,a,d,r){if(void 0===a&&(a=!0),void 0===d&&(d=!0),!g(h,o,r))return null;var c=r.data[o][h];return c?(r.data[o][h]=a?null:new l(r,-1,h,o,r.tileWidth,r.tileHeight),d&&c&&c.collides&&f(h,o,r),c):null}},function(C,F,n){var l=n(38),g=n(255),f=n(561),u=n(562),h=n(573);C.exports=function(a,d,r,c,p,m){var v;switch(d){case l.ARRAY_2D:v=g(a,r,c,p,m);break;case l.CSV:v=f(a,r,c,p,m);break;case l.TILED_JSON:v=u(a,r,m);break;case l.WELTMEISTER:v=h(a,r,m);break;default:console.warn("Unrecognized tilemap data format: "+d),v=null}return v}},function(C,F,n){var l=n(38),g=n(255);C.exports=function(u,h,o,a,d){var r=h.trim().split("\n").map(function(p){return p.split(",")}),c=g(u,r,o,a,d);return c.format=l.CSV,c}},function(C,F,n){var l=n(563),g=n(564),f=n(29),u=n(38),h=n(254),o=n(120),a=n(565),d=n(566),r=n(569),c=n(571);C.exports=function(m,v,x){var T=new o({width:v.width,height:v.height,name:m,tileWidth:v.tilewidth,tileHeight:v.tileheight,orientation:h(v.orientation),format:u.TILED_JSON,version:v.version,properties:v.properties,renderOrder:v.renderorder,infinite:v.infinite});T.orientation===f.HEXAGONAL&&(T.hexSideLength=v.hexsidelength),T.layers=r(v,x),T.images=a(v);var E=c(v);return T.tilesets=E.tilesets,T.imageCollections=E.imageCollections,T.objects=d(v),T.tiles=g(T),l(T),T}},function(C,F,n){var l=n(17);C.exports=function(f){for(var u,h,a,d,r=0;r<f.layers.length;r++){u=f.layers[r],a=null;for(var c=0;c<u.data.length;c++){d=u.data[c];for(var p=0;p<d.length;p++)!(null===(h=d[p])||h.index<0)&&(h.width=(a=f.tilesets[f.tiles[h.index][2]]).tileWidth,h.height=a.tileHeight,a.tileProperties&&a.tileProperties[h.index-a.firstgid]&&(h.properties=l(h.properties,a.tileProperties[h.index-a.firstgid])))}}}},function(C,F,n){var l=n(121);C.exports=function(f){var u,h,o=[];for(u=0;u<f.imageCollections.length;u++)for(var a=f.imageCollections[u],d=a.images,r=0;r<d.length;r++){var c=d[r];(h=new l(c.image,c.gid,a.imageWidth,a.imageHeight,0,0)).updateTileData(a.imageWidth,a.imageHeight),f.tilesets.push(h)}for(u=0;u<f.tilesets.length;u++)for(var p=(h=f.tilesets[u]).tileMargin,m=h.tileMargin,v=0,x=0,T=0,E=h.firstgid;E<h.firstgid+h.total&&(o[E]=[p,m,u],p+=h.tileWidth+h.tileSpacing,++v!==h.total&&(++x!==h.columns||(p=h.tileMargin,m+=h.tileHeight+h.tileSpacing,x=0,++T!==h.rows)));E++);return o}},function(C,F,n){var l=n(2),g=n(159);C.exports=function(u){for(var h=[],o=[],a=g(u);a.i<a.layers.length||o.length>0;)if(a.i>=a.layers.length){if(o.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}a=o.pop()}else{var d=a.layers[a.i];if(a.i++,"imagelayer"===d.type){var c=l(d,"offsetx",0)+l(d,"startx",0),p=l(d,"offsety",0)+l(d,"starty",0);h.push({name:a.name+d.name,image:d.image,x:a.x+c+d.x,y:a.y+p+d.y,alpha:a.opacity*d.opacity,visible:a.visible&&d.visible,properties:l(d,"properties",{})})}else if("group"===d.type){var r=g(u,d,a);o.push(a),a=r}}return h}},function(C,F,n){var l=n(2),g=n(256),f=n(568),u=n(159);C.exports=function(o){for(var a=[],d=[],r=u(o);r.i<r.layers.length||d.length>0;)if(r.i>=r.layers.length){if(d.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}r=d.pop()}else{var c=r.layers[r.i];if(r.i++,c.opacity*=r.opacity,c.visible=r.visible&&c.visible,"objectgroup"===c.type){c.name=r.name+c.name;for(var m=r.x+l(c,"startx",0)+l(c,"offsetx",0),v=r.y+l(c,"starty",0)+l(c,"offsety",0),x=[],T=0;T<c.objects.length;T++){var E=g(c.objects[T],m,v);x.push(E)}var M=new f(c);M.objects=x,a.push(M)}else if("group"===c.type){var p=u(o,c,r);d.push(r),r=p}}return a}},function(C,F,n){var l=n(125);C.exports=function(f,u){for(var h={},o=0;o<u.length;o++){var a=u[o];l(f,a)&&(h[a]=f[a])}return h}},function(C,F,n){var l=n(0),g=n(2),f=new l({initialize:function(h){void 0===h&&(h={}),this.name=g(h,"name","object layer"),this.opacity=g(h,"opacity",1),this.properties=g(h,"properties",{}),this.propertyTypes=g(h,"propertytypes",{}),this.type=g(h,"type","objectgroup"),this.visible=g(h,"visible",!0),this.objects=g(h,"objects",[])}});C.exports=f},function(C,F,n){var l=n(570),g=n(29),f=n(159),u=n(254),h=n(2),o=n(119),a=n(257),d=n(83);C.exports=function(c,p){for(var m=h(c,"infinite",!1),v=[],x=[],T=f(c);T.i<T.layers.length||x.length>0;)if(T.i>=T.layers.length){if(x.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}T=x.pop()}else{var E=T.layers[T.i];if(T.i++,"tilelayer"===E.type)if(E.compression)console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+E.name+"'");else{if(E.encoding&&"base64"===E.encoding){if(E.chunks)for(var S=0;S<E.chunks.length;S++)E.chunks[S].data=l(E.chunks[S].data);E.data&&(E.data=l(E.data)),delete E.encoding}var P,R,w,L,I=[],B=0;if(m){var G=h(E,"startx",0)+E.x,H=h(E,"starty",0)+E.y;(P=new o({name:T.name+E.name,x:T.x+h(E,"offsetx",0)+G*c.tilewidth,y:T.y+h(E,"offsety",0)+H*c.tileheight,width:E.width,height:E.height,tileWidth:c.tilewidth,tileHeight:c.tileheight,alpha:T.opacity*E.opacity,visible:T.visible&&E.visible,properties:h(E,"properties",[]),orientation:u(c.orientation)})).orientation===g.HEXAGONAL&&(P.hexSideLength=c.hexsidelength);for(var Y=0;Y<E.height;Y++){I.push([null]);for(var $=0;$<E.width;$++)I[Y][$]=null}for(Y=0,et=E.chunks.length;Y<et;Y++)for(var J=E.chunks[Y],_=J.x-G,tt=J.y-H,U=0,V=0,X=J.data.length;V<X;V++){var W=B+_,j=U+tt;(R=a(J.data[V])).gid>0?((w=new d(P,R.gid,W,j,c.tilewidth,c.tileheight)).rotation=R.rotation,w.flipX=R.flipped,I[j][W]=w):(L=p?null:new d(P,-1,W,j,c.tilewidth,c.tileheight),I[j][W]=L),++B===J.width&&(U++,B=0)}}else{(P=new o({name:T.name+E.name,x:T.x+h(E,"offsetx",0)+E.x,y:T.y+h(E,"offsety",0)+E.y,width:E.width,height:E.height,tileWidth:c.tilewidth,tileHeight:c.tileheight,alpha:T.opacity*E.opacity,visible:T.visible&&E.visible,properties:h(E,"properties",[]),orientation:u(c.orientation)})).orientation===g.HEXAGONAL&&(P.hexSideLength=c.hexsidelength);for(var K=[],q=0,et=E.data.length;q<et;q++)(R=a(E.data[q])).gid>0?((w=new d(P,R.gid,B,I.length,c.tilewidth,c.tileheight)).rotation=R.rotation,w.flipX=R.flipped,K.push(w)):(L=p?null:new d(P,-1,B,I.length,c.tilewidth,c.tileheight),K.push(L)),++B===E.width&&(I.push(K),B=0,K=[])}P.data=I,v.push(P)}else if("group"===E.type){var M=f(c,E,T);x.push(T),T=M}}return v}},function(C,F){C.exports=function(l){for(var g=window.atob(l),f=g.length,u=new Array(f/4),h=0;h<f;h+=4)u[h/4]=(g.charCodeAt(h)|g.charCodeAt(h+1)<<8|g.charCodeAt(h+2)<<16|g.charCodeAt(h+3)<<24)>>>0;return u}},function(C,F,n){var l=n(121),g=n(572),f=n(256);C.exports=function(h){for(var r,o=[],a=[],d=null,c=0;c<h.tilesets.length;c++){var p=h.tilesets[c];if(p.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(p.image){var m=new l(p.name,p.firstgid,p.tilewidth,p.tileheight,p.margin,p.spacing);if(h.version>1){if(Array.isArray(p.tiles)){for(var v={},x={},T=0;T<p.tiles.length;T++){var E=p.tiles[T];if(E.properties){var M={};E.properties.forEach(function(H){M[H.name]=H.value}),x[E.id]=M}if(E.objectgroup&&(v[E.id]={objectgroup:E.objectgroup},E.objectgroup.objects)){var S=E.objectgroup.objects.map(function(H){return f(H)});v[E.id].objectgroup.objects=S}E.animation&&(v.hasOwnProperty(E.id)?v[E.id].animation=E.animation:v[E.id]={animation:E.animation})}m.tileData=v,m.tileProperties=x}}else if(p.tileproperties&&(m.tileProperties=p.tileproperties),p.tiles)for(r in m.tileData=p.tiles,m.tileData){var P=m.tileData[r].objectgroup;if(P&&P.objects){var R=P.objects.map(function(H){return f(H)});m.tileData[r].objectgroup.objects=R}}m.updateTileData(p.imagewidth,p.imageheight),o.push(m)}else{var w=new g(p.name,p.firstgid,p.tilewidth,p.tileheight,p.margin,p.spacing,p.properties),L=0;for(T=0;T<p.tiles.length;T++){var I=(E=p.tiles[T]).image,B=parseInt(E.id,10);w.addImage(p.firstgid+B,I),L=Math.max(B,L)}w.maxId=L,a.push(w)}d&&(d.lastgid=p.firstgid-1),d=p}return{tilesets:o,imageCollections:a}}},function(C,F,n){var g=new(n(0))({initialize:function(u,h,o,a,d,r,c){(void 0===o||o<=0)&&(o=32),(void 0===a||a<=0)&&(a=32),void 0===d&&(d=0),void 0===r&&(r=0),this.name=u,this.firstgid=0|h,this.imageWidth=0|o,this.imageHeight=0|a,this.imageMargin=0|d,this.imageSpacing=0|r,this.properties=c||{},this.images=[],this.total=0},containsImageIndex:function(f){return f>=this.firstgid&&f<this.firstgid+this.total},addImage:function(f,u){return this.images.push({gid:f,image:u}),this.total++,this}});C.exports=g},function(C,F,n){var l=n(38),g=n(120),f=n(574),u=n(575);C.exports=function(o,a,d){if(0===a.layer.length)return console.warn("No layers found in the Weltmeister map: "+o),null;for(var r=0,c=0,p=0;p<a.layer.length;p++)a.layer[p].width>r&&(r=a.layer[p].width),a.layer[p].height>c&&(c=a.layer[p].height);var m=new g({width:r,height:c,name:o,tileWidth:a.layer[0].tilesize,tileHeight:a.layer[0].tilesize,format:l.WELTMEISTER});return m.layers=f(a,d),m.tilesets=u(a),m}},function(C,F,n){var l=n(119),g=n(83);C.exports=function(u,h){for(var o=[],a=0;a<u.layer.length;a++){for(var d=u.layer[a],r=new l({name:d.name,width:d.width,height:d.height,tileWidth:d.tilesize,tileHeight:d.tilesize,visible:1===d.visible}),c=[],p=[],m=0;m<d.data.length;m++){for(var v=0;v<d.data[m].length;v++){var T,x=d.data[m][v]-1;T=x>-1?new g(r,x,v,m,d.tilesize,d.tilesize):h?null:new g(r,-1,v,m,d.tilesize,d.tilesize),c.push(T)}p.push(c),c=[]}r.data=p,o.push(r)}return o}},function(C,F,n){var l=n(121);C.exports=function(f){for(var u=[],h=[],o=0;o<f.layer.length;o++){var a=f.layer[o],d=a.tilesetName;""!==d&&-1===h.indexOf(d)&&(h.push(d),u.push(new l(d,0,a.tilesize,a.tilesize,0,0)))}return u}},function(C,F,n){var l=n(0),g=n(34),f=n(38),u=n(2),h=n(119),o=n(29),a=n(356),d=n(74),r=n(73),c=n(83),p=n(247),m=n(577),v=n(121),x=new l({initialize:function(E,M){this.scene=E,this.tileWidth=M.tileWidth,this.tileHeight=M.tileHeight,this.width=M.width,this.height=M.height,this.orientation=M.orientation,this.renderOrder=M.renderOrder,this.format=M.format,this.version=M.version,this.properties=M.properties,this.widthInPixels=M.widthInPixels,this.heightInPixels=M.heightInPixels,this.imageCollections=M.imageCollections,this.images=M.images,this.layers=M.layers,this.tilesets=M.tilesets,this.objects=M.objects,this.currentLayerIndex=0,this.hexSideLength=M.hexSideLength;var S=this.orientation;this._convert={WorldToTileXY:p.GetWorldToTileXYFunction(S),WorldToTileX:p.GetWorldToTileXFunction(S),WorldToTileY:p.GetWorldToTileYFunction(S),TileToWorldXY:p.GetTileToWorldXYFunction(S),TileToWorldX:p.GetTileToWorldXFunction(S),TileToWorldY:p.GetTileToWorldYFunction(S)}},createBlankDynamicLayer:function(T,E,M,S,P,R,w,L){return console.warn("createBlankDynamicLayer is deprecated. Use createBlankLayer"),this.createBlankLayer(T,E,M,S,P,R,w,L)},createDynamicLayer:function(T,E,M,S){return console.warn("createDynamicLayer is deprecated. Use createLayer"),this.createLayer(T,E,M,S)},createStaticLayer:function(T,E,M,S){return console.warn("createStaticLayer is deprecated. Use createLayer"),this.createLayer(T,E,M,S)},setRenderOrder:function(T){var E=["right-down","left-down","right-up","left-up"];return"number"==typeof T&&(T=E[T]),E.indexOf(T)>-1&&(this.renderOrder=T),this},addTilesetImage:function(T,E,M,S,P,R,w){if(void 0===T)return null;if(null==E&&(E=T),!this.scene.sys.textures.exists(E))return console.warn("Invalid Tileset Image: "+E),null;var L=this.scene.sys.textures.get(E),I=this.getTilesetIndex(T);if(null===I&&this.format===f.TILED_JSON)return console.warn("No data found for Tileset: "+T),null;var B=this.tilesets[I];return B?(B.setTileSize(M,S),B.setSpacing(P,R),B.setImage(L),B):(void 0===M&&(M=this.tileWidth),void 0===S&&(S=this.tileHeight),void 0===P&&(P=0),void 0===R&&(R=0),void 0===w&&(w=0),(B=new v(T,w,M,S,P,R)).setImage(L),this.tilesets.push(B),B)},copy:function(T,E,M,S,P,R,w,L){return null!==(L=this.getLayer(L))?(p.Copy(T,E,M,S,P,R,w,L),this):null},createBlankLayer:function(T,E,M,S,P,R,w,L){if(void 0===M&&(M=0),void 0===S&&(S=0),void 0===P&&(P=this.width),void 0===R&&(R=this.height),void 0===w&&(w=this.tileWidth),void 0===L&&(L=this.tileHeight),null!==this.getLayerIndex(T))return console.warn("Invalid Tilemap Layer ID: "+T),null;for(var G,B=new h({name:T,tileWidth:w,tileHeight:L,width:P,height:R,orientation:this.orientation}),H=0;H<R;H++){G=[];for(var Y=0;Y<P;Y++)G.push(new c(B,-1,Y,H,w,L,this.tileWidth,this.tileHeight));B.data.push(G)}this.layers.push(B),this.currentLayerIndex=this.layers.length-1;var $=new m(this.scene,this,this.currentLayerIndex,E,M,S);return $.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add($),$},createLayer:function(T,E,M,S){var P=this.getLayerIndex(T);if(null===P)return console.warn("Invalid Tilemap Layer ID: "+T),"string"==typeof T&&console.warn("Valid tilelayer names:\n\t"+this.getTileLayerNames().join(",\n\t")),null;var R=this.layers[P];if(R.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+T),null;this.currentLayerIndex=P,void 0===M&&(M=R.x),void 0===S&&(S=R.y);var w=new m(this.scene,this,P,E,M,S);return w.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(w),w},createFromObjects:function(T,E){var M=[],S=this.getObjectLayer(T);if(!S)return console.warn("createFromObjects: Invalid objectLayerName given: "+T),M;Array.isArray(E)||(E=[E]);for(var P=S.objects,R=0;R<E.length;R++){for(var G,w=E[R],L=u(w,"id",null),I=u(w,"gid",null),B=u(w,"name",null),H=[],Y=0;Y<P.length;Y++)G=P[Y],(null===L&&null===I&&null===B||null!==L&&G.id===L||null!==I&&G.gid===I||null!==B&&G.name===B)&&H.push(G);for(var $=u(w,"classType",r),J=u(w,"scene",this.scene),_=u(w,"container",null),tt=u(w,"key",null),U=u(w,"frame",null),V=0;V<H.length;V++){G=H[V];var X=new $(J);X.setName(G.name),X.setPosition(G.x,G.y),X.setTexture(tt,U),G.width&&(X.displayWidth=G.width),G.height&&(X.displayHeight=G.height);var W={x:X.originX*G.width,y:(X.originY-1)*G.height};if(G.rotation){var j=g(G.rotation);a(W,j),X.rotation=j}for(var K in X.x+=W.x,X.y+=W.y,(void 0!==G.flippedHorizontal||void 0!==G.flippedVertical)&&X.setFlip(G.flippedHorizontal,G.flippedVertical),G.visible||(X.visible=!1),G.properties)void 0!==X[K]?X[K]=G.properties[K]:X.setData(K,G.properties[K]);_?_.add(X):J.add.existing(X),M.push(X)}}return M},createFromTiles:function(T,E,M,S,P,R){return null===(R=this.getLayer(R))?null:p.CreateFromTiles(T,E,M,S,P,R)},fill:function(T,E,M,S,P,R,w){return void 0===R&&(R=!0),null===(w=this.getLayer(w))?null:(p.Fill(T,E,M,S,P,R,w),this)},filterObjects:function(T,E,M){if("string"==typeof T){var S=T;if(!(T=this.getObjectLayer(T)))return console.warn("No object layer found with the name: "+S),null}return T.objects.filter(E,M)},filterTiles:function(T,E,M,S,P,R,w,L){return null===(L=this.getLayer(L))?null:p.FilterTiles(T,E,M,S,P,R,w,L)},findByIndex:function(T,E,M,S){return null===(S=this.getLayer(S))?null:p.FindByIndex(T,E,M,S)},findObject:function(T,E,M){if("string"==typeof T){var S=T;if(!(T=this.getObjectLayer(T)))return console.warn("No object layer found with the name: "+S),null}return T.objects.find(E,M)||null},findTile:function(T,E,M,S,P,R,w,L){return null===(L=this.getLayer(L))?null:p.FindTile(T,E,M,S,P,R,w,L)},forEachTile:function(T,E,M,S,P,R,w,L){return null===(L=this.getLayer(L))?null:(p.ForEachTile(T,E,M,S,P,R,w,L),this)},getImageIndex:function(T){return this.getIndex(this.images,T)},getImageLayerNames:function(){return this.images&&Array.isArray(this.images)?this.images.map(function(T){return T.name}):[]},getIndex:function(T,E){for(var M=0;M<T.length;M++)if(T[M].name===E)return M;return null},getLayer:function(T){var E=this.getLayerIndex(T);return null!==E?this.layers[E]:null},getObjectLayer:function(T){var E=this.getIndex(this.objects,T);return null!==E?this.objects[E]:null},getObjectLayerNames:function(){return this.objects&&Array.isArray(this.objects)?this.objects.map(function(T){return T.name}):[]},getLayerIndex:function(T){return void 0===T?this.currentLayerIndex:"string"==typeof T?this.getLayerIndexByName(T):"number"==typeof T&&T<this.layers.length?T:T instanceof m?T.layerIndex:null},getLayerIndexByName:function(T){return this.getIndex(this.layers,T)},getTileAt:function(T,E,M,S){return null===(S=this.getLayer(S))?null:p.GetTileAt(T,E,M,S)},getTileAtWorldXY:function(T,E,M,S,P){return null===(P=this.getLayer(P))?null:p.GetTileAtWorldXY(T,E,M,S,P)},getTileLayerNames:function(){return this.layers&&Array.isArray(this.layers)?this.layers.map(function(T){return T.name}):[]},getTilesWithin:function(T,E,M,S,P,R){return null===(R=this.getLayer(R))?null:p.GetTilesWithin(T,E,M,S,P,R)},getTilesWithinShape:function(T,E,M,S){return null===(S=this.getLayer(S))?null:p.GetTilesWithinShape(T,E,M,S)},getTilesWithinWorldXY:function(T,E,M,S,P,R,w){return null===(w=this.getLayer(w))?null:p.GetTilesWithinWorldXY(T,E,M,S,P,R,w)},getTileset:function(T){var E=this.getIndex(this.tilesets,T);return null!==E?this.tilesets[E]:null},getTilesetIndex:function(T){return this.getIndex(this.tilesets,T)},hasTileAt:function(T,E,M){return null===(M=this.getLayer(M))?null:p.HasTileAt(T,E,M)},hasTileAtWorldXY:function(T,E,M,S){return null===(S=this.getLayer(S))?null:p.HasTileAtWorldXY(T,E,M,S)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(T){this.setLayer(T)}},putTileAt:function(T,E,M,S,P){return void 0===S&&(S=!0),null===(P=this.getLayer(P))?null:p.PutTileAt(T,E,M,S,P)},putTileAtWorldXY:function(T,E,M,S,P,R){return void 0===S&&(S=!0),null===(R=this.getLayer(R))?null:p.PutTileAtWorldXY(T,E,M,S,P,R)},putTilesAt:function(T,E,M,S,P){return void 0===S&&(S=!0),null===(P=this.getLayer(P))?null:(p.PutTilesAt(T,E,M,S,P),this)},randomize:function(T,E,M,S,P,R){return null===(R=this.getLayer(R))?null:(p.Randomize(T,E,M,S,P,R),this)},calculateFacesAt:function(T,E,M){return null===(M=this.getLayer(M))?null:(p.CalculateFacesAt(T,E,M),this)},calculateFacesWithin:function(T,E,M,S,P){return null===(P=this.getLayer(P))?null:(p.CalculateFacesWithin(T,E,M,S,P),this)},removeLayer:function(T){var E=this.getLayerIndex(T);if(null!==E){d(this.layers,E);for(var M=E;M<this.layers.length;M++)this.layers[M].tilemapLayer&&this.layers[M].tilemapLayer.layerIndex--;return this.currentLayerIndex===E&&(this.currentLayerIndex=0),this}return null},destroyLayer:function(T){var E=this.getLayerIndex(T);return null!==E?((T=this.layers[E]).destroy(),d(this.layers,E),this.currentLayerIndex===E&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var T=this.layers,E=0;E<T.length;E++)T[E].tilemapLayer&&T[E].tilemapLayer.destroy(!1);return T.length=0,this.currentLayerIndex=0,this},removeTile:function(T,E,M){void 0===E&&(E=-1),void 0===M&&(M=!0);var S=[];Array.isArray(T)||(T=[T]);for(var P=0;P<T.length;P++){var R=T[P];S.push(this.removeTileAt(R.x,R.y,!0,M,R.tilemapLayer)),E>-1&&this.putTileAt(E,R.x,R.y,M,R.tilemapLayer)}return S},removeTileAt:function(T,E,M,S,P){return void 0===M&&(M=!0),void 0===S&&(S=!0),null===(P=this.getLayer(P))?null:p.RemoveTileAt(T,E,M,S,P)},removeTileAtWorldXY:function(T,E,M,S,P,R){return void 0===M&&(M=!0),void 0===S&&(S=!0),null===(R=this.getLayer(R))?null:p.RemoveTileAtWorldXY(T,E,M,S,P,R)},renderDebug:function(T,E,M){return null===(M=this.getLayer(M))?null:(this.orientation===o.ORTHOGONAL&&p.RenderDebug(T,E,M),this)},renderDebugFull:function(T,E){for(var M=this.layers,S=0;S<M.length;S++)p.RenderDebug(T,E,M[S]);return this},replaceByIndex:function(T,E,M,S,P,R,w){return null===(w=this.getLayer(w))?null:(p.ReplaceByIndex(T,E,M,S,P,R,w),this)},setCollision:function(T,E,M,S,P){return void 0===E&&(E=!0),void 0===M&&(M=!0),void 0===P&&(P=!0),null===(S=this.getLayer(S))?null:(p.SetCollision(T,E,M,S,P),this)},setCollisionBetween:function(T,E,M,S,P){return void 0===M&&(M=!0),void 0===S&&(S=!0),null===(P=this.getLayer(P))?null:(p.SetCollisionBetween(T,E,M,S,P),this)},setCollisionByProperty:function(T,E,M,S){return void 0===E&&(E=!0),void 0===M&&(M=!0),null===(S=this.getLayer(S))?null:(p.SetCollisionByProperty(T,E,M,S),this)},setCollisionByExclusion:function(T,E,M,S){return void 0===E&&(E=!0),void 0===M&&(M=!0),null===(S=this.getLayer(S))?null:(p.SetCollisionByExclusion(T,E,M,S),this)},setCollisionFromCollisionGroup:function(T,E,M){return void 0===T&&(T=!0),void 0===E&&(E=!0),null===(M=this.getLayer(M))?null:(p.SetCollisionFromCollisionGroup(T,E,M),this)},setTileIndexCallback:function(T,E,M,S){return null===(S=this.getLayer(S))?null:(p.SetTileIndexCallback(T,E,M,S),this)},setTileLocationCallback:function(T,E,M,S,P,R,w){return null===(w=this.getLayer(w))?null:(p.SetTileLocationCallback(T,E,M,S,P,R,w),this)},setLayer:function(T){var E=this.getLayerIndex(T);return null!==E&&(this.currentLayerIndex=E),this},setBaseTileSize:function(T,E){this.tileWidth=T,this.tileHeight=E,this.widthInPixels=this.width*T,this.heightInPixels=this.height*E;for(var M=0;M<this.layers.length;M++){this.layers[M].baseTileWidth=T,this.layers[M].baseTileHeight=E;for(var S=this.layers[M].data,P=this.layers[M].width,R=this.layers[M].height,w=0;w<R;w++)for(var L=0;L<P;L++){var I=S[w][L];null!==I&&I.setSize(void 0,void 0,T,E)}}return this},setLayerTileSize:function(T,E,M){if(null===(M=this.getLayer(M)))return this;M.tileWidth=T,M.tileHeight=E;for(var S=M.data,P=M.width,R=M.height,w=0;w<R;w++)for(var L=0;L<P;L++){var I=S[w][L];null!==I&&I.setSize(T,E)}return this},shuffle:function(T,E,M,S,P){return null===(P=this.getLayer(P))?null:(p.Shuffle(T,E,M,S,P),this)},swapByIndex:function(T,E,M,S,P,R,w){return null===(w=this.getLayer(w))?null:(p.SwapByIndex(T,E,M,S,P,R,w),this)},tileToWorldX:function(T,E,M){return null===(M=this.getLayer(M))?null:this._convert.TileToWorldX(T,E,M)},tileToWorldY:function(T,E,M){return null===(M=this.getLayer(M))?null:this._convert.TileToWorldY(T,E,M)},tileToWorldXY:function(T,E,M,S,P){return null===(P=this.getLayer(P))?null:this._convert.TileToWorldXY(T,E,M,S,P)},weightedRandomize:function(T,E,M,S,P,R){return null===(R=this.getLayer(R))?null:(p.WeightedRandomize(E,M,S,P,T,R),this)},worldToTileX:function(T,E,M,S){return null===(S=this.getLayer(S))?null:this._convert.WorldToTileX(T,E,M,S)},worldToTileY:function(T,E,M,S){return null===(S=this.getLayer(S))?null:this._convert.WorldToTileY(T,E,M,S)},worldToTileXY:function(T,E,M,S,P,R){return null===(R=this.getLayer(R))?null:this._convert.WorldToTileXY(T,E,M,S,P,R)},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=null}});C.exports=x},function(C,F,n){var l=n(0),g=n(11),f=n(15),u=n(247),h=n(1449),o=new l({Extends:f,Mixins:[g.Alpha,g.BlendMode,g.ComputedSize,g.Depth,g.Flip,g.GetBounds,g.Origin,g.Pipeline,g.Transform,g.Visible,g.ScrollFactor,h],initialize:function(d,r,c,p,m,v){f.call(this,d,"TilemapLayer"),this.isTilemap=!0,this.tilemap=r,this.layerIndex=c,this.layer=r.layers[c],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=u.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.setTilesets(p),this.setAlpha(this.layer.alpha),this.setPosition(m,v),this.setOrigin(),this.setSize(r.tileWidth*this.layer.width,r.tileHeight*this.layer.height),this.initPipeline()},setTilesets:function(a){var d=[],r=[],c=this.tilemap;Array.isArray(a)||(a=[a]);for(var p=0;p<a.length;p++){var m=a[p];if("string"==typeof m&&(m=c.getTileset(m)),m){r.push(m);for(var v=m.firstgid,x=0;x<m.total;x++)d[v+x]=m}}this.gidMap=d,this.tileset=r},setRenderOrder:function(a){return"string"==typeof a&&(a=["right-down","left-down","right-up","left-up"].indexOf(a)),a>=0&&a<4&&(this._renderOrder=a),this},calculateFacesAt:function(a,d){return u.CalculateFacesAt(a,d,this.layer),this},calculateFacesWithin:function(a,d,r,c){return u.CalculateFacesWithin(a,d,r,c,this.layer),this},createFromTiles:function(a,d,r,c,p){return u.CreateFromTiles(a,d,r,c,p,this.layer)},cull:function(a){return this.cullCallback(this.layer,a,this.culledTiles,this._renderOrder)},copy:function(a,d,r,c,p,m,v){return u.Copy(a,d,r,c,p,m,v,this.layer),this},fill:function(a,d,r,c,p,m){return u.Fill(a,d,r,c,p,m,this.layer),this},filterTiles:function(a,d,r,c,p,m,v){return u.FilterTiles(a,d,r,c,p,m,v,this.layer)},findByIndex:function(a,d,r){return u.FindByIndex(a,d,r,this.layer)},findTile:function(a,d,r,c,p,m,v){return u.FindTile(a,d,r,c,p,m,v,this.layer)},forEachTile:function(a,d,r,c,p,m,v){return u.ForEachTile(a,d,r,c,p,m,v,this.layer),this},getTileAt:function(a,d,r){return u.GetTileAt(a,d,r,this.layer)},getTileAtWorldXY:function(a,d,r,c){return u.GetTileAtWorldXY(a,d,r,c,this.layer)},getTilesWithin:function(a,d,r,c,p){return u.GetTilesWithin(a,d,r,c,p,this.layer)},getTilesWithinShape:function(a,d,r){return u.GetTilesWithinShape(a,d,r,this.layer)},getTilesWithinWorldXY:function(a,d,r,c,p,m){return u.GetTilesWithinWorldXY(a,d,r,c,p,m,this.layer)},hasTileAt:function(a,d){return u.HasTileAt(a,d,this.layer)},hasTileAtWorldXY:function(a,d,r){return u.HasTileAtWorldXY(a,d,r,this.layer)},putTileAt:function(a,d,r,c){return u.PutTileAt(a,d,r,c,this.layer)},putTileAtWorldXY:function(a,d,r,c,p){return u.PutTileAtWorldXY(a,d,r,c,p,this.layer)},putTilesAt:function(a,d,r,c){return u.PutTilesAt(a,d,r,c,this.layer),this},randomize:function(a,d,r,c,p){return u.Randomize(a,d,r,c,p,this.layer),this},removeTileAt:function(a,d,r,c){return u.RemoveTileAt(a,d,r,c,this.layer)},removeTileAtWorldXY:function(a,d,r,c,p){return u.RemoveTileAtWorldXY(a,d,r,c,p,this.layer)},renderDebug:function(a,d){return u.RenderDebug(a,d,this.layer),this},replaceByIndex:function(a,d,r,c,p,m){return u.ReplaceByIndex(a,d,r,c,p,m,this.layer),this},setSkipCull:function(a){return void 0===a&&(a=!0),this.skipCull=a,this},setCullPadding:function(a,d){return void 0===a&&(a=1),void 0===d&&(d=1),this.cullPaddingX=a,this.cullPaddingY=d,this},setCollision:function(a,d,r,c){return u.SetCollision(a,d,r,this.layer,c),this},setCollisionBetween:function(a,d,r,c){return u.SetCollisionBetween(a,d,r,c,this.layer),this},setCollisionByProperty:function(a,d,r){return u.SetCollisionByProperty(a,d,r,this.layer),this},setCollisionByExclusion:function(a,d,r){return u.SetCollisionByExclusion(a,d,r,this.layer),this},setCollisionFromCollisionGroup:function(a,d){return u.SetCollisionFromCollisionGroup(a,d,this.layer),this},setTileIndexCallback:function(a,d,r){return u.SetTileIndexCallback(a,d,r,this.layer),this},setTileLocationCallback:function(a,d,r,c,p,m){return u.SetTileLocationCallback(a,d,r,c,p,m,this.layer),this},shuffle:function(a,d,r,c){return u.Shuffle(a,d,r,c,this.layer),this},swapByIndex:function(a,d,r,c,p,m){return u.SwapByIndex(a,d,r,c,p,m,this.layer),this},tileToWorldX:function(a,d){return this.tilemap.tileToWorldX(a,d,this)},tileToWorldY:function(a,d){return this.tilemap.tileToWorldY(a,d,this)},tileToWorldXY:function(a,d,r,c){return this.tilemap.tileToWorldXY(a,d,r,c,this)},weightedRandomize:function(a,d,r,c,p){return u.WeightedRandomize(a,d,r,c,p,this.layer),this},worldToTileX:function(a,d,r){return this.tilemap.worldToTileX(a,d,r,this)},worldToTileY:function(a,d,r){return this.tilemap.worldToTileY(a,d,r,this)},worldToTileXY:function(a,d,r,c,p){return this.tilemap.worldToTileXY(a,d,r,c,p,this)},destroy:function(a){void 0===a&&(a=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),a&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],f.prototype.destroy.call(this))}});C.exports=o},function(C,F,n){var l=n(0),g=n(2),f=new l({initialize:function(h){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(h)},reset:function(u){return this.delay=g(u,"delay",0),this.repeat=g(u,"repeat",0),this.loop=g(u,"loop",!1),this.callback=g(u,"callback",void 0),this.callbackScope=g(u,"callbackScope",this.callback),this.args=g(u,"args",[]),this.timeScale=g(u,"timeScale",1),this.startAt=g(u,"startAt",0),this.paused=g(u,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){return this.repeat>0?(this.elapsed+this.delay*(this.repeat-this.repeatCount))/(this.delay+this.delay*this.repeat):this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return.001*this.getRemaining()},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return.001*this.getOverallRemaining()},remove:function(u){void 0===u&&(u=!1),this.elapsed=this.delay,this.hasDispatched=!u,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});C.exports=f},function(C,F,n){var l=n(1458);C.exports=function(f){var u,h=[];if(f.hasOwnProperty("props"))for(u in f.props)"_"!==u.substr(0,1)&&h.push({key:u,value:f.props[u]});else for(u in f)-1===l.indexOf(u)&&"_"!==u.substr(0,1)&&h.push({key:u,value:f[u]});return h}},function(C,F,n){var l=n(6);C.exports=function(f){var u=l(f,"tweens",null);return null===u?[]:("function"==typeof u&&(u=u.call()),Array.isArray(u)||(u=[u]),u)}},function(C,F,n){var l=n(261),g=n(13),f=n(96),u=n(80),h=n(160),o=n(6),a=n(260),d=n(262),r=n(264);C.exports=function(p,m,v){void 0===v&&(v=l);var x=o(m,"from",0),T=o(m,"to",1),E=[{value:x}],M=h(m,"delay",v.delay),S=h(m,"duration",v.duration),P=o(m,"easeParams",v.easeParams),R=u(o(m,"ease",v.ease),P),w=h(m,"hold",v.hold),L=h(m,"repeat",v.repeat),I=h(m,"repeatDelay",v.repeatDelay),B=f(m,"yoyo",v.yoyo),G=[],H=a("value",T),Y=r(E[0],0,"value",H.getEnd,H.getStart,H.getActive,R,M,S,B,w,L,I,!1,!1);Y.start=x,Y.current=x,Y.to=T,G.push(Y);var $=new d(p,G,E);$.offset=g(m,"offset",null),$.completeDelay=g(m,"completeDelay",0),$.loop=Math.round(g(m,"loop",0)),$.loopDelay=Math.round(g(m,"loopDelay",0)),$.paused=f(m,"paused",!1),$.useFrames=f(m,"useFrames",!1);for(var J=o(m,"callbackScope",$),_=[$,null],tt=d.TYPES,U=0;U<tt.length;U++){var V=tt[U],X=o(m,V,!1);if(X){var W=o(m,V+"Scope",J),j=o(m,V+"Params",[]);$.setCallback(V,X,_.concat(j),W)}}return $}},function(C,F,n){var l=n(80),g=n(6),f=n(14);C.exports=function(h,o){void 0===o&&(o={});var d=g(o,"start",0),r=g(o,"ease",null),c=g(o,"grid",null),p=g(o,"from",0),m="first"===p,v="center"===p,x="last"===p,T="number"==typeof p,E=Array.isArray(h),M=parseFloat(E?h[0]:h),S=E?parseFloat(h[1]):0,P=Math.max(M,S);if(E&&(d+=M),c){var R=c[0],w=c[1],L=0,I=0,B=0,G=0,H=[];x?(L=R-1,I=w-1):T?(L=p%R,I=Math.floor(p/R)):v&&(L=(R-1)/2,I=(w-1)/2);for(var Y=f.MIN_SAFE_INTEGER,$=0;$<w;$++){H[$]=[];for(var J=0;J<R;J++){B=L-J,G=I-$;var _=Math.sqrt(B*B+G*G);_>Y&&(Y=_),H[$][J]=_}}}var tt=r?l(r):null;return c?function(U,V,X,W){var et,j=0,K=W%R,q=Math.floor(W/R);if(K>=0&&K<R&&q>=0&&q<w&&(j=H[q][K]),E){var rt=S-M;et=tt?j/Y*rt*tt(j/Y):j/Y*rt}else et=tt?j*M*tt(j/Y):j*M;return et+d}:function(U,V,X,W,j){var K,q,et;return j--,m?K=W:v?K=Math.abs(j/2-W):x?K=j-W:T&&(K=Math.abs(p-W)),E?(et=v?(S-M)/j*(2*K):(S-M)/j*K,q=tt?et*tt(K/j):et):q=tt?j*P*tt(K/j):K*M,q+d}}},function(C,F,n){var l=n(77),g=n(261),f=n(13),u=n(96),h=n(80),o=n(160),a=n(259),d=n(580),r=n(6),c=n(584),p=n(161);C.exports=function(v,x){var T=new c(v);T.completeDelay=f(x,"completeDelay",0),T.loop=Math.round(f(x,"loop",0)),T.loopDelay=Math.round(f(x,"loopDelay",0)),T.paused=u(x,"paused",!1),T.useFrames=u(x,"useFrames",!1);var E=r(x,"callbackScope",T),M=[T],S=r(x,"onStart",!1);if(S){var P=r(x,"onStartScope",E),R=r(x,"onStartParams",[]);T.setCallback("onStart",S,M.concat(R),P)}var w=r(x,"onUpdate",!1);if(w){var L=r(x,"onUpdateScope",E),I=r(x,"onUpdateParams",[]);T.setCallback("onUpdate",w,M.concat(I),L)}var B=r(x,"onLoop",!1);if(B){var G=r(x,"onLoopScope",E),H=r(x,"onLoopParams",[]);T.setCallback("onLoop",B,M.concat(H),G)}var Y=r(x,"onYoyo",!1);if(Y){var $=r(x,"onYoyoScope",E),J=r(x,"onYoyoParams",[]);T.setCallback("onYoyo",Y,M.concat(null,J),$)}var _=r(x,"onComplete",!1);if(_){var tt=r(x,"onCompleteScope",E),U=r(x,"onCompleteParams",[]);T.setCallback("onComplete",_,M.concat(U),tt)}var V=d(x);if(0===V.length)return T.paused=!0,T;var X=l(g);X.targets=a(x);var W=f(x,"totalDuration",0);X.duration=W>0?Math.floor(W/V.length):o(x,"duration",X.duration),X.delay=o(x,"delay",X.delay),X.easeParams=r(x,"easeParams",X.easeParams),X.ease=h(r(x,"ease",X.ease),X.easeParams),X.hold=o(x,"hold",X.hold),X.repeat=o(x,"repeat",X.repeat),X.repeatDelay=o(x,"repeatDelay",X.repeatDelay),X.yoyo=u(x,"yoyo",X.yoyo),X.flipX=u(x,"flipX",X.flipX),X.flipY=u(x,"flipY",X.flipY);for(var j=0;j<V.length;j++)T.queue(p(T,V[j],X));return T}},function(C,F,n){var l=n(0),g=n(9),f=n(263),u=n(161),h=n(97),o=new l({Extends:g,initialize:function(d){g.call(this),this.manager=d,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=h.PENDING_ADD,this._pausedState=h.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null}},dispatchTimelineEvent:function(a,d){this.emit(a,this),d&&d.func.apply(d.scope,d.params)},setTimeScale:function(a){return this.timeScale=a,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===h.ACTIVE},add:function(a){return this.queue(u(this,a))},queue:function(a){return this.isPlaying()||(a.parent=this,a.parentIsTimeline=!0,this.data.push(a),this.totalData=this.data.length),this},hasOffset:function(a){return null!==a.offset},isOffsetAbsolute:function(a){return"number"==typeof a},isOffsetRelative:function(a){if("string"==typeof a){var r=a[0];if("-"===r||"+"===r)return!0}return!1},getRelativeOffset:function(a,d){var r=a[0],c=parseFloat(a.substr(2)),p=d;switch(r){case"+":p+=c;break;case"-":p-=c}return Math.max(0,p)},calcDuration:function(){for(var a=0,d=0,r=0,c=0;c<this.totalData;c++){var p=this.data[c];p.init(),this.hasOffset(p)?this.isOffsetAbsolute(p.offset)?(p.calculatedOffset=p.offset,0===p.offset&&(r=0)):this.isOffsetRelative(p.offset)&&(p.calculatedOffset=this.getRelativeOffset(p.offset,a)):p.calculatedOffset=r,a=p.totalDuration+p.calculatedOffset,d+=p.totalDuration,r+=p.totalDuration}this.duration=d,this.loopCounter=-1===this.loop?999999999999:this.loop,this.totalDuration=this.loopCounter>0?this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,!this.paused||(this.state=h.PAUSED,!1)},resetTweens:function(a){for(var d=0;d<this.totalData;d++)this.data[d].play(a)},setCallback:function(a,d,r,c){return-1!==o.TYPES.indexOf(a)&&(this.callbacks[a]={func:d,scope:c,params:r}),this},makeActive:function(a){return this.manager.makeActive(a)},play:function(){if(this.state!==h.ACTIVE){if(this.paused)return this.paused=!1,void this.manager.makeActive(this);this.resetTweens(!1),this.state=h.ACTIVE,this.dispatchTimelineEvent(f.TIMELINE_START,this.callbacks.onStart)}},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=h.LOOP_DELAY):(this.state=h.ACTIVE,this.dispatchTimelineEvent(f.TIMELINE_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=h.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=h.PENDING_REMOVE,this.dispatchTimelineEvent(f.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(a,d){if(this.state!==h.PAUSED){switch(this.useFrames&&(d=1*this.manager.timeScale),this.elapsed+=d*=this.timeScale,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=d,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case h.ACTIVE:for(var r=this.totalData,c=0;c<this.totalData;c++)this.data[c].update(a,d)&&r--;this.dispatchTimelineEvent(f.TIMELINE_UPDATE,this.callbacks.onUpdate),0===r&&this.nextState();break;case h.LOOP_DELAY:this.countdown-=d,this.countdown<=0&&(this.state=h.ACTIVE,this.dispatchTimelineEvent(f.TIMELINE_LOOP,this.callbacks.onLoop));break;case h.COMPLETE_DELAY:this.countdown-=d,this.countdown<=0&&(this.state=h.PENDING_REMOVE,this.dispatchTimelineEvent(f.TIMELINE_COMPLETE,this.callbacks.onComplete))}return this.state===h.PENDING_REMOVE}},stop:function(){this.state=h.PENDING_REMOVE},pause:function(){if(this.state!==h.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=h.PAUSED,this.emit(f.TIMELINE_PAUSE,this),this},resume:function(){return this.state===h.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(f.TIMELINE_RESUME,this)),this},hasTarget:function(a){for(var d=0;d<this.data.length;d++)if(this.data[d].hasTarget(a))return!0;return!1},destroy:function(){for(var a=0;a<this.data.length;a++)this.data[a].stop()}});o.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],C.exports=o},function(C,F,n){var l={};C.exports=l;var g=n(116),f=n(50);l.fromVertices=function(u){for(var h={},o=0;o<u.length;o++){var a=(o+1)%u.length,d=g.normalise({x:u[a].y-u[o].y,y:u[o].x-u[a].x}),r=0===d.y?1/0:d.x/d.y;h[r=r.toFixed(3).toString()]=d}return f.values(h)},l.rotate=function(u,h){if(0!==h)for(var o=Math.cos(h),a=Math.sin(h),d=0;d<u.length;d++){var c,r=u[d];c=r.x*o-r.y*a,r.y=r.x*a+r.y*o,r.x=c}}},function(C,F,n){C.exports={AFTER_ADD:n(1509),AFTER_REMOVE:n(1510),AFTER_UPDATE:n(1511),BEFORE_ADD:n(1512),BEFORE_REMOVE:n(1513),BEFORE_UPDATE:n(1514),COLLISION_ACTIVE:n(1515),COLLISION_END:n(1516),COLLISION_START:n(1517),DRAG_END:n(1518),DRAG:n(1519),DRAG_START:n(1520),PAUSE:n(1521),RESUME:n(1522),SLEEP_END:n(1523),SLEEP_START:n(1524)}},function(C,F,n){var l={};C.exports=l;var g=n(588),f=n(535),u=n(117);l.collisions=function(h,o){for(var a=[],d=o.pairs.table,r=o.metrics,c=0;c<h.length;c++){var p=h[c][0],m=h[c][1];if((!p.isStatic&&!p.isSleeping||!m.isStatic&&!m.isSleeping)&&l.canCollide(p.collisionFilter,m.collisionFilter)&&(r.midphaseTests+=1,u.overlaps(p.bounds,m.bounds)))for(var v=p.parts.length>1?1:0;v<p.parts.length;v++)for(var x=p.parts[v],T=m.parts.length>1?1:0;T<m.parts.length;T++){var E=m.parts[T];if(x===p&&E===m||u.overlaps(x.bounds,E.bounds)){var S=d[f.id(x,E)],R=g.collides(x,E,S&&S.isActive?S.collision:null);r.narrowphaseTests+=1,R.reused&&(r.narrowReuseCount+=1),R.collided&&(a.push(R),r.narrowDetections+=1)}}}return a},l.canCollide=function(h,o){return h.group===o.group&&0!==h.group?h.group>0:0!=(h.mask&o.category)&&0!=(o.mask&h.category)}},function(C,F,n){var l={};C.exports=l;var g=n(94),f=n(116);l.collides=function(u,h,o){var a,d,r,c,p=!1;if(o){var m=u.parent,v=h.parent;p=o&&o.collided&&m.speed*m.speed+m.angularSpeed*m.angularSpeed+v.speed*v.speed+v.angularSpeed*v.angularSpeed<.2,c=o}else c={collided:!1,bodyA:u,bodyB:h};if(o&&p){var T=c.axisBody;if(r=l._overlapAxes(T.vertices,(T===u?h:u).vertices,[T.axes[o.axisNumber]]),c.reused=!0,r.overlap<=0)return c.collided=!1,c}else{if((a=l._overlapAxes(u.vertices,h.vertices,u.axes)).overlap<=0||(d=l._overlapAxes(h.vertices,u.vertices,h.axes)).overlap<=0)return c.collided=!1,c;a.overlap<d.overlap?(r=a,c.axisBody=u):(r=d,c.axisBody=h),c.axisNumber=r.axisNumber}c.bodyA=u.id<h.id?u:h,c.bodyB=u.id<h.id?h:u,c.collided=!0,c.depth=r.overlap,c.parentA=c.bodyA.parent,c.parentB=c.bodyB.parent,c.normal=f.dot(r.axis,f.sub((h=c.bodyB).position,(u=c.bodyA).position))<0?{x:r.axis.x,y:r.axis.y}:{x:-r.axis.x,y:-r.axis.y},c.tangent=f.perp(c.normal),c.penetration=c.penetration||{},c.penetration.x=c.normal.x*c.depth,c.penetration.y=c.normal.y*c.depth;var S=l._findSupports(u,h,c.normal),P=[];if(g.contains(u.vertices,S[0])&&P.push(S[0]),g.contains(u.vertices,S[1])&&P.push(S[1]),P.length<2){var R=l._findSupports(h,u,f.neg(c.normal));g.contains(h.vertices,R[0])&&P.push(R[0]),P.length<2&&g.contains(h.vertices,R[1])&&P.push(R[1])}return P.length<1&&(P=[S[0]]),c.supports=P,c},l._overlapAxes=function(u,h,o){for(var c,p,a=f._temp[0],d=f._temp[1],r={overlap:Number.MAX_VALUE},m=0;m<o.length;m++){if(l._projectToAxis(a,u,p=o[m]),l._projectToAxis(d,h,p),(c=Math.min(a.max-d.min,d.max-a.min))<=0)return r.overlap=c,r;c<r.overlap&&(r.overlap=c,r.axis=p,r.axisNumber=m)}return r},l._projectToAxis=function(u,h,o){for(var a=f.dot(h[0],o),d=a,r=1;r<h.length;r+=1){var c=f.dot(h[r],o);c>d?d=c:c<a&&(a=c)}u.min=a,u.max=d},l._findSupports=function(u,h,o){for(var p,m,v,x,a=Number.MAX_VALUE,d=f._temp[0],r=h.vertices,c=u.position,T=0;T<r.length;T++)d.x=(m=r[T]).x-c.x,d.y=m.y-c.y,(p=-f.dot(o,d))<a&&(a=p,v=m);return d.x=(m=r[v.index-1>=0?v.index-1:r.length-1]).x-c.x,d.y=m.y-c.y,a=-f.dot(o,d),x=m,d.x=(m=r[(v.index+1)%r.length]).x-c.x,d.y=m.y-c.y,(p=-f.dot(o,d))<a&&(x=m),[v,x]}},function(C,F){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(l){"object"==typeof window&&(n=window)}C.exports=n},function(C,F,n){n(591),n(592),n(593),n(594),n(595),n(596),n(597),n(598)},function(C,F){Array.prototype.forEach||(Array.prototype.forEach=function(n){"use strict";if(null==this)throw new TypeError;var l=Object(this),g=l.length>>>0;if("function"!=typeof n)throw new TypeError;for(var f=arguments.length>=2?arguments[1]:void 0,u=0;u<g;u++)u in l&&n.call(f,l[u],u,l)})},function(C,F){Array.isArray||(Array.isArray=function(n){return"[object Array]"===Object.prototype.toString.call(n)})},function(C,F){!function(){function n(l){!l||l.setTargetAtTime||(l.setTargetAtTime=l.setTargetValueAtTime)}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var l=this.internal_createGain();return n(l.gain),l},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(l){var g=l?this.internal_createDelay(l):this.internal_createDelay();return n(g.delayTime),g},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var l=this.internal_createBufferSource();return l.start?(l.internal_start=l.start,l.start=function(g,f,u){void 0!==u?l.internal_start(g||0,f,u):l.internal_start(g||0,f||0)}):l.start=function(g,f,u){f||u?this.noteGrainOn(g||0,f,u):this.noteOn(g||0)},l.stop?(l.internal_stop=l.stop,l.stop=function(g){l.internal_stop(g||0)}):l.stop=function(g){this.noteOff(g||0)},n(l.playbackRate),l},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var l=this.internal_createDynamicsCompressor();return n(l.threshold),n(l.knee),n(l.ratio),n(l.reduction),n(l.attack),n(l.release),l},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var l=this.internal_createBiquadFilter();return n(l.frequency),n(l.detune),n(l.Q),n(l.gain),l},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var l=this.internal_createOscillator();return l.start?(l.internal_start=l.start,l.start=function(g){l.internal_start(g||0)}):l.start=function(g){this.noteOn(g||0)},l.stop?(l.internal_stop=l.stop,l.stop=function(g){l.internal_stop(g||0)}):l.stop=function(g){this.noteOff(g||0)},l.setPeriodicWave||(l.setPeriodicWave=l.setWaveTable),n(l.frequency),n(l.detune),l})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=webkitOfflineAudioContext)}()},function(C,F){window.console||(window.console={},window.console.log=window.console.assert=function(){},window.console.warn=window.console.assert=function(){})},function(C,F){Math.trunc||(Math.trunc=function(l){return l<0?Math.ceil(l):Math.floor(l)})},function(C,F){!function(){if("performance"in window||(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},!("now"in window.performance)){var n=Date.now();performance.timing&&performance.timing.navigationStart&&(n=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-n}}}()},function(C,F){for(var n=Date.now(),l=["ms","moz","webkit","o"],g=0;g<l.length&&!window.requestAnimationFrame;g++)window.requestAnimationFrame=window[l[g]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[l[g]+"CancelAnimationFrame"]||window[l[g]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(f){if("function"!=typeof f)throw new TypeError(f+"is not a function");var u=Date.now(),h=16+n-u;return h<0&&(h=0),n=u,setTimeout(function(){n=Date.now(),f(performance.now())},h)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(f){clearTimeout(f)})},function(C,F){if("function"!=typeof window.Uint32Array&&"object"!=typeof window.Uint32Array){var n=function(l){var g=new Array;window[l]=function(f){if("number"==typeof f){Array.call(this,f),this.length=f;for(var u=0;u<this.length;u++)this[u]=0}else for(Array.call(this,f.length),this.length=f.length,u=0;u<this.length;u++)this[u]=f[u]},window[l].prototype=g,window[l].constructor=window[l]};n("Float32Array"),n("Uint32Array"),n("Uint16Array"),n("Int16Array"),n("ArrayBuffer")}},function(C,F,n){var l=n(270);C.exports=function(f,u,h,o){for(var a=f[0],d=1;d<f.length;d++){var r=f[d];l(r,a,u,h,o),a=r}return f}},function(C,F,n){var l=n(44);C.exports=function(f,u,h,o,a){return l(f,"angle",u,h,o,a)}},function(C,F){C.exports=function(l,g,f){for(var u=0;u<l.length;u++)g.call(f,l[u]);return l}},function(C,F){C.exports=function(l,g,f){void 0===f&&(f=0);for(var u=f;u<l.length;u++){var h=l[u],o=!0;for(var a in g)h[a]!==g[a]&&(o=!1);if(o)return h}return null}},function(C,F){C.exports=function(l,g,f){void 0===f&&(f=0);for(var u=f;u<l.length;u++){var h=l[u],o=!0;for(var a in g)h[a]!==g[a]&&(o=!1);if(o)return h}return null}},function(C,F,n){var l=n(283),g=n(122),f=n(2),u=n(1),o=new(n(127))({sys:{queueDepthSort:u,events:{once:u}}},0,0,1,1);C.exports=function(d,r){void 0===r&&(r={});var c=r.hasOwnProperty("width"),p=r.hasOwnProperty("height"),m=f(r,"width",-1),v=f(r,"height",-1),x=f(r,"cellWidth",1),T=f(r,"cellHeight",x),E=f(r,"position",g.TOP_LEFT),M=f(r,"x",0),S=f(r,"y",0),P=0,R=0,w=m*x,L=v*T;o.setPosition(M,S),o.setSize(x,T);for(var I=0;I<d.length;I++)if(l(d[I],o,E),c&&-1===m)o.x+=x;else if(p&&-1===v)o.y+=T;else if(p&&!c){if(R+=T,o.y+=T,R===L&&(R=0,P+=x,o.y=S,o.x+=x,P===w))break}else if(P+=x,o.x+=x,P===w&&(P=0,R+=T,o.x=M,o.y+=T,R===L))break;return d}},function(C,F,n){var l=n(18);C.exports={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(u,h,o,a){return void 0===u&&(u=1),void 0===h?this.alpha=u:(this._alphaTL=l(u,0,1),this._alphaTR=l(h,0,1),this._alphaBL=l(o,0,1),this._alphaBR=l(a,0,1)),this},alpha:{get:function(){return this._alpha},set:function(u){var h=l(u,0,1);this._alpha=h,this._alphaTL=h,this._alphaTR=h,this._alphaBL=h,this._alphaBR=h,0===h?this.renderFlags&=-3:this.renderFlags|=2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(u){var h=l(u,0,1);this._alphaTL=h,0!==h&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(u){var h=l(u,0,1);this._alphaTR=h,0!==h&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(u){var h=l(u,0,1);this._alphaBL=h,0!==h&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(u){var h=l(u,0,1);this._alphaBR=h,0!==h&&(this.renderFlags|=2)}}}},function(C,F){C.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(l){this.scaleX=l/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(l){this.scaleY=l/this.height}},setSize:function(l,g){return this.width=l,this.height=g,this},setDisplaySize:function(l,g){return this.displayWidth=l,this.displayHeight=g,this}}},function(C,F){C.exports={texture:null,frame:null,isCropped:!1,setCrop:function(l,g,f,u){return void 0===l?this.isCropped=!1:this.frame&&("number"==typeof l?this.frame.setCropUVs(this._crop,l,g,f,u,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY),this.isCropped=!0),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},function(C,F){C.exports={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(l){return this.flipX=l,this},setFlipY:function(l){return this.flipY=l,this},setFlip:function(l,g){return this.flipX=l,this.flipY=g,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}}},function(C,F,n){var l=n(10),g=n(302),f=n(3);C.exports={prepareBoundsOutput:function(h,o){return void 0===o&&(o=!1),0!==this.rotation&&g(h,this.x,this.y,this.rotation),o&&this.parentContainer&&this.parentContainer.getBoundsTransformMatrix().transformPoint(h.x,h.y,h),h},getCenter:function(h){return void 0===h&&(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,h},getTopLeft:function(h,o){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,o)},getTopCenter:function(h,o){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,o)},getTopRight:function(h,o){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,o)},getLeftCenter:function(h,o){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,o)},getRightCenter:function(h,o){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,o)},getBottomLeft:function(h,o){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,o)},getBottomCenter:function(h,o){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,o)},getBottomRight:function(h,o){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,o)},getBounds:function(h){var o,a,d,r,c,p,m,v;if(void 0===h&&(h=new l),this.parentContainer){var x=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(h),x.transformPoint(h.x,h.y,h),o=h.x,a=h.y,this.getTopRight(h),x.transformPoint(h.x,h.y,h),d=h.x,r=h.y,this.getBottomLeft(h),x.transformPoint(h.x,h.y,h),c=h.x,p=h.y,this.getBottomRight(h),x.transformPoint(h.x,h.y,h),m=h.x,v=h.y}else this.getTopLeft(h),o=h.x,a=h.y,this.getTopRight(h),d=h.x,r=h.y,this.getBottomLeft(h),c=h.x,p=h.y,this.getBottomRight(h),m=h.x,v=h.y;return h.x=Math.min(o,d,c,m),h.y=Math.min(a,r,p,v),h.width=Math.max(o,d,c,m)-h.x,h.height=Math.max(a,r,p,v)-h.y,h}}},function(C,F){C.exports="blur"},function(C,F){C.exports="boot"},function(C,F){C.exports="contextlost"},function(C,F){C.exports="contextrestored"},function(C,F){C.exports="destroy"},function(C,F){C.exports="focus"},function(C,F){C.exports="hidden"},function(C,F){C.exports="pause"},function(C,F){C.exports="postrender"},function(C,F){C.exports="poststep"},function(C,F){C.exports="prerender"},function(C,F){C.exports="prestep"},function(C,F){C.exports="ready"},function(C,F){C.exports="resume"},function(C,F){C.exports="step"},function(C,F){C.exports="visible"},function(C,F){C.exports="postrender"},function(C,F){C.exports="prerender"},function(C,F){C.exports="render"},function(C,F){C.exports="resize"},function(C,F){C.exports={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(l){this._displayOriginX=l,this.originX=l/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(l){this._displayOriginY=l,this.originY=l/this.height}},setOrigin:function(l,g){return void 0===l&&(l=.5),void 0===g&&(g=l),this.originX=l,this.originY=g,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(l,g){return void 0===l&&(l=0),void 0===g&&(g=l),this.displayOriginX=l,this.displayOriginY=g,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}}},function(C,F,n){var l=n(34),g=n(96),f=n(6),u=n(97),h=n(3);C.exports={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:u.PLAYING_FORWARD,setPath:function(a,d){void 0===d&&(d=this.pathConfig);var r=this.pathTween;return r&&r.isPlaying()&&r.stop(),this.path=a,d&&this.startFollow(d),this},setRotateToPath:function(a,d){return void 0===d&&(d=0),this.rotateToPath=a,this.pathRotationOffset=d,this},isFollowing:function(){var a=this.pathTween;return a&&a.isPlaying()},startFollow:function(a,d){void 0===a&&(a={}),void 0===d&&(d=0);var r=this.pathTween;r&&r.isPlaying()&&r.stop(),"number"==typeof a&&(a={duration:a}),a.from=f(a,"from",0),a.to=f(a,"to",1);var c=g(a,"positionOnPath",!1);this.rotateToPath=g(a,"rotateToPath",!1),this.pathRotationOffset=f(a,"rotationOffset",0);var p=f(a,"startAt",d);if(p&&(a.onStart=function(v){var x=v.data[0];x.progress=p,x.elapsed=x.duration*p;var T=x.ease(x.progress);x.current=x.start+(x.end-x.start)*T,x.target[x.key]=x.current}),this.pathOffset||(this.pathOffset=new h(this.x,this.y)),this.pathVector||(this.pathVector=new h),this.pathDelta||(this.pathDelta=new h),this.pathDelta.reset(),this.pathTween=this.scene.sys.tweens.addCounter(a),this.path.getStartPoint(this.pathOffset),c&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=u.PLAYING_FORWARD,this.rotateToPath){var m=this.path.getPoint(.1);this.rotation=Math.atan2(m.y-this.y,m.x-this.x)+l(this.pathRotationOffset)}return this.pathConfig=a,this},pauseFollow:function(){var a=this.pathTween;return a&&a.isPlaying()&&a.pause(),this},resumeFollow:function(){var a=this.pathTween;return a&&a.isPaused()&&a.resume(),this},stopFollow:function(){var a=this.pathTween;return a&&a.isPlaying()&&a.stop(),this},pathUpdate:function(){var a=this.pathTween;if(a){var d=a.data[0],r=this.pathDelta,c=this.pathVector;if(r.copy(c).negate(),d.state===u.COMPLETE)return this.path.getPoint(1,c),r.add(c),c.add(this.pathOffset),void this.setPosition(c.x,c.y);if(d.state!==u.PLAYING_FORWARD&&d.state!==u.PLAYING_BACKWARD)return;this.path.getPoint(a.getValue(),c),r.add(c),c.add(this.pathOffset);var p=this.x,m=this.y;this.setPosition(c.x,c.y);var v=this.x-p,x=this.y-m;if(0===v&&0===x)return;if(d.state!==this._prevDirection)return void(this._prevDirection=d.state);this.rotateToPath&&(this.rotation=Math.atan2(x,v)+l(this.pathRotationOffset))}}}},function(C,F){C.exports={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(l){this.scaleX=l/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(l){this.scaleY=l/this.frame.realHeight}},setSizeToFrame:function(l){return void 0===l&&(l=this.frame),this.width=l.realWidth,this.height=l.realHeight,this},setSize:function(l,g){return this.width=l,this.height=g,this},setDisplaySize:function(l,g){return this.displayWidth=l,this.displayHeight=g,this}}},function(C,F){C.exports={texture:null,frame:null,isCropped:!1,setTexture:function(g,f){return this.texture=this.scene.sys.textures.get(g),this.setFrame(f)},setFrame:function(g,f,u){return void 0===f&&(f=!0),void 0===u&&(u=!0),this.frame=this.texture.get(g),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&f&&this.setSizeToFrame(),this._originComponent&&u&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}}},function(C,F){C.exports={texture:null,frame:null,isCropped:!1,setCrop:function(g,f,u,h){return void 0===g?this.isCropped=!1:this.frame&&("number"==typeof g?this.frame.setCropUVs(this._crop,g,f,u,h,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,g.x,g.y,g.width,g.height,this.flipX,this.flipY),this.isCropped=!0),this},setTexture:function(g,f){return this.texture=this.scene.sys.textures.get(g),this.setFrame(f)},setFrame:function(g,f,u){return void 0===f&&(f=!0),void 0===u&&(u=!0),this.frame=this.texture.get(g),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&f&&this.setSizeToFrame(),this._originComponent&&u&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},function(C,F){C.exports={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(l,g,f,u){return void 0===l&&(l=16777215),void 0===g&&(g=l,f=l,u=l),this.tintTopLeft=l,this.tintTopRight=g,this.tintBottomLeft=f,this.tintBottomRight=u,this.tintFill=!1,this},setTintFill:function(l,g,f,u){return this.setTint(l,g,f,u),this.tintFill=!0,this},tint:{set:function(l){this.setTint(l,l,l,l)}},isTinted:{get:function(){var l=16777215;return this.tintFill||this.tintTopLeft!==l||this.tintTopRight!==l||this.tintBottomLeft!==l||this.tintBottomRight!==l}}}},function(C,F){C.exports="changedata"},function(C,F){C.exports="changedata-"},function(C,F){C.exports="destroy"},function(C,F){C.exports="removedata"},function(C,F){C.exports="setdata"},function(C,F){C.exports="addedtoscene"},function(C,F){C.exports="destroy"},function(C,F){C.exports="removedfromscene"},function(C,F){C.exports="complete"},function(C,F){C.exports="created"},function(C,F){C.exports="error"},function(C,F){C.exports="loop"},function(C,F){C.exports="play"},function(C,F){C.exports="seeked"},function(C,F){C.exports="seeking"},function(C,F){C.exports="stop"},function(C,F){C.exports="timeout"},function(C,F){C.exports="unlocked"},function(C,F,n){var l=n(44);C.exports=function(f,u,h,o,a){return l(f,"alpha",u,h,o,a)}},function(C,F,n){var l=n(44);C.exports=function(f,u,h,o,a){return l(f,"x",u,h,o,a)}},function(C,F,n){var l=n(44);C.exports=function(f,u,h,o,a,d,r){return null==h&&(h=u),l(f,"x",u,o,d,r),l(f,"y",h,a,d,r)}},function(C,F,n){var l=n(44);C.exports=function(f,u,h,o,a){return l(f,"y",u,h,o,a)}},function(C,F){C.exports=function(l,g,f,u){void 0===f&&(f=0),void 0===u&&(u=6.28);for(var h=f,o=(u-f)/l.length,a=0;a<l.length;a++)l[a].x=g.x+g.radius*Math.cos(h),l[a].y=g.y+g.radius*Math.sin(h),h+=o;return l}},function(C,F){C.exports=function(l,g,f,u){void 0===f&&(f=0),void 0===u&&(u=6.28);for(var h=f,o=(u-f)/l.length,a=g.width/2,d=g.height/2,r=0;r<l.length;r++)l[r].x=g.x+a*Math.cos(h),l[r].y=g.y+d*Math.sin(h),h+=o;return l}},function(C,F,n){var l=n(168);C.exports=function(f,u){for(var h=l(u,f.length),o=0;o<f.length;o++){var a=f[o],d=h[o];a.x=d.x,a.y=d.y}return f}},function(C,F,n){var l=n(310),g=n(175),f=n(176);C.exports=function(h,o,a){void 0===a&&(a=0);var d=l(o,!1,h.length);a>0?g(d,a):a<0&&f(d,Math.abs(a));for(var r=0;r<h.length;r++)h[r].x=d[r].x,h[r].y=d[r].y;return h}},function(C,F,n){var l=n(311);C.exports=function(f,u,h){var o=l({x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2},h),a=l({x1:u.x2,y1:u.y2,x2:u.x3,y2:u.y3},h),d=l({x1:u.x3,y1:u.y3,x2:u.x1,y2:u.y1},h);o.pop(),a.pop(),d.pop();for(var r=(o=o.concat(a,d)).length/f.length,c=0,p=0;p<f.length;p++){var m=f[p],v=o[Math.floor(c)];m.x=v.x,m.y=v.y,c+=r}return f}},function(C,F){C.exports=function(l,g,f){for(var u=0;u<l.length;u++)l[u].anims.play(g,f);return l}},function(C,F,n){var l=n(166);C.exports=function(f,u){for(var h=0;h<f.length;h++)l(u,f[h]);return f}},function(C,F,n){var l=n(177);C.exports=function(f,u){for(var h=0;h<f.length;h++)l(u,f[h]);return f}},function(C,F,n){var l=n(169);C.exports=function(f,u){for(var h=0;h<f.length;h++)l(u,f[h]);return f}},function(C,F,n){var l=n(170);C.exports=function(f,u){for(var h=0;h<f.length;h++)l(u,f[h]);return f}},function(C,F,n){var l=n(178);C.exports=function(f,u){for(var h=0;h<f.length;h++)l(u,f[h]);return f}},function(C,F,n){var l=n(44);C.exports=function(f,u,h,o,a){return l(f,"rotation",u,h,o,a)}},function(C,F,n){var l=n(179),g=n(48);C.exports=function(u,h,o){for(var a=h.x,d=h.y,r=0;r<u.length;r++){var c=u[r];l(c,a,d,o,Math.max(1,g(c.x,c.y,a,d)))}return u}},function(C,F,n){var l=n(179);C.exports=function(f,u,h,o){var a=u.x,d=u.y;if(0===o)return f;for(var r=0;r<f.length;r++)l(f[r],a,d,h,o);return f}},function(C,F,n){var l=n(44);C.exports=function(f,u,h,o,a){return l(f,"scaleX",u,h,o,a)}},function(C,F,n){var l=n(44);C.exports=function(f,u,h,o,a,d,r){return null==h&&(h=u),l(f,"scaleX",u,o,d,r),l(f,"scaleY",h,a,d,r)}},function(C,F,n){var l=n(44);C.exports=function(f,u,h,o,a){return l(f,"scaleY",u,h,o,a)}},function(C,F,n){var l=n(27);C.exports=function(f,u,h,o,a){return l(f,"alpha",u,h,o,a)}},function(C,F,n){var l=n(27);C.exports=function(f,u,h,o){return l(f,"blendMode",u,0,h,o)}},function(C,F,n){var l=n(27);C.exports=function(f,u,h,o,a){return l(f,"depth",u,h,o,a)}},function(C,F){C.exports=function(l,g,f){for(var u=0;u<l.length;u++)l[u].setInteractive(g,f);return l}},function(C,F,n){var l=n(27);C.exports=function(f,u,h,o,a,d,r){return null==h&&(h=u),l(f,"originX",u,o,d,r),l(f,"originY",h,a,d,r),f.forEach(function(c){c.updateDisplayOrigin()}),f}},function(C,F,n){var l=n(27);C.exports=function(f,u,h,o,a){return l(f,"rotation",u,h,o,a)}},function(C,F,n){var l=n(27);C.exports=function(f,u,h,o,a,d,r){return null==h&&(h=u),l(f,"scaleX",u,o,d,r),l(f,"scaleY",h,a,d,r)}},function(C,F,n){var l=n(27);C.exports=function(f,u,h,o,a){return l(f,"scaleX",u,h,o,a)}},function(C,F,n){var l=n(27);C.exports=function(f,u,h,o,a){return l(f,"scaleY",u,h,o,a)}},function(C,F,n){var l=n(27);C.exports=function(f,u,h,o,a,d,r){return null==h&&(h=u),l(f,"scrollFactorX",u,o,d,r),l(f,"scrollFactorY",h,a,d,r)}},function(C,F,n){var l=n(27);C.exports=function(f,u,h,o,a){return l(f,"scrollFactorX",u,h,o,a)}},function(C,F,n){var l=n(27);C.exports=function(f,u,h,o,a){return l(f,"scrollFactorY",u,h,o,a)}},function(C,F){C.exports=function(l,g,f,u,h){for(var o=0;o<l.length;o++)l[o].setTint(g,f,u,h);return l}},function(C,F,n){var l=n(27);C.exports=function(f,u,h,o){return l(f,"visible",u,0,h,o)}},function(C,F,n){var l=n(27);C.exports=function(f,u,h,o,a){return l(f,"x",u,h,o,a)}},function(C,F,n){var l=n(27);C.exports=function(f,u,h,o,a,d,r){return null==h&&(h=u),l(f,"x",u,o,d,r),l(f,"y",h,a,d,r)}},function(C,F,n){var l=n(27);C.exports=function(f,u,h,o,a){return l(f,"y",u,h,o,a)}},function(C,F,n){var l=n(3);C.exports=function(f,u,h,o,a){var d,r,c,p,m,v;if(void 0===o&&(o=0),void 0===a&&(a=new l),f.length>1)if(0===o){var x=f.length-1;for(d=f[x].x,r=f[x].y,c=x-1;c>=0;c--)p=(v=f[c]).x,m=v.y,v.x=d,v.y=r,d=p,r=m;f[x].x=u,f[x].y=h}else{for(d=f[0].x,r=f[0].y,c=1;c<f.length;c++)p=(v=f[c]).x,m=v.y,v.x=d,v.y=r,d=p,r=m;f[0].x=u,f[0].y=h}else d=f[0].x,r=f[0].y,f[0].x=u,f[0].y=h;return a.x=d,a.y=r,a}},function(C,F,n){var l=n(129);C.exports=function(f){return l(f)}},function(C,F,n){var l=n(180);C.exports=function(f,u,h,o,a){void 0===a&&(a=!1);var r,d=Math.abs(o-h)/f.length;if(a)for(r=0;r<f.length;r++)f[r][u]+=l(r*d,h,o);else for(r=0;r<f.length;r++)f[r][u]=l(r*d,h,o);return f}},function(C,F,n){var l=n(181);C.exports=function(f,u,h,o,a){void 0===a&&(a=!1);var r,d=Math.abs(o-h)/f.length;if(a)for(r=0;r<f.length;r++)f[r][u]+=l(r*d,h,o);else for(r=0;r<f.length;r++)f[r][u]=l(r*d,h,o);return f}},function(C,F){C.exports=function(l,g,f,u,h){void 0===h&&(h=!1);var a,o=Math.abs(u-f)/l.length;if(h)for(a=0;a<l.length;a++)l[a][g]+=a*o+f;else for(a=0;a<l.length;a++)l[a][g]=a*o+f;return l}},function(C,F){C.exports=function(l){for(var g=0;g<l.length;g++)l[g].visible=!l[g].visible;return l}},function(C,F,n){var l=n(66);C.exports=function(f,u,h){void 0===h&&(h=0);for(var o=0;o<f.length;o++){var a=f[o];a.x=l(a.x,u.left-h,u.right+h),a.y=l(a.y,u.top-h,u.bottom+h)}return f}},function(C,F,n){C.exports={Animation:n(182),AnimationFrame:n(313),AnimationManager:n(315),AnimationState:n(162),Events:n(130)}},function(C,F){C.exports="add"},function(C,F){C.exports="animationcomplete"},function(C,F){C.exports="animationcomplete-"},function(C,F){C.exports="animationrepeat"},function(C,F){C.exports="animationrestart"},function(C,F){C.exports="animationstart"},function(C,F){C.exports="animationstop"},function(C,F){C.exports="animationupdate"},function(C,F){C.exports="pauseall"},function(C,F){C.exports="remove"},function(C,F){C.exports="resumeall"},function(C,F,n){C.exports={BaseCache:n(317),CacheManager:n(319),Events:n(318)}},function(C,F){C.exports="add"},function(C,F){C.exports="remove"},function(C,F,n){C.exports={Controls:n(715),Scene2D:n(718)}},function(C,F,n){C.exports={FixedKeyControl:n(716),SmoothedKeyControl:n(717)}},function(C,F,n){var l=n(0),g=n(6),f=new l({initialize:function(h){this.camera=g(h,"camera",null),this.left=g(h,"left",null),this.right=g(h,"right",null),this.up=g(h,"up",null),this.down=g(h,"down",null),this.zoomIn=g(h,"zoomIn",null),this.zoomOut=g(h,"zoomOut",null),this.zoomSpeed=g(h,"zoomSpeed",.01),this.speedX=0,this.speedY=0;var o=g(h,"speed",null);"number"==typeof o?(this.speedX=o,this.speedY=o):(this.speedX=g(h,"speed.x",0),this.speedY=g(h,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(u){return this.camera=u,this},update:function(u){if(this.active){void 0===u&&(u=1);var h=this.camera;this.up&&this.up.isDown?h.scrollY-=this.speedY*u|0:this.down&&this.down.isDown&&(h.scrollY+=this.speedY*u|0),this.left&&this.left.isDown?h.scrollX-=this.speedX*u|0:this.right&&this.right.isDown&&(h.scrollX+=this.speedX*u|0),this.zoomIn&&this.zoomIn.isDown?(h.zoom-=this.zoomSpeed,h.zoom<.1&&(h.zoom=.1)):this.zoomOut&&this.zoomOut.isDown&&(h.zoom+=this.zoomSpeed)}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});C.exports=f},function(C,F,n){var l=n(0),g=n(6),f=new l({initialize:function(h){this.camera=g(h,"camera",null),this.left=g(h,"left",null),this.right=g(h,"right",null),this.up=g(h,"up",null),this.down=g(h,"down",null),this.zoomIn=g(h,"zoomIn",null),this.zoomOut=g(h,"zoomOut",null),this.zoomSpeed=g(h,"zoomSpeed",.01),this.accelX=0,this.accelY=0;var o=g(h,"acceleration",null);"number"==typeof o?(this.accelX=o,this.accelY=o):(this.accelX=g(h,"acceleration.x",0),this.accelY=g(h,"acceleration.y",0)),this.dragX=0,this.dragY=0;var a=g(h,"drag",null);"number"==typeof a?(this.dragX=a,this.dragY=a):(this.dragX=g(h,"drag.x",0),this.dragY=g(h,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var d=g(h,"maxSpeed",null);"number"==typeof d?(this.maxSpeedX=d,this.maxSpeedY=d):(this.maxSpeedX=g(h,"maxSpeed.x",0),this.maxSpeedY=g(h,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(u){return this.camera=u,this},update:function(u){if(this.active){void 0===u&&(u=1);var h=this.camera;this._speedX>0?(this._speedX-=this.dragX*u,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*u,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*u,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*u,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this._zoom=this.zoomIn&&this.zoomIn.isDown?-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this.zoomSpeed:0,0!==this._speedX&&(h.scrollX-=this._speedX*u|0),0!==this._speedY&&(h.scrollY-=this._speedY*u|0),0!==this._zoom&&(h.zoom+=this._zoom,h.zoom<.001&&(h.zoom=.001))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});C.exports=f},function(C,F,n){C.exports={Camera:n(320),BaseCamera:n(131),CameraManager:n(775),Effects:n(327),Events:n(35)}},function(C,F){C.exports="cameradestroy"},function(C,F){C.exports="camerafadeincomplete"},function(C,F){C.exports="camerafadeinstart"},function(C,F){C.exports="camerafadeoutcomplete"},function(C,F){C.exports="camerafadeoutstart"},function(C,F){C.exports="cameraflashcomplete"},function(C,F){C.exports="cameraflashstart"},function(C,F){C.exports="followupdate"},function(C,F){C.exports="camerapancomplete"},function(C,F){C.exports="camerapanstart"},function(C,F){C.exports="postrender"},function(C,F){C.exports="prerender"},function(C,F){C.exports="camerarotatecomplete"},function(C,F){C.exports="camerarotatestart"},function(C,F){C.exports="camerashakecomplete"},function(C,F){C.exports="camerashakestart"},function(C,F){C.exports="camerazoomcomplete"},function(C,F){C.exports="camerazoomstart"},function(C,F,n){var l=n(18),g=n(0),f=n(35),u=new g({initialize:function(o){this.camera=o,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0},start:function(h,o,a,d,r,c,p,m){return void 0===h&&(h=!0),void 0===o&&(o=1e3),void 0===a&&(a=0),void 0===d&&(d=0),void 0===r&&(r=0),void 0===c&&(c=!1),void 0===p&&(p=null),void 0===m&&(m=this.camera.scene),!c&&this.isRunning||(this.isRunning=!0,this.isComplete=!1,this.duration=o,this.direction=h,this.progress=0,this.red=a,this.green=d,this.blue=r,this.alpha=h?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=m,this.camera.emit(h?f.FADE_OUT_START:f.FADE_IN_START,this.camera,this,o,a,d,r)),this.camera},update:function(h,o){!this.isRunning||(this._elapsed+=o,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(h){if(!this.isRunning&&!this.isComplete)return!1;var o=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(o.x,o.y,o.width,o.height),!0},postRenderWebGL:function(h,o){if(!this.isRunning&&!this.isComplete)return!1;var a=this.camera;return h.drawFillRect(a.x,a.y,a.width,a.height,o(this.blue/255,this.green/255,this.red/255,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0,this.camera.emit(this.direction?f.FADE_OUT_COMPLETE:f.FADE_IN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});C.exports=u},function(C,F,n){var l=n(18),g=n(0),f=n(35),u=new g({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0},start:function(h,o,a,d,r,c,p){return void 0===h&&(h=250),void 0===o&&(o=255),void 0===a&&(a=255),void 0===d&&(d=255),void 0===r&&(r=!1),void 0===c&&(c=null),void 0===p&&(p=this.camera.scene),!r&&this.isRunning||(this.isRunning=!0,this.duration=h,this.progress=0,this.red=o,this.green=a,this.blue=d,this.alpha=1,this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.camera.emit(f.FLASH_START,this.camera,this,h,o,a,d)),this.camera},update:function(h,o){!this.isRunning||(this._elapsed+=o,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(h){if(!this.isRunning)return!1;var o=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(o.x,o.y,o.width,o.height),!0},postRenderWebGL:function(h,o){if(!this.isRunning)return!1;var a=this.camera;return h.drawFillRect(a.x,a.y,a.width,a.height,o(this.blue/255,this.green/255,this.red/255,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});C.exports=u},function(C,F,n){var l=n(18),g=n(0),f=n(132),u=n(35),h=n(3),o=new g({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=new h,this.current=new h,this.destination=new h,this.progress=0,this._elapsed=0},start:function(a,d,r,c,p,m,v){void 0===r&&(r=1e3),void 0===c&&(c=f.Linear),void 0===p&&(p=!1),void 0===m&&(m=null),void 0===v&&(v=this.camera.scene);var x=this.camera;return!p&&this.isRunning||(this.isRunning=!0,this.duration=r,this.progress=0,this.source.set(x.scrollX,x.scrollY),this.destination.set(a,d),x.getScroll(a,d,this.current),"string"==typeof c&&f.hasOwnProperty(c)?this.ease=f[c]:"function"==typeof c&&(this.ease=c),this._elapsed=0,this._onUpdate=m,this._onUpdateScope=v,this.camera.emit(u.PAN_START,this.camera,this,r,a,d)),x},update:function(a,d){if(this.isRunning){this._elapsed+=d;var r=l(this._elapsed/this.duration,0,1);this.progress=r;var c=this.camera;if(this._elapsed<this.duration){var p=this.ease(r);c.getScroll(this.destination.x,this.destination.y,this.current);var m=this.source.x+(this.current.x-this.source.x)*p,v=this.source.y+(this.current.y-this.source.y)*p;c.setScroll(m,v),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,r,m,v)}else c.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,r,c.scrollX,c.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});C.exports=o},function(C,F){C.exports=function(l,g){return void 0===g&&(g=1.70158),l*l*((g+1)*l-g)}},function(C,F){C.exports=function(l,g){return void 0===g&&(g=1.70158),--l*l*((g+1)*l+g)+1}},function(C,F){C.exports=function(l,g){void 0===g&&(g=1.70158);var f=1.525*g;return(l*=2)<1?l*l*((f+1)*l-f)*.5:.5*((l-=2)*l*((f+1)*l+f)+2)}},function(C,F){C.exports=function(l){return(l=1-l)<.36363636363636365?1-7.5625*l*l:l<.7272727272727273?1-(7.5625*(l-=.5454545454545454)*l+.75):l<.9090909090909091?1-(7.5625*(l-=.8181818181818182)*l+.9375):1-(7.5625*(l-=.9545454545454546)*l+.984375)}},function(C,F){C.exports=function(l){return l<.36363636363636365?7.5625*l*l:l<.7272727272727273?7.5625*(l-=.5454545454545454)*l+.75:l<.9090909090909091?7.5625*(l-=.8181818181818182)*l+.9375:7.5625*(l-=.9545454545454546)*l+.984375}},function(C,F){C.exports=function(l){var g=!1;return l<.5?(l=1-2*l,g=!0):l=2*l-1,l<.36363636363636365?l*=7.5625*l:l=l<.7272727272727273?7.5625*(l-=.5454545454545454)*l+.75:l<.9090909090909091?7.5625*(l-=.8181818181818182)*l+.9375:7.5625*(l-=.9545454545454546)*l+.984375,g?.5*(1-l):.5*l+.5}},function(C,F){C.exports=function(l){return 1-Math.sqrt(1-l*l)}},function(C,F){C.exports=function(l){return Math.sqrt(1- --l*l)}},function(C,F){C.exports=function(l){return(l*=2)<1?-.5*(Math.sqrt(1-l*l)-1):.5*(Math.sqrt(1-(l-=2)*l)+1)}},function(C,F){C.exports=function(l){return l*l*l}},function(C,F){C.exports=function(l){return--l*l*l+1}},function(C,F){C.exports=function(l){return(l*=2)<1?.5*l*l*l:.5*((l-=2)*l*l+2)}},function(C,F){C.exports=function(l,g,f){if(void 0===g&&(g=.1),void 0===f&&(f=.1),0===l)return 0;if(1===l)return 1;var u=f/4;return g<1?g=1:u=f*Math.asin(1/g)/(2*Math.PI),-g*Math.pow(2,10*(l-=1))*Math.sin((l-u)*(2*Math.PI)/f)}},function(C,F){C.exports=function(l,g,f){if(void 0===g&&(g=.1),void 0===f&&(f=.1),0===l)return 0;if(1===l)return 1;var u=f/4;return g<1?g=1:u=f*Math.asin(1/g)/(2*Math.PI),g*Math.pow(2,-10*l)*Math.sin((l-u)*(2*Math.PI)/f)+1}},function(C,F){C.exports=function(l,g,f){if(void 0===g&&(g=.1),void 0===f&&(f=.1),0===l)return 0;if(1===l)return 1;var u=f/4;return g<1?g=1:u=f*Math.asin(1/g)/(2*Math.PI),(l*=2)<1?g*Math.pow(2,10*(l-=1))*Math.sin((l-u)*(2*Math.PI)/f)*-.5:g*Math.pow(2,-10*(l-=1))*Math.sin((l-u)*(2*Math.PI)/f)*.5+1}},function(C,F){C.exports=function(l){return Math.pow(2,10*(l-1))-.001}},function(C,F){C.exports=function(l){return 1-Math.pow(2,-10*l)}},function(C,F){C.exports=function(l){return(l*=2)<1?.5*Math.pow(2,10*(l-1)):.5*(2-Math.pow(2,-10*(l-1)))}},function(C,F){C.exports=function(l){return l}},function(C,F){C.exports=function(l){return l*l}},function(C,F){C.exports=function(l){return l*(2-l)}},function(C,F){C.exports=function(l){return(l*=2)<1?.5*l*l:-.5*(--l*(l-2)-1)}},function(C,F){C.exports=function(l){return l*l*l*l}},function(C,F){C.exports=function(l){return 1- --l*l*l*l}},function(C,F){C.exports=function(l){return(l*=2)<1?.5*l*l*l*l:-.5*((l-=2)*l*l*l-2)}},function(C,F){C.exports=function(l){return l*l*l*l*l}},function(C,F){C.exports=function(l){return--l*l*l*l*l+1}},function(C,F){C.exports=function(l){return(l*=2)<1?.5*l*l*l*l*l:.5*((l-=2)*l*l*l*l+2)}},function(C,F){C.exports=function(l){return 0===l?0:1===l?1:1-Math.cos(l*Math.PI/2)}},function(C,F){C.exports=function(l){return 0===l?0:1===l?1:Math.sin(l*Math.PI/2)}},function(C,F){C.exports=function(l){return 0===l?0:1===l?1:.5*(1-Math.cos(Math.PI*l))}},function(C,F){C.exports=function(l,g){return void 0===g&&(g=1),l<=0?0:l>=1?1:1/g*(1+(g*l|0))}},function(C,F,n){var l=n(18),g=n(0),f=n(35),u=n(3),h=new g({initialize:function(a){this.camera=a,this.isRunning=!1,this.duration=0,this.intensity=new u,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0},start:function(o,a,d,r,c){return void 0===o&&(o=100),void 0===a&&(a=.05),void 0===d&&(d=!1),void 0===r&&(r=null),void 0===c&&(c=this.camera.scene),!d&&this.isRunning||(this.isRunning=!0,this.duration=o,this.progress=0,"number"==typeof a?this.intensity.set(a):this.intensity.set(a.x,a.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=r,this._onUpdateScope=c,this.camera.emit(f.SHAKE_START,this.camera,this,o,a)),this.camera},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(o,a){if(this.isRunning)if(this._elapsed+=a,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var d=this.intensity,r=this.camera.width,c=this.camera.height,p=this.camera.zoom;this._offsetX=(Math.random()*d.x*r*2-d.x*r)*p,this._offsetY=(Math.random()*d.y*c*2-d.y*c)*p,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});C.exports=h},function(C,F,n){var l=n(18),g=n(0),f=n(35),u=n(132),h=new g({initialize:function(a){this.camera=a,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.progress=0,this._elapsed=0,this.clockwise=!0,this.shortestPath=!1},start:function(o,a,d,r,c,p,m){void 0===d&&(d=1e3),void 0===r&&(r=u.Linear),void 0===c&&(c=!1),void 0===p&&(p=null),void 0===m&&(m=this.camera.scene),void 0===a&&(a=!1),this.shortestPath=a;var v=o;o<0?(v=-1*o,this.clockwise=!1):this.clockwise=!0;var x=360*Math.PI/180;v-=Math.floor(v/x)*x;var T=this.camera;if(!c&&this.isRunning)return T;if(this.isRunning=!0,this.duration=d,this.progress=0,this.source=T.rotation,this.destination=v,"string"==typeof r&&u.hasOwnProperty(r)?this.ease=u[r]:"function"==typeof r&&(this.ease=r),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=m,this.shortestPath){var E,M;(E=this.destination>this.source?Math.abs(this.destination-this.source):Math.abs(this.destination+x)-this.source)<(M=this.source>this.destination?Math.abs(this.source-this.destination):Math.abs(this.source+x)-this.destination)?this.clockwise=!0:E>M&&(this.clockwise=!1)}return this.camera.emit(f.ROTATE_START,this.camera,this,d,v),T},update:function(o,a){if(this.isRunning){this._elapsed+=a;var d=l(this._elapsed/this.duration,0,1);this.progress=d;var r=this.camera;if(this._elapsed<this.duration){var c=this.ease(d);this.current=r.rotation;var p,m=360*Math.PI/180,v=this.destination,x=this.current;!1===this.clockwise&&(v=this.current,x=this.destination),p=v>=x?Math.abs(v-x):Math.abs(v+m)-x;var T;r.rotation=T=this.clockwise?r.rotation+p*c:r.rotation-p*c,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,d,T)}else r.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,d,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});C.exports=h},function(C,F,n){var l=n(18),g=n(0),f=n(132),u=n(35),h=new g({initialize:function(a){this.camera=a,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.progress=0,this._elapsed=0},start:function(o,a,d,r,c,p){void 0===a&&(a=1e3),void 0===d&&(d=f.Linear),void 0===r&&(r=!1),void 0===c&&(c=null),void 0===p&&(p=this.camera.scene);var m=this.camera;return!r&&this.isRunning||(this.isRunning=!0,this.duration=a,this.progress=0,this.source=m.zoom,this.destination=o,"string"==typeof d&&f.hasOwnProperty(d)?this.ease=f[d]:"function"==typeof d&&(this.ease=d),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.camera.emit(u.ZOOM_START,this.camera,this,a,o)),m},update:function(o,a){!this.isRunning||(this._elapsed+=a,this.progress=l(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});C.exports=h},function(C,F,n){var l=n(320),g=n(0),f=n(2),u=n(24),h=n(56),o=n(101),a=n(21),d=new g({initialize:function(c){this.scene=c,this.systems=c.sys,this.roundPixels=c.sys.game.config.roundPixels,this.cameras=[],c.sys.events.once(a.BOOT,this.boot,this),c.sys.events.on(a.START,this.start,this)},boot:function(){var r=this.systems;r.settings.cameras?this.fromJSON(r.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new l(0,0,r.scale.width,r.scale.height).setScene(this.scene),r.game.scale.on(o.RESIZE,this.onResize,this),this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){if(!this.main){var r=this.systems;r.settings.cameras?this.fromJSON(r.settings.cameras):this.add(),this.main=this.cameras[0]}var c=this.systems.events;c.on(a.UPDATE,this.update,this),c.once(a.SHUTDOWN,this.shutdown,this)},add:function(r,c,p,m,v,x){void 0===r&&(r=0),void 0===c&&(c=0),void 0===p&&(p=this.scene.sys.scale.width),void 0===m&&(m=this.scene.sys.scale.height),void 0===v&&(v=!1),void 0===x&&(x="");var T=new l(r,c,p,m);return T.setName(x),T.setScene(this.scene),T.setRoundPixels(this.roundPixels),T.id=this.getNextID(),this.cameras.push(T),v&&(this.main=T),T},addExisting:function(r,c){return void 0===c&&(c=!1),-1===this.cameras.indexOf(r)?(r.id=this.getNextID(),r.setRoundPixels(this.roundPixels),this.cameras.push(r),c&&(this.main=r),r):null},getNextID:function(){for(var r=this.cameras,c=1,p=0;p<32;p++){for(var m=!1,v=0;v<r.length;v++){var x=r[v];x&&x.id===c&&(m=!0)}if(!m)return c;c<<=1}return 0},getTotal:function(r){void 0===r&&(r=!1);for(var c=0,p=this.cameras,m=0;m<p.length;m++)(!r||r&&p[m].visible)&&c++;return c},fromJSON:function(r){Array.isArray(r)||(r=[r]);for(var c=this.scene.sys.scale.width,p=this.scene.sys.scale.height,m=0;m<r.length;m++){var v=r[m],x=f(v,"x",0),T=f(v,"y",0),E=f(v,"width",c),M=f(v,"height",p),S=this.add(x,T,E,M);S.name=f(v,"name",""),S.zoom=f(v,"zoom",1),S.rotation=f(v,"rotation",0),S.scrollX=f(v,"scrollX",0),S.scrollY=f(v,"scrollY",0),S.roundPixels=f(v,"roundPixels",!1),S.visible=f(v,"visible",!0);var P=f(v,"backgroundColor",!1);P&&S.setBackgroundColor(P);var R=f(v,"bounds",null);if(R){var w=f(R,"x",0),L=f(R,"y",0),I=f(R,"width",c),B=f(R,"height",p);S.setBounds(w,L,I,B)}}return this},getCamera:function(r){for(var c=this.cameras,p=0;p<c.length;p++)if(c[p].name===r)return c[p];return null},getCamerasBelowPointer:function(r){for(var c=this.cameras,p=r.x,m=r.y,v=[],x=0;x<c.length;x++){var T=c[x];T.visible&&T.inputEnabled&&h(T,p,m)&&v.unshift(T)}return v},remove:function(r,c){void 0===c&&(c=!0),Array.isArray(r)||(r=[r]);for(var p=0,m=this.cameras,v=0;v<r.length;v++){var x=m.indexOf(r[v]);-1!==x&&(c&&m[x].destroy(),m.splice(x,1),p++)}return!this.main&&m[0]&&(this.main=m[0]),p},render:function(r,c){for(var p=this.scene,m=this.cameras,v=0;v<this.cameras.length;v++){var x=m[v];if(x.visible&&x.alpha>0){x.preRender();var T=this.getVisibleChildren(c.getChildren(),x);r.render(p,T,x)}}},getVisibleChildren:function(r,c){for(var p=[],m=0;m<r.length;m++){var v=r[m];v.willRender(c)&&p.push(v)}return p},resetAll:function(){for(var r=0;r<this.cameras.length;r++)this.cameras[r].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(r,c){for(var p=0;p<this.cameras.length;p++)this.cameras[p].update(r,c)},onResize:function(r,c,p,m,v){for(var x=0;x<this.cameras.length;x++){var T=this.cameras[x];0===T._x&&0===T._y&&T._width===m&&T._height===v&&T.setSize(c.width,c.height)}},resize:function(r,c){for(var p=0;p<this.cameras.length;p++)this.cameras[p].setSize(r,c)},shutdown:function(){this.main=void 0;for(var r=0;r<this.cameras.length;r++)this.cameras[r].destroy();this.cameras=[];var c=this.systems.events;c.off(a.UPDATE,this.update,this),c.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});u.register("CameraManager",d,"cameras"),C.exports=d},function(C,F){C.exports="enterfullscreen"},function(C,F){C.exports="fullscreenfailed"},function(C,F){C.exports="fullscreenunsupported"},function(C,F){C.exports="leavefullscreen"},function(C,F){C.exports="orientationchange"},function(C,F){C.exports="resize"},function(C,F){C.exports="addedtoscene"},function(C,F){C.exports="boot"},function(C,F){C.exports="create"},function(C,F){C.exports="destroy"},function(C,F){C.exports="pause"},function(C,F){C.exports="postupdate"},function(C,F){C.exports="preupdate"},function(C,F){C.exports="ready"},function(C,F){C.exports="removedfromscene"},function(C,F){C.exports="render"},function(C,F){C.exports="resume"},function(C,F){C.exports="shutdown"},function(C,F){C.exports="sleep"},function(C,F){C.exports="start"},function(C,F){C.exports="transitioncomplete"},function(C,F){C.exports="transitioninit"},function(C,F){C.exports="transitionout"},function(C,F){C.exports="transitionstart"},function(C,F){C.exports="transitionwake"},function(C,F){C.exports="update"},function(C,F){C.exports="wake"},function(C,F,n){C.exports={Config:n(340),CreateRenderer:n(360),DebugHeader:n(378),Events:n(22),TimeStep:n(379),VisibilityHandler:n(381)}},function(C,F){var l,g,n=C.exports={};function f(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function h(T){if(l===setTimeout)return setTimeout(T,0);if((l===f||!l)&&setTimeout)return l=setTimeout,setTimeout(T,0);try{return l(T,0)}catch(E){try{return l.call(null,T,0)}catch(M){return l.call(this,T,0)}}}!function(){try{l="function"==typeof setTimeout?setTimeout:f}catch(T){l=f}try{g="function"==typeof clearTimeout?clearTimeout:u}catch(T){g=u}}();var r,a=[],d=!1,c=-1;function p(){!d||!r||(d=!1,r.length?a=r.concat(a):c=-1,a.length&&m())}function m(){if(!d){var T=h(p);d=!0;for(var E=a.length;E;){for(r=a,a=[];++c<E;)r&&r[c].run();c=-1,E=a.length}r=null,d=!1,function o(T){if(g===clearTimeout)return clearTimeout(T);if((g===u||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(T);try{return g(T)}catch(E){try{return g.call(null,T)}catch(M){return g.call(this,T)}}}(T)}}function v(T,E){this.fun=T,this.array=E}function x(){}n.nextTick=function(T){var E=new Array(arguments.length-1);if(arguments.length>1)for(var M=1;M<arguments.length;M++)E[M-1]=arguments[M];a.push(new v(T,E)),1===a.length&&!d&&h(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=x,n.addListener=x,n.once=x,n.off=x,n.removeListener=x,n.removeAllListeners=x,n.emit=x,n.prependListener=x,n.prependOnceListener=x,n.listeners=function(T){return[]},n.binding=function(T){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(T){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(C,F,n){var l=n(134),g={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};C.exports=function f(){return("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(g.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(g.mspointer=!0),navigator.getGamepads&&(g.gamepads=!0),"onwheel"in window||l.ie&&"WheelEvent"in window?g.wheelEvent="wheel":"onmousewheel"in window?g.wheelEvent="mousewheel":l.firefox&&"MouseScrollEvent"in window&&(g.wheelEvent="DOMMouseScroll"),g}()},function(C,F,n){var l=n(134),g={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};C.exports=function f(){g.audioData=!!window.Audio,g.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var u=document.createElement("audio"),h=!!u.canPlayType;try{if(h&&(u.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(g.ogg=!0),(u.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||u.canPlayType("audio/opus;").replace(/^no$/,""))&&(g.opus=!0),u.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(g.mp3=!0),u.canPlayType("audio/wav").replace(/^no$/,"")&&(g.wav=!0),(u.canPlayType("audio/x-m4a;")||u.canPlayType("audio/aac;").replace(/^no$/,""))&&(g.m4a=!0),u.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(g.webm=!0),""!==u.canPlayType('audio/mp4;codecs="ec-3"')))if(l.edge)g.dolby=!0;else if(l.safari&&l.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var o=parseInt(RegExp.$1,10),a=parseInt(RegExp.$2,10);(10===o&&a>=11||o>10)&&(g.dolby=!0)}}catch(d){}return g}()},function(C,F){var n={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};C.exports=function l(){var g=document.createElement("video"),f=!!g.canPlayType;try{f&&(g.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(n.ogg=!0),g.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(n.h264=!0,n.mp4=!0),g.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(n.webm=!0),g.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(n.vp9=!0),g.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(n.hls=!0))}catch(u){}return n}()},function(C,F){var n={available:!1,cancel:"",keyboard:!1,request:""};C.exports=function l(){var g,f="Fullscreen",u="FullScreen",h=["request"+f,"request"+u,"webkitRequest"+f,"webkitRequest"+u,"msRequest"+f,"msRequest"+u,"mozRequest"+u,"mozRequest"+f];for(g=0;g<h.length;g++)if(document.documentElement[h[g]]){n.available=!0,n.request=h[g];break}var o=["cancel"+u,"exit"+f,"webkitCancel"+u,"webkitExit"+f,"msCancel"+u,"msExit"+f,"mozCancel"+u,"mozExit"+f];if(n.available)for(g=0;g<o.length;g++)if(document[o[g]]){n.cancel=o[g];break}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(n.keyboard=!0),Object.defineProperty(n,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),n}()},function(C,F,n){C.exports={Between:n(343),BetweenPoints:n(344),BetweenPointsY:n(810),BetweenY:n(811),CounterClockwise:n(812),Normalize:n(345),Random:n(813),RandomDegrees:n(814),Reverse:n(815),RotateTo:n(816),ShortestBetween:n(817),Wrap:n(265),WrapDegrees:n(266)}},function(C,F){C.exports=function(l,g){return Math.atan2(g.x-l.x,g.y-l.y)}},function(C,F){C.exports=function(l,g,f,u){return Math.atan2(f-l,u-g)}},function(C,F,n){var l=n(14);C.exports=function(f){return f>Math.PI&&(f-=l.PI2),Math.abs(((f+l.TAU)%l.PI2-l.PI2)%l.PI2)}},function(C,F,n){var l=n(135);C.exports=function(){return l(-Math.PI,Math.PI)}},function(C,F,n){var l=n(135);C.exports=function(){return l(-180,180)}},function(C,F,n){var l=n(345);C.exports=function(f){return l(f+Math.PI)}},function(C,F,n){var l=n(14);C.exports=function(f,u,h){return void 0===h&&(h=.05),f===u||(Math.abs(u-f)<=h||Math.abs(u-f)>=l.PI2-h?f=u:(Math.abs(u-f)>Math.PI&&(u<f?u+=l.PI2:u-=l.PI2),u>f?f+=h:u<f&&(f-=h))),f}},function(C,F){C.exports=function(l,g){var f=g-l;return 0===f?0:f-360*Math.floor((f- -180)/360)}},function(C,F,n){C.exports={Between:n(48),BetweenPoints:n(346),BetweenPointsSquared:n(819),Chebyshev:n(820),Power:n(821),Snake:n(822),Squared:n(347)}},function(C,F){C.exports=function(l,g){var f=l.x-g.x,u=l.y-g.y;return f*f+u*u}},function(C,F){C.exports=function(l,g,f,u){return Math.max(Math.abs(l-f),Math.abs(g-u))}},function(C,F){C.exports=function(l,g,f,u,h){return void 0===h&&(h=2),Math.sqrt(Math.pow(f-l,h)+Math.pow(u-g,h))}},function(C,F){C.exports=function(l,g,f,u){return Math.abs(l-f)+Math.abs(g-u)}},function(C,F,n){C.exports={Back:n(328),Bounce:n(329),Circular:n(330),Cubic:n(331),Elastic:n(332),Expo:n(333),Linear:n(334),Quadratic:n(335),Quartic:n(336),Quintic:n(337),Sine:n(338),Stepped:n(339)}},function(C,F,n){C.exports={Ceil:n(825),Equal:n(123),Floor:n(826),GreaterThan:n(348),LessThan:n(349)}},function(C,F){C.exports=function(l,g){return void 0===g&&(g=1e-4),Math.ceil(l-g)}},function(C,F){C.exports=function(l,g){return void 0===g&&(g=1e-4),Math.floor(l+g)}},function(C,F,n){C.exports={Bezier:n(828),CatmullRom:n(829),CubicBezier:n(352),Linear:n(830),QuadraticBezier:n(353),SmoothStep:n(354),SmootherStep:n(831)}},function(C,F,n){var l=n(350);C.exports=function(f,u){for(var h=0,o=f.length-1,a=0;a<=o;a++)h+=Math.pow(1-u,o-a)*Math.pow(u,a)*f[a]*l(o,a);return h}},function(C,F,n){var l=n(191);C.exports=function(f,u){var h=f.length-1,o=h*u,a=Math.floor(o);return f[0]===f[h]?(u<0&&(a=Math.floor(o=h*(1+u))),l(o-a,f[(a-1+h)%h],f[a],f[(a+1)%h],f[(a+2)%h])):u<0?f[0]-(l(-o,f[0],f[0],f[1],f[1])-f[0]):u>1?f[h]-(l(o-h,f[h],f[h],f[h-1],f[h-1])-f[h]):l(o-a,f[a?a-1:0],f[a],f[h<a+1?h:a+1],f[h<a+2?h:a+2])}},function(C,F,n){var l=n(133);C.exports=function(f,u){var h=f.length-1,o=h*u,a=Math.floor(o);return u<0?l(f[0],f[1],o):u>1?l(f[h],f[h-1],h-o):l(f[a],f[a+1>h?h:a+1],o-a)}},function(C,F,n){var l=n(180);C.exports=function(f,u,h){return u+(h-u)*l(f,0,1)}},function(C,F,n){C.exports={GetNext:n(355),IsSize:n(136),IsValue:n(833)}},function(C,F){C.exports=function(l){return l>0&&0==(l&l-1)}},function(C,F,n){C.exports={Ceil:n(137),Floor:n(76),To:n(835)}},function(C,F){C.exports=function(l,g,f,u){return void 0===f&&(f=0),0===g?l:(l-=f,l=g*Math.round(l/g),u?(f+l)/g:f+l)}},function(C,F,n){var g=new(n(0))({initialize:function(u){void 0===u&&(u=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],u&&this.init(u)},rnd:function(){var f=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|f,this.s0=this.s1,this.s1=this.s2,this.s2=f-this.c,this.s2},hash:function(f){var u,h=this.n;f=f.toString();for(var o=0;o<f.length;o++)u=.02519603282416938*(h+=f.charCodeAt(o)),u-=h=u>>>0,h=(u*=h)>>>0,h+=4294967296*(u-=h);return this.n=h,2.3283064365386963e-10*(h>>>0)},init:function(f){"string"==typeof f?this.state(f):this.sow(f)},sow:function(f){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,f)for(var u=0;u<f.length&&null!=f[u];u++){var h=f[u];this.s0-=this.hash(h),this.s0+=~~(this.s0<0),this.s1-=this.hash(h),this.s1+=~~(this.s1<0),this.s2-=this.hash(h),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+11102230246251565e-32*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(f,u){return Math.floor(this.realInRange(0,u-f+1)+f)},between:function(f,u){return Math.floor(this.realInRange(0,u-f+1)+f)},realInRange:function(f,u){return this.frac()*(u-f)+f},normal:function(){return 1-2*this.frac()},uuid:function(){var f="",u="";for(u=f="";f++<36;u+=~f%5|3*f&4?(15^f?8^this.frac()*(20^f?16:4):4).toString(16):"-");return u},pick:function(f){return f[this.integerInRange(0,f.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(f){return f[~~(Math.pow(this.frac(),2)*(f.length-1)+.5)]},timestamp:function(f,u){return this.realInRange(f||9466848e5,u||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(f){return"string"==typeof f&&f.match(/^!rnd/)&&(f=f.split(","),this.c=parseFloat(f[1]),this.s0=parseFloat(f[2]),this.s1=parseFloat(f[3]),this.s2=parseFloat(f[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(f){for(var h=f.length-1;h>0;h--){var o=Math.floor(this.frac()*(h+1)),a=f[o];f[o]=f[h],f[h]=a}return f}});C.exports=g},function(C,F){C.exports=function(l){for(var g=0,f=0;f<l.length;f++)g+=+l[f];return g/l.length}},function(C,F){C.exports=function(l,g,f){void 0===g&&(g=0),void 0===f&&(f=10);var u=Math.pow(f,-g);return Math.ceil(l*u)/u}},function(C,F){C.exports=function(l,g){return Math.abs(l-g)}},function(C,F,n){var l=n(18),g=n(0),f=n(67),u=n(1),h=new f,o=new g({initialize:function a(d,r,c,p){void 0===d&&(d=0),void 0===r&&(r=0),void 0===c&&(c=0),void 0===p&&(p=a.DefaultOrder),this._x=d,this._y=r,this._z=c,this._order=p,this.onChangeCallback=u},x:{get:function(){return this._x},set:function(a){this._x=a,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(a){this._y=a,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(a){this._z=a,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(a){this._order=a,this.onChangeCallback(this)}},set:function(a,d,r,c){return void 0===c&&(c=this._order),this._x=a,this._y=d,this._z=r,this._order=c,this.onChangeCallback(this),this},copy:function(a){return this.set(a.x,a.y,a.z,a.order)},setFromQuaternion:function(a,d,r){return void 0===d&&(d=this._order),void 0===r&&(r=!1),h.fromQuat(a),this.setFromRotationMatrix(h,d,r)},setFromRotationMatrix:function(a,d,r){void 0===d&&(d=this._order),void 0===r&&(r=!1);var c=a.val,p=c[0],m=c[4],v=c[8],x=c[1],T=c[5],E=c[9],M=c[2],S=c[6],P=c[10],R=0,w=0,L=0,I=.99999;switch(d){case"XYZ":w=Math.asin(l(v,-1,1)),Math.abs(v)<I?(R=Math.atan2(-E,P),L=Math.atan2(-m,p)):R=Math.atan2(S,T);break;case"YXZ":R=Math.asin(-l(E,-1,1)),Math.abs(E)<I?(w=Math.atan2(v,P),L=Math.atan2(x,T)):w=Math.atan2(-M,p);break;case"ZXY":R=Math.asin(l(S,-1,1)),Math.abs(S)<I?(w=Math.atan2(-M,P),L=Math.atan2(-m,T)):L=Math.atan2(x,p);break;case"ZYX":w=Math.asin(-l(M,-1,1)),Math.abs(M)<I?(R=Math.atan2(S,P),L=Math.atan2(x,p)):L=Math.atan2(-m,T);break;case"YZX":L=Math.asin(l(x,-1,1)),Math.abs(x)<I?(R=Math.atan2(-E,T),w=Math.atan2(-M,p)):w=Math.atan2(v,P);break;case"XZY":L=Math.asin(-l(m,-1,1)),Math.abs(m)<I?(R=Math.atan2(S,T),w=Math.atan2(v,p)):R=Math.atan2(-E,P)}return this._x=R,this._y=w,this._z=L,this._order=d,r&&this.onChangeCallback(this),this}});o.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],o.DefaultOrder="XYZ",C.exports=o},function(C,F){C.exports=function(l,g,f){void 0===g&&(g=0),void 0===f&&(f=10);var u=Math.pow(f,-g);return Math.floor(l*u)/u}},function(C,F){C.exports=function(l,g){return l/g/1e3}},function(C,F){C.exports=function(l){return l==parseFloat(l)?!(l%2):void 0}},function(C,F){C.exports=function(l){return l===parseFloat(l)?!(l%2):void 0}},function(C,F){C.exports=function(l,g,f){return Math.min(l+g,f)}},function(C,F){C.exports=function(l,g,f){return Math.max(l-g,f)}},function(C,F){C.exports=function(l,g,f,u){void 0===f&&(f=g+1);var h=(l-g)/(f-g);return h>1?void 0!==u?(h=(u-l)/(u-f))<0&&(h=0):h=1:h<0&&(h=0),h}},function(C,F){C.exports=function(l,g){void 0===g&&(g=1);var f=2*Math.random()*Math.PI;return l.x=Math.cos(f)*g,l.y=Math.sin(f)*g,l}},function(C,F){C.exports=function(l,g){void 0===g&&(g=1);var f=2*Math.random()*Math.PI,u=2*Math.random()-1,h=Math.sqrt(1-u*u)*g;return l.x=Math.cos(f)*h,l.y=Math.sin(f)*h,l.z=u*g,l}},function(C,F){C.exports=function(l,g){return void 0===g&&(g=1),l.x=(2*Math.random()-1)*g,l.y=(2*Math.random()-1)*g,l.z=(2*Math.random()-1)*g,l.w=(2*Math.random()-1)*g,l}},function(C,F){C.exports=function(l,g,f,u,h){return l.x=g+h*Math.cos(u),l.y=f+h*Math.sin(u),l}},function(C,F){C.exports=function(l,g,f){void 0===g&&(g=0),void 0===f&&(f=10);var u=Math.pow(f,-g);return Math.round(l*u)/u}},function(C,F){C.exports=function(l,g,f,u){void 0===g&&(g=1),void 0===f&&(f=1),void 0===u&&(u=1),u*=Math.PI/l;for(var h=[],o=[],a=0;a<l;a++)g+=(f-=g*u)*u,h[a]=f,o[a]=g;return{sin:o,cos:h,length:l}}},function(C,F,n){var l=n(3);C.exports=function(f,u,h,o){void 0===o&&(o=new l);var a=0,d=0;return f>0&&f<=u*h&&(a=f>u-1?f-(d=Math.floor(f/u))*u:f,o.set(a,d)),o}},function(C,F){C.exports=function(l,g,f){return Math.abs(l-g)<=f}},function(C,F,n){var l=n(37),g=n(67),f=n(359),u=new g,h=new f,o=new l;C.exports=function(d,r,c){return h.setAxisAngle(r,c),u.fromRotationTranslation(h,o.set(0,0,0)),d.transformMat4(u)}},function(C,F){C.exports="addtexture"},function(C,F){C.exports="onerror"},function(C,F){C.exports="onload"},function(C,F){C.exports="ready"},function(C,F){C.exports="removetexture"},function(C,F){C.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join("\n")},function(C,F){C.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join("\n")},function(C,F){C.exports="pipelineafterflush"},function(C,F){C.exports="pipelinebeforeflush"},function(C,F){C.exports="pipelinebind"},function(C,F){C.exports="pipelineboot"},function(C,F){C.exports="pipelinedestroy"},function(C,F){C.exports="pipelinerebind"},function(C,F){C.exports="pipelineresize"},function(C,F){C.exports=["#define SHADER_NAME PHASER_GRAPHICS_FS","","precision mediump float;","","varying vec4 outColor;","","void main ()","{","    gl_FragColor = vec4(outColor.bgr * outColor.a, outColor.a);","}",""].join("\n")},function(C,F){C.exports=["#define SHADER_NAME PHASER_GRAPHICS_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec4 inColor;","","varying vec4 outColor;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outColor = inColor;","}",""].join("\n")},function(C,F){C.exports=["#define SHADER_NAME PHASER_LIGHT_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.bgr * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}",""].join("\n")},function(C,F){C.exports=["#define SHADER_NAME PHASER_MULTI_FS","","precision mediump float;","","uniform sampler2D uMainSampler[%count%];","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture;","","    %forloop%","","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join("\n")},function(C,F){C.exports=["#define SHADER_NAME PHASER_MULTI_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join("\n")},function(C,F){C.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform float uCameraZoom;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","","    float distToSurf = length(center - gl_FragCoord.xy);","","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}",""].join("\n")},function(C,F){C.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}",""].join("\n")},function(C,F){C.exports=["#define SHADER_NAME PHASER_SINGLE_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join("\n")},function(C,F){C.exports=["#define SHADER_NAME PHASER_SINGLE_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join("\n")},function(C,F){C.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = frame1 + frame2 * uStrength;","}",""].join("\n")},function(C,F){C.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","","        return;","    }","","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","","    vec4 result;","","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","","    rgb *= result.a;","","    gl_FragColor = vec4(rgb, result.a);","}",""].join("\n")},function(C,F){C.exports=["#define SHADER_NAME PHASER_COPY_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uBrightness;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}",""].join("\n")},function(C,F){C.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}",""].join("\n")},function(C,F,n){C.exports={GenerateTexture:n(382),Palettes:n(885)}},function(C,F,n){C.exports={ARNE16:n(383),C64:n(886),CGA:n(887),JMP:n(888),MSX:n(889)}},function(C,F){C.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(C,F){C.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(C,F){C.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(C,F){C.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(C,F,n){C.exports={Path:n(891),MoveTo:n(387),CubicBezier:n(384),Curve:n(90),Ellipse:n(385),Line:n(386),QuadraticBezier:n(388),Spline:n(389)}},function(C,F,n){var l=n(0),g=n(384),f=n(385),u=n(5),h=n(386),o=n(387),a=n(388),d=n(10),r=n(389),c=n(3),p=n(14),m=new l({initialize:function(x,T){void 0===x&&(x=0),void 0===T&&(T=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new c,this._tmpVec2A=new c,this._tmpVec2B=new c,"object"==typeof x?this.fromJSON(x):this.startPoint.set(x,T)},add:function(v){return this.curves.push(v),this},circleTo:function(v,x,T){return void 0===x&&(x=!1),this.ellipseTo(v,v,0,360,x,T)},closePath:function(){var v=this.curves[0].getPoint(0),x=this.curves[this.curves.length-1].getPoint(1);return v.equals(x)||this.curves.push(new h(x,v)),this},cubicBezierTo:function(v,x,T,E,M,S){var R,w,L,P=this.getEndPoint();return v instanceof c?(R=v,w=x,L=T):(R=new c(T,E),w=new c(M,S),L=new c(v,x)),this.add(new g(P,R,w,L))},quadraticBezierTo:function(v,x,T,E){var S,P,M=this.getEndPoint();return v instanceof c?(S=v,P=x):(S=new c(T,E),P=new c(v,x)),this.add(new a(M,S,P))},draw:function(v,x){for(var T=0;T<this.curves.length;T++){var E=this.curves[T];!E.active||E.draw(v,x)}return v},ellipseTo:function(v,x,T,E,M,S){var P=new f(0,0,v,x,T,E,M,S),R=this.getEndPoint(this._tmpVec2A),w=P.getStartPoint(this._tmpVec2B);return R.subtract(w),P.x=R.x,P.y=R.y,this.add(P)},fromJSON:function(v){this.curves=[],this.cacheLengths=[],this.startPoint.set(v.x,v.y),this.autoClose=v.autoClose;for(var x=0;x<v.curves.length;x++){var T=v.curves[x];switch(T.type){case"LineCurve":this.add(h.fromJSON(T));break;case"EllipseCurve":this.add(f.fromJSON(T));break;case"SplineCurve":this.add(r.fromJSON(T));break;case"CubicBezierCurve":this.add(g.fromJSON(T));break;case"QuadraticBezierCurve":this.add(a.fromJSON(T))}}return this},getBounds:function(v,x){void 0===v&&(v=new d),void 0===x&&(x=16),v.x=Number.MAX_VALUE,v.y=Number.MAX_VALUE;for(var T=new d,E=p.MIN_SAFE_INTEGER,M=p.MIN_SAFE_INTEGER,S=0;S<this.curves.length;S++){var P=this.curves[S];!P.active||(P.getBounds(T,x),v.x=Math.min(v.x,T.x),v.y=Math.min(v.y,T.y),E=Math.max(E,T.right),M=Math.max(M,T.bottom))}return v.right=E,v.bottom=M,v},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var v=[],x=0,T=0;T<this.curves.length;T++)x+=this.curves[T].getLength(),v.push(x);return this.cacheLengths=v,v},getEndPoint:function(v){return void 0===v&&(v=new c),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,v):v.copy(this.startPoint),v},getLength:function(){var v=this.getCurveLengths();return v[v.length-1]},getPoint:function(v,x){void 0===x&&(x=new c);for(var T=v*this.getLength(),E=this.getCurveLengths(),M=0;M<E.length;){if(E[M]>=T){var S=E[M]-T,P=this.curves[M],R=P.getLength();return P.getPointAt(0===R?0:1-S/R,x)}M++}return null},getPoints:function(v){void 0===v&&(v=12);for(var T,x=[],E=0;E<this.curves.length;E++){var M=this.curves[E];if(M.active)for(var S=M.getResolution(v),P=M.getPoints(S),R=0;R<P.length;R++){var w=P[R];T&&T.equals(w)||(x.push(w),T=w)}}return this.autoClose&&x.length>1&&!x[x.length-1].equals(x[0])&&x.push(x[0]),x},getRandomPoint:function(v){return void 0===v&&(v=new c),this.getPoint(Math.random(),v)},getSpacedPoints:function(v){void 0===v&&(v=40);for(var x=[],T=0;T<=v;T++)x.push(this.getPoint(T/v));return this.autoClose&&x.push(x[0]),x},getStartPoint:function(v){return void 0===v&&(v=new c),v.copy(this.startPoint)},getTangent:function(v,x){void 0===x&&(x=new c);for(var T=v*this.getLength(),E=this.getCurveLengths(),M=0;M<E.length;){if(E[M]>=T){var S=E[M]-T,P=this.curves[M],R=P.getLength();return P.getTangentAt(0===R?0:1-S/R,x)}M++}return null},lineTo:function(v,x){v instanceof c?this._tmpVec2B.copy(v):this._tmpVec2B.set(v,x);var T=this.getEndPoint(this._tmpVec2A);return this.add(new h([T.x,T.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(v){return v.unshift(this.getEndPoint()),this.add(new r(v))},moveTo:function(v,x){return this.add(v instanceof c?new o(v.x,v.y):new o(v,x))},toJSON:function(){for(var v=[],x=0;x<this.curves.length;x++)v.push(this.curves[x].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:v}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});u.register("path",function(v,x){return new m(v,x)}),C.exports=m},function(C,F,n){C.exports={DataManager:n(98),DataManagerPlugin:n(893),Events:n(309)}},function(C,F,n){var l=n(0),g=n(98),f=n(24),u=n(21),h=new l({Extends:g,initialize:function(a){g.call(this,a,a.sys.events),this.scene=a,this.systems=a.sys,a.sys.events.once(u.BOOT,this.boot,this),a.sys.events.on(u.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(u.DESTROY,this.destroy,this)},start:function(){this.events.once(u.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){g.prototype.destroy.call(this),this.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});f.register("DataManagerPlugin",h,"data"),C.exports=h},function(C,F,n){C.exports={Align:n(895),BaseShader:n(390),Bounds:n(898),Canvas:n(902),Color:n(391),ColorMatrix:n(195),Masks:n(912),RGB:n(197)}},function(C,F,n){var l=n(122),g=n(17),f={In:n(896),To:n(897)};f=g(!1,f,l),C.exports=f},function(C,F,n){C.exports={BottomCenter:n(284),BottomLeft:n(285),BottomRight:n(286),Center:n(287),LeftCenter:n(289),QuickSet:n(283),RightCenter:n(290),TopCenter:n(291),TopLeft:n(292),TopRight:n(293)}},function(C,F,n){C.exports={BottomCenter:n(271),BottomLeft:n(272),BottomRight:n(273),LeftBottom:n(274),LeftCenter:n(275),LeftTop:n(276),QuickSet:n(270),RightBottom:n(277),RightCenter:n(278),RightTop:n(279),TopCenter:n(280),TopLeft:n(281),TopRight:n(282)}},function(C,F,n){C.exports={CenterOn:n(288),GetBottom:n(40),GetBounds:n(899),GetCenterX:n(84),GetCenterY:n(86),GetLeft:n(41),GetOffsetX:n(900),GetOffsetY:n(901),GetRight:n(42),GetTop:n(43),SetBottom:n(54),SetCenterX:n(85),SetCenterY:n(87),SetLeft:n(52),SetRight:n(53),SetTop:n(51)}},function(C,F,n){var l=n(40),g=n(41),f=n(42),u=n(43);C.exports=function(o,a){void 0===a&&(a={});var d=g(o),r=u(o);return a.x=d,a.y=r,a.width=f(o)-d,a.height=l(o)-r,a}},function(C,F){C.exports=function(l){return l.width*l.originX}},function(C,F){C.exports=function(l){return l.height*l.originY}},function(C,F,n){C.exports={CanvasInterpolation:n(361),CanvasPool:n(31),Smoothing:n(189),TouchAction:n(903),UserSelect:n(904)}},function(C,F){C.exports=function(l,g){return void 0===g&&(g="none"),l.style.msTouchAction=g,l.style["ms-touch-action"]=g,l.style["touch-action"]=g,l}},function(C,F){C.exports=function(l,g){return void 0===g&&(g="none"),["-webkit-","-khtml-","-moz-","-ms-",""].forEach(function(u){l.style[u+"user-select"]=g}),l.style["-webkit-touch-callout"]=g,l.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",l}},function(C,F,n){var l=n(100);C.exports=function(f){void 0===f&&(f=1024);var o,u=[],h=255,a=255,d=0,r=0;for(o=0;o<=h;o++)u.push({r:a,g:o,b:r,color:l(a,o,r)});for(d=255,o=h;o>=0;o--)u.push({r:o,g:d,b:r,color:l(o,d,r)});for(a=0,o=0;o<=h;o++,d--)u.push({r:a,g:d,b:o,color:l(a,d,o)});for(d=0,r=255,o=0;o<=h;o++,r--,a++)u.push({r:a,g:d,b:r,color:l(a,d,r)});if(1024===f)return u;var c=[],p=0,m=1024/f;for(o=0;o<f;o++)c.push(u[Math.floor(p)]),p+=m;return c}},function(C,F){C.exports=function(l){var g={r:l>>16&255,g:l>>8&255,b:255&l,a:255};return l>16777215&&(g.a=l>>>24),g}},function(C,F,n){var l=n(36),g=n(393);C.exports=function(u,h,o){var a=o,d=o,r=o;if(0!==h){var c=o<.5?o*(1+h):o+h-o*h,p=2*o-c;a=g(p,c,u+1/3),d=g(p,c,u),r=g(p,c,u-1/3)}return(new l).setGLTo(a,d,r,1)}},function(C,F,n){var l=n(185);C.exports=function(f,u){void 0===f&&(f=1),void 0===u&&(u=1);for(var h=[],o=0;o<=359;o++)h.push(l(o/359,f,u));return h}},function(C,F,n){var l=n(133),g=function(h,o,a,d,r,c,p,m){void 0===p&&(p=100),void 0===m&&(m=0);var v=m/p;return{r:l(h,d,v),g:l(o,r,v),b:l(a,c,v)}};C.exports={RGBWithRGB:g,ColorWithRGB:function(h,o,a,d,r,c){return void 0===r&&(r=100),void 0===c&&(c=0),g(h.r,h.g,h.b,o,a,d,r,c)},ColorWithColor:function(h,o,a,d){return void 0===a&&(a=100),void 0===d&&(d=0),g(h.r,h.g,h.b,o.r,o.g,o.b,a,d)}}},function(C,F,n){var l=n(192),g=n(36);C.exports=function(u,h){return void 0===u&&(u=0),void 0===h&&(h=255),new g(l(u,h),l(u,h),l(u,h))}},function(C,F,n){var l=n(392);C.exports=function(f,u,h,o,a){return void 0===o&&(o=255),void 0===a&&(a="#"),"#"===a?"#"+((1<<24)+(f<<16)+(u<<8)+h).toString(16).slice(1):"0x"+l(o)+l(f)+l(u)+l(h)}},function(C,F,n){C.exports={BitmapMask:n(304),GeometryMask:n(305)}},function(C,F,n){var l={AddToDOM:n(140),DOMContentLoaded:n(394),GetInnerHeight:n(395),GetScreenOrientation:n(396),GetTarget:n(401),ParseXML:n(402),RemoveFromDOM:n(199),RequestAnimationFrame:n(380)};C.exports=l},function(C,F,n){C.exports={EventEmitter:n(915)}},function(C,F,n){var l=n(0),g=n(9),f=n(24),u=new l({Extends:g,initialize:function(){g.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});f.register("EventEmitter",u,"events"),C.exports=u},function(C,F,n){var l=n(140),g=n(315),f=n(319),u=n(31),h=n(0),o=n(340),a=n(917),d=n(360),r=n(98),c=n(378),p=n(341),m=n(394),v=n(9),x=n(22),T=n(403),E=n(24),M=n(408),S=n(409),P=n(411),R=n(103),w=n(416),L=n(379),I=n(381),B=n(420),H=new h({initialize:function($){this.config=new o($),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new v,this.anims=new g(this),this.textures=new w(this),this.cache=new f(this),this.registry=new r(this),this.input=new T(this,this.config),this.scene=new P(this,this.config.sceneConfig),this.device=p,this.scale=new S(this,this.config),this.sound=null,this.sound=B.create(this),this.loop=new L(this,this.config.fps),this.plugins=new M(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,m(this.boot.bind(this))},boot:function(){E.hasCore("EventEmitter")?(this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),d(this),a(this),c(this),l(this.canvas,this.config.parent),this.textures.once(R.READY,this.texturesReady,this),this.events.emit(x.BOOT)):console.warn("Aborting. Core Plugins missing.")},texturesReady:function(){this.events.emit(x.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.loop.start(this.renderer?this.step.bind(this):this.headlessStep.bind(this)),I(this);var Y=this.events;Y.on(x.HIDDEN,this.onHidden,this),Y.on(x.VISIBLE,this.onVisible,this),Y.on(x.BLUR,this.onBlur,this),Y.on(x.FOCUS,this.onFocus,this)},step:function(Y,$){if(this.pendingDestroy)return this.runDestroy();var J=this.events;J.emit(x.PRE_STEP,Y,$),J.emit(x.STEP,Y,$),this.scene.update(Y,$),J.emit(x.POST_STEP,Y,$);var _=this.renderer;_.preRender(),J.emit(x.PRE_RENDER,_,Y,$),this.scene.render(_),_.postRender(),J.emit(x.POST_RENDER,_,Y,$)},headlessStep:function(Y,$){if(this.pendingDestroy)return this.runDestroy();var J=this.events;J.emit(x.PRE_STEP,Y,$),J.emit(x.STEP,Y,$),this.scene.update(Y,$),J.emit(x.POST_STEP,Y,$),J.emit(x.PRE_RENDER),J.emit(x.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(x.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(x.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(Y,$){void 0===$&&($=!1),this.pendingDestroy=!0,this.removeCanvas=Y,this.noReturn=$},runDestroy:function(){this.scene.destroy(),this.events.emit(x.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(u.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});C.exports=H},function(C,F,n){var l=n(140);C.exports=function(f){var u=f.config;if(u.parent&&u.domCreateContainer){var h=document.createElement("div");h.style.cssText=["display: block;","width: "+f.scale.width+"px;","height: "+f.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: none;","transform: scale(1);","transform-origin: left top;"].join(" "),f.domContainer=h,l(h,u.parent)}}},function(C,F){C.exports="boot"},function(C,F){C.exports="destroy"},function(C,F){C.exports="dragend"},function(C,F){C.exports="dragenter"},function(C,F){C.exports="drag"},function(C,F){C.exports="dragleave"},function(C,F){C.exports="dragover"},function(C,F){C.exports="dragstart"},function(C,F){C.exports="drop"},function(C,F){C.exports="gameout"},function(C,F){C.exports="gameover"},function(C,F){C.exports="gameobjectdown"},function(C,F){C.exports="dragend"},function(C,F){C.exports="dragenter"},function(C,F){C.exports="drag"},function(C,F){C.exports="dragleave"},function(C,F){C.exports="dragover"},function(C,F){C.exports="dragstart"},function(C,F){C.exports="drop"},function(C,F){C.exports="gameobjectmove"},function(C,F){C.exports="gameobjectout"},function(C,F){C.exports="gameobjectover"},function(C,F){C.exports="pointerdown"},function(C,F){C.exports="pointermove"},function(C,F){C.exports="pointerout"},function(C,F){C.exports="pointerover"},function(C,F){C.exports="pointerup"},function(C,F){C.exports="wheel"},function(C,F){C.exports="gameobjectup"},function(C,F){C.exports="gameobjectwheel"},function(C,F){C.exports="boot"},function(C,F){C.exports="process"},function(C,F){C.exports="update"},function(C,F){C.exports="pointerdown"},function(C,F){C.exports="pointerdownoutside"},function(C,F){C.exports="pointermove"},function(C,F){C.exports="pointerout"},function(C,F){C.exports="pointerover"},function(C,F){C.exports="pointerup"},function(C,F){C.exports="pointerupoutside"},function(C,F){C.exports="wheel"},function(C,F){C.exports="pointerlockchange"},function(C,F){C.exports="preupdate"},function(C,F){C.exports="shutdown"},function(C,F){C.exports="start"},function(C,F){C.exports="update"},function(C,F){C.exports="addfile"},function(C,F){C.exports="complete"},function(C,F){C.exports="filecomplete"},function(C,F){C.exports="filecomplete-"},function(C,F){C.exports="loaderror"},function(C,F){C.exports="load"},function(C,F){C.exports="fileprogress"},function(C,F){C.exports="postprocess"},function(C,F){C.exports="progress"},function(C,F){C.exports="start"},function(C,F,n){C.exports={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"}},function(C,F){C.exports=function(l,g,f){if(f.getElementsByTagName("TextureAtlas")){var u=l.source[g];l.add("__BASE",g,0,0,u.width,u.height);for(var o,h=f.getElementsByTagName("SubTexture"),a=0;a<h.length;a++){var d=h[a].attributes,r=d.name.value,c=parseInt(d.x.value,10),p=parseInt(d.y.value,10),m=parseInt(d.width.value,10),v=parseInt(d.height.value,10);if(o=l.add(r,g,c,p,m,v),d.frameX){var x=Math.abs(parseInt(d.frameX.value,10)),T=Math.abs(parseInt(d.frameY.value,10)),E=parseInt(d.frameWidth.value,10),M=parseInt(d.frameHeight.value,10);o.setTrim(m,v,x,T,E,M)}}return l}console.warn("Invalid Texture Atlas XML given")}},function(C,F){C.exports=function(l,g){var f=l.source[g];return l.add("__BASE",g,0,0,f.width,f.height),l}},function(C,F){C.exports=function(l,g){var f=l.source[g];return l.add("__BASE",g,0,0,f.width,f.height),l}},function(C,F,n){var l=n(77);C.exports=function(f,u,h){if(h.frames||h.textures){var o=f.source[u];f.add("__BASE",u,0,0,o.width,o.height);for(var d,a=Array.isArray(h.textures)?h.textures[u].frames:h.frames,r=0;r<a.length;r++){var c=a[r];d=f.add(c.filename,u,c.frame.x,c.frame.y,c.frame.w,c.frame.h),c.trimmed&&d.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(d.rotated=!0,d.updateUVsInverted());var p=c.anchor||c.pivot;p&&(d.customPivot=!0,d.pivotX=p.x,d.pivotY=p.y),d.customData=l(c)}for(var m in h)"frames"!==m&&(f.customData[m]=Array.isArray(h[m])?h[m].slice(0):h[m]);return f}console.warn("Invalid Texture Atlas JSON Array")}},function(C,F,n){var l=n(77);C.exports=function(f,u,h){if(h.frames){var o=f.source[u];f.add("__BASE",u,0,0,o.width,o.height);var d,a=h.frames;for(var r in a)if(a.hasOwnProperty(r)){var c=a[r];d=f.add(r,u,c.frame.x,c.frame.y,c.frame.w,c.frame.h),c.trimmed&&d.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(d.rotated=!0,d.updateUVsInverted());var p=c.anchor||c.pivot;p&&(d.customPivot=!0,d.pivotX=p.x,d.pivotY=p.y),d.customData=l(c)}for(var m in h)"frames"!==m&&(f.customData[m]=Array.isArray(h[m])?h[m].slice(0):h[m]);return f}console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object")}},function(C,F,n){var l=n(2);C.exports=function(f,u,h,o,a,d,r){var c=l(r,"frameWidth",null),p=l(r,"frameHeight",c);if(null===c)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var m=f.source[u];f.add("__BASE",u,0,0,m.width,m.height);var v=l(r,"startFrame",0),x=l(r,"endFrame",-1),T=l(r,"margin",0),E=l(r,"spacing",0),P=Math.floor((a-T+E)/(c+E))*Math.floor((d-T+E)/(p+E));0===P&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",f.key),(v>P||v<-P)&&(v=0),v<0&&(v=P+v),-1!==x&&(P=v+(x+1));for(var R=T,w=T,L=0,I=0,B=0;B<P;B++){L=0,I=0;var G=R+c,H=w+p;G>a&&(L=G-a),H>d&&(I=H-d),f.add(B,u,h+R,o+w,c-L,p-I),(R+=c+E)+c>a&&(R=T,w+=p+E)}return f}},function(C,F,n){var l=n(2);C.exports=function(f,u,h){var o=l(h,"frameWidth",null),a=l(h,"frameHeight",o);if(!o)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var d=f.source[0];f.add("__BASE",0,0,0,d.width,d.height);var r=l(h,"startFrame",0),c=l(h,"endFrame",-1),p=l(h,"margin",0),m=l(h,"spacing",0),v=u.cutX,x=u.cutY,T=u.cutWidth,E=u.cutHeight,M=u.realWidth,S=u.realHeight,P=Math.floor((M-p+m)/(o+m)),R=Math.floor((S-p+m)/(a+m)),w=P*R,L=u.x,I=o-L,B=o-(M-T-L),G=u.y,H=a-G,Y=a-(S-E-G);(r>w||r<-w)&&(r=0),r<0&&(r=w+r),-1!==c&&(w=r+(c+1));for(var $,J=p,_=p,tt=0,U=u.sourceIndex,V=0;V<R;V++){for(var X=0===V,W=V===R-1,j=0;j<P;j++){var K=0===j,q=j===P-1;if($=f.add(tt,U,v+J,x+_,o,a),K||X||q||W){var et=K?L:0,rt=X?G:0,ot=0,at=0;K&&(ot+=o-I),q&&(ot+=o-B),X&&(at+=a-H),W&&(at+=a-Y);var ft=o-ot,ct=a-at;$.cutWidth=ft,$.cutHeight=ct,$.setTrim(o,a,et,rt,ft,ct)}J+=m,J+=K?I:q?B:o,tt++}J=p,_+=m,_+=X?H:W?Y:a}return f}},function(C,F){var n=0,l=function(f,u,h,o){f.add(h,u,o.x,n-o.y-o.height,o.width,o.height)};C.exports=function(f,u,h){var o=f.source[u];f.add("__BASE",u,0,0,o.width,o.height),n=o.height;for(var a=h.split("\n"),d=/^[ ]*(- )*(\w+)+[: ]+(.*)/,r="",c="",p={x:0,y:0,width:0,height:0},m=0;m<a.length;m++){var v=a[m].match(d);if(v){var T=v[2],E=v[3];if("- "===v[1]&&(c!==r&&(l(f,u,c,p),r=c),p={x:0,y:0,width:0,height:0}),"name"===T){c=E;continue}switch(T){case"x":case"y":case"width":case"height":p[T]=parseInt(E,10)}}}return c!==r&&l(f,u,c,p),f}},function(C,F){C.exports="complete"},function(C,F){C.exports="decoded"},function(C,F){C.exports="decodedall"},function(C,F){C.exports="destroy"},function(C,F){C.exports="detune"},function(C,F){C.exports="detune"},function(C,F){C.exports="mute"},function(C,F){C.exports="rate"},function(C,F){C.exports="volume"},function(C,F){C.exports="loop"},function(C,F){C.exports="looped"},function(C,F){C.exports="mute"},function(C,F){C.exports="pan"},function(C,F){C.exports="pauseall"},function(C,F){C.exports="pause"},function(C,F){C.exports="play"},function(C,F){C.exports="rate"},function(C,F){C.exports="resumeall"},function(C,F){C.exports="resume"},function(C,F){C.exports="seek"},function(C,F){C.exports="stopall"},function(C,F){C.exports="stop"},function(C,F){C.exports="unlocked"},function(C,F){C.exports="volume"},function(C,F,n){var l={Events:n(75),DisplayList:n(1008),GameObjectCreator:n(16),GameObjectFactory:n(5),UpdateList:n(1034),Components:n(11),GetCalcMatrix:n(19),BuildGameObject:n(28),BuildGameObjectAnimation:n(433),GameObject:n(15),BitmapText:n(147),Blitter:n(210),Bob:n(434),Container:n(211),DOMElement:n(436),DynamicBitmapText:n(212),Extern:n(438),Graphics:n(213),Group:n(110),Image:n(124),Layer:n(216),Particles:n(1068),PathFollower:n(451),RenderTexture:n(218),RetroFont:n(1076),Rope:n(220),Sprite:n(73),Text:n(221),GetTextSize:n(452),MeasureText:n(454),TextStyle:n(453),TileSprite:n(222),Zone:n(127),Video:n(223),Shape:n(32),Arc:n(455),Curve:n(456),Ellipse:n(457),Grid:n(458),IsoBox:n(459),IsoTriangle:n(460),Line:n(461),Polygon:n(462),Rectangle:n(467),Star:n(468),Triangle:n(469),Factories:{Blitter:n(1124),Container:n(1125),DOMElement:n(1126),DynamicBitmapText:n(1127),Extern:n(1128),Graphics:n(1129),Group:n(1130),Image:n(1131),Layer:n(1132),Particles:n(1133),PathFollower:n(1134),RenderTexture:n(1135),Rope:n(1136),Sprite:n(1137),StaticBitmapText:n(1138),Text:n(1139),TileSprite:n(1140),Zone:n(1141),Video:n(1142),Arc:n(1143),Curve:n(1144),Ellipse:n(1145),Grid:n(1146),IsoBox:n(1147),IsoTriangle:n(1148),Line:n(1149),Polygon:n(1150),Rectangle:n(1151),Star:n(1152),Triangle:n(1153)},Creators:{Blitter:n(1154),Container:n(1155),DynamicBitmapText:n(1156),Graphics:n(1157),Group:n(1158),Image:n(1159),Layer:n(1160),Particles:n(1161),RenderTexture:n(1162),Rope:n(1163),Sprite:n(1164),StaticBitmapText:n(1165),Text:n(1166),TileSprite:n(1167),Zone:n(1168),Video:n(1169)}};l.Shader=n(226),l.Mesh=n(227),l.PointLight=n(149),l.Factories.Shader=n(1178),l.Factories.Mesh=n(1179),l.Factories.PointLight=n(1180),l.Creators.Shader=n(1181),l.Creators.Mesh=n(1182),l.Creators.PointLight=n(1183),l.Light=n(475),l.LightsManager=n(476),l.LightsPlugin=n(1184),C.exports=l},function(C,F,n){var l=n(0),g=n(107),f=n(24),u=n(75),h=n(21),o=n(79),a=new l({Extends:g,initialize:function(r){g.call(this,r),this.sortChildrenFlag=!1,this.scene=r,this.systems=r.sys,this.events=r.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.events.once(h.DESTROY,this.destroy,this)},addChildCallback:function(d){d.emit(u.ADDED_TO_SCENE,d,this.scene),d.displayList&&d.displayList.remove(d),d.displayList=this,this.queueDepthSort(),this.events.emit(h.ADDED_TO_SCENE,d,this.scene)},removeChildCallback:function(d){d.emit(u.REMOVED_FROM_SCENE,d,this.scene),d.displayList=null,this.queueDepthSort(),this.events.emit(h.REMOVED_FROM_SCENE,d,this.scene)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(o(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(d,r){return d._depth-r._depth},getChildren:function(){return this.list},shutdown:function(){for(var d=this.list,r=d.length;r--;)d[r].destroy(!0);d.length=0,this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});f.register("DisplayList",a,"displayList"),C.exports=a},function(C,F,n){C.exports={CheckMatrix:n(206),MatrixToString:n(1010),ReverseColumns:n(1011),ReverseRows:n(1012),Rotate180:n(1013),RotateLeft:n(1014),RotateMatrix:n(146),RotateRight:n(1015),Translate:n(1016),TransposeMatrix:n(429)}},function(C,F,n){var l=n(183),g=n(206);C.exports=function(u){var h="";if(!g(u))return h;for(var o=0;o<u.length;o++){for(var a=0;a<u[o].length;a++){var d=u[o][a].toString();h+="undefined"!==d?l(d,2):"?",a<u[o].length-1&&(h+=" |")}if(o<u.length-1){h+="\n";for(var r=0;r<u[o].length;r++)h+="---",r<u[o].length-1&&(h+="+");h+="\n"}}return h}},function(C,F){C.exports=function(l){return l.reverse()}},function(C,F){C.exports=function(l){for(var g=0;g<l.length;g++)l[g].reverse();return l}},function(C,F,n){var l=n(146);C.exports=function(f){return l(f,180)}},function(C,F,n){var l=n(146);C.exports=function(f){return l(f,90)}},function(C,F,n){var l=n(146);C.exports=function(f){return l(f,-90)}},function(C,F,n){var l=n(175),g=n(176);C.exports=function(u,h,o){if(void 0===h&&(h=0),void 0===o&&(o=0),0!==o&&(o<0?l(u,Math.abs(o)):g(u,o)),0!==h)for(var a=0;a<u.length;a++){var d=u[a];h<0?l(d,Math.abs(h)):g(d,h)}return u}},function(C,F){C.exports=function(l,g,f,u,h){if(void 0===h&&(h=l),f>0){var o=f-l.length;if(o<=0)return null}if(!Array.isArray(g))return-1===l.indexOf(g)?(l.push(g),u&&u.call(h,g),g):null;for(var a=g.length-1;a>=0;)-1!==l.indexOf(g[a])&&g.splice(a,1),a--;if(0===(a=g.length))return null;f>0&&a>o&&(g.splice(o),a=o);for(var d=0;d<a;d++){var r=g[d];l.push(r),u&&u.call(h,r)}return g}},function(C,F){C.exports=function(l,g,f,u,h,o){if(void 0===f&&(f=0),void 0===o&&(o=l),u>0){var a=u-l.length;if(a<=0)return null}if(!Array.isArray(g))return-1===l.indexOf(g)?(l.splice(f,0,g),h&&h.call(o,g),g):null;for(var d=g.length-1;d>=0;)-1!==l.indexOf(g[d])&&g.pop(),d--;if(0===(d=g.length))return null;u>0&&d>a&&(g.splice(a),d=a);for(var r=d-1;r>=0;r--){var c=g[r];l.splice(f,0,c),h&&h.call(o,c)}return g}},function(C,F){C.exports=function(l,g){var f=l.indexOf(g);return-1!==f&&f<l.length&&(l.splice(f,1),l.push(g)),g}},function(C,F,n){var l=n(78);C.exports=function(f,u,h,o,a){void 0===o&&(o=0),void 0===a&&(a=f.length);var d=0;if(l(f,o,a))for(var r=o;r<a;r++)f[r][u]===h&&d++;return d}},function(C,F){C.exports=function(l,g,f){var u,h=[null];for(u=3;u<arguments.length;u++)h.push(arguments[u]);for(u=0;u<l.length;u++)h[0]=l[u],g.apply(f,h);return l}},function(C,F,n){var l=n(78);C.exports=function(f,u,h,o,a){if(void 0===o&&(o=0),void 0===a&&(a=f.length),l(f,o,a)){var d,r=[null];for(d=5;d<arguments.length;d++)r.push(arguments[d]);for(d=o;d<a;d++)r[0]=f[d],u.apply(h,r)}return f}},function(C,F){C.exports=function(l,g){var f=l.indexOf(g);if(f>0){var u=l[f-1],h=l.indexOf(u);l[f]=u,l[h]=g}return l}},function(C,F){C.exports=function(l,g,f){var u=l.indexOf(g);if(-1===u||f<0||f>=l.length)throw new Error("Supplied index out of bounds");return u!==f&&(l.splice(u,1),l.splice(f,0,g)),g}},function(C,F){C.exports=function(l,g){var f=l.indexOf(g);if(-1!==f&&f<l.length-1){var u=l[f+1],h=l.indexOf(u);l[f]=u,l[h]=g}return l}},function(C,F,n){var l=n(357);C.exports=function(f,u,h){void 0===f&&(f=0),void 0===u&&(u=null),void 0===h&&(h=1),null===u&&(u=f,f=0);for(var o=[],a=Math.max(l((u-f)/(h||1)),0),d=0;d<a;d++)o.push(f),f+=h;return o}},function(C,F,n){var l=n(74);C.exports=function(f,u,h,o){if(void 0===o&&(o=f),u<0||u>f.length-1)throw new Error("Index out of bounds");var a=l(f,u);return h&&h.call(o,a),a}},function(C,F,n){var l=n(78);C.exports=function(f,u,h,o,a){if(void 0===u&&(u=0),void 0===h&&(h=f.length),void 0===a&&(a=f),l(f,u,h)){var r=f.splice(u,h-u);if(o)for(var c=0;c<r.length;c++)o.call(a,r[c]);return r}return[]}},function(C,F,n){var l=n(74);C.exports=function(f,u,h){void 0===u&&(u=0),void 0===h&&(h=f.length);var o=u+Math.floor(Math.random()*h);return l(f,o)}},function(C,F){C.exports=function(l,g,f){var u=l.indexOf(g),h=l.indexOf(f);return-1!==u&&-1===h&&(l[u]=f,!0)}},function(C,F){C.exports=function(l,g){var f=l.indexOf(g);return-1!==f&&f>0&&(l.splice(f,1),l.unshift(g)),g}},function(C,F,n){var l=n(78);C.exports=function(f,u,h,o,a){if(void 0===o&&(o=0),void 0===a&&(a=f.length),l(f,o,a))for(var d=o;d<a;d++){var r=f[d];r.hasOwnProperty(u)&&(r[u]=h)}return f}},function(C,F){C.exports=function(l,g,f){if(g!==f){var u=l.indexOf(g),h=l.indexOf(f);if(u<0||h<0)throw new Error("Supplied items must be elements of the same array");return l[u]=f,l[h]=g,l}}},function(C,F,n){var l=n(0),g=n(208),f=n(24),u=n(21),h=new l({Extends:g,initialize:function(a){g.call(this),this.checkQueue=!0,this.scene=a,this.systems=a.sys,a.sys.events.once(u.BOOT,this.boot,this),a.sys.events.on(u.START,this.start,this)},boot:function(){this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){var o=this.systems.events;o.on(u.PRE_UPDATE,this.update,this),o.on(u.UPDATE,this.sceneUpdate,this),o.once(u.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(o,a){for(var d=this._active,r=d.length,c=0;c<r;c++){var p=d[c];p.active&&p.preUpdate.call(p,o,a)}},shutdown:function(){for(var o=this._active.length;o--;)this._active[o].destroy(!0);for(o=this._pending.length;o--;)this._pending[o].destroy(!0);for(o=this._destroy.length;o--;)this._destroy[o].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var a=this.systems.events;a.off(u.PRE_UPDATE,this.preUpdate,this),a.off(u.UPDATE,this.sceneUpdate,this),a.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});f.register("UpdateList",h,"updateList"),C.exports=h},function(C,F){C.exports="add"},function(C,F){C.exports="remove"},function(C,F){C.exports=function(l,g,f,u){if(void 0===f&&(f=!1),void 0===u)return{local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0};var V,ve,Ke,ti,h=l.text,o=h.length,a=l.maxWidth,d=l.wordWrapCharCode,r=Number.MAX_VALUE,c=Number.MAX_VALUE,p=0,m=0,v=l.fontData.chars,x=l.fontData.lineHeight,T=l.letterSpacing,E=0,M=0,S=0,P=null,R=l._align,w=0,L=0,I=l.fontSize/l.fontData.size,B=I*l.scaleX,G=I*l.scaleY,H=null,Y=0,$=[],J=Number.MAX_VALUE,_=0,tt=0,U=0,X=[],W=[],j=null;if(a>0){for(V=0;V<o;V++)if(10!==(S=h.charCodeAt(V))){if(P=v[S]){if(null!==H)var K=P.kerning[Y];S===d?null!==j&&(X.push({word:j.word,i:j.i,x:j.x*B,y:j.y*G,w:j.w*B,h:j.h*G,cr:!1}),j=null):(null===j&&(j={word:"",i:V,x:E,y:M,w:0,h:x,cr:!1}),j.word=j.word.concat(h[V]),j.w+=P.xOffset+P.xAdvance+(void 0!==K?K:0)),E+=P.xAdvance+T,H=P,Y=S}}else null!==j&&(X.push({word:j.word,i:j.i,x:j.x*B,y:j.y*G,w:j.w*B,h:j.h*G,cr:!0}),j=null),E=0,M+=x,H=null;null!==j&&X.push({word:j.word,i:j.i,x:j.x*B,y:j.y*G,w:j.w*B,h:j.h*G,cr:!1}),E=0,M=0,H=null,Y=0;var q,et=0,rt=[];for(V=0;V<X.length;V++){var ot=X[V],at=ot.x;q&&(et=at-(at-(q.x+q.w)+q.w),q=null),at-et>a||ot.x+ot.w-et>a?(rt.push(ot.i-1),ot.cr?(rt.push(ot.i+ot.word.length),et=0,q=null):q=ot):ot.cr&&(rt.push(ot.i+ot.word.length),et=0,q=null)}for(V=rt.length-1;V>=0;V--)ti="\n",h=(ve=h).substr(0,Ke=rt[V])+ti+ve.substr(Ke+1);u.wrappedText=h,o=h.length,X=[],j=null}var kt=0;for(V=0;V<o;V++)if(10!==(S=h.charCodeAt(V))){if(P=v[S]){if(w=E,null!==H){var Nt=P.kerning[Y];w+=void 0!==Nt?Nt:0}r>w&&(r=w),c>(L=M)&&(c=L);var bt=w+P.xAdvance,gt=L+x;p<bt&&(p=bt),m<gt&&(m=gt);var Se=P.xOffset+P.xAdvance+(void 0!==Nt?Nt:0);S===d?null!==j&&(X.push({word:j.word,i:j.i,x:j.x*B,y:j.y*G,w:j.w*B,h:j.h*G}),j=null):(null===j&&(j={word:"",i:kt,x:E,y:M,w:0,h:x}),j.word=j.word.concat(h[V]),j.w+=Se),W.push({i:kt,char:h[V],code:S,x:(P.xOffset+E)*I,y:(P.yOffset+M)*I,w:P.width*I,h:P.height*I,t:M*I,r:bt*I,b:x*I,line:tt,glyph:P}),E+=P.xAdvance+T,H=P,Y=S,U=bt*I,kt++}}else null!==j&&(X.push({word:j.word,i:j.i,x:j.x*B,y:j.y*G,w:j.w*B,h:j.h*G}),j=null),E=0,M+=x,H=null,$[tt]=U,U>_&&(_=U),U<J&&(J=U),tt++,U=0;if(null!==j&&X.push({word:j.word,i:j.i,x:j.x*B,y:j.y*G,w:j.w*B,h:j.h*G}),$[tt]=U,U>_&&(_=U),U<J&&(J=U),R>0)for(var Rt=0;Rt<W.length;Rt++){var Vt=W[Rt];if(1===R){var $e=(_-$[Vt.line])/2;Vt.x+=$e,Vt.r+=$e}else if(2===R){var ri=_-$[Vt.line];Vt.x+=ri,Vt.r+=ri}}var ye=u.local,ie=u.global,Be=u.lines;return ye.x=r*I,ye.y=c*I,ye.width=p*I,ye.height=m*I,ie.x=l.x-l._displayOriginX+r*B,ie.y=l.y-l._displayOriginY+c*G,ie.width=p*B,ie.height=m*G,Be.shortest=J,Be.longest=_,Be.lengths=$,g&&(ye.x=Math.ceil(ye.x),ye.y=Math.ceil(ye.y),ye.width=Math.ceil(ye.width),ye.height=Math.ceil(ye.height),ie.x=Math.ceil(ie.x),ie.y=Math.ceil(ie.y),ie.width=Math.ceil(ie.width),ie.height=Math.ceil(ie.height),Be.shortest=Math.ceil(J),Be.longest=Math.ceil(_)),f&&(l._displayOriginX=l.originX*ye.width,l._displayOriginY=l.originY*ye.height,ie.x=l.x-l._displayOriginX*l.scaleX,ie.y=l.y-l._displayOriginY*l.scaleY,g&&(ie.x=Math.ceil(ie.x),ie.y=Math.ceil(ie.y))),u.words=X,u.characters=W,u.lines.height=x,u.scale=I,u.scaleX=l.scaleX,u.scaleY=l.scaleY,u}},function(C,F,n){var l=n(209);C.exports=function(f,u,h,o,a,d,r){var c=f.sys.textures.get(h),p=c.get(o),m=f.sys.cache.xml.get(a);if(p&&m){var v=l(m,p,d,r,c);return f.sys.cache.bitmapFont.add(u,{data:v,texture:h,frame:o}),!0}return!1}},function(C,F,n){var l=n(1),g=n(1);l=n(1040),g=n(1042),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(1041),g=n(19),f=n(12);C.exports=function(h,o,a,d){if(0!==o._text.length){var G,H,Y,p=h.pipelines.set(o.pipeline,o),m=g(o,a,d).calc,v=a.roundPixels,x=a.alpha,T=o.charColors,E=o.tintFill,M=f.getTintAppendFloatAlpha,S=M(o.tintTopLeft,x*o._alphaTL),P=M(o.tintTopRight,x*o._alphaTR),R=M(o.tintBottomLeft,x*o._alphaBL),w=M(o.tintBottomRight,x*o._alphaBR),L=o.frame.glTexture,I=p.setGameObject(o),$=o.getTextBounds(!1).characters,J=o.dropShadowX,_=o.dropShadowY,tt=0!==J||0!==_;if(h.pipelines.preBatch(o),tt){var U=o.dropShadowColor,V=o.dropShadowAlpha,X=M(U,x*V*o._alphaTL),W=M(U,x*V*o._alphaTR),j=M(U,x*V*o._alphaBL),K=M(U,x*V*o._alphaBR);for(G=0;G<$.length;G++)Y=(H=$[G]).glyph,32!==H.code&&0!==Y.width&&0!==Y.height&&l(p,o,H,Y,J,_,m,v,X,W,j,K,1,L,I)}for(G=0;G<$.length;G++)if(Y=(H=$[G]).glyph,32!==H.code&&0!==Y.width&&0!==Y.height)if(T[H.i]){var q=T[H.i],et=q.tintEffect,rt=M(q.tintTL,x*o._alphaTL),ot=M(q.tintTR,x*o._alphaTR),at=M(q.tintBL,x*o._alphaBL),ft=M(q.tintBR,x*o._alphaBR);l(p,o,H,Y,0,0,m,v,rt,ot,at,ft,et,L,I)}else l(p,o,H,Y,0,0,m,v,S,P,R,w,E,L,I);h.pipelines.postBatch(o)}}},function(C,F){C.exports=function(l,g,f,u,h,o,a,d,r,c,p,m,v,x,T){var E=f.x-g.displayOriginX+h,M=f.y-g.displayOriginY+o,S=E+f.w,P=M+f.h,R=a.getXRound(E,M,d),w=a.getYRound(E,M,d),L=a.getXRound(E,P,d),I=a.getYRound(E,P,d),B=a.getXRound(S,P,d),G=a.getYRound(S,P,d),H=a.getXRound(S,M,d),Y=a.getYRound(S,M,d);l.batchQuad(g,R,w,L,I,B,G,H,Y,u.u0,u.v0,u.u1,u.v1,r,c,p,m,v,x,T)}},function(C,F,n){var l=n(30);C.exports=function(f,u,h,o){var a=u._text,d=a.length,r=f.currentContext;if(0!==d&&l(f,r,u,h,o)){var c=u.frame,p=u.fontData.chars,m=u.fontData.lineHeight,v=u._letterSpacing,x=0,T=0,E=0,M=null,S=0,P=0,R=0,w=0,L=0,I=0,B=null,G=0,H=u.frame.source.image,Y=c.cutX,$=c.cutY,J=u._fontSize/u.fontData.size,_=u._align,tt=0,U=0,V=u.getTextBounds(!1);u.maxWidth>0&&(d=(a=V.wrappedText).length);var X=u._bounds.lines;1===_?U=(X.longest-X.lengths[0])/2:2===_&&(U=X.longest-X.lengths[0]),r.translate(-u.displayOriginX,-u.displayOriginY);for(var W=h.roundPixels,j=0;j<d;j++)if(10!==(E=a.charCodeAt(j))){if(M=p[E]){if(S=Y+M.x,P=$+M.y,w=M.height,L=M.xOffset+x,I=M.yOffset+T,null!==B){var K=M.kerning[G];L+=void 0!==K?K:0}L*=J,I*=J,L+=U,x+=M.xAdvance+v,B=M,G=E,0!==(R=M.width)&&0!==w&&32!==E&&(W&&(L=Math.round(L),I=Math.round(I)),r.save(),r.translate(L,I),r.scale(J,J),r.drawImage(H,S,P,R,w,0,0,R,w),r.restore())}}else tt++,1===_?U=(X.longest-X.lengths[tt])/2:2===_&&(U=X.longest-X.lengths[tt]),x=0,T+=m,B=null;r.restore()}}},function(C,F,n){var l=n(1),g=n(1);l=n(1044),g=n(1045),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(25),g=n(12),f=new l;C.exports=function(h,o,a,d){var r=o.getRenderList();if(0!==r.length){var c=h.pipelines.set(this.pipeline,o),p=a.scrollX*o.scrollFactorX,m=a.scrollY*o.scrollFactorY,v=f.copyFrom(a.matrix);d&&(v.multiplyWithOffset(d,-p,-m),p=0,m=0);var x=o.x-p,T=o.y-m,E=-1,S=a.alpha*o.alpha,P=a.roundPixels;h.pipelines.preBatch(o);for(var R=0;R<r.length;R++){var w=r[R],L=w.frame,I=w.alpha*S;if(0!==I){var B=L.width,G=L.height,H=x+w.x+L.x,Y=T+w.y+L.y;w.flipX&&(B*=-1,H+=L.width),w.flipY&&(G*=-1,Y+=L.height);var $=H+B,J=Y+G,_=v.getX(H,Y),tt=v.getY(H,Y),U=v.getX($,J),V=v.getY($,J),X=g.getTintAppendFloatAlpha(w.tint,I);if(L.sourceIndex!==E){var W=c.setGameObject(o,L);E=L.sourceIndex}P&&(_=Math.round(_),tt=Math.round(tt),U=Math.round(U),V=Math.round(V)),c.batchQuad(o,_,tt,_,V,U,V,U,tt,L.u0,L.v0,L.u1,L.v1,X,X,X,X,false,L.glTexture,W)&&(E=-1)}}h.pipelines.postBatch(o)}}},function(C,F){C.exports=function(l,g,f,u){var h=g.getRenderList();if(0!==h.length){var o=l.currentContext,a=f.alpha*g.alpha;if(0!==a){o.globalCompositeOperation=l.blendModes[g.blendMode],o.imageSmoothingEnabled=!(!l.antialias||g.frame.source.scaleMode);var d=g.x-f.scrollX*g.scrollFactorX,r=g.y-f.scrollY*g.scrollFactorY;o.save(),u&&u.copyToContext(o);for(var c=f.roundPixels,p=0;p<h.length;p++){var m=h[p],v=m.flipX||m.flipY,x=m.frame,T=x.canvasData,E=x.x,M=x.y,S=1,P=1,R=m.alpha*a;0!==R&&(o.globalAlpha=R,v?(m.flipX&&(S=-1,E-=T.width),m.flipY&&(P=-1,M-=T.height),o.save(),o.translate(m.x+d,m.y+r),o.scale(S,P),o.drawImage(x.source.image,T.x,T.y,T.width,T.height,E,M,T.width,T.height),o.restore()):(c&&(E=Math.round(E),M=Math.round(M)),o.drawImage(x.source.image,T.x,T.y,T.width,T.height,E+m.x+d,M+m.y+r,T.width,T.height)))}o.restore()}}}},function(C,F,n){var l=n(1),g=n(1);l=n(1047),g=n(1048),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F){C.exports=function(l,g,f,u){var h=g.list,o=h.length;if(0!==o){var a=g.localTransform;u?(a.loadIdentity(),a.multiply(u),a.translate(g.x,g.y),a.rotate(g.rotation),a.scale(g.scaleX,g.scaleY)):a.applyITRS(g.x,g.y,g.rotation,g.scaleX,g.scaleY),l.pipelines.preBatch(g);var d=-1!==g.blendMode;d||l.setBlendMode(0);for(var r=g.alpha,c=g.scrollFactorX,p=g.scrollFactorY,m=0;m<o;m++){var v=h[m];if(v.willRender(f)){var x,T,E,M;if(void 0!==v.alphaTopLeft)x=v.alphaTopLeft,T=v.alphaTopRight,E=v.alphaBottomLeft,M=v.alphaBottomRight;else{var S=v.alpha;x=S,T=S,E=S,M=S}var P=v.scrollFactorX,R=v.scrollFactorY;!d&&v.blendMode!==l.currentBlendMode&&l.setBlendMode(v.blendMode);var w=v.mask;w&&w.preRenderWebGL(l,v,f);var L=v.type;L!==l.currentType&&(l.newType=!0,l.currentType=L),l.nextTypeMatch=m<o-1&&h[m+1].type===l.currentType,v.setScrollFactor(P*c,R*p),v.setAlpha(x*r,T*r,E*r,M*r),v.renderWebGL(l,v,f,a),v.setAlpha(x,T,E,M),v.setScrollFactor(P,R),w&&w.postRenderWebGL(l,f),l.newType=!1}}l.pipelines.postBatch(g)}}},function(C,F){C.exports=function(l,g,f,u){var h=g.list;if(0!==h.length){var o=g.localTransform;u?(o.loadIdentity(),o.multiply(u),o.translate(g.x,g.y),o.rotate(g.rotation),o.scale(g.scaleX,g.scaleY)):o.applyITRS(g.x,g.y,g.rotation,g.scaleX,g.scaleY);var a=-1!==g.blendMode;a||l.setBlendMode(0);var d=g._alpha,r=g.scrollFactorX,c=g.scrollFactorY;g.mask&&g.mask.preRenderCanvas(l,null,f);for(var p=0;p<h.length;p++){var m=h[p];if(m.willRender(f)){var v=m.alpha,x=m.scrollFactorX,T=m.scrollFactorY;!a&&m.blendMode!==l.currentBlendMode&&l.setBlendMode(m.blendMode),m.setScrollFactor(x*r,T*c),m.setAlpha(v*d),m.renderCanvas(l,m,f,o),m.setAlpha(v),m.setScrollFactor(x,T)}}g.mask&&g.mask.postRenderCanvas(l)}}},function(C,F,n){var l=n(1),g=n(1);l=n(437),g=n(437),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F){C.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},function(C,F,n){var l=n(1),g=n(1);l=n(1052),g=n(1053),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(19),g=n(25),f=n(12),u=new g;C.exports=function(o,a,d,r){var c=a.text,p=c.length;if(0!==p){var m=o.pipelines.set(a.pipeline,a),v=l(a,d,r),x=v.sprite,T=v.calc,E=u,M=a.cropWidth>0||a.cropHeight>0;M&&(m.flush(),o.pushScissor(T.tx,T.ty,a.cropWidth*T.scaleX,a.cropHeight*T.scaleY));var tt,X,P=a.frame.glTexture,R=a.tintFill,w=f.getTintAppendFloatAlpha(a.tintTopLeft,d.alpha*a._alphaTL),L=f.getTintAppendFloatAlpha(a.tintTopRight,d.alpha*a._alphaTR),I=f.getTintAppendFloatAlpha(a.tintBottomLeft,d.alpha*a._alphaBL),B=f.getTintAppendFloatAlpha(a.tintBottomRight,d.alpha*a._alphaBR),G=m.setGameObject(a),H=0,Y=0,$=0,J=0,_=a.letterSpacing,U=0,V=0,W=a.scrollX,j=a.scrollY,K=a.fontData,q=K.chars,et=K.lineHeight,rt=a.fontSize/K.size,ot=0,at=a._align,ft=0,ct=0,xt=a.getTextBounds(!1);a.maxWidth>0&&(p=(c=xt.wrappedText).length);var mt=a._bounds.lines;1===at?ct=(mt.longest-mt.lengths[0])/2:2===at&&(ct=mt.longest-mt.lengths[0]);var Ct=d.roundPixels,kt=a.displayCallback,Nt=a.callbackData;o.pipelines.preBatch(a);for(var bt=0;bt<p;bt++)if(10!==($=c.charCodeAt(bt))){if(tt=q[$]){V=tt.height;var gt=tt.xOffset+H-W,Se=tt.yOffset+Y-j;if(null!==X){var Rt=tt.kerning[J];gt+=void 0!==Rt?Rt:0}if(H+=tt.xAdvance+_,X=tt,J=$,0!==(U=tt.width)&&0!==V&&32!==$){if(rt=a.fontSize/a.fontData.size,ot=0,kt){Nt.color=0,Nt.tint.topLeft=w,Nt.tint.topRight=L,Nt.tint.bottomLeft=I,Nt.tint.bottomRight=B,Nt.index=bt,Nt.charCode=$,Nt.x=gt,Nt.y=Se,Nt.scale=rt,Nt.rotation=ot,Nt.data=tt.data;var Vt=kt(Nt);gt=Vt.x,Se=Vt.y,rt=Vt.scale,ot=Vt.rotation,Vt.color?(w=Vt.color,L=Vt.color,I=Vt.color,B=Vt.color):(w=Vt.tint.topLeft,L=Vt.tint.topRight,I=Vt.tint.bottomLeft,B=Vt.tint.bottomRight),w=f.getTintAppendFloatAlpha(w,d.alpha*a._alphaTL),L=f.getTintAppendFloatAlpha(L,d.alpha*a._alphaTR),I=f.getTintAppendFloatAlpha(I,d.alpha*a._alphaBL),B=f.getTintAppendFloatAlpha(B,d.alpha*a._alphaBR)}gt*=rt,Se*=rt,gt-=a.displayOriginX,E.applyITRS(gt+=ct,Se-=a.displayOriginY,ot,rt,rt),T.multiply(E,x);var $e=tt.u0,ri=tt.v0,ye=tt.u1,ie=tt.v1,Ke=x.e,ti=x.f,Xi=V*x.c+x.e,nn=V*x.d+x.f,rn=U*x.a+V*x.c+x.e,sn=U*x.b+V*x.d+x.f,on=U*x.a+x.e,an=U*x.b+x.f;Ct&&(Ke=Math.round(Ke),ti=Math.round(ti),Xi=Math.round(Xi),nn=Math.round(nn),rn=Math.round(rn),sn=Math.round(sn),on=Math.round(on),an=Math.round(an)),m.batchQuad(a,Ke,ti,Xi,nn,rn,sn,on,an,$e,ri,ye,ie,w,L,I,B,R,P,G)}}}else ft++,1===at?ct=(mt.longest-mt.lengths[ft])/2:2===at&&(ct=mt.longest-mt.lengths[ft]),H=0,Y+=et,X=null;M&&(m.flush(),o.popScissor()),o.pipelines.postBatch(a)}}},function(C,F,n){var l=n(30);C.exports=function(f,u,h,o){var a=u._text,d=a.length,r=f.currentContext;if(0!==d&&l(f,r,u,h,o)){var c=u.frame,p=u.displayCallback,m=u.callbackData,v=u.fontData.chars,x=u.fontData.lineHeight,T=u._letterSpacing,E=0,M=0,S=0,P=null,R=0,w=0,L=0,I=0,B=0,G=0,H=null,Y=0,$=u.frame.source.image,J=c.cutX,_=c.cutY,tt=0,U=0,V=u._fontSize/u.fontData.size,X=u._align,W=0,j=0;u.getTextBounds(!1);var K=u._bounds.lines;1===X?j=(K.longest-K.lengths[0])/2:2===X&&(j=K.longest-K.lengths[0]),r.translate(-u.displayOriginX,-u.displayOriginY);var q=h.roundPixels;u.cropWidth>0&&u.cropHeight>0&&(r.beginPath(),r.rect(0,0,u.cropWidth,u.cropHeight),r.clip());for(var et=0;et<d;et++)if(U=V,tt=0,10!==(S=a.charCodeAt(et))){if(P=v[S]){if(R=J+P.x,w=_+P.y,L=P.width,I=P.height,B=P.xOffset+E-u.scrollX,G=P.yOffset+M-u.scrollY,null!==H){var rt=P.kerning[Y];B+=void 0!==rt?rt:0}if(p){m.index=et,m.charCode=S,m.x=B,m.y=G,m.scale=U,m.rotation=tt,m.data=P.data;var ot=p(m);B=ot.x,G=ot.y,U=ot.scale,tt=ot.rotation}B*=U,G*=U,B+=j,E+=P.xAdvance+T,H=P,Y=S,0!==L&&0!==I&&32!==S&&(q&&(B=Math.round(B),G=Math.round(G)),r.save(),r.translate(B,G),r.rotate(tt),r.scale(U,U),r.drawImage($,R,w,L,I,0,0,L,I),r.restore())}}else W++,1===X?j=(K.longest-K.lengths[W])/2:2===X&&(j=K.longest-K.lengths[W]),E=0,M+=x,H=null;r.restore()}}},function(C,F,n){var l=n(1),g=n(1);l=n(1055),g=n(1056),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(19);C.exports=function(f,u,h,o){f.pipelines.clear();var a=l(u,h,o).calc;u.render.call(u,f,h,a),f.pipelines.rebind()}},function(C,F){},function(C,F,n){var l=n(1),g=n(1);l=n(1058),n(442),g=n(442),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(214),g=n(19),f=n(25),u=n(12),h=function(c,p,m){this.x=c,this.y=p,this.width=m},o=function(c,p,m){this.points=[],this.pointsLength=1,this.points[0]=new h(c,p,m)},a=[],d=new f;C.exports=function(c,p,m,v){if(0!==p.commandBuffer.length){var x=c.pipelines.set(p.pipeline,p);c.pipelines.preBatch(p);for(var Y,T=g(p,m,v).calc,E=d.loadIdentity(),M=p.commandBuffer,S=m.alpha*p.alpha,P=1,R=x.fillTint,w=x.strokeTint,L=0,I=0,B=0,H=2*Math.PI,$=[],J=0,_=!0,tt=null,U=u.getTintAppendFloatAlpha,V=0;V<M.length;V++)switch(Y=M[V],Y){case l.BEGIN_PATH:$.length=0,tt=null,_=!0;break;case l.CLOSE_PATH:_=!1,tt&&tt.points.length&&tt.points.push(tt.points[0]);break;case l.FILL_PATH:for(J=0;J<$.length;J++)x.batchFillPath($[J].points,E,T);break;case l.STROKE_PATH:for(J=0;J<$.length;J++)x.batchStrokePath($[J].points,P,_,E,T);break;case l.LINE_STYLE:P=M[++V];var j=U(M[++V],M[++V]*S);w.TL=j,w.TR=j,w.BL=j,w.BR=j;break;case l.FILL_STYLE:var et=U(M[++V],M[++V]*S);R.TL=et,R.TR=et,R.BL=et,R.BR=et;break;case l.GRADIENT_FILL_STYLE:var rt=M[++V]*S,ot=M[++V]*S,at=M[++V]*S,ft=M[++V]*S;R.TL=U(M[++V],rt),R.TR=U(M[++V],ot),R.BL=U(M[++V],at),R.BR=U(M[++V],ft);break;case l.GRADIENT_LINE_STYLE:P=M[++V];var ct=M[++V]*S;w.TL=U(M[++V],ct),w.TR=U(M[++V],ct),w.BL=U(M[++V],ct),w.BR=U(M[++V],ct);break;case l.ARC:var xt=0,mt=M[++V],Ct=M[++V],kt=M[++V],Nt=M[++V],bt=M[++V],gt=M[++V],Se=M[++V];for(bt-=Nt,gt?bt<-H?bt=-H:bt>0&&(bt=bt%H-H):bt>H?bt=H:bt<0&&(bt=H+bt%H),null===tt&&(tt=new o(mt+Math.cos(Nt)*kt,Ct+Math.sin(Nt)*kt,P),$.push(tt),xt+=.01);xt<1+Se;)B=bt*xt+Nt,L=mt+Math.cos(B)*kt,I=Ct+Math.sin(B)*kt,tt.points.push(new h(L,I,P)),xt+=.01;B=bt+Nt,L=mt+Math.cos(B)*kt,I=Ct+Math.sin(B)*kt,tt.points.push(new h(L,I,P));break;case l.FILL_RECT:x.batchFillRect(M[++V],M[++V],M[++V],M[++V],E,T);break;case l.FILL_TRIANGLE:x.batchFillTriangle(M[++V],M[++V],M[++V],M[++V],M[++V],M[++V],E,T);break;case l.STROKE_TRIANGLE:x.batchStrokeTriangle(M[++V],M[++V],M[++V],M[++V],M[++V],M[++V],P,E,T);break;case l.LINE_TO:null!==tt?tt.points.push(new h(M[++V],M[++V],P)):(tt=new o(M[++V],M[++V],P),$.push(tt));break;case l.MOVE_TO:tt=new o(M[++V],M[++V],P),$.push(tt);break;case l.SAVE:a.push(E.copyToArray());break;case l.RESTORE:E.copyFromArray(a.pop());break;case l.TRANSLATE:mt=M[++V],Ct=M[++V],E.translate(mt,Ct);break;case l.SCALE:mt=M[++V],Ct=M[++V],E.scale(mt,Ct);break;case l.ROTATE:E.rotate(M[++V])}c.pipelines.postBatch(p)}}},function(C,F,n){var l=n(1),g=n(1);l=n(1060),g=n(1061),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F){C.exports=function(l,g,f,u){g.pipeline.batchSprite(g,f,u)}},function(C,F){C.exports=function(l,g,f,u){l.batchSprite(g,g.frame,f,u)}},function(C,F,n){var l=n(1),g=n(1);l=n(1063),g=n(1064),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F){C.exports=function(l,g,f,u){this.pipeline.batchSprite(g,f,u)}},function(C,F){C.exports=function(l,g,f,u){l.batchSprite(g,g.frame,f,u)}},function(C,F,n){var l=n(1),g=n(1);l=n(1066),g=n(1067),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F){C.exports=function(l,g,f){var u=g.list,h=u.length;if(0!==h){g.depthSort(),l.pipelines.preBatch(g);var o=-1!==g.blendMode;o||l.setBlendMode(0);for(var a=g.alpha,d=0;d<h;d++){var r=u[d];if(r.willRender(f)){var c,p,m,v;if(void 0!==r.alphaTopLeft)c=r.alphaTopLeft,p=r.alphaTopRight,m=r.alphaBottomLeft,v=r.alphaBottomRight;else{var x=r.alpha;c=x,p=x,m=x,v=x}!o&&r.blendMode!==l.currentBlendMode&&l.setBlendMode(r.blendMode);var T=r.mask;T&&T.preRenderWebGL(l,r,f);var E=r.type;E!==l.currentType&&(l.newType=!0,l.currentType=E),l.nextTypeMatch=d<h-1&&u[d+1].type===l.currentType,r.setAlpha(c*a,p*a,m*a,v*a),r.renderWebGL(l,r,f),r.setAlpha(c,p,m,v),T&&T.postRenderWebGL(l,f),l.newType=!1}}l.pipelines.postBatch(g)}}},function(C,F){C.exports=function(l,g,f){var u=g.list;if(0!==u.length){g.depthSort();var h=-1!==g.blendMode;h||l.setBlendMode(0);var o=g._alpha;g.mask&&g.mask.preRenderCanvas(l,null,f);for(var a=0;a<u.length;a++){var d=u[a];if(d.willRender(f)){var r=d.alpha;!h&&d.blendMode!==l.currentBlendMode&&l.setBlendMode(d.blendMode),d.setAlpha(r*o),d.renderCanvas(l,d,f),d.setAlpha(r)}}g.mask&&g.mask.postRenderCanvas(l)}}},function(C,F,n){C.exports={EmitterOp:n(443),GravityWell:n(444),Particle:n(445),ParticleEmitter:n(446),ParticleEmitterManager:n(217),Zones:n(1072)}},function(C,F,n){var l=n(1),g=n(1);l=n(1070),g=n(1071),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(25),g=n(12),f=new l,u=new l,h=new l,o=new l;C.exports=function(d,r,c,p){var m=r.emitters.list,v=m.length;if(0!==v){var x=d.pipelines.set(r.pipeline),T=f,E=u,M=h,S=o;p?(S.loadIdentity(),S.multiply(p),S.translate(r.x,r.y),S.rotate(r.rotation),S.scale(r.scaleX,r.scaleY)):S.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY);var P=c.roundPixels,R=r.defaultFrame.glTexture,w=g.getTintAppendFloatAlpha,L=x.setGameObject(r,r.defaultFrame);d.pipelines.preBatch(r);for(var I=0;I<v;I++){var B=m[I],G=B.alive,H=G.length;if(B.visible&&0!==H){var Y=B.scrollFactorX,$=B.scrollFactorY;d.setBlendMode(B.blendMode),B.mask&&(B.mask.preRenderWebGL(d,B,c),d.pipelines.set(r.pipeline));for(var _=0;_<H;_++){var tt=G[_],U=tt.alpha*c.alpha;if(!(U<=0)){M.applyITRS(tt.x,tt.y,tt.rotation,tt.scaleX,tt.scaleY),T.copyFrom(c.matrix),T.multiplyWithOffset(S,-c.scrollX*Y,-c.scrollY*$),M.e=tt.x,M.f=tt.y,T.multiply(M,E);var V=tt.frame,X=-V.halfWidth,W=-V.halfHeight,j=X+V.width,K=W+V.height,q=E.getXRound(X,W,P),et=E.getYRound(X,W,P),rt=E.getXRound(X,K,P),ot=E.getYRound(X,K,P),at=E.getXRound(j,K,P),ft=E.getYRound(j,K,P),ct=E.getXRound(j,W,P),xt=E.getYRound(j,W,P),mt=w(tt.tint,U);x.batchQuad(B,q,et,rt,ot,at,ft,ct,xt,V.u0,V.v0,V.u1,V.v1,mt,mt,mt,mt,0,R,L)}}B.mask&&B.mask.postRenderWebGL(d,c)}}d.pipelines.postBatch(r)}}},function(C,F,n){var l=n(25),g=new l,f=new l,u=new l,h=new l;C.exports=function(a,d,r,c){var p=d.emitters.list,m=p.length;if(0!==m){var v=g.copyFrom(r.matrix),x=f,T=u,E=h;c?(E.loadIdentity(),E.multiply(c),E.translate(d.x,d.y),E.rotate(d.rotation),E.scale(d.scaleX,d.scaleY)):E.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY);for(var M=a.currentContext,S=r.roundPixels,P=0;P<m;P++){var R=p[P],w=R.alive,L=w.length;if(R.visible&&0!==L){var I=R.follow?R.follow.x+R.followOffset.x:0,B=R.follow?R.follow.y+R.followOffset.y:0,G=R.scrollFactorX,H=R.scrollFactorY;M.save(),M.globalCompositeOperation=a.blendModes[R.blendMode];for(var Y=0;Y<L;Y++){var $=w[Y],J=$.alpha*r.alpha;if(!(J<=0)){T.applyITRS($.x,$.y,$.rotation,$.scaleX,$.scaleY),v.copyFrom(r.matrix),v.multiplyWithOffset(E,I+-r.scrollX*G,B+-r.scrollY*H),T.e=$.x,T.f=$.y,v.multiply(T,x);var _=$.frame,tt=_.canvasData,U=-_.halfWidth,V=-_.halfHeight;M.globalAlpha=J,M.save(),x.setToContext(M),S&&(U=Math.round(U),V=Math.round(V)),M.imageSmoothingEnabled=!(!a.antialias||_.source.scaleMode),M.drawImage(_.source.image,tt.x,tt.y,tt.width,tt.height,U,V,tt.width,tt.height),M.restore()}}M.restore()}}}}},function(C,F,n){C.exports={DeathZone:n(447),EdgeZone:n(448),RandomZone:n(450)}},function(C,F,n){var l=n(1),g=n(1);l=n(1074),g=n(1075),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(12);C.exports=function(f,u,h,o){var a=h.alpha,d=u.renderTarget,r=d.width,c=d.height,p=l.getTintAppendFloatAlpha,m=f.pipelines.set(u.pipeline),v=m.setTexture2D(d.texture);f.pipelines.preBatch(u),m.batchTexture(u,d.texture,r,c,u.x,u.y,r,c,u.scaleX,u.scaleY,u.rotation,u.flipX,!u.flipY,u.scrollFactorX,u.scrollFactorY,u.displayOriginX,u.displayOriginY,0,0,r,c,p(u.tintTopLeft,a*u._alphaTL),p(u.tintTopRight,a*u._alphaTR),p(u.tintBottomLeft,a*u._alphaBL),p(u.tintBottomRight,a*u._alphaBR),u.tintFill,0,0,h,o,!0,v),f.resetTextures(),f.pipelines.postBatch(u)}},function(C,F){C.exports=function(l,g,f,u){l.batchSprite(g,g.frame,f,u)}},function(C,F,n){var l=n(1077),g=n(17),f={Parse:n(1078)};f=g(!1,f,l),C.exports=f},function(C,F){C.exports={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"}},function(C,F,n){var l=n(6);C.exports=function(f,u){var h=u.width,o=u.height,a=Math.floor(h/2),d=Math.floor(o/2),r=l(u,"chars","");if(""!==r){var c=l(u,"image",""),p=f.sys.textures.getFrame(c),m=p.cutX,v=p.cutY,x=p.source.width,T=p.source.height,E=l(u,"offset.x",0),M=l(u,"offset.y",0),S=l(u,"spacing.x",0),P=l(u,"spacing.y",0),R=l(u,"lineSpacing",0),w=l(u,"charsPerRow",null);null===w&&(w=x/h)>r.length&&(w=r.length);for(var L=E,I=M,B={retroFont:!0,font:c,size:h,lineHeight:o+R,chars:{}},G=0,H=0;H<r.length;H++){var Y=r.charCodeAt(H);B.chars[Y]={x:L,y:I,width:h,height:o,centerX:a,centerY:d,xOffset:0,yOffset:0,xAdvance:h,data:{},kerning:{},u0:(m+L)/x,v0:(v+I)/T,u1:(m+L+h)/x,v1:(v+I+o)/T},++G===w?(G=0,L=E,I+=o+P):L+=h+S}return{data:B,frame:null,texture:c}}}},function(C,F,n){var l=n(1),g=n(1);l=n(1080),g=n(1081),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(19),g=n(12);C.exports=function(u,h,o,a){var d=u.pipelines.set(h.pipeline,h),r=l(h,o,a).calc,c=h.vertices,p=h.uv,m=h.colors,v=h.alphas,x=h.alpha,T=g.getTintAppendFloatAlpha,E=o.roundPixels,M=c.length,S=Math.floor(.5*M);d.flush(),u.pipelines.preBatch(h);var P=d.setGameObject(h),R=d.vertexViewF32,w=d.vertexViewU32,L=d.vertexCount*d.currentShader.vertexComponentCount-1,I=0,B=h.tintFill;h.dirty&&h.updateVertices();for(var G=h.debugCallback,H=[],Y=0;Y<M;Y+=2){var $=c[Y+0],J=c[Y+1],_=$*r.a+J*r.c+r.e,tt=$*r.b+J*r.d+r.f;E&&(_=Math.round(_),tt=Math.round(tt)),R[++L]=_,R[++L]=tt,R[++L]=p[Y+0],R[++L]=p[Y+1],R[++L]=P,R[++L]=B,w[++L]=T(m[I],o.alpha*(v[I]*x)),I++,G&&(H[Y+0]=_,H[Y+1]=tt)}G&&G.call(h,h,M,H),d.vertexCount+=S,u.pipelines.postBatch(h)}},function(C,F){C.exports=function(){}},function(C,F,n){var l=n(1),g=n(1);l=n(1083),g=n(1084),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(12);C.exports=function(f,u,h,o){if(0!==u.width&&0!==u.height){var a=u.frame,d=a.width,r=a.height,c=l.getTintAppendFloatAlpha,p=f.pipelines.set(u.pipeline,u),m=p.setTexture2D(a.glTexture,u);f.pipelines.preBatch(u),p.batchTexture(u,a.glTexture,d,r,u.x,u.y,d/u.style.resolution,r/u.style.resolution,u.scaleX,u.scaleY,u.rotation,u.flipX,u.flipY,u.scrollFactorX,u.scrollFactorY,u.displayOriginX,u.displayOriginY,0,0,d,r,c(u.tintTopLeft,h.alpha*u._alphaTL),c(u.tintTopRight,h.alpha*u._alphaTR),c(u.tintBottomLeft,h.alpha*u._alphaBL),c(u.tintBottomRight,h.alpha*u._alphaBR),u.tintFill,0,0,h,o,!1,m),f.pipelines.postBatch(u)}}},function(C,F){C.exports=function(l,g,f,u){0===g.width||0===g.height||l.batchSprite(g,g.frame,f,u)}},function(C,F,n){var l=n(1),g=n(1);l=n(1086),g=n(1087),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(12);C.exports=function(f,u,h,o){u.updateCanvas();var a=u.width,d=u.height;if(0!==a&&0!==d){f.pipelines.preBatch(u);var r=l.getTintAppendFloatAlpha,c=f.pipelines.set(u.pipeline,u),p=c.setTexture2D(u.fillPattern,u);c.batchTexture(u,u.fillPattern,u.displayFrame.width*u.tileScaleX,u.displayFrame.height*u.tileScaleY,u.x,u.y,a,d,u.scaleX,u.scaleY,u.rotation,u.flipX,u.flipY,u.scrollFactorX,u.scrollFactorY,u.originX*a,u.originY*d,0,0,a,d,r(u.tintTopLeft,h.alpha*u._alphaTL),r(u.tintTopRight,h.alpha*u._alphaTR),r(u.tintBottomLeft,h.alpha*u._alphaBL),r(u.tintBottomRight,h.alpha*u._alphaBR),u.tintFill,u.tilePositionX%u.displayFrame.width/u.displayFrame.width,u.tilePositionY%u.displayFrame.height/u.displayFrame.height,h,o,!1,p),f.pipelines.postBatch(u)}}},function(C,F){C.exports=function(l,g,f,u){g.updateCanvas(),l.batchSprite(g,g.frame,f,u)}},function(C,F,n){var l=n(1),g=n(1);l=n(1089),g=n(1090),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F){C.exports=function(l,g,f,u){g.videoTexture&&g.pipeline.batchSprite(g,f,u)}},function(C,F){C.exports=function(l,g,f,u){g.videoTexture&&l.batchSprite(g,g.frame,f,u)}},function(C,F,n){var l=n(1),g=n(1);l=n(1092),g=n(1093),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(19),g=n(111),f=n(81);C.exports=function(h,o,a,d){var r=h.pipelines.set(o.pipeline),c=l(o,a,d),p=r.calcMatrix.copyFrom(c.calc),m=o._displayOriginX,v=o._displayOriginY,x=a.alpha*o.alpha;h.pipelines.preBatch(o),o.isFilled&&g(r,p,o,x,m,v),o.isStroked&&f(r,o,x,m,v),h.pipelines.postBatch(o)}},function(C,F,n){var l=n(34),g=n(46),f=n(58),u=n(30);C.exports=function(o,a,d,r){var c=o.currentContext;if(u(o,c,a,d,r)){var p=a.radius;c.beginPath(),c.arc(p-a.originX*(2*p),p-a.originY*(2*p),p,l(a._startAngle),l(a._endAngle),a.anticlockwise),a.closePath&&c.closePath(),a.isFilled&&(g(c,a),c.fill()),a.isStroked&&(f(c,a),c.stroke()),c.restore()}}},function(C,F,n){var l=n(1),g=n(1);l=n(1095),g=n(1096),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(111),g=n(19),f=n(81);C.exports=function(h,o,a,d){var r=h.pipelines.set(o.pipeline),c=g(o,a,d),p=r.calcMatrix.copyFrom(c.calc),m=o._displayOriginX+o._curveBounds.x,v=o._displayOriginY+o._curveBounds.y,x=a.alpha*o.alpha;h.pipelines.preBatch(o),o.isFilled&&l(r,p,o,x,m,v),o.isStroked&&f(r,o,x,m,v),h.pipelines.postBatch(o)}},function(C,F,n){var l=n(46),g=n(58),f=n(30);C.exports=function(h,o,a,d){var r=h.currentContext;if(f(h,r,o,a,d)){var c=o._displayOriginX+o._curveBounds.x,p=o._displayOriginY+o._curveBounds.y,m=o.pathData,v=m.length-1,x=m[0]-c,T=m[1]-p;r.beginPath(),r.moveTo(x,T),o.closePath||(v-=2);for(var E=2;E<v;E+=2)r.lineTo(m[E]-c,m[E+1]-p);o.closePath&&r.closePath(),o.isFilled&&(l(r,o),r.fill()),o.isStroked&&(g(r,o),r.stroke()),r.restore()}}},function(C,F,n){var l=n(1),g=n(1);l=n(1098),g=n(1099),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(111),g=n(19),f=n(81);C.exports=function(h,o,a,d){var r=h.pipelines.set(o.pipeline),c=g(o,a,d),p=r.calcMatrix.copyFrom(c.calc),m=o._displayOriginX,v=o._displayOriginY,x=a.alpha*o.alpha;h.pipelines.preBatch(o),o.isFilled&&l(r,p,o,x,m,v),o.isStroked&&f(r,o,x,m,v),h.pipelines.postBatch(o)}},function(C,F,n){var l=n(46),g=n(58),f=n(30);C.exports=function(h,o,a,d){var r=h.currentContext;if(f(h,r,o,a,d)){var c=o._displayOriginX,p=o._displayOriginY,m=o.pathData,v=m.length-1,x=m[0]-c,T=m[1]-p;r.beginPath(),r.moveTo(x,T),o.closePath||(v-=2);for(var E=2;E<v;E+=2)r.lineTo(m[E]-c,m[E+1]-p);r.closePath(),o.isFilled&&(l(r,o),r.fill()),o.isStroked&&(g(r,o),r.stroke()),r.restore()}}},function(C,F,n){var l=n(1),g=n(1);l=n(1101),g=n(1102),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(19),g=n(12);C.exports=function(u,h,o,a){var d=u.pipelines.set(h.pipeline),r=l(h,o,a);d.calcMatrix.copyFrom(r.calc).translate(-h._displayOriginX,-h._displayOriginY);var L,I,p=o.alpha*h.alpha,m=h.width,v=h.height,x=h.cellWidth,T=h.cellHeight,E=Math.ceil(m/x),M=Math.ceil(v/T),S=x,P=T,R=x-(E*x-m),w=T-(M*T-v),B=h.showCells,G=h.showAltCells,H=h.showOutline,Y=0,$=0,J=0;if(H&&(S--,P--,R===x&&R--,w===T&&w--),u.pipelines.preBatch(h),B&&h.fillAlpha>0)for(L=d.fillTint,I=g.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*p),L.TL=I,L.TR=I,L.BL=I,L.BR=I,$=0;$<M;$++)for(G&&(J=$%2),Y=0;Y<E;Y++)G&&J?J=0:(J++,d.batchFillRect(Y*x,$*T,Y<E-1?S:R,$<M-1?P:w));if(G&&h.altFillAlpha>0)for(L=d.fillTint,I=g.getTintAppendFloatAlpha(h.altFillColor,h.altFillAlpha*p),L.TL=I,L.TR=I,L.BL=I,L.BR=I,$=0;$<M;$++)for(G&&(J=$%2),Y=0;Y<E;Y++)!G||J?(J=0,d.batchFillRect(Y*x,$*T,Y<E-1?S:R,$<M-1?P:w)):J=1;if(H&&h.outlineFillAlpha>0){var U=d.strokeTint,V=g.getTintAppendFloatAlpha(h.outlineFillColor,h.outlineFillAlpha*p);for(U.TL=V,U.TR=V,U.BL=V,U.BR=V,Y=1;Y<E;Y++){var X=Y*x;d.batchLine(X,0,X,v,1,1,1,0,!1)}for($=1;$<M;$++){var W=$*T;d.batchLine(0,W,m,W,1,1,1,0,!1)}}u.pipelines.postBatch(h)}},function(C,F,n){var l=n(46),g=n(58),f=n(30);C.exports=function(h,o,a,d){var r=h.currentContext;if(f(h,r,o,a,d)){var c=-o._displayOriginX,p=-o._displayOriginY,m=a.alpha*o.alpha,v=o.width,x=o.height,T=o.cellWidth,E=o.cellHeight,M=Math.ceil(v/T),S=Math.ceil(x/E),P=T,R=E,w=T-(M*T-v),L=E-(S*E-x),B=o.showAltCells,G=o.showOutline,H=0,Y=0,$=0;if(G&&(P--,R--,w===T&&w--,L===E&&L--),o.showCells&&o.fillAlpha>0)for(l(r,o),Y=0;Y<S;Y++)for(B&&($=Y%2),H=0;H<M;H++)B&&$?$=0:($++,r.fillRect(c+H*T,p+Y*E,H<M-1?P:w,Y<S-1?R:L));if(B&&o.altFillAlpha>0)for(l(r,o,o.altFillColor,o.altFillAlpha*m),Y=0;Y<S;Y++)for(B&&($=Y%2),H=0;H<M;H++)!B||$?($=0,r.fillRect(c+H*T,p+Y*E,H<M-1?P:w,Y<S-1?R:L)):$=1;if(G&&o.outlineFillAlpha>0){for(g(r,o,o.outlineFillColor,o.outlineFillAlpha*m),H=1;H<M;H++){var tt=H*T;r.beginPath(),r.moveTo(tt+c,p),r.lineTo(tt+c,x+p),r.stroke()}for(Y=1;Y<S;Y++){var U=Y*E;r.beginPath(),r.moveTo(c,U+p),r.lineTo(c+v,U+p),r.stroke()}}r.restore()}}},function(C,F,n){var l=n(1),g=n(1);l=n(1104),g=n(1105),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(19),g=n(12);C.exports=function(u,h,o,a){var E,M,S,P,R,w,L,I,B,d=u.pipelines.set(h.pipeline),r=l(h,o,a),c=d.calcMatrix.copyFrom(r.calc),p=h.width,m=h.height,v=p/2,x=p/h.projection,T=o.alpha*h.alpha;h.isFilled&&(u.pipelines.preBatch(h),h.showTop&&(E=g.getTintAppendFloatAlpha(h.fillTop,T),M=c.getX(-v,-m),S=c.getY(-v,-m),P=c.getX(0,-x-m),R=c.getY(0,-x-m),w=c.getX(v,-m),L=c.getY(v,-m),I=c.getX(0,x-m),B=c.getY(0,x-m),d.batchQuad(M,S,P,R,w,L,I,B,E,E,E,E)),h.showLeft&&(E=g.getTintAppendFloatAlpha(h.fillLeft,T),M=c.getX(-v,0),S=c.getY(-v,0),P=c.getX(0,x),R=c.getY(0,x),w=c.getX(0,x-m),L=c.getY(0,x-m),I=c.getX(-v,-m),B=c.getY(-v,-m),d.batchQuad(M,S,P,R,w,L,I,B,E,E,E,E)),h.showRight&&(E=g.getTintAppendFloatAlpha(h.fillRight,T),M=c.getX(v,0),S=c.getY(v,0),P=c.getX(0,x),R=c.getY(0,x),w=c.getX(0,x-m),L=c.getY(0,x-m),I=c.getX(v,-m),B=c.getY(v,-m),d.batchQuad(M,S,P,R,w,L,I,B,E,E,E,E)),u.pipelines.postBatch(h))}},function(C,F,n){var l=n(46),g=n(30);C.exports=function(u,h,o,a){var d=u.currentContext;if(g(u,d,h,o,a)&&h.isFilled){var r=h.width,c=h.height,p=r/2,m=r/h.projection;h.showTop&&(l(d,h,h.fillTop),d.beginPath(),d.moveTo(-p,-c),d.lineTo(0,-m-c),d.lineTo(p,-c),d.lineTo(p,-1),d.lineTo(0,m-1),d.lineTo(-p,-1),d.lineTo(-p,-c),d.fill()),h.showLeft&&(l(d,h,h.fillLeft),d.beginPath(),d.moveTo(-p,0),d.lineTo(0,m),d.lineTo(0,m-c),d.lineTo(-p,-c),d.lineTo(-p,0),d.fill()),h.showRight&&(l(d,h,h.fillRight),d.beginPath(),d.moveTo(p,0),d.lineTo(0,m),d.lineTo(0,m-c),d.lineTo(p,-c),d.lineTo(p,0),d.fill()),d.restore()}}},function(C,F,n){var l=n(1),g=n(1);l=n(1107),g=n(1108),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(19),g=n(12);C.exports=function(u,h,o,a){var d=u.pipelines.set(h.pipeline),r=l(h,o,a),c=d.calcMatrix.copyFrom(r.calc),p=h.width,m=h.height,v=p/2,x=p/h.projection,T=h.isReversed,E=o.alpha*h.alpha;if(h.isFilled){var M,S,P,R,w,L,I;if(u.pipelines.preBatch(h),h.showTop&&T){M=g.getTintAppendFloatAlpha(h.fillTop,E),S=c.getX(-v,-m),P=c.getY(-v,-m),R=c.getX(0,-x-m),w=c.getY(0,-x-m),L=c.getX(v,-m),I=c.getY(v,-m);var B=c.getX(0,x-m),G=c.getY(0,x-m);d.batchQuad(S,P,R,w,L,I,B,G,M,M,M,M)}h.showLeft&&(M=g.getTintAppendFloatAlpha(h.fillLeft,E),T?(S=c.getX(-v,-m),P=c.getY(-v,-m),R=c.getX(0,x),w=c.getY(0,x),L=c.getX(0,x-m),I=c.getY(0,x-m)):(S=c.getX(-v,0),P=c.getY(-v,0),R=c.getX(0,x),w=c.getY(0,x),L=c.getX(0,x-m),I=c.getY(0,x-m)),d.batchTri(S,P,R,w,L,I,M,M,M)),h.showRight&&(M=g.getTintAppendFloatAlpha(h.fillRight,E),T?(S=c.getX(v,-m),P=c.getY(v,-m),R=c.getX(0,x),w=c.getY(0,x),L=c.getX(0,x-m),I=c.getY(0,x-m)):(S=c.getX(v,0),P=c.getY(v,0),R=c.getX(0,x),w=c.getY(0,x),L=c.getX(0,x-m),I=c.getY(0,x-m)),d.batchTri(S,P,R,w,L,I,M,M,M)),u.pipelines.postBatch(h)}}},function(C,F,n){var l=n(46),g=n(30);C.exports=function(u,h,o,a){var d=u.currentContext;if(g(u,d,h,o,a)&&h.isFilled){var r=h.width,c=h.height,p=r/2,m=r/h.projection,v=h.isReversed;h.showTop&&v&&(l(d,h,h.fillTop),d.beginPath(),d.moveTo(-p,-c),d.lineTo(0,-m-c),d.lineTo(p,-c),d.lineTo(0,m-c),d.fill()),h.showLeft&&(l(d,h,h.fillLeft),d.beginPath(),v?(d.moveTo(-p,-c),d.lineTo(0,m),d.lineTo(0,m-c)):(d.moveTo(-p,0),d.lineTo(0,m),d.lineTo(0,m-c)),d.fill()),h.showRight&&(l(d,h,h.fillRight),d.beginPath(),v?(d.moveTo(p,-c),d.lineTo(0,m),d.lineTo(0,m-c)):(d.moveTo(p,0),d.lineTo(0,m),d.lineTo(0,m-c)),d.fill()),d.restore()}}},function(C,F,n){var l=n(1),g=n(1);l=n(1110),g=n(1111),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(19),g=n(12);C.exports=function(u,h,o,a){var d=u.pipelines.set(h.pipeline),r=l(h,o,a);d.calcMatrix.copyFrom(r.calc);var c=h._displayOriginX,p=h._displayOriginY,m=o.alpha*h.alpha;if(u.pipelines.preBatch(h),h.isStroked){var v=d.strokeTint,x=g.getTintAppendFloatAlpha(h.strokeColor,h.strokeAlpha*m);v.TL=x,v.TR=x,v.BL=x,v.BR=x,d.batchLine(h.geom.x1-c,h.geom.y1-p,h.geom.x2-c,h.geom.y2-p,h._startWidth,h._endWidth,1,0,!1,r.sprite,r.camera)}u.pipelines.postBatch(h)}},function(C,F,n){var l=n(58),g=n(30);C.exports=function(u,h,o,a){var d=u.currentContext;if(g(u,d,h,o,a)){var r=h._displayOriginX,c=h._displayOriginY;h.isStroked&&(l(d,h),d.beginPath(),d.moveTo(h.geom.x1-r,h.geom.y1-c),d.lineTo(h.geom.x2-r,h.geom.y2-c),d.stroke()),d.restore()}}},function(C,F,n){var l=n(1),g=n(1);l=n(1113),g=n(1114),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(111),g=n(19),f=n(81);C.exports=function(h,o,a,d){var r=h.pipelines.set(o.pipeline),c=g(o,a,d),p=r.calcMatrix.copyFrom(c.calc),m=o._displayOriginX,v=o._displayOriginY,x=a.alpha*o.alpha;h.pipelines.preBatch(o),o.isFilled&&l(r,p,o,x,m,v),o.isStroked&&f(r,o,x,m,v),h.pipelines.postBatch(o)}},function(C,F,n){var l=n(46),g=n(58),f=n(30);C.exports=function(h,o,a,d){var r=h.currentContext;if(f(h,r,o,a,d)){var c=o._displayOriginX,p=o._displayOriginY,m=o.pathData,v=m.length-1,x=m[0]-c,T=m[1]-p;r.beginPath(),r.moveTo(x,T),o.closePath||(v-=2);for(var E=2;E<v;E+=2)r.lineTo(m[E]-c,m[E+1]-p);r.closePath(),o.isFilled&&(l(r,o),r.fill()),o.isStroked&&(g(r,o),r.stroke()),r.restore()}}},function(C,F,n){var l=n(1),g=n(1);l=n(1116),g=n(1117),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(19),g=n(81),f=n(12);C.exports=function(h,o,a,d){var r=h.pipelines.set(o.pipeline),c=l(o,a,d);r.calcMatrix.copyFrom(c.calc);var p=o._displayOriginX,m=o._displayOriginY,v=a.alpha*o.alpha;if(h.pipelines.preBatch(o),o.isFilled){var x=r.fillTint,T=f.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*v);x.TL=T,x.TR=T,x.BL=T,x.BR=T,r.batchFillRect(-p,-m,o.width,o.height)}o.isStroked&&g(r,o,v,p,m),h.pipelines.postBatch(o)}},function(C,F,n){var l=n(46),g=n(58),f=n(30);C.exports=function(h,o,a,d){var r=h.currentContext;if(f(h,r,o,a,d)){var c=o._displayOriginX,p=o._displayOriginY;o.isFilled&&(l(r,o),r.fillRect(-c,-p,o.width,o.height)),o.isStroked&&(g(r,o),r.beginPath(),r.rect(-c,-p,o.width,o.height),r.stroke()),r.restore()}}},function(C,F,n){var l=n(1),g=n(1);l=n(1119),g=n(1120),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(111),g=n(19),f=n(81);C.exports=function(h,o,a,d){var r=h.pipelines.set(o.pipeline),c=g(o,a,d),p=r.calcMatrix.copyFrom(c.calc),m=o._displayOriginX,v=o._displayOriginY,x=a.alpha*o.alpha;h.pipelines.preBatch(o),o.isFilled&&l(r,p,o,x,m,v),o.isStroked&&f(r,o,x,m,v),h.pipelines.postBatch(o)}},function(C,F,n){var l=n(46),g=n(58),f=n(30);C.exports=function(h,o,a,d){var r=h.currentContext;if(f(h,r,o,a,d)){var c=o._displayOriginX,p=o._displayOriginY,m=o.pathData,v=m.length-1,x=m[0]-c,T=m[1]-p;r.beginPath(),r.moveTo(x,T),o.closePath||(v-=2);for(var E=2;E<v;E+=2)r.lineTo(m[E]-c,m[E+1]-p);r.closePath(),o.isFilled&&(l(r,o),r.fill()),o.isStroked&&(g(r,o),r.stroke()),r.restore()}}},function(C,F,n){var l=n(1),g=n(1);l=n(1122),g=n(1123),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(19),g=n(81),f=n(12);C.exports=function(h,o,a,d){var r=h.pipelines.set(o.pipeline),c=l(o,a,d);r.calcMatrix.copyFrom(c.calc);var p=o._displayOriginX,m=o._displayOriginY,v=a.alpha*o.alpha;if(h.pipelines.preBatch(o),o.isFilled){var x=r.fillTint,T=f.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*v);x.TL=T,x.TR=T,x.BL=T,x.BR=T,r.batchFillTriangle(o.geom.x1-p,o.geom.y1-m,o.geom.x2-p,o.geom.y2-m,o.geom.x3-p,o.geom.y3-m,c.sprite,c.camera)}o.isStroked&&g(r,o,v,p,m),h.pipelines.postBatch(o)}},function(C,F,n){var l=n(46),g=n(58),f=n(30);C.exports=function(h,o,a,d){var r=h.currentContext;if(f(h,r,o,a,d)){var c=o._displayOriginX,p=o._displayOriginY,m=o.geom.x1-c,v=o.geom.y1-p,x=o.geom.x2-c,T=o.geom.y2-p,E=o.geom.x3-c,M=o.geom.y3-p;r.beginPath(),r.moveTo(m,v),r.lineTo(x,T),r.lineTo(E,M),r.closePath(),o.isFilled&&(l(r,o),r.fill()),o.isStroked&&(g(r,o),r.stroke()),r.restore()}}},function(C,F,n){var l=n(210);n(5).register("blitter",function(f,u,h,o){return this.displayList.add(new l(this.scene,f,u,h,o))})},function(C,F,n){var l=n(211);n(5).register("container",function(f,u,h){return this.displayList.add(new l(this.scene,f,u,h))})},function(C,F,n){var l=n(436);n(5).register("dom",function(f,u,h,o,a){var d=new l(this.scene,f,u,h,o,a);return this.displayList.add(d),d})},function(C,F,n){var l=n(212);n(5).register("dynamicBitmapText",function(f,u,h,o,a){return this.displayList.add(new l(this.scene,f,u,h,o,a))})},function(C,F,n){var l=n(438);n(5).register("extern",function(){var f=new l(this.scene);return this.displayList.add(f),f})},function(C,F,n){var l=n(213);n(5).register("graphics",function(f){return this.displayList.add(new l(this.scene,f))})},function(C,F,n){var l=n(110);n(5).register("group",function(f,u){return this.updateList.add(new l(this.scene,f,u))})},function(C,F,n){var l=n(124);n(5).register("image",function(f,u,h,o){return this.displayList.add(new l(this.scene,f,u,h,o))})},function(C,F,n){var l=n(216);n(5).register("layer",function(f){return this.displayList.add(new l(this.scene,f))})},function(C,F,n){var l=n(5),g=n(217);l.register("particles",function(f,u,h){return this.displayList.add(new g(this.scene,f,u,h))})},function(C,F,n){var l=n(5),g=n(451);l.register("follower",function(f,u,h,o,a){var d=new g(this.scene,f,u,h,o,a);return this.displayList.add(d),this.updateList.add(d),d})},function(C,F,n){var l=n(5),g=n(218);l.register("renderTexture",function(f,u,h,o,a,d){return this.displayList.add(new g(this.scene,f,u,h,o,a,d))})},function(C,F,n){var l=n(220);n(5).register("rope",function(f,u,h,o,a,d,r,c){return this.displayList.add(new l(this.scene,f,u,h,o,a,d,r,c))})},function(C,F,n){var l=n(5),g=n(73);l.register("sprite",function(f,u,h,o){var a=new g(this.scene,f,u,h,o);return this.displayList.add(a),a})},function(C,F,n){var l=n(147);n(5).register("bitmapText",function(f,u,h,o,a,d){return this.displayList.add(new l(this.scene,f,u,h,o,a,d))})},function(C,F,n){var l=n(221);n(5).register("text",function(f,u,h,o){return this.displayList.add(new l(this.scene,f,u,h,o))})},function(C,F,n){var l=n(222);n(5).register("tileSprite",function(f,u,h,o,a,d){return this.displayList.add(new l(this.scene,f,u,h,o,a,d))})},function(C,F,n){var l=n(127);n(5).register("zone",function(f,u,h,o){return this.displayList.add(new l(this.scene,f,u,h,o))})},function(C,F,n){var l=n(223);n(5).register("video",function(f,u,h){return this.displayList.add(new l(this.scene,f,u,h))})},function(C,F,n){var l=n(455),g=n(5);g.register("arc",function(f,u,h,o,a,d,r,c){return this.displayList.add(new l(this.scene,f,u,h,o,a,d,r,c))}),g.register("circle",function(f,u,h,o,a){return this.displayList.add(new l(this.scene,f,u,h,0,360,!1,o,a))})},function(C,F,n){var l=n(5),g=n(456);l.register("curve",function(f,u,h,o,a){return this.displayList.add(new g(this.scene,f,u,h,o,a))})},function(C,F,n){var l=n(457);n(5).register("ellipse",function(f,u,h,o,a,d){return this.displayList.add(new l(this.scene,f,u,h,o,a,d))})},function(C,F,n){var l=n(5),g=n(458);l.register("grid",function(f,u,h,o,a,d,r,c,p,m){return this.displayList.add(new g(this.scene,f,u,h,o,a,d,r,c,p,m))})},function(C,F,n){var l=n(5),g=n(459);l.register("isobox",function(f,u,h,o,a,d,r){return this.displayList.add(new g(this.scene,f,u,h,o,a,d,r))})},function(C,F,n){var l=n(5),g=n(460);l.register("isotriangle",function(f,u,h,o,a,d,r,c){return this.displayList.add(new g(this.scene,f,u,h,o,a,d,r,c))})},function(C,F,n){var l=n(5),g=n(461);l.register("line",function(f,u,h,o,a,d,r,c){return this.displayList.add(new g(this.scene,f,u,h,o,a,d,r,c))})},function(C,F,n){var l=n(5),g=n(462);l.register("polygon",function(f,u,h,o,a){return this.displayList.add(new g(this.scene,f,u,h,o,a))})},function(C,F,n){var l=n(5),g=n(467);l.register("rectangle",function(f,u,h,o,a,d){return this.displayList.add(new g(this.scene,f,u,h,o,a,d))})},function(C,F,n){var l=n(468);n(5).register("star",function(f,u,h,o,a,d,r){return this.displayList.add(new l(this.scene,f,u,h,o,a,d,r))})},function(C,F,n){var l=n(5),g=n(469);l.register("triangle",function(f,u,h,o,a,d,r,c,p,m){return this.displayList.add(new g(this.scene,f,u,h,o,a,d,r,c,p,m))})},function(C,F,n){var l=n(210),g=n(28),f=n(16),u=n(13);f.register("blitter",function(h,o){void 0===h&&(h={});var a=u(h,"key",null),d=u(h,"frame",null),r=new l(this.scene,0,0,a,d);return void 0!==o&&(h.add=o),g(this.scene,r,h),r})},function(C,F,n){var l=n(28),g=n(211),f=n(16),u=n(13);f.register("container",function(h,o){void 0===h&&(h={});var a=u(h,"x",0),d=u(h,"y",0),r=u(h,"children",null),c=new g(this.scene,a,d,r);return void 0!==o&&(h.add=o),l(this.scene,c,h),c})},function(C,F,n){var l=n(212),g=n(28),f=n(16),u=n(13);f.register("dynamicBitmapText",function(h,o){void 0===h&&(h={});var a=u(h,"font",""),d=u(h,"text",""),r=u(h,"size",!1),c=new l(this.scene,0,0,a,d,r);return void 0!==o&&(h.add=o),g(this.scene,c,h),c})},function(C,F,n){var l=n(16),g=n(213);l.register("graphics",function(f,u){void 0===f&&(f={}),void 0!==u&&(f.add=u);var h=new g(this.scene,f);return f.add&&this.scene.sys.displayList.add(h),h})},function(C,F,n){var l=n(16),g=n(110);l.register("group",function(f){return new g(this.scene,null,f)})},function(C,F,n){var l=n(28),g=n(16),f=n(13),u=n(124);g.register("image",function(h,o){void 0===h&&(h={});var a=f(h,"key",null),d=f(h,"frame",null),r=new u(this.scene,0,0,a,d);return void 0!==o&&(h.add=o),l(this.scene,r,h),r})},function(C,F,n){var l=n(28),g=n(216),f=n(16),u=n(13);f.register("layer",function(h,o){void 0===h&&(h={});var a=u(h,"children",null),d=new g(this.scene,a);return void 0!==o&&(h.add=o),l(this.scene,d,h),d})},function(C,F,n){var l=n(16),g=n(13),f=n(2),u=n(217);l.register("particles",function(h,o){void 0===h&&(h={});var a=g(h,"key",null),d=g(h,"frame",null),r=f(h,"emitters",null),c=new u(this.scene,a,d,r);return void 0!==o&&(h.add=o),f(h,"add",!1)?this.displayList.add(c):this.updateList.add(c),c})},function(C,F,n){var l=n(28),g=n(16),f=n(13),u=n(218);g.register("renderTexture",function(h,o){void 0===h&&(h={});var a=f(h,"x",0),d=f(h,"y",0),r=f(h,"width",32),c=f(h,"height",32),p=f(h,"key",void 0),m=f(h,"frame",void 0),v=new u(this.scene,a,d,r,c,p,m);return void 0!==o&&(h.add=o),l(this.scene,v,h),v})},function(C,F,n){var l=n(28),g=n(16),f=n(13),u=n(6),h=n(220);g.register("rope",function(o,a){void 0===o&&(o={});var d=f(o,"key",null),r=f(o,"frame",null),c=f(o,"horizontal",!0),p=u(o,"points",void 0),m=u(o,"colors",void 0),v=u(o,"alphas",void 0),x=new h(this.scene,0,0,d,r,p,c,m,v);return void 0!==a&&(o.add=a),l(this.scene,x,o),o.add||this.updateList.add(x),x})},function(C,F,n){var l=n(28),g=n(433),f=n(16),u=n(13),h=n(73);f.register("sprite",function(o,a){void 0===o&&(o={});var d=u(o,"key",null),r=u(o,"frame",null),c=new h(this.scene,0,0,d,r);return void 0!==a&&(o.add=a),l(this.scene,c,o),g(c,o),c})},function(C,F,n){var l=n(147),g=n(28),f=n(16),u=n(13),h=n(6);f.register("bitmapText",function(o,a){void 0===o&&(o={});var d=h(o,"font",""),r=u(o,"text",""),c=u(o,"size",!1),p=h(o,"align",0),m=new l(this.scene,0,0,d,r,c,p);return void 0!==a&&(o.add=a),g(this.scene,m,o),m})},function(C,F,n){var l=n(28),g=n(16),f=n(13),u=n(221);g.register("text",function(h,o){void 0===h&&(h={});var a=f(h,"text",""),d=f(h,"style",null),r=f(h,"padding",null);null!==r&&(d.padding=r);var c=new u(this.scene,0,0,a,d);return void 0!==o&&(h.add=o),l(this.scene,c,h),c.autoRound=f(h,"autoRound",!0),c.resolution=f(h,"resolution",1),c})},function(C,F,n){var l=n(28),g=n(16),f=n(13),u=n(222);g.register("tileSprite",function(h,o){void 0===h&&(h={});var a=f(h,"x",0),d=f(h,"y",0),r=f(h,"width",512),c=f(h,"height",512),p=f(h,"key",""),m=f(h,"frame",""),v=new u(this.scene,a,d,r,c,p,m);return void 0!==o&&(h.add=o),l(this.scene,v,h),v})},function(C,F,n){var l=n(16),g=n(13),f=n(127);l.register("zone",function(u){var h=g(u,"x",0),o=g(u,"y",0),a=g(u,"width",1),d=g(u,"height",a);return new f(this.scene,h,o,a,d)})},function(C,F,n){var l=n(28),g=n(16),f=n(13),u=n(223);g.register("video",function(h,o){void 0===h&&(h={});var a=f(h,"key",null),d=new u(this.scene,0,0,a);return void 0!==o&&(h.add=o),l(this.scene,d,h),h.add||this.updateList.add(d),d})},function(C,F,n){var l=n(1),g=n(1);l=n(1171),g=n(1172),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(19);C.exports=function(f,u,h,o){if(u.shader){if(f.pipelines.clear(),u.renderToTexture)u.load(),u.flush();else{var a=l(u,h,o).calc;(f.width!==u._rendererWidth||f.height!==u._rendererHeight)&&u.projOrtho(0,f.width,f.height,0),u.load(a.matrix),u.flush()}f.pipelines.rebind()}}},function(C,F){C.exports=function(){}},function(C,F,n){var l=n(1),g=n(1);l=n(1174),g=n(1175),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(19);C.exports=function(f,u,h,o){var a=u.faces,d=a.length;if(0!==d){var r=f.pipelines.set(u.pipeline,u),c=l(u,h,o).calc,p=r.setGameObject(u),m=r.vertexViewF32,v=r.vertexViewU32,x=r.vertexCount*r.currentShader.vertexComponentCount-1,T=u.tintFill,E=[],M=u.debugCallback,S=c.a,P=c.b,R=c.c,w=c.d,L=c.e,I=c.f,B=u.viewPosition.z,G=u.hideCCW,H=h.roundPixels,Y=h.alpha*u.alpha,$=0;f.pipelines.preBatch(u);for(var J=0;J<d;J++){var _=a[J];!_.isInView(h,G,B,Y,S,P,R,w,L,I,H)||(r.shouldFlush(3)&&(r.flush(),x=0),x=_.load(m,v,x,p,T),$++,r.vertexCount+=3,M&&E.push(_))}u.totalFrame+=$,M&&M.call(u,u,E),f.pipelines.postBatch(u)}}},function(C,F){C.exports=function(){}},function(C,F,n){var l=n(1),g=n(1);l=n(1177),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(19);C.exports=function(f,u,h,o){var a=f.pipelines.set(u.pipeline),d=l(u,h,o).calc,p=-u._radius,m=-u._radius,v=p+u.width,x=m+u.height,T=d.getX(0,0),E=d.getY(0,0),M=d.getX(p,m),S=d.getY(p,m),P=d.getX(p,x),R=d.getY(p,x),w=d.getX(v,x),L=d.getY(v,x),I=d.getX(v,m),B=d.getY(v,m);f.pipelines.preBatch(u),a.batchPointLight(u,h,M,S,P,R,w,L,I,B,T,E),f.pipelines.postBatch(u)}},function(C,F,n){var l=n(226);n(5).register("shader",function(f,u,h,o,a,d,r){return this.displayList.add(new l(this.scene,f,u,h,o,a,d,r))})},function(C,F,n){var l=n(227);n(5).register("mesh",function(f,u,h,o,a,d,r,c,p,m,v){return this.displayList.add(new l(this.scene,f,u,h,o,a,d,r,c,p,m,v))})},function(C,F,n){var l=n(5),g=n(149);l.register("pointlight",function(f,u,h,o,a,d){return this.displayList.add(new g(this.scene,f,u,h,o,a,d))})},function(C,F,n){var l=n(28),g=n(16),f=n(13),u=n(226);g.register("shader",function(h,o){void 0===h&&(h={});var a=f(h,"key",null),d=f(h,"x",0),r=f(h,"y",0),c=f(h,"width",128),p=f(h,"height",128),m=new u(this.scene,a,d,r,c,p);return void 0!==o&&(h.add=o),l(this.scene,m,h),m})},function(C,F,n){var l=n(28),g=n(16),f=n(13),u=n(6),h=n(227);g.register("mesh",function(o,a){void 0===o&&(o={});var d=f(o,"key",null),r=f(o,"frame",null),c=u(o,"vertices",[]),p=u(o,"uvs",[]),m=u(o,"indicies",[]),v=u(o,"containsZ",!1),x=u(o,"normals",[]),T=u(o,"colors",16777215),E=u(o,"alphas",1),M=new h(this.scene,0,0,d,r,c,p,m,v,x,T,E);return void 0!==a&&(o.add=a),l(this.scene,M,o),M})},function(C,F,n){var l=n(28),g=n(16),f=n(13),u=n(149);g.register("pointlight",function(h,o){void 0===h&&(h={});var a=f(h,"color",16777215),d=f(h,"radius",128),r=f(h,"intensity",1),c=f(h,"attenuation",.1),p=new u(this.scene,0,0,a,d,r,c);return void 0!==o&&(h.add=o),l(this.scene,p,h),p})},function(C,F,n){var l=n(0),g=n(476),f=n(24),u=n(21),h=new l({Extends:g,initialize:function(a){this.scene=a,this.systems=a.sys,a.sys.settings.isBooted||a.sys.events.once(u.BOOT,this.boot,this),g.call(this)},boot:function(){var o=this.systems.events;o.on(u.SHUTDOWN,this.shutdown,this),o.on(u.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});f.register("LightsPlugin",h,"lights"),C.exports=h},function(C,F,n){var l=n(62);l.Area=n(1186),l.Circumference=n(296),l.CircumferencePoint=n(165),l.Clone=n(1187),l.Contains=n(63),l.ContainsPoint=n(1188),l.ContainsRect=n(1189),l.CopyFrom=n(1190),l.Equals=n(1191),l.GetBounds=n(1192),l.GetPoint=n(294),l.GetPoints=n(295),l.Offset=n(1193),l.OffsetPoint=n(1194),l.Random=n(166),C.exports=l},function(C,F){C.exports=function(l){return l.radius>0?Math.PI*l.radius*l.radius:0}},function(C,F,n){var l=n(62);C.exports=function(f){return new l(f.x,f.y,f.radius)}},function(C,F,n){var l=n(63);C.exports=function(f,u){return l(f,u.x,u.y)}},function(C,F,n){var l=n(63);C.exports=function(f,u){return l(f,u.x,u.y)&&l(f,u.right,u.y)&&l(f,u.x,u.bottom)&&l(f,u.right,u.bottom)}},function(C,F){C.exports=function(l,g){return g.setTo(l.x,l.y,l.radius)}},function(C,F){C.exports=function(l,g){return l.x===g.x&&l.y===g.y&&l.radius===g.radius}},function(C,F,n){var l=n(10);C.exports=function(f,u){return void 0===u&&(u=new l),u.x=f.left,u.y=f.top,u.width=f.diameter,u.height=f.diameter,u}},function(C,F){C.exports=function(l,g,f){return l.x+=g,l.y+=f,l}},function(C,F){C.exports=function(l,g){return l.x+=g.x,l.y+=g.y,l}},function(C,F,n){var l=n(108);l.Area=n(1196),l.Circumference=n(441),l.CircumferencePoint=n(215),l.Clone=n(1197),l.Contains=n(109),l.ContainsPoint=n(1198),l.ContainsRect=n(1199),l.CopyFrom=n(1200),l.Equals=n(1201),l.GetBounds=n(1202),l.GetPoint=n(439),l.GetPoints=n(440),l.Offset=n(1203),l.OffsetPoint=n(1204),l.Random=n(177),C.exports=l},function(C,F){C.exports=function(l){return l.isEmpty()?0:l.getMajorRadius()*l.getMinorRadius()*Math.PI}},function(C,F,n){var l=n(108);C.exports=function(f){return new l(f.x,f.y,f.width,f.height)}},function(C,F,n){var l=n(109);C.exports=function(f,u){return l(f,u.x,u.y)}},function(C,F,n){var l=n(109);C.exports=function(f,u){return l(f,u.x,u.y)&&l(f,u.right,u.y)&&l(f,u.x,u.bottom)&&l(f,u.right,u.bottom)}},function(C,F){C.exports=function(l,g){return g.setTo(l.x,l.y,l.width,l.height)}},function(C,F){C.exports=function(l,g){return l.x===g.x&&l.y===g.y&&l.width===g.width&&l.height===g.height}},function(C,F,n){var l=n(10);C.exports=function(f,u){return void 0===u&&(u=new l),u.x=f.left,u.y=f.top,u.width=f.width,u.height=f.height,u}},function(C,F){C.exports=function(l,g,f){return l.x+=g,l.y+=f,l}},function(C,F){C.exports=function(l,g){return l.x+=g.x,l.y+=g.y,l}},function(C,F,n){var l=n(4),g=n(228);C.exports=function(u,h,o){if(void 0===o&&(o=[]),g(u,h)){var v,x,E,M,a=u.x,d=u.y,r=u.radius,c=h.x,p=h.y,m=h.radius;if(d===p)0==(E=(x=-2*p)*x-4*(v=1)*(c*c+(M=(m*m-r*r-c*c+a*a)/(2*(a-c)))*M-2*c*M+p*p-m*m))?o.push(new l(M,-x/(2*v))):E>0&&(o.push(new l(M,(-x+Math.sqrt(E))/(2*v))),o.push(new l(M,(-x-Math.sqrt(E))/(2*v))));else{var S=(a-c)/(d-p),P=(m*m-r*r-c*c+a*a-p*p+d*d)/(2*(d-p));0==(E=(x=2*d*S-2*P*S-2*a)*x-4*(v=S*S+1)*(a*a+d*d+P*P-r*r-2*d*P))?o.push(new l(M=-x/(2*v),P-M*S)):E>0&&(M=(-x+Math.sqrt(E))/(2*v),o.push(new l(M,P-M*S)),M=(-x-Math.sqrt(E))/(2*v),o.push(new l(M,P-M*S)))}}return o}},function(C,F,n){var l=n(229),g=n(150);C.exports=function(u,h,o){if(void 0===o&&(o=[]),g(u,h)){var a=h.getLineA(),d=h.getLineB(),r=h.getLineC(),c=h.getLineD();l(a,u,o),l(d,u,o),l(r,u,o),l(c,u,o)}return o}},function(C,F,n){var l=n(138),g=n(481),u=new(n(45));function h(d,r,c,p,m){var v=Math.cos(d),x=Math.sin(d);u.setTo(r,c,r+v,c+x);var T=g(u,p);T&&m.push(new l(T.x,T.y,d,T.w))}function o(d,r){return d.z-r.z}C.exports=function(d,r,c){Array.isArray(c)||(c=[c]);for(var p=[],m=[],v=0;v<c.length;v++)for(var x=c[v].points,T=0;T<x.length;T++){var E=Math.atan2(x[T].y-r,x[T].x-d);-1===m.indexOf(E)&&(h(E,d,r,c,p),h(E-1e-5,d,r,c,p),h(E+1e-5,d,r,c,p),m.push(E))}return p.sort(o)}},function(C,F,n){var l=n(10),g=n(114);C.exports=function(u,h,o){return void 0===o&&(o=new l),g(u,h)&&(o.x=Math.max(u.x,h.x),o.y=Math.max(u.y,h.y),o.width=Math.min(u.right,h.right)-o.x,o.height=Math.min(u.bottom,h.bottom)-o.y),o}},function(C,F,n){var l=n(231),g=n(114);C.exports=function(u,h,o){if(void 0===o&&(o=[]),g(u,h)){var a=u.getLineA(),d=u.getLineB(),r=u.getLineC(),c=u.getLineD();l(a,h,o),l(d,h,o),l(r,h,o),l(c,h,o)}return o}},function(C,F,n){var l=n(483),g=n(231);C.exports=function(u,h,o){if(void 0===o&&(o=[]),l(u,h)){var a=h.getLineA(),d=h.getLineB(),r=h.getLineC();g(a,u,o),g(d,u,o),g(r,u,o)}return o}},function(C,F,n){var l=n(229),g=n(485);C.exports=function(u,h,o){if(void 0===o&&(o=[]),g(u,h)){var a=u.getLineA(),d=u.getLineB(),r=u.getLineC();l(a,h,o),l(d,h,o),l(r,h,o)}return o}},function(C,F,n){var l=n(488),g=n(486);C.exports=function(u,h,o){if(void 0===o&&(o=[]),l(u,h)){var a=h.getLineA(),d=h.getLineB(),r=h.getLineC();g(u,a,o),g(u,d,o),g(u,r,o)}return o}},function(C,F,n){var l=n(490);C.exports=function(f,u){if(!l(f,u))return!1;var h=Math.min(u.x1,u.x2),o=Math.max(u.x1,u.x2),a=Math.min(u.y1,u.y2),d=Math.max(u.y1,u.y2);return f.x>=h&&f.x<=o&&f.y>=a&&f.y<=d}},function(C,F){C.exports=function(l,g,f,u,h,o){return void 0===o&&(o=0),!(g>l.right+o||f<l.left-o||u>l.bottom+o||h<l.top-o)}},function(C,F,n){var l=n(45);l.Angle=n(93),l.BresenhamPoints=n(311),l.CenterOn=n(1216),l.Clone=n(1217),l.CopyFrom=n(1218),l.Equals=n(1219),l.Extend=n(1220),l.GetEasedPoints=n(1221),l.GetMidPoint=n(1222),l.GetNearestPoint=n(1223),l.GetNormal=n(1224),l.GetPoint=n(301),l.GetPoints=n(168),l.GetShortestDistance=n(1225),l.Height=n(1226),l.Length=n(64),l.NormalAngle=n(491),l.NormalX=n(1227),l.NormalY=n(1228),l.Offset=n(1229),l.PerpSlope=n(1230),l.Random=n(169),l.ReflectAngle=n(1231),l.Rotate=n(1232),l.RotateAroundPoint=n(1233),l.RotateAroundXY=n(233),l.SetToAngle=n(1234),l.Slope=n(1235),l.Width=n(1236),C.exports=l},function(C,F){C.exports=function(l,g,f){var u=g-(l.x1+l.x2)/2,h=f-(l.y1+l.y2)/2;return l.x1+=u,l.y1+=h,l.x2+=u,l.y2+=h,l}},function(C,F,n){var l=n(45);C.exports=function(f){return new l(f.x1,f.y1,f.x2,f.y2)}},function(C,F){C.exports=function(l,g){return g.setTo(l.x1,l.y1,l.x2,l.y2)}},function(C,F){C.exports=function(l,g){return l.x1===g.x1&&l.y1===g.y1&&l.x2===g.x2&&l.y2===g.y2}},function(C,F,n){var l=n(64);C.exports=function(f,u,h){void 0===h&&(h=u);var o=l(f),a=f.x2-f.x1,d=f.y2-f.y1;return u&&(f.x1=f.x1-a/o*u,f.y1=f.y1-d/o*u),h&&(f.x2=f.x2+a/o*h,f.y2=f.y2+d/o*h),f}},function(C,F,n){var l=n(346),g=n(80),f=n(4);C.exports=function(h,o,a,d,r){void 0===d&&(d=0),void 0===r&&(r=[]);var E,M,c=[],p=h.x1,m=h.y1,v=h.x2-p,x=h.y2-m,T=g(o,r),S=a-1;for(E=0;E<S;E++)M=T(E/S),c.push(new f(p+v*M,m+x*M));if(M=T(1),c.push(new f(p+v*M,m+x*M)),d>0){var P=c[0],R=[P];for(E=1;E<c.length-1;E++){var w=c[E];l(P,w)>=d&&(R.push(w),P=w)}var L=c[c.length-1];return l(P,L)<d&&R.pop(),R.push(L),R}return c}},function(C,F,n){var l=n(4);C.exports=function(f,u){return void 0===u&&(u=new l),u.x=(f.x1+f.x2)/2,u.y=(f.y1+f.y2)/2,u}},function(C,F,n){var l=n(4);C.exports=function(f,u,h){void 0===h&&(h=new l);var o=f.x1,a=f.y1,d=f.x2,r=f.y2,c=(d-o)*(d-o)+(r-a)*(r-a);if(0===c)return h;var p=((u.x-o)*(d-o)+(u.y-a)*(r-a))/c;return h.x=o+p*(d-o),h.y=a+p*(r-a),h}},function(C,F,n){var l=n(14),g=n(93),f=n(4);C.exports=function(h,o){void 0===o&&(o=new f);var a=g(h)-l.TAU;return o.x=Math.cos(a),o.y=Math.sin(a),o}},function(C,F){C.exports=function(l,g){var f=l.x1,u=l.y1,h=l.x2,o=l.y2,a=(h-f)*(h-f)+(o-u)*(o-u);return 0!==a&&Math.abs(((u-g.y)*(h-f)-(f-g.x)*(o-u))/a)*Math.sqrt(a)}},function(C,F){C.exports=function(l){return Math.abs(l.y1-l.y2)}},function(C,F,n){var l=n(14),g=n(93);C.exports=function(u){return Math.cos(g(u)-l.TAU)}},function(C,F,n){var l=n(14),g=n(93);C.exports=function(u){return Math.sin(g(u)-l.TAU)}},function(C,F){C.exports=function(l,g,f){return l.x1+=g,l.y1+=f,l.x2+=g,l.y2+=f,l}},function(C,F){C.exports=function(l){return-(l.x2-l.x1)/(l.y2-l.y1)}},function(C,F,n){var l=n(93),g=n(491);C.exports=function(u,h){return 2*g(h)-Math.PI-l(u)}},function(C,F,n){var l=n(233);C.exports=function(f,u){return l(f,(f.x1+f.x2)/2,(f.y1+f.y2)/2,u)}},function(C,F,n){var l=n(233);C.exports=function(f,u,h){return l(f,u.x,u.y,h)}},function(C,F){C.exports=function(l,g,f,u,h){return l.x1=g,l.y1=f,l.x2=g+Math.cos(u)*h,l.y2=f+Math.sin(u)*h,l}},function(C,F){C.exports=function(l){return(l.y2-l.y1)/(l.x2-l.x1)}},function(C,F){C.exports=function(l){return Math.abs(l.x1-l.x2)}},function(C,F,n){var l={Face:n(113),GenerateGridVerts:n(1238),GenerateObjVerts:n(474),GenerateVerts:n(473),ParseObj:n(492),ParseObjMaterial:n(493),RotateFace:n(1239),Vertex:n(115)};C.exports=l},function(C,F,n){var l=n(113),g=n(2),f=n(67),u=n(37),h=n(115),o=new u,a=new u,d=new f;C.exports=function(c){var p=g(c,"mesh"),m=g(c,"texture",null),v=g(c,"frame"),x=g(c,"width",1),T=g(c,"height",x),E=g(c,"widthSegments",1),M=g(c,"heightSegments",E),S=g(c,"x",0),P=g(c,"y",0),R=g(c,"z",0),w=g(c,"rotateX",0),L=g(c,"rotateY",0),I=g(c,"rotateZ",0),B=g(c,"zIsUp",!0),G=g(c,"isOrtho",!!p&&p.dirtyCache[11]),H=g(c,"colors",[16777215]),Y=g(c,"alphas",[1]),$=g(c,"tile",!1),J=g(c,"flipY",!1),_=g(c,"width",null),tt={faces:[],verts:[]};if(o.set(S,P,R),a.set(w,L,I),d.fromRotationXYTranslation(a,o,B),!m&&p)m=p.texture;else{if(!p||"string"!=typeof m)return tt;m=p.scene.sys.textures.get(m)}var U=m.get(v);!_&&G&&m&&p&&(x=U.width/p.height,T=U.height/p.height);var ft,ct,V=x/2,X=T/2,W=Math.floor(E),j=Math.floor(M),K=W+1,q=j+1,et=x/W,rt=T/j,ot=[],at=[],xt=0,mt=1,Ct=0,kt=1;U&&(xt=U.u0,mt=U.u1,J?(Ct=U.v1,kt=U.v0):(Ct=U.v0,kt=U.v1));var Nt=mt-xt,bt=kt-Ct;for(ct=0;ct<q;ct++){var gt=ct*rt-X;for(ft=0;ft<K;ft++)at.push(ft*et-V,-gt),ot.push(xt+Nt*(ft/W),Ct+bt*(ct/j))}Array.isArray(H)||(H=[H]),Array.isArray(Y)||(Y=[Y]);var $e=0,ri=0;for(ct=0;ct<j;ct++)for(ft=0;ft<W;ft++){var ye=2*(ft+K*ct),ie=2*(ft+K*(ct+1)),Be=2*(ft+1+K*(ct+1)),ve=2*(ft+1+K*ct),Ke=H[ri],ti=Y[$e],Xi=new h(at[ye],at[ye+1],0,ot[ye],ot[ye+1],Ke,ti).transformMat4(d),nn=new h(at[ie],at[ie+1],0,ot[ie],ot[ie+1],Ke,ti).transformMat4(d),rn=new h(at[ve],at[ve+1],0,ot[ve],ot[ve+1],Ke,ti).transformMat4(d),sn=new h(at[ie],at[ie+1],0,ot[ie],ot[ie+1],Ke,ti).transformMat4(d),on=new h(at[Be],at[Be+1],0,ot[Be],ot[Be+1],Ke,ti).transformMat4(d),an=new h(at[ve],at[ve+1],0,ot[ve],ot[ve+1],Ke,ti).transformMat4(d);$&&(Xi.setUVs(xt,kt),nn.setUVs(xt,Ct),rn.setUVs(mt,kt),sn.setUVs(xt,Ct),on.setUVs(mt,Ct),an.setUVs(mt,kt)),++ri===H.length&&(ri=0),++$e===Y.length&&($e=0),tt.verts.push(Xi,nn,rn,sn,on,an),tt.faces.push(new l(Xi,nn,rn),new l(sn,on,an))}return p&&(p.faces=p.faces.concat(tt.faces),p.vertices=p.vertices.concat(tt.verts)),tt}},function(C,F){C.exports=function(l,g,f,u){var h,o;if(void 0===f&&void 0===u){var a=l.getInCenter();h=a.x,o=a.y}var d=Math.cos(g),r=Math.sin(g),c=l.vertex1,p=l.vertex2,m=l.vertex3,v=c.x-h,x=c.y-o;c.set(v*d-x*r+h,v*r+x*d+o),p.set((v=p.x-h)*d-(x=p.y-o)*r+h,v*r+x*d+o),m.set((v=m.x-h)*d-(x=m.y-o)*r+h,v*r+x*d+o)}},function(C,F,n){var l=n(4);l.Ceil=n(1241),l.Clone=n(1242),l.CopyFrom=n(1243),l.Equals=n(1244),l.Floor=n(1245),l.GetCentroid=n(1246),l.GetMagnitude=n(494),l.GetMagnitudeSq=n(495),l.GetRectangleFromPoints=n(1247),l.Interpolate=n(1248),l.Invert=n(1249),l.Negative=n(1250),l.Project=n(1251),l.ProjectUnit=n(1252),l.SetMagnitude=n(1253),C.exports=l},function(C,F){C.exports=function(l){return l.setTo(Math.ceil(l.x),Math.ceil(l.y))}},function(C,F,n){var l=n(4);C.exports=function(f){return new l(f.x,f.y)}},function(C,F){C.exports=function(l,g){return g.setTo(l.x,l.y)}},function(C,F){C.exports=function(l,g){return l.x===g.x&&l.y===g.y}},function(C,F){C.exports=function(l){return l.setTo(Math.floor(l.x),Math.floor(l.y))}},function(C,F,n){var l=n(4);C.exports=function(f,u){if(void 0===u&&(u=new l),!Array.isArray(f))throw new Error("GetCentroid points argument must be an array");var h=f.length;if(h<1)throw new Error("GetCentroid points array must not be empty");if(1===h)u.x=f[0].x,u.y=f[0].y;else{for(var o=0;o<h;o++)u.x+=f[o].x,u.y+=f[o].y;u.x/=h,u.y/=h}return u}},function(C,F,n){var l=n(10);C.exports=function(f,u){void 0===u&&(u=new l);for(var h=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY,r=0;r<f.length;r++){var c=f[r];c.x>h&&(h=c.x),c.x<o&&(o=c.x),c.y>a&&(a=c.y),c.y<d&&(d=c.y)}return u.x=o,u.y=d,u.width=h-o,u.height=a-d,u}},function(C,F,n){var l=n(4);C.exports=function(f,u,h,o){return void 0===h&&(h=0),void 0===o&&(o=new l),o.x=f.x+(u.x-f.x)*h,o.y=f.y+(u.y-f.y)*h,o}},function(C,F){C.exports=function(l){return l.setTo(l.y,l.x)}},function(C,F,n){var l=n(4);C.exports=function(f,u){return void 0===u&&(u=new l),u.setTo(-f.x,-f.y)}},function(C,F,n){var l=n(4),g=n(495);C.exports=function(u,h,o){void 0===o&&(o=new l);var d=(u.x*h.x+u.y*h.y)/g(h);return 0!==d&&(o.x=d*h.x,o.y=d*h.y),o}},function(C,F,n){var l=n(4);C.exports=function(f,u,h){void 0===h&&(h=new l);var o=f.x*u.x+f.y*u.y;return 0!==o&&(h.x=o*u.x,h.y=o*u.y),h}},function(C,F,n){var l=n(494);C.exports=function(f,u){if(0!==f.x||0!==f.y){var h=l(f);f.x/=h,f.y/=h}return f.x*=u,f.y*=u,f}},function(C,F,n){var l=n(224);l.Clone=n(1255),l.Contains=n(225),l.ContainsPoint=n(1256),l.Earcut=n(68),l.GetAABB=n(463),l.GetNumberArray=n(1257),l.GetPoints=n(464),l.Perimeter=n(465),l.Reverse=n(1258),l.Simplify=n(1259),l.Smooth=n(466),l.Translate=n(1260),C.exports=l},function(C,F,n){var l=n(224);C.exports=function(f){return new l(f.points)}},function(C,F,n){var l=n(225);C.exports=function(f,u){return l(f,u.x,u.y)}},function(C,F){C.exports=function(l,g){void 0===g&&(g=[]);for(var f=0;f<l.points.length;f++)g.push(l.points[f].x),g.push(l.points[f].y);return g}},function(C,F){C.exports=function(l){return l.points.reverse(),l}},function(C,F){function n(o,a){var d=o.x-a.x,r=o.y-a.y;return d*d+r*r}function l(o,a,d){var r=a.x,c=a.y,p=d.x-r,m=d.y-c;if(0!==p||0!==m){var v=((o.x-r)*p+(o.y-c)*m)/(p*p+m*m);v>1?(r=d.x,c=d.y):v>0&&(r+=p*v,c+=m*v)}return(p=o.x-r)*p+(m=o.y-c)*m}function f(o,a,d,r,c){for(var m,p=r,v=a+1;v<d;v++){var x=l(o[v],o[a],o[d]);x>p&&(m=v,p=x)}p>r&&(m-a>1&&f(o,a,m,r,c),c.push(o[m]),d-m>1&&f(o,m,d,r,c))}function u(o,a){var d=o.length-1,r=[o[0]];return f(o,0,d,a,r),r.push(o[d]),r}C.exports=function(o,a,d){void 0===a&&(a=1),void 0===d&&(d=!1);var r=o.points;if(r.length>2){var c=a*a;d||(r=function g(o,a){for(var c,d=o[0],r=[d],p=1,m=o.length;p<m;p++)n(c=o[p],d)>a&&(r.push(c),d=c);return d!==c&&r.push(c),r}(r,c)),o.setTo(u(r,c))}return o}},function(C,F){C.exports=function(l,g,f){for(var u=l.points,h=0;h<u.length;h++)u[h].x+=g,u[h].y+=f;return l}},function(C,F){C.exports=function(l){return l.width*l.height}},function(C,F){C.exports=function(l){return l.x=Math.ceil(l.x),l.y=Math.ceil(l.y),l}},function(C,F){C.exports=function(l){return l.x=Math.ceil(l.x),l.y=Math.ceil(l.y),l.width=Math.ceil(l.width),l.height=Math.ceil(l.height),l}},function(C,F,n){var l=n(10);C.exports=function(f){return new l(f.x,f.y,f.width,f.height)}},function(C,F,n){var l=n(56);C.exports=function(f,u){return l(f,u.x,u.y)}},function(C,F){C.exports=function(l,g){return g.setTo(l.x,l.y,l.width,l.height)}},function(C,F){C.exports=function(l,g){return l.x===g.x&&l.y===g.y&&l.width===g.width&&l.height===g.height}},function(C,F,n){var l=n(234);C.exports=function(f,u){var h=l(f);return h<l(u)?f.setSize(u.height*h,u.height):f.setSize(u.width,u.width/h),f.setPosition(u.centerX-f.width/2,u.centerY-f.height/2)}},function(C,F,n){var l=n(234);C.exports=function(f,u){var h=l(f);return h>l(u)?f.setSize(u.height*h,u.height):f.setSize(u.width,u.width/h),f.setPosition(u.centerX-f.width/2,u.centerY-f.height/2)}},function(C,F){C.exports=function(l){return l.x=Math.floor(l.x),l.y=Math.floor(l.y),l}},function(C,F){C.exports=function(l){return l.x=Math.floor(l.x),l.y=Math.floor(l.y),l.width=Math.floor(l.width),l.height=Math.floor(l.height),l}},function(C,F,n){var l=n(10);C.exports=function(f,u,h,o,a){return void 0===a&&(a=new l),a.setTo(Math.min(f,h),Math.min(u,o),Math.abs(f-h),Math.abs(u-o))}},function(C,F,n){var l=n(4);C.exports=function(f,u){return void 0===u&&(u=new l),u.x=f.centerX,u.y=f.centerY,u}},function(C,F,n){var l=n(4);C.exports=function(f,u){return void 0===u&&(u=new l),u.x=f.width,u.y=f.height,u}},function(C,F,n){var l=n(187);C.exports=function(f,u,h){var o=f.centerX,a=f.centerY;return f.setSize(f.width+2*u,f.height+2*h),l(f,o,a)}},function(C,F,n){var l=n(10),g=n(114);C.exports=function(u,h,o){return void 0===o&&(o=new l),g(u,h)?(o.x=Math.max(u.x,h.x),o.y=Math.max(u.y,h.y),o.width=Math.min(u.right,h.right)-o.x,o.height=Math.min(u.bottom,h.bottom)-o.y):o.setEmpty(),o}},function(C,F){C.exports=function(l,g){for(var f=l.x,u=l.right,h=l.y,o=l.bottom,a=0;a<g.length;a++)f=Math.min(f,g[a].x),u=Math.max(u,g[a].x),h=Math.min(h,g[a].y),o=Math.max(o,g[a].y);return l.x=f,l.y=h,l.width=u-f,l.height=o-h,l}},function(C,F){C.exports=function(l,g){var f=Math.min(l.x,g.x),u=Math.max(l.right,g.right);l.x=f,l.width=u-f;var h=Math.min(l.y,g.y),o=Math.max(l.bottom,g.bottom);return l.y=h,l.height=o-h,l}},function(C,F){C.exports=function(l,g,f){var u=Math.min(l.x,g),h=Math.max(l.right,g);l.x=u,l.width=h-u;var o=Math.min(l.y,f),a=Math.max(l.bottom,f);return l.y=o,l.height=a-o,l}},function(C,F){C.exports=function(l,g,f){return l.x+=g,l.y+=f,l}},function(C,F){C.exports=function(l,g){return l.x+=g.x,l.y+=g.y,l}},function(C,F){C.exports=function(l,g){return l.x<g.right&&l.right>g.x&&l.y<g.bottom&&l.bottom>g.y}},function(C,F,n){var l=n(4),g=n(34);C.exports=function(u,h,o){void 0===o&&(o=new l),h=g(h);var a=Math.sin(h),d=Math.cos(h),r=d>0?u.width/2:u.width/-2,c=a>0?u.height/2:u.height/-2;return Math.abs(r*a)<Math.abs(c*d)?c=r*a/d:r=c*d/a,o.x=r+u.centerX,o.y=c+u.centerY,o}},function(C,F,n){var l=n(192),g=n(497),f=n(4);C.exports=function(h,o,a){if(void 0===a&&(a=new f),g(h,o))switch(l(0,3)){case 0:a.x=h.x+Math.random()*(o.right-h.x),a.y=h.y+Math.random()*(o.top-h.y);break;case 1:a.x=o.x+Math.random()*(h.right-o.x),a.y=o.bottom+Math.random()*(h.bottom-o.bottom);break;case 2:a.x=h.x+Math.random()*(o.x-h.x),a.y=o.y+Math.random()*(h.bottom-o.y);break;case 3:a.x=o.right+Math.random()*(h.right-o.right),a.y=h.y+Math.random()*(o.bottom-h.y)}return a}},function(C,F){C.exports=function(l,g){return l.width===g.width&&l.height===g.height}},function(C,F){C.exports=function(l,g,f){return void 0===f&&(f=g),l.width*=g,l.height*=f,l}},function(C,F,n){var l=n(82);l.Area=n(1288),l.BuildEquilateral=n(1289),l.BuildFromPolygon=n(1290),l.BuildRight=n(1291),l.CenterOn=n(1292),l.Centroid=n(498),l.CircumCenter=n(1293),l.CircumCircle=n(1294),l.Clone=n(1295),l.Contains=n(112),l.ContainsArray=n(232),l.ContainsPoint=n(1296),l.CopyFrom=n(1297),l.Decompose=n(489),l.Equals=n(1298),l.GetPoint=n(470),l.GetPoints=n(471),l.InCenter=n(500),l.Perimeter=n(1299),l.Offset=n(499),l.Random=n(178),l.Rotate=n(1300),l.RotateAroundPoint=n(1301),l.RotateAroundXY=n(235),C.exports=l},function(C,F){C.exports=function(l){var g=l.x1,f=l.y1;return Math.abs(((l.x3-g)*(l.y2-f)-(l.x2-g)*(l.y3-f))/2)}},function(C,F,n){var l=n(82);C.exports=function(f,u,h){var o=h*(Math.sqrt(3)/2);return new l(f,u,f+h/2,u+o,f-h/2,u+o)}},function(C,F,n){var l=n(68),g=n(82);C.exports=function(u,h,o,a,d){void 0===h&&(h=null),void 0===o&&(o=1),void 0===a&&(a=1),void 0===d&&(d=[]);for(var c,p,m,r=l(u,h),P=0;P<r.length;P+=3)d.push(new g(u[2*(c=r[P])]*o,u[2*c+1]*a,u[2*(p=r[P+1])]*o,u[2*p+1]*a,u[2*(m=r[P+2])]*o,u[2*m+1]*a));return d}},function(C,F,n){var l=n(82);C.exports=function(f,u,h,o){return void 0===o&&(o=h),new l(f,u,f,u-o,f+h,u)}},function(C,F,n){var l=n(498),g=n(499);C.exports=function(u,h,o,a){void 0===a&&(a=l);var d=a(u);return g(u,h-d.x,o-d.y)}},function(C,F,n){var l=n(3);function g(u,h,o,a){return u*a-h*o}C.exports=function(u,h){void 0===h&&(h=new l);var o=u.x3,a=u.y3,d=u.x1-o,r=u.y1-a,c=u.x2-o,p=u.y2-a,m=2*g(d,r,c,p),v=g(r,d*d+r*r,p,c*c+p*p),x=g(d,d*d+r*r,c,c*c+p*p);return h.x=o-v/m,h.y=a+x/m,h}},function(C,F,n){var l=n(62);C.exports=function(f,u){void 0===u&&(u=new l);var S,P,h=f.x1,o=f.y1,a=f.x2,d=f.y2,r=f.x3,c=f.y3,p=a-h,m=d-o,v=r-h,x=c-o,T=p*(h+a)+m*(o+d),E=v*(h+r)+x*(o+c),M=2*(p*(c-d)-m*(r-a));if(Math.abs(M)<1e-6){var R=Math.min(h,a,r),w=Math.min(o,d,c);S=.5*(Math.max(h,a,r)-R),P=.5*(Math.max(o,d,c)-w),u.x=R+S,u.y=w+P,u.radius=Math.sqrt(S*S+P*P)}else u.x=(x*T-m*E)/M,u.y=(p*E-v*T)/M,S=u.x-h,P=u.y-o,u.radius=Math.sqrt(S*S+P*P);return u}},function(C,F,n){var l=n(82);C.exports=function(f){return new l(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)}},function(C,F,n){var l=n(112);C.exports=function(f,u){return l(f,u.x,u.y)}},function(C,F){C.exports=function(l,g){return g.setTo(l.x1,l.y1,l.x2,l.y2,l.x3,l.y3)}},function(C,F){C.exports=function(l,g){return l.x1===g.x1&&l.y1===g.y1&&l.x2===g.x2&&l.y2===g.y2&&l.x3===g.x3&&l.y3===g.y3}},function(C,F,n){var l=n(64);C.exports=function(f){var u=f.getLineA(),h=f.getLineB(),o=f.getLineC();return l(u)+l(h)+l(o)}},function(C,F,n){var l=n(235),g=n(500);C.exports=function(u,h){var o=g(u);return l(u,o.x,o.y,h)}},function(C,F,n){var l=n(235);C.exports=function(f,u,h){return l(f,u.x,u.y,h)}},function(C,F,n){var l=n(200),g=n(17),f={CreatePixelPerfectHandler:n(501),CreateInteractiveObject:n(502),Events:n(49),Gamepad:n(1303),InputManager:n(403),InputPlugin:n(1315),InputPluginCache:n(151),Keyboard:n(1316),Mouse:n(1330),Pointer:n(406),Touch:n(1331)};f=g(!1,f,l),C.exports=f},function(C,F,n){C.exports={Axis:n(503),Button:n(504),Events:n(236),Gamepad:n(505),GamepadPlugin:n(1310),Configs:n(1311)}},function(C,F){C.exports="down"},function(C,F){C.exports="up"},function(C,F){C.exports="connected"},function(C,F){C.exports="disconnected"},function(C,F){C.exports="down"},function(C,F){C.exports="up"},function(C,F,n){var l=n(0),g=n(9),f=n(236),u=n(505),h=n(6),o=n(151),a=n(49),d=new l({Extends:g,initialize:function(c){g.call(this),this.scene=c.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=c,this.enabled=!0,this.gamepads=[],this.queue=[],c.pluginEvents.once(a.BOOT,this.boot,this),c.pluginEvents.on(a.START,this.start,this)},boot:function(){var r=this.scene.sys.game,c=this.settings.input,p=r.config;this.enabled=h(c,"gamepad",p.inputGamepad)&&r.device.input.gamepads,this.target=h(c,"gamepad.target",p.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(a.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(a.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var r=this,c=this.target,p=function(m){m.defaultPrevented||!r.isActive()||(r.refreshPads(),r.queue.push(m))};this.onGamepadHandler=p,c.addEventListener("gamepadconnected",p,!1),c.addEventListener("gamepaddisconnected",p,!1),this.sceneInputPlugin.pluginEvents.on(a.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(a.UPDATE,this.update);for(var r=0;r<this.gamepads.length;r++)this.gamepads[r].removeAllListeners()},disconnectAll:function(){for(var r=0;r<this.gamepads.length;r++)this.gamepads[r].pad.connected=!1},refreshPads:function(){var r=navigator.getGamepads();if(r)for(var c=this.gamepads,p=0;p<r.length;p++){var m=r[p];if(m){var x=m.index,T=c[x];if(T)T.id!==m.id?(T.destroy(),c[x]=new u(this,m)):T.update(m);else{var E=new u(this,m);c[x]=E,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=E):this._pad3=E:this._pad2=E:this._pad1=E}}}else this.disconnectAll()},getAll:function(){for(var r=[],c=this.gamepads,p=0;p<c.length;p++)c[p]&&r.push(c[p]);return r},getPad:function(r){for(var c=this.gamepads,p=0;p<c.length;p++)if(c[p]&&c[p].index===r)return c[p]},update:function(){if(this.enabled){this.refreshPads();var r=this.queue.length;if(0!==r)for(var c=this.queue.splice(0,r),p=0;p<r;p++){var m=c[p],v=this.getPad(m.gamepad.index);"gamepadconnected"===m.type?this.emit(f.CONNECTED,v,m):"gamepaddisconnected"===m.type&&this.emit(f.DISCONNECTED,v,m)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var r=0;r<this.gamepads.length;r++)this.gamepads[r]&&this.gamepads[r].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});o.register("GamepadPlugin",d,"gamepad","gamepad","inputGamepad"),C.exports=d},function(C,F,n){C.exports={DUALSHOCK_4:n(1312),SNES_USB:n(1313),XBOX_360:n(1314)}},function(C,F){C.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(C,F){C.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(C,F){C.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(C,F,n){var l=n(62),g=n(63),f=n(0),u=n(200),h=n(502),o=n(501),a=n(48),d=n(108),r=n(109),c=n(49),p=n(9),m=n(2),v=n(55),x=n(151),T=n(7),E=n(24),M=n(10),S=n(56),P=n(21),R=n(82),w=n(112),L=new f({Extends:p,initialize:function(B){p.call(this),this.scene=B,this.systems=B.sys,this.settings=B.sys.settings,this.manager=B.sys.game.input,this.pluginEvents=new p,this.enabled=!0,x.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var G={cancelled:!1};this._eventContainer={stopPropagation:function(){G.cancelled=!0}},this._eventData=G,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,B.sys.events.once(P.BOOT,this.boot,this),B.sys.events.on(P.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(P.DESTROY,this.destroy,this),this.pluginEvents.emit(c.BOOT)},start:function(){var I=this.systems.events;I.on(P.TRANSITION_START,this.transitionIn,this),I.on(P.TRANSITION_OUT,this.transitionOut,this),I.on(P.TRANSITION_COMPLETE,this.transitionComplete,this),I.on(P.PRE_UPDATE,this.preUpdate,this),I.once(P.SHUTDOWN,this.shutdown,this),this.manager.events.on(c.GAME_OUT,this.onGameOut,this),this.manager.events.on(c.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(c.START)},onGameOver:function(I){this.isActive()&&this.emit(c.GAME_OVER,I.timeStamp,I)},onGameOut:function(I){this.isActive()&&this.emit(c.GAME_OUT,I.timeStamp,I)},preUpdate:function(){this.pluginEvents.emit(c.PRE_UPDATE);var I=this._pendingRemoval,B=this._pendingInsertion,G=I.length;if(0!==G||0!==B.length){for(var Y=this._list,$=0;$<G;$++){var J=I[$],_=Y.indexOf(J);_>-1&&(Y.splice(_,1),this.clear(J,!0))}I.length=0,this._pendingRemoval.length=0,this._list=Y.concat(B.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(I,B){if(!this.isActive())return!1;if(this.pluginEvents.emit(c.UPDATE,I,B),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var G,H=this.manager,Y=H.pointers,$=H.pointersTotal;for(G=0;G<$;G++)Y[G].updateMotion();if(0===this._list.length)return!1;var J=this.pollRate;if(-1===J)return!1;if(J>0){if(this._pollTimer-=B,!(this._pollTimer<0))return!1;this._pollTimer=this.pollRate}var _=!1;for(G=0;G<$;G++){var tt=0,U=Y[G];this._tempZones=[],this._temp=this.hitTestPointer(U),this.sortGameObjects(this._temp),this.sortGameObjects(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),tt+=this.processOverOutEvents(U),2===this.getDragState(U)&&this.processDragThresholdEvent(U,I),tt>0&&(_=!0)}return _},update:function(I,B){if(!this.isActive())return!1;for(var G=B.length,H=!1,Y=0;Y<G;Y++){var $=0,J=B[Y];switch(this._tempZones=[],this._temp=this.hitTestPointer(J),this.sortGameObjects(this._temp),this.sortGameObjects(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),I){case u.MOUSE_DOWN:$+=this.processDragDownEvent(J),$+=this.processDownEvents(J),$+=this.processOverOutEvents(J);break;case u.MOUSE_UP:$+=this.processDragUpEvent(J),$+=this.processUpEvents(J),$+=this.processOverOutEvents(J);break;case u.TOUCH_START:$+=this.processDragDownEvent(J),$+=this.processDownEvents(J),$+=this.processOverEvents(J);break;case u.TOUCH_END:case u.TOUCH_CANCEL:$+=this.processDragUpEvent(J),$+=this.processUpEvents(J),$+=this.processOutEvents(J);break;case u.MOUSE_MOVE:case u.TOUCH_MOVE:$+=this.processDragMoveEvent(J),$+=this.processMoveEvents(J),$+=this.processOverOutEvents(J);break;case u.MOUSE_WHEEL:$+=this.processWheelEvent(J)}$>0&&(H=!0)}return this._updatedThisFrame=!0,H},clear:function(I,B){void 0===B&&(B=!1);var G=I.input;if(G){B||this.queueForRemoval(I),G.gameObject=void 0,G.target=void 0,G.hitArea=void 0,G.hitAreaCallback=void 0,G.callbackContext=void 0,I.input=null;var H=this._draggable.indexOf(I);return H>-1&&this._draggable.splice(H,1),(H=this._drag[0].indexOf(I))>-1&&this._drag[0].splice(H,1),(H=this._over[0].indexOf(I))>-1&&(this._over[0].splice(H,1),this.manager.resetCursor(G)),I}},disable:function(I){I.input.enabled=!1},enable:function(I,B,G,H){return void 0===H&&(H=!1),I.input?I.input.enabled=!0:this.setHitArea(I,B,G),I.input&&H&&!I.input.dropZone&&(I.input.dropZone=H),this},hitTestPointer:function(I){for(var B=this.cameras.getCamerasBelowPointer(I),G=0;G<B.length;G++){for(var H=B[G],Y=this.manager.hitTest(I,this._list,H),$=0;$<Y.length;$++){var J=Y[$];J.input.dropZone&&this._tempZones.push(J)}if(Y.length>0)return I.camera=H,Y}return I.camera=B[0],[]},processDownEvents:function(I){var B=0,G=this._temp,H=this._eventData,Y=this._eventContainer;H.cancelled=!1;for(var $=!1,J=0;J<G.length;J++){var _=G[J];if(_.input){if(B++,_.emit(c.GAMEOBJECT_POINTER_DOWN,I,_.input.localX,_.input.localY,Y),H.cancelled||!_.input){$=!0;break}if(this.emit(c.GAMEOBJECT_DOWN,I,_,Y),H.cancelled||!_.input){$=!0;break}}}return!$&&this.manager&&(I.downElement===this.manager.game.canvas?this.emit(c.POINTER_DOWN,I,G):this.emit(c.POINTER_DOWN_OUTSIDE,I)),B},getDragState:function(I){return this._dragState[I.id]},setDragState:function(I,B){this._dragState[I.id]=B},processDragThresholdEvent:function(I,B){var G=!1,H=this.dragTimeThreshold,Y=this.dragDistanceThreshold;if((Y>0&&a(I.x,I.y,I.downX,I.downY)>=Y||H>0&&B>=I.downTime+H)&&(G=!0),G)return this.setDragState(I,3),this.processDragStartList(I)},processDragStartList:function(I){if(3!==this.getDragState(I))return 0;for(var B=this._drag[I.id],G=0;G<B.length;G++){var H=B[G],Y=H.input;Y.dragState=2,Y.dragStartX=H.x,Y.dragStartY=H.y,Y.dragStartXGlobal=I.worldX,Y.dragStartYGlobal=I.worldY,Y.dragX=Y.dragStartXGlobal-Y.dragStartX,Y.dragY=Y.dragStartYGlobal-Y.dragStartY,H.emit(c.GAMEOBJECT_DRAG_START,I,Y.dragX,Y.dragY),this.emit(c.DRAG_START,I,H)}return this.setDragState(I,4),B.length},processDragDownEvent:function(I){var B=this._temp;if(0===this._draggable.length||0===B.length||!I.primaryDown||0!==this.getDragState(I))return 0;this.setDragState(I,1);for(var G=[],H=0;H<B.length;H++){var Y=B[H];Y.input.draggable&&0===Y.input.dragState&&G.push(Y)}return 0===G.length?(this.setDragState(I,0),0):(G.length>1&&(this.sortGameObjects(G),this.topOnly&&G.splice(1)),this._drag[I.id]=G,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold?(this.setDragState(I,3),this.processDragStartList(I)):(this.setDragState(I,2),0))},processDragMoveEvent:function(I){if(2===this.getDragState(I)&&this.processDragThresholdEvent(I,this.manager.game.loop.now),4!==this.getDragState(I))return 0;for(var B=this._tempZones,G=this._drag[I.id],H=0;H<G.length;H++){var tt,U,Y=G[H],$=Y.input,J=$.target;if(J){var _=B.indexOf(J);0===_?(Y.emit(c.GAMEOBJECT_DRAG_OVER,I,J),this.emit(c.DRAG_OVER,I,Y,J)):_>0?(Y.emit(c.GAMEOBJECT_DRAG_LEAVE,I,J),this.emit(c.DRAG_LEAVE,I,Y,J),$.target=B[0],Y.emit(c.GAMEOBJECT_DRAG_ENTER,I,J=$.target),this.emit(c.DRAG_ENTER,I,Y,J)):(Y.emit(c.GAMEOBJECT_DRAG_LEAVE,I,J),this.emit(c.DRAG_LEAVE,I,Y,J),B[0]?($.target=B[0],Y.emit(c.GAMEOBJECT_DRAG_ENTER,I,J=$.target),this.emit(c.DRAG_ENTER,I,Y,J)):$.target=null)}else!J&&B[0]&&($.target=B[0],Y.emit(c.GAMEOBJECT_DRAG_ENTER,I,J=$.target),this.emit(c.DRAG_ENTER,I,Y,J));if(Y.parentContainer){var V=I.worldX-$.dragStartXGlobal,X=I.worldY-$.dragStartYGlobal,W=Y.getParentRotation(),j=V*Math.cos(W)+X*Math.sin(W),K=X*Math.cos(W)-V*Math.sin(W);tt=(j*=1/Y.parentContainer.scaleX)+$.dragStartX,U=(K*=1/Y.parentContainer.scaleY)+$.dragStartY}else tt=I.worldX-$.dragX,U=I.worldY-$.dragY;Y.emit(c.GAMEOBJECT_DRAG,I,tt,U),this.emit(c.DRAG,I,Y,tt,U)}return G.length},processDragUpEvent:function(I){for(var B=this._drag[I.id],G=0;G<B.length;G++){var H=B[G],Y=H.input;if(Y&&2===Y.dragState){Y.dragState=0,Y.dragX=Y.localX-H.displayOriginX,Y.dragY=Y.localY-H.displayOriginY;var $=!1,J=Y.target;J&&(H.emit(c.GAMEOBJECT_DROP,I,J),this.emit(c.DROP,I,H,J),Y.target=null,$=!0),H.input&&(H.emit(c.GAMEOBJECT_DRAG_END,I,Y.dragX,Y.dragY,$),this.emit(c.DRAG_END,I,H,$))}}return this.setDragState(I,0),B.splice(0),0},processMoveEvents:function(I){var B=0,G=this._temp,H=this._eventData,Y=this._eventContainer;H.cancelled=!1;for(var $=!1,J=0;J<G.length;J++){var _=G[J];if(_.input){if(B++,_.emit(c.GAMEOBJECT_POINTER_MOVE,I,_.input.localX,_.input.localY,Y),H.cancelled||!_.input){$=!0;break}if(this.emit(c.GAMEOBJECT_MOVE,I,_,Y),H.cancelled||!_.input){$=!0;break}if(this.topOnly)break}}return $||this.emit(c.POINTER_MOVE,I,G),B},processWheelEvent:function(I){var B=0,G=this._temp,H=this._eventData,Y=this._eventContainer;H.cancelled=!1;for(var $=!1,J=I.deltaX,_=I.deltaY,tt=I.deltaZ,U=0;U<G.length;U++){var V=G[U];if(V.input){if(B++,V.emit(c.GAMEOBJECT_POINTER_WHEEL,I,J,_,tt,Y),H.cancelled||!V.input){$=!0;break}if(this.emit(c.GAMEOBJECT_WHEEL,I,V,J,_,tt,Y),H.cancelled||!V.input){$=!0;break}}}return $||this.emit(c.POINTER_WHEEL,I,G,J,_,tt),B},processOverEvents:function(I){var B=this._temp,G=0,H=B.length,Y=[];if(H>0){var $=this.manager,J=this._eventData,_=this._eventContainer;J.cancelled=!1;for(var tt=!1,U=0;U<H;U++){var V=B[U];if(V.input){if(Y.push(V),$.setCursor(V.input),V.emit(c.GAMEOBJECT_POINTER_OVER,I,V.input.localX,V.input.localY,_),G++,J.cancelled||!V.input){tt=!0;break}if(this.emit(c.GAMEOBJECT_OVER,I,V,_),J.cancelled||!V.input){tt=!0;break}}}tt||this.emit(c.POINTER_OVER,I,Y)}return this._over[I.id]=Y,G},processOutEvents:function(I){var B=this._over[I.id],G=0,H=B.length;if(H>0){var Y=this.manager,$=this._eventData,J=this._eventContainer;$.cancelled=!1;var _=!1;this.sortGameObjects(B);for(var tt=0;tt<H;tt++){var U=B[tt];if((U=B[tt]).input){if(Y.resetCursor(U.input),U.emit(c.GAMEOBJECT_POINTER_OUT,I,J),G++,$.cancelled||!U.input){_=!0;break}if(this.emit(c.GAMEOBJECT_OUT,I,U,J),$.cancelled||!U.input){_=!0;break}_||this.emit(c.POINTER_OUT,I,B)}}this._over[I.id]=[]}return G},processOverOutEvents:function(I){var G,H,B=this._temp,Y=[],$=[],J=[],_=this._over[I.id],tt=this._drag[I.id],U=this.manager;for(G=0;G<_.length;G++)-1===B.indexOf(H=_[G])&&-1===tt.indexOf(H)?Y.push(H):J.push(H);for(G=0;G<B.length;G++)-1===_.indexOf(H=B[G])&&$.push(H);var V=Y.length,X=0,W=this._eventData,j=this._eventContainer;W.cancelled=!1;var K=!1;if(V>0){for(this.sortGameObjects(Y),G=0;G<V;G++)if((H=Y[G]).input){if(U.resetCursor(H.input),H.emit(c.GAMEOBJECT_POINTER_OUT,I,j),X++,W.cancelled||!H.input){K=!0;break}if(this.emit(c.GAMEOBJECT_OUT,I,H,j),W.cancelled||!H.input){K=!0;break}}K||this.emit(c.POINTER_OUT,I,Y)}if(V=$.length,W.cancelled=!1,K=!1,V>0){for(this.sortGameObjects($),G=0;G<V;G++)if((H=$[G]).input){if(U.setCursor(H.input),H.emit(c.GAMEOBJECT_POINTER_OVER,I,H.input.localX,H.input.localY,j),X++,W.cancelled||!H.input){K=!0;break}if(this.emit(c.GAMEOBJECT_OVER,I,H,j),W.cancelled||!H.input){K=!0;break}}K||this.emit(c.POINTER_OVER,I,$)}return _=J.concat($),this._over[I.id]=this.sortGameObjects(_),X},processUpEvents:function(I){var B=this._temp,G=this._eventData,H=this._eventContainer;G.cancelled=!1;for(var Y=!1,$=0;$<B.length;$++){var J=B[$];if(J.input){if(J.emit(c.GAMEOBJECT_POINTER_UP,I,J.input.localX,J.input.localY,H),G.cancelled||!J.input){Y=!0;break}if(this.emit(c.GAMEOBJECT_UP,I,J,H),G.cancelled||!J.input){Y=!0;break}}}return!Y&&this.manager&&(I.upElement===this.manager.game.canvas?this.emit(c.POINTER_UP,I,B):this.emit(c.POINTER_UP_OUTSIDE,I)),B.length},queueForInsertion:function(I){return-1===this._pendingInsertion.indexOf(I)&&-1===this._list.indexOf(I)&&this._pendingInsertion.push(I),this},queueForRemoval:function(I){return this._pendingRemoval.push(I),this},setDraggable:function(I,B){void 0===B&&(B=!0),Array.isArray(I)||(I=[I]);for(var G=0;G<I.length;G++){var H=I[G];H.input.draggable=B;var Y=this._draggable.indexOf(H);B&&-1===Y?this._draggable.push(H):!B&&Y>-1&&this._draggable.splice(Y,1)}return this},makePixelPerfect:function(I){return void 0===I&&(I=1),o(this.systems.textures,I)},setHitArea:function(I,B,G){if(void 0===B)return this.setHitAreaFromTexture(I);Array.isArray(I)||(I=[I]);var H=!1,Y=!1,$=!1,J=!1,_=!1,tt=!0;if(T(B)){var U=B;B=m(U,"hitArea",null),G=m(U,"hitAreaCallback",null),H=m(U,"draggable",!1),Y=m(U,"dropZone",!1),$=m(U,"cursor",!1),J=m(U,"useHandCursor",!1),_=m(U,"pixelPerfect",!1);var V=m(U,"alphaTolerance",1);_&&(B={},G=this.makePixelPerfect(V)),(!B||!G)&&(this.setHitAreaFromTexture(I),tt=!1)}else"function"==typeof B&&!G&&(G=B,B={});for(var X=0;X<I.length;X++){var W=I[X];if(_&&"Container"===W.type)console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");else{var j=W.input?W.input:h(W,B,G);j.customHitArea=tt,j.dropZone=Y,j.cursor=J?"pointer":$,W.input=j,H&&this.setDraggable(W),this.queueForInsertion(W)}}return this},setHitAreaCircle:function(I,B,G,H,Y){void 0===Y&&(Y=g);var $=new l(B,G,H);return this.setHitArea(I,$,Y)},setHitAreaEllipse:function(I,B,G,H,Y,$){void 0===$&&($=r);var J=new d(B,G,H,Y);return this.setHitArea(I,J,$)},setHitAreaFromTexture:function(I,B){void 0===B&&(B=S),Array.isArray(I)||(I=[I]);for(var G=0;G<I.length;G++){var H=I[G],Y=H.frame,$=0,J=0;H.width?($=H.width,J=H.height):Y&&($=Y.realWidth,J=Y.realHeight),"Container"!==H.type||0!==$&&0!==J?0!==$&&0!==J&&(H.input=h(H,new M(0,0,$,J),B),this.queueForInsertion(H)):console.warn("Container.setInteractive must specify a Shape or call setSize() first")}return this},setHitAreaRectangle:function(I,B,G,H,Y,$){void 0===$&&($=S);var J=new M(B,G,H,Y);return this.setHitArea(I,J,$)},setHitAreaTriangle:function(I,B,G,H,Y,$,J,_){void 0===_&&(_=w);var tt=new R(B,G,H,Y,$,J);return this.setHitArea(I,tt,_)},enableDebug:function(I,B){void 0===B&&(B=65280);var G=I.input;if(!G||!G.hitArea)return this;var H=G.hitArea,Y=H.type,$=G.hitAreaDebug,J=this.systems.add,_=this.systems.updateList;$&&(_.remove($),$.destroy(),$=null);var tt=0,U=0;switch(Y){case v.CIRCLE:$=J.arc(0,0,H.radius),tt=H.x-H.radius,U=H.y-H.radius;break;case v.ELLIPSE:$=J.ellipse(0,0,H.width,H.height),tt=H.x-H.width/2,U=H.y-H.height/2;break;case v.LINE:$=J.line(0,0,H.x1,H.y1,H.x2,H.y2);break;case v.POLYGON:$=J.polygon(0,0,H.points);break;case v.RECTANGLE:$=J.rectangle(0,0,H.width,H.height),tt=H.x,U=H.y;break;case v.TRIANGLE:$=J.triangle(0,0,H.x1,H.y1,H.x2,H.y2,H.x3,H.y3)}return $&&($.isFilled=!1,$.preUpdate=function(){$.setStrokeStyle(1/I.scale,B),$.setDisplayOrigin(I.displayOriginX,I.displayOriginY);var V=I.x,X=I.y,W=I.rotation,j=I.scaleX,K=I.scaleY;if(I.parentContainer){var q=I.getWorldTransformMatrix();V=q.tx,X=q.ty,W=q.rotation,j=q.scaleX,K=q.scaleY}$.setRotation(W),$.setScale(j,K),$.setPosition(V+tt,X+U),$.setScrollFactor(I.scrollFactorX,I.scrollFactorY),$.setDepth(I.depth)},_.add($),G.hitAreaDebug=$),this},removeDebug:function(I){var B=I.input;if(B&&B.hitAreaDebug){var G=B.hitAreaDebug;this.systems.updateList.remove(G),G.destroy(),B.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(I){return this.pollRate=I,this._pollTimer=0,this},setGlobalTopOnly:function(I){return this.manager.globalTopOnly=I,this},setTopOnly:function(I){return this.topOnly=I,this},sortGameObjects:function(I){return I.length<2?I:(this.scene.sys.depthSort(),I.sort(this.sortHandlerGO.bind(this)))},sortHandlerGO:function(I,B){if(!I.parentContainer&&!B.parentContainer)return this.displayList.getIndex(B)-this.displayList.getIndex(I);if(I.parentContainer===B.parentContainer)return B.parentContainer.getIndex(B)-I.parentContainer.getIndex(I);if(I.parentContainer===B)return-1;if(B.parentContainer===I)return 1;for(var G=I.getIndexList(),H=B.getIndexList(),Y=Math.min(G.length,H.length),$=0;$<Y;$++){var J=G[$],_=H[$];if(J!==_)return _-J}return H.length-G.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(I){return this.manager.addPointer(I)},setDefaultCursor:function(I){return this.manager.setDefaultCursor(I),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(c.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var I=0;I<10;I++)this._drag[I]=[],this._over[I]=[];this.removeAllListeners();var B=this.manager;B.canvas.style.cursor=B.defaultCursor;var G=this.systems.events;G.off(P.TRANSITION_START,this.transitionIn,this),G.off(P.TRANSITION_OUT,this.transitionOut,this),G.off(P.TRANSITION_COMPLETE,this.transitionComplete,this),G.off(P.PRE_UPDATE,this.preUpdate,this),B.events.off(c.GAME_OUT,this.onGameOut,this),B.events.off(c.GAME_OVER,this.onGameOver,this),G.off(P.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(c.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(P.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});E.register("InputPlugin",L,"input"),C.exports=L},function(C,F,n){C.exports={Events:n(152),KeyboardManager:n(404),KeyboardPlugin:n(1324),Key:n(506),KeyCodes:n(141),KeyCombo:n(507),AdvanceKeyCombo:n(509),ProcessKeyCombo:n(508),ResetKeyCombo:n(510),JustDown:n(1326),JustUp:n(1327),DownDuration:n(1328),UpDuration:n(1329)}},function(C,F){C.exports="keydown"},function(C,F){C.exports="keyup"},function(C,F){C.exports="keycombomatch"},function(C,F){C.exports="down"},function(C,F){C.exports="keydown-"},function(C,F){C.exports="keyup-"},function(C,F){C.exports="up"},function(C,F,n){var l=n(0),g=n(9),f=n(152),u=n(22),h=n(6),o=n(49),a=n(151),d=n(506),r=n(141),c=n(507),p=n(1325),m=n(21),v=n(76),x=new l({Extends:g,initialize:function(E){g.call(this),this.game=E.systems.game,this.scene=E.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=E,this.manager=E.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,E.pluginEvents.once(o.BOOT,this.boot,this),E.pluginEvents.on(o.START,this.start,this)},boot:function(){var T=this.settings.input;this.enabled=h(T,"keyboard",!0);var E=h(T,"keyboard.capture",null);E&&this.addCaptures(E),this.sceneInputPlugin.pluginEvents.once(o.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(o.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(o.SHUTDOWN,this.shutdown,this),this.game.events.on(u.BLUR,this.resetKeys,this),this.scene.sys.events.on(m.PAUSE,this.resetKeys,this),this.scene.sys.events.on(m.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(T){return this.manager.addCapture(T),this},removeCapture:function(T){return this.manager.removeCapture(T),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:r.UP,down:r.DOWN,left:r.LEFT,right:r.RIGHT,space:r.SPACE,shift:r.SHIFT})},addKeys:function(T,E,M){void 0===E&&(E=!0),void 0===M&&(M=!1);var S={};if("string"==typeof T){T=T.split(",");for(var P=0;P<T.length;P++){var R=T[P].trim();R&&(S[R]=this.addKey(R,E,M))}}else for(var w in T)S[w]=this.addKey(T[w],E,M);return S},addKey:function(T,E,M){void 0===E&&(E=!0),void 0===M&&(M=!1);var S=this.keys;if(T instanceof d){var P=S.indexOf(T);return P>-1?S[P]=T:S[T.keyCode]=T,E&&this.addCapture(T.keyCode),T.setEmitOnRepeat(M),T}return"string"==typeof T&&(T=r[T.toUpperCase()]),S[T]||(S[T]=new d(this,T),E&&this.addCapture(T),S[T].setEmitOnRepeat(M)),S[T]},removeKey:function(T,E){void 0===E&&(E=!1);var S,M=this.keys;if(T instanceof d){var P=M.indexOf(T);P>-1&&(S=this.keys[P],this.keys[P]=void 0)}else"string"==typeof T&&(T=r[T.toUpperCase()]);return M[T]&&(S=M[T],M[T]=void 0),S&&(S.plugin=null,E&&S.destroy()),this},removeAllKeys:function(T){for(var E=this.keys,M=0;M<E.length;M++){var S=E[M];S&&(E[M]=void 0,T&&S.destroy())}return this},createCombo:function(T,E){return new c(this,T,E)},checkDown:function(T,E){if(void 0===E&&(E=0),this.enabled&&T.isDown){var M=v(this.time-T.timeDown,E);if(M>T._tick)return T._tick=M,!0}return!1},update:function(){var T=this.manager.queue,E=T.length;if(this.isActive()&&0!==E)for(var M=this.keys,S=0;S<E;S++){var P=T[S],R=P.keyCode,w=M[R],L=!1;void 0===P.cancelled&&(P.cancelled=0,P.stopImmediatePropagation=function(){P.cancelled=1},P.stopPropagation=function(){P.cancelled=-1}),-1!==P.cancelled&&(R===this.prevCode&&P.timeStamp===this.prevTime||(this.prevCode=R,this.prevTime=P.timeStamp,"keydown"===P.type?(w&&(L=w.isDown,w.onDown(P)),!P.cancelled&&(!w||!L)&&(p[R]&&this.emit(f.KEY_DOWN+p[R],P),P.cancelled||this.emit(f.ANY_KEY_DOWN,P))):(w&&w.onUp(P),P.cancelled||(p[R]&&this.emit(f.KEY_UP+p[R],P),P.cancelled||this.emit(f.ANY_KEY_UP,P))),1===P.cancelled&&(P.cancelled=0)))}},resetKeys:function(){for(var T=this.keys,E=0;E<T.length;E++)T[E]&&T[E].reset();return this},shutdown:function(){this.resetKeys(),this.sceneInputPlugin.manager.events.off(o.MANAGER_PROCESS,this.update,this),this.game.events.off(u.BLUR,this.resetKeys),this.scene.sys.events.off(m.PAUSE,this.resetKeys,this),this.scene.sys.events.off(m.SLEEP,this.resetKeys,this),this.removeAllListeners(),this.queue=[]},destroy:function(){this.shutdown();for(var T=this.keys,E=0;E<T.length;E++)T[E]&&T[E].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});a.register("KeyboardPlugin",x,"keyboard","keyboard","inputKeyboard"),C.exports=x},function(C,F,n){var l=n(141),g={};for(var f in l)g[l[f]]=f;C.exports=g},function(C,F){C.exports=function(l){return!!l._justDown&&(l._justDown=!1,!0)}},function(C,F){C.exports=function(l){return!!l._justUp&&(l._justUp=!1,!0)}},function(C,F){C.exports=function(l,g){return void 0===g&&(g=50),l.isDown&&l.plugin.game.loop.time-l.timeDown<g}},function(C,F){C.exports=function(l,g){return void 0===g&&(g=50),l.isUp&&l.plugin.game.loop.time-l.timeUp<g}},function(C,F,n){C.exports={MouseManager:n(405)}},function(C,F,n){C.exports={TouchManager:n(407)}},function(C,F,n){var l=n(20),g=n(17),f={Events:n(91),FileTypes:n(1333),File:n(23),FileTypesManager:n(8),GetURL:n(153),LoaderPlugin:n(1359),MergeXHRSettings:n(237),MultiFile:n(47),XHRLoader:n(511),XHRSettings:n(154)};f=g(!1,f,l),C.exports=f},function(C,F,n){C.exports={AnimationJSONFile:n(1334),AsepriteFile:n(1335),AtlasJSONFile:n(1336),AtlasXMLFile:n(1337),AudioFile:n(512),AudioSpriteFile:n(1338),BinaryFile:n(1339),BitmapFontFile:n(1340),CSSFile:n(1341),GLSLFile:n(1342),HTML5AudioFile:n(513),HTMLFile:n(1343),HTMLTextureFile:n(1344),ImageFile:n(70),JSONFile:n(59),MultiAtlasFile:n(1345),MultiScriptFile:n(1346),OBJFile:n(1347),PackFile:n(1348),PluginFile:n(1349),SceneFile:n(1350),ScenePluginFile:n(1351),ScriptFile:n(514),SpriteSheetFile:n(1352),SVGFile:n(1353),TextFile:n(239),TilemapCSVFile:n(1354),TilemapImpactFile:n(1355),TilemapJSONFile:n(1356),UnityAtlasFile:n(1357),VideoFile:n(1358),XMLFile:n(238)}},function(C,F,n){var l=n(0),g=n(8),f=n(59),u=n(91),h=new l({Extends:f,initialize:function(a,d,r,c,p){f.call(this,a,d,r,c,p),this.type="animationJSON"},onProcess:function(){this.loader.once(u.POST_PROCESS,this.onLoadComplete,this),f.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});g.register("animation",function(o,a,d,r){if(Array.isArray(o))for(var c=0;c<o.length;c++)this.addFile(new h(this,o[c]));else this.addFile(new h(this,o,a,r,d));return this}),C.exports=h},function(C,F,n){var l=n(0),g=n(8),f=n(2),u=n(70),h=n(7),o=n(59),a=n(47),d=new l({Extends:a,initialize:function(c,p,m,v,x,T){var E,M;if(h(p)){var S=p;p=f(S,"key"),E=new u(c,{key:p,url:f(S,"textureURL"),extension:f(S,"textureExtension","png"),normalMap:f(S,"normalMap"),xhrSettings:f(S,"textureXhrSettings")}),M=new o(c,{key:p,url:f(S,"atlasURL"),extension:f(S,"atlasExtension","json"),xhrSettings:f(S,"atlasXhrSettings")})}else E=new u(c,p,m,x),M=new o(c,p,v,T);a.call(this,c,"atlasjson",p,E.linkFile?[E,M,E.linkFile]:[E,M])},addToCache:function(){if(this.isReadyToProcess()){var r=this.files[0],c=this.files[1];this.loader.textureManager.addAtlas(r.key,r.data,c.data,this.files[2]?this.files[2].data:null),c.addToCache(),this.complete=!0}}});g.register("aseprite",function(r,c,p,m,v){var x;if(Array.isArray(r))for(var T=0;T<r.length;T++)x=new d(this,r[T]),this.addFile(x.files);else x=new d(this,r,c,p,m,v),this.addFile(x.files);return this}),C.exports=d},function(C,F,n){var l=n(0),g=n(8),f=n(2),u=n(70),h=n(7),o=n(59),a=n(47),d=new l({Extends:a,initialize:function(c,p,m,v,x,T){var E,M;if(h(p)){var S=p;p=f(S,"key"),E=new u(c,{key:p,url:f(S,"textureURL"),extension:f(S,"textureExtension","png"),normalMap:f(S,"normalMap"),xhrSettings:f(S,"textureXhrSettings")}),M=new o(c,{key:p,url:f(S,"atlasURL"),extension:f(S,"atlasExtension","json"),xhrSettings:f(S,"atlasXhrSettings")})}else E=new u(c,p,m,x),M=new o(c,p,v,T);a.call(this,c,"atlasjson",p,E.linkFile?[E,M,E.linkFile]:[E,M])},addToCache:function(){if(this.isReadyToProcess()){var r=this.files[0];this.loader.textureManager.addAtlas(r.key,r.data,this.files[1].data,this.files[2]?this.files[2].data:null),this.complete=!0}}});g.register("atlas",function(r,c,p,m,v){var x;if(Array.isArray(r))for(var T=0;T<r.length;T++)x=new d(this,r[T]),this.addFile(x.files);else x=new d(this,r,c,p,m,v),this.addFile(x.files);return this}),C.exports=d},function(C,F,n){var l=n(0),g=n(8),f=n(2),u=n(70),h=n(7),o=n(47),a=n(238),d=new l({Extends:o,initialize:function(c,p,m,v,x,T){var E,M;if(h(p)){var S=p;p=f(S,"key"),E=new u(c,{key:p,url:f(S,"textureURL"),extension:f(S,"textureExtension","png"),normalMap:f(S,"normalMap"),xhrSettings:f(S,"textureXhrSettings")}),M=new a(c,{key:p,url:f(S,"atlasURL"),extension:f(S,"atlasExtension","xml"),xhrSettings:f(S,"atlasXhrSettings")})}else E=new u(c,p,m,x),M=new a(c,p,v,T);o.call(this,c,"atlasxml",p,E.linkFile?[E,M,E.linkFile]:[E,M])},addToCache:function(){if(this.isReadyToProcess()){var r=this.files[0];this.loader.textureManager.addAtlasXML(r.key,r.data,this.files[1].data,this.files[2]?this.files[2].data:null),this.complete=!0}}});g.register("atlasXML",function(r,c,p,m,v){var x;if(Array.isArray(r))for(var T=0;T<r.length;T++)x=new d(this,r[T]),this.addFile(x.files);else x=new d(this,r,c,p,m,v),this.addFile(x.files);return this}),C.exports=d},function(C,F,n){var l=n(512),g=n(0),f=n(8),u=n(2),h=n(7),o=n(59),a=n(47),d=new g({Extends:a,initialize:function(c,p,m,v,x,T,E){if(h(p)){var M=p;p=u(M,"key"),m=u(M,"jsonURL"),v=u(M,"audioURL"),x=u(M,"audioConfig"),T=u(M,"audioXhrSettings"),E=u(M,"jsonXhrSettings")}var S;if(v){var P=l.create(c,p,v,x,T);P&&(S=new o(c,p,m,E),a.call(this,c,"audiosprite",p,[P,S]),this.config.resourceLoad=!1)}else S=new o(c,p,m,E),a.call(this,c,"audiosprite",p,[S]),this.config.resourceLoad=!0,this.config.audioConfig=x,this.config.audioXhrSettings=T},onFileComplete:function(r){if(-1!==this.files.indexOf(r)&&(this.pending--,this.config.resourceLoad&&"json"===r.type&&r.data.hasOwnProperty("resources"))){var p=r.data.resources,m=u(this.config,"audioConfig"),v=u(this.config,"audioXhrSettings"),x=l.create(this.loader,r.key,p,m,v);x&&(this.addToMultiFile(x),this.loader.addFile(x))}},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[1];this.files[0].addToCache(),c.addToCache(),this.complete=!0}}});f.register("audioSprite",function(r,c,p,m,v,x){var S,T=this.systems.game,E=T.config.audio,M=T.device.audio;if(E&&E.noAudio||!M.webAudio&&!M.audioData)return this;if(Array.isArray(r))for(var P=0;P<r.length;P++)(S=new d(this,r[P])).files&&this.addFile(S.files);else(S=new d(this,r,c,p,m,v,x)).files&&this.addFile(S.files);return this})},function(C,F,n){var l=n(0),g=n(20),f=n(23),u=n(8),h=n(2),o=n(7),a=new l({Extends:f,initialize:function(r,c,p,m,v){var x="bin";if(o(c)){var T=c;c=h(T,"key"),p=h(T,"url"),m=h(T,"xhrSettings"),x=h(T,"extension",x),v=h(T,"dataType",v)}f.call(this,r,{type:"binary",cache:r.cacheManager.binary,extension:x,responseType:"arraybuffer",key:c,url:p,xhrSettings:m,config:{dataType:v}})},onProcess:function(){this.state=g.FILE_PROCESSING;var d=this.config.dataType;this.data=d?new d(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});u.register("binary",function(d,r,c,p){if(Array.isArray(d))for(var m=0;m<d.length;m++)this.addFile(new a(this,d[m]));else this.addFile(new a(this,d,r,p,c));return this}),C.exports=a},function(C,F,n){var l=n(0),g=n(8),f=n(2),u=n(70),h=n(7),o=n(47),a=n(209),d=n(238),r=new l({Extends:o,initialize:function(p,m,v,x,T,E){var M,S;if(h(m)){var P=m;m=f(P,"key"),M=new u(p,{key:m,url:f(P,"textureURL"),extension:f(P,"textureExtension","png"),normalMap:f(P,"normalMap"),xhrSettings:f(P,"textureXhrSettings")}),S=new d(p,{key:m,url:f(P,"fontDataURL"),extension:f(P,"fontDataExtension","xml"),xhrSettings:f(P,"fontDataXhrSettings")})}else M=new u(p,m,v,T),S=new d(p,m,x,E);o.call(this,p,"bitmapfont",m,M.linkFile?[M,S,M.linkFile]:[M,S])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1];c.addToCache();var m=c.cache.get(c.key),v=a(p.data,c.cache.getFrame(c.key),0,0,m);this.loader.cacheManager.bitmapFont.add(c.key,{data:v,texture:c.key,frame:null}),this.complete=!0}}});g.register("bitmapFont",function(c,p,m,v,x){var T;if(Array.isArray(c))for(var E=0;E<c.length;E++)T=new r(this,c[E]),this.addFile(T.files);else T=new r(this,c,p,m,v,x),this.addFile(T.files);return this}),C.exports=r},function(C,F,n){var l=n(0),g=n(20),f=n(23),u=n(8),h=n(2),o=n(7),a=new l({Extends:f,initialize:function(r,c,p,m){var v="css";if(o(c)){var x=c;c=h(x,"key"),p=h(x,"url"),m=h(x,"xhrSettings"),v=h(x,"extension",v)}f.call(this,r,{type:"script",cache:!1,extension:v,responseType:"text",key:c,url:p,xhrSettings:m})},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});u.register("css",function(d,r,c){if(Array.isArray(d))for(var p=0;p<d.length;p++)this.addFile(new a(this,d[p]));else this.addFile(new a(this,d,r,c));return this}),C.exports=a},function(C,F,n){var l=n(0),g=n(20),f=n(23),u=n(8),h=n(2),o=n(7),a=n(390),d=new l({Extends:f,initialize:function(c,p,m,v,x){var T="glsl";if(o(p)){var E=p;p=h(E,"key"),m=h(E,"url"),v=h(E,"shaderType","fragment"),x=h(E,"xhrSettings"),T=h(E,"extension",T)}else void 0===v&&(v="fragment");f.call(this,c,{type:"glsl",cache:c.cacheManager.shader,extension:T,responseType:"text",key:p,url:m,config:{shaderType:v},xhrSettings:x})},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var r=this.data.split("\n"),c=this.extractBlock(r,0);if(c)for(;c;){var p=this.getShaderName(c.header),m=this.getShaderType(c.header),v=this.getShaderUniforms(c.header),x=c.shader;if(this.cache.has(p)){var T=this.cache.get(p);"fragment"===m?T.fragmentSrc=x:T.vertexSrc=x,T.uniforms||(T.uniforms=v)}else this.cache.add(p,"fragment"===m?new a(p,x,"",v):new a(p,"",x,v));c=this.extractBlock(r,c.offset)}else this.cache.add(this.key,"fragment"===this.config.shaderType?new a(this.key,this.data):new a(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(r){for(var c=0;c<r.length;c++){var p=r[c].trim();if("name:"===p.substring(0,5))return p.substring(5).trim()}return this.key},getShaderType:function(r){for(var c=0;c<r.length;c++){var p=r[c].trim();if("type:"===p.substring(0,5))return p.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(r){for(var c={},p=0;p<r.length;p++){var m=r[p].trim();if("uniform."===m.substring(0,8)){var v=m.indexOf(":");if(v){var x=m.substring(8,v);try{c[x]=JSON.parse(m.substring(v+1))}catch(T){console.warn("Invalid uniform JSON: "+x)}}}}return c},extractBlock:function(r,c){for(var p=-1,m=-1,v=-1,x=!1,T=!1,E=[],M=[],S=c;S<r.length;S++){var P=r[S].trim();if("---"===P)if(-1===p)p=S,x=!0;else{if(!x){T=!1;break}m=S,x=!1,T=!0}else x?E.push(P):T&&(M.push(P),v=S)}return x||-1===m?null:{header:E,shader:M.join("\n"),offset:v}}});u.register("glsl",function(r,c,p,m){if(Array.isArray(r))for(var v=0;v<r.length;v++)this.addFile(new d(this,r[v]));else this.addFile(new d(this,r,c,p,m));return this}),C.exports=d},function(C,F,n){var l=n(0),g=n(20),f=n(23),u=n(8),h=n(2),o=n(7),a=new l({Extends:f,initialize:function(r,c,p,m){var v="html";if(o(c)){var x=c;c=h(x,"key"),p=h(x,"url"),m=h(x,"xhrSettings"),v=h(x,"extension",v)}f.call(this,r,{type:"text",cache:r.cacheManager.html,extension:v,responseType:"text",key:c,url:p,xhrSettings:m})},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});u.register("html",function(d,r,c){if(Array.isArray(d))for(var p=0;p<d.length;p++)this.addFile(new a(this,d[p]));else this.addFile(new a(this,d,r,c));return this}),C.exports=a},function(C,F,n){var l=n(0),g=n(20),f=n(23),u=n(8),h=n(2),o=n(7),a=new l({Extends:f,initialize:function(r,c,p,m,v,x){void 0===m&&(m=512),void 0===v&&(v=512);var T="html";if(o(c)){var E=c;c=h(E,"key"),p=h(E,"url"),x=h(E,"xhrSettings"),T=h(E,"extension",T),m=h(E,"width",m),v=h(E,"height",v)}f.call(this,r,{type:"html",cache:r.textureManager,extension:T,responseType:"text",key:c,url:p,xhrSettings:x,config:{width:m,height:v}})},onProcess:function(){this.state=g.FILE_PROCESSING;var d=this.config.width,r=this.config.height,c=[];c.push('<svg width="'+d+'px" height="'+r+'px" viewBox="0 0 '+d+" "+r+'" xmlns="http://www.w3.org/2000/svg">'),c.push('<foreignObject width="100%" height="100%">'),c.push('<body xmlns="http://www.w3.org/1999/xhtml">'),c.push(this.xhrLoader.responseText),c.push("</body>"),c.push("</foreignObject>"),c.push("</svg>");var p=[c.join("\n")],m=this;try{var v=new window.Blob(p,{type:"image/svg+xml;charset=utf-8"})}catch(x){return m.state=g.FILE_ERRORED,void m.onProcessComplete()}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){f.revokeObjectURL(m.data),m.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(m.data),m.onProcessError()},f.createObjectURL(this.data,v,"image/svg+xml")},addToCache:function(){var d=this.cache.addImage(this.key,this.data);this.pendingDestroy(d)}});u.register("htmlTexture",function(d,r,c,p,m){if(Array.isArray(d))for(var v=0;v<d.length;v++)this.addFile(new a(this,d[v]));else this.addFile(new a(this,d,r,c,p,m));return this}),C.exports=a},function(C,F,n){var l=n(0),g=n(8),f=n(2),u=n(70),h=n(7),o=n(59),a=n(47),d=new l({Extends:a,initialize:function(c,p,m,v,x,T,E){if(h(p)){var M=p;p=f(M,"key"),m=f(M,"url",!1)?f(M,"url"):f(M,"atlasURL"),T=f(M,"xhrSettings"),v=f(M,"path"),x=f(M,"baseURL"),E=f(M,"textureXhrSettings")}var S=new o(c,p,m,T);a.call(this,c,"multiatlas",p,[S]),this.config.path=v,this.config.baseURL=x,this.config.textureXhrSettings=E},onFileComplete:function(r){if(-1!==this.files.indexOf(r)&&(this.pending--,"json"===r.type&&r.data.hasOwnProperty("textures"))){var p=r.data.textures,m=this.config,v=this.loader,x=v.baseURL,T=v.path,E=v.prefix,M=f(m,"baseURL",this.baseURL),S=f(m,"path",this.path),P=f(m,"prefix",this.prefix),R=f(m,"textureXhrSettings");v.setBaseURL(M),v.setPath(S),v.setPrefix(P);for(var w=0;w<p.length;w++){var L=p[w].image,I="MA"+this.multiKeyIndex+"_"+L,B=new u(v,I,L,R);if(this.addToMultiFile(B),v.addFile(B),p[w].normalMap){var G=new u(v,I,p[w].normalMap,R);G.type="normalMap",B.setLink(G),this.addToMultiFile(G),v.addFile(G)}}v.setBaseURL(x),v.setPath(T),v.setPrefix(E)}},addToCache:function(){if(this.isReadyToProcess()){for(var r=this.files[0],c=[],p=[],m=[],v=1;v<this.files.length;v++){var x=this.files[v];if("normalMap"!==x.type)for(var T=x.key.indexOf("_"),E=x.key.substr(T+1),M=x.data,S=0;S<r.data.textures.length;S++){var P=r.data.textures[S];if(P.image===E){p.push(M),c.push(P),x.linkFile&&m.push(x.linkFile.data);break}}}for(0===m.length&&(m=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,p,c,m),this.complete=!0,v=0;v<this.files.length;v++)this.files[v].pendingDestroy()}}});g.register("multiatlas",function(r,c,p,m,v){var x;if(Array.isArray(r))for(var T=0;T<r.length;T++)x=new d(this,r[T]),this.addFile(x.files);else x=new d(this,r,c,p,m,v),this.addFile(x.files);return this}),C.exports=d},function(C,F,n){var l=n(0),g=n(8),f=n(2),u=n(7),h=n(47),o=n(514),a=new l({Extends:h,initialize:function(r,c,p,m){var v="js",x=[];if(u(c)){var T=c;c=f(T,"key"),p=f(T,"url"),m=f(T,"xhrSettings"),v=f(T,"extension",v)}Array.isArray(p)||(p=[p]);for(var E=0;E<p.length;E++){var M=new o(r,{key:c+"_"+E.toString(),url:p[E],extension:v,xhrSettings:m});M.onProcess=function(){this.onProcessComplete()},x.push(M)}h.call(this,r,"scripts",c,x)},addToCache:function(){if(this.isReadyToProcess()){for(var d=0;d<this.files.length;d++){var r=this.files[d];r.data=document.createElement("script"),r.data.language="javascript",r.data.type="text/javascript",r.data.defer=!1,r.data.text=r.xhrLoader.responseText,document.head.appendChild(r.data)}this.complete=!0}}});g.register("scripts",function(d,r,c){var p;if(Array.isArray(d))for(var m=0;m<d.length;m++)p=new a(this,d[m]),this.addFile(p.files);else p=new a(this,d,r,c),this.addFile(p.files);return this}),C.exports=a},function(C,F,n){var l=n(0),g=n(8),f=n(2),u=n(7),h=n(47),o=n(492),a=n(493),d=n(239),r=new l({Extends:h,initialize:function(p,m,v,x,T,E){var M,S,P=p.cacheManager.obj;if(u(m)){var R=m;m=f(R,"key"),M=new d(p,{key:m,type:"obj",cache:P,url:f(R,"url"),extension:f(R,"extension","obj"),xhrSettings:f(R,"xhrSettings"),config:{flipUV:f(R,"flipUV",T)}}),(x=f(R,"matURL"))&&(S=new d(p,{key:m,type:"mat",cache:P,url:x,extension:f(R,"matExtension","mat"),xhrSettings:f(R,"xhrSettings")}))}else M=new d(p,{key:m,url:v,type:"obj",cache:P,extension:"obj",xhrSettings:E,config:{flipUV:T}}),x&&(S=new d(p,{key:m,url:x,type:"mat",cache:P,extension:"mat",xhrSettings:E}));h.call(this,p,"obj",m,[M,S])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1],m=o(c.data,c.config.flipUV);p&&(m.materials=a(p.data)),c.cache.add(c.key,m),this.complete=!0}}});g.register("obj",function(c,p,m,v,x){var T;if(Array.isArray(c))for(var E=0;E<c.length;E++)T=new r(this,c[E]),this.addFile(T.files);else T=new r(this,c,p,m,v,x),this.addFile(T.files);return this}),C.exports=r},function(C,F,n){var l=n(0),g=n(20),f=n(8),u=n(59),h=new l({Extends:u,initialize:function(a,d,r,c,p){u.call(this,a,d,r,c,p),this.type="packfile"},onProcess:function(){this.state!==g.FILE_POPULATED&&(this.state=g.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});f.register("pack",function(o,a,d,r){if(Array.isArray(o))for(var c=0;c<o.length;c++)this.addFile(new h(this,o[c]));else this.addFile(new h(this,o,a,r,d));return this}),C.exports=h},function(C,F,n){var l=n(0),g=n(20),f=n(23),u=n(8),h=n(2),o=n(7),a=new l({Extends:f,initialize:function(r,c,p,m,v,x){var T="js";if(o(c)){var E=c;c=h(E,"key"),p=h(E,"url"),x=h(E,"xhrSettings"),T=h(E,"extension",T),m=h(E,"start"),v=h(E,"mapping")}f.call(this,r,{type:"plugin",cache:!1,extension:T,responseType:"text",key:c,url:p,xhrSettings:x,config:{start:m,mapping:v}}),"function"==typeof p&&(this.data=p,this.state=g.FILE_POPULATED)},onProcess:function(){var d=this.loader.systems.plugins,r=this.config,c=h(r,"start",!1),p=h(r,"mapping",null);if(this.state===g.FILE_POPULATED)d.install(this.key,this.data,c,p);else{this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var m=d.install(this.key,window[this.key],c,p);(c||p)&&(this.loader.systems[p]=m,this.loader.scene[p]=m)}this.onProcessComplete()}});u.register("plugin",function(d,r,c,p,m){if(Array.isArray(d))for(var v=0;v<d.length;v++)this.addFile(new a(this,d[v]));else this.addFile(new a(this,d,r,c,p,m));return this}),C.exports=a},function(C,F,n){var l=n(0),g=n(20),f=n(23),u=n(8),h=n(2),o=n(7),a=new l({Extends:f,initialize:function(r,c,p,m){var v="js";if(o(c)){var x=c;c=h(x,"key"),p=h(x,"url"),m=h(x,"xhrSettings"),v=h(x,"extension",v)}f.call(this,r,{type:"text",extension:v,responseType:"text",key:c,url:p,xhrSettings:m})},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var d=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);"),r=eval;this.loader.sceneManager.add(this.key,r(d)),this.complete=!0}});u.register("sceneFile",function(d,r,c){if(Array.isArray(d))for(var p=0;p<d.length;p++)this.addFile(new a(this,d[p]));else this.addFile(new a(this,d,r,c));return this}),C.exports=a},function(C,F,n){var l=n(0),g=n(20),f=n(23),u=n(8),h=n(2),o=n(7),a=new l({Extends:f,initialize:function(r,c,p,m,v,x){var T="js";if(o(c)){var E=c;c=h(E,"key"),p=h(E,"url"),x=h(E,"xhrSettings"),T=h(E,"extension",T),m=h(E,"systemKey"),v=h(E,"sceneKey")}f.call(this,r,{type:"scenePlugin",cache:!1,extension:T,responseType:"text",key:c,url:p,xhrSettings:x,config:{systemKey:m,sceneKey:v}}),"function"==typeof p&&(this.data=p,this.state=g.FILE_POPULATED)},onProcess:function(){var d=this.loader.systems.plugins,r=this.config,c=this.key,p=h(r,"systemKey",c),m=h(r,"sceneKey",c);this.state===g.FILE_POPULATED?d.installScenePlugin(p,this.data,m,this.loader.scene,!0):(this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),d.installScenePlugin(p,window[this.key],m,this.loader.scene,!0)),this.onProcessComplete()}});u.register("scenePlugin",function(d,r,c,p,m){if(Array.isArray(d))for(var v=0;v<d.length;v++)this.addFile(new a(this,d[v]));else this.addFile(new a(this,d,r,c,p,m));return this}),C.exports=a},function(C,F,n){var l=n(0),g=n(8),f=n(70),u=new l({Extends:f,initialize:function(o,a,d,r,c){f.call(this,o,a,d,c,r),this.type="spritesheet"},addToCache:function(){var h=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(h)}});g.register("spritesheet",function(h,o,a,d){if(Array.isArray(h))for(var r=0;r<h.length;r++)this.addFile(new u(this,h[r]));else this.addFile(new u(this,h,o,a,d));return this}),C.exports=u},function(C,F,n){var l=n(0),g=n(20),f=n(23),u=n(8),h=n(2),o=n(7),a=new l({Extends:f,initialize:function(r,c,p,m,v){var x="svg";if(o(c)){var T=c;c=h(T,"key"),p=h(T,"url"),m=h(T,"svgConfig",{}),v=h(T,"xhrSettings"),x=h(T,"extension",x)}var E={type:"svg",cache:r.textureManager,extension:x,responseType:"text",key:c,url:p,xhrSettings:v,config:{width:h(m,"width"),height:h(m,"height"),scale:h(m,"scale")}};f.call(this,r,E)},onProcess:function(){this.state=g.FILE_PROCESSING;var d=this.xhrLoader.responseText,r=[d],c=this.config.width,p=this.config.height,m=this.config.scale;t:if(c&&p||m){var T=(new DOMParser).parseFromString(d,"text/xml").getElementsByTagName("svg")[0],E=T.hasAttribute("viewBox"),M=parseFloat(T.getAttribute("width")),S=parseFloat(T.getAttribute("height"));if(!E&&M&&S)T.setAttribute("viewBox","0  0 "+M+" "+S);else if(E&&!M&&!S){var P=T.getAttribute("viewBox").split(/\s+|,/);M=P[2],S=P[3]}if(m){if(!M||!S)break t;c=M*m,p=S*m}T.setAttribute("width",c.toString()+"px"),T.setAttribute("height",p.toString()+"px"),r=[(new XMLSerializer).serializeToString(T)]}try{var R=new window.Blob(r,{type:"image/svg+xml;charset=utf-8"})}catch(I){return void this.onProcessError()}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var w=this,L=!1;this.data.onload=function(){L||f.revokeObjectURL(w.data),w.onProcessComplete()},this.data.onerror=function(){L?w.onProcessError():(L=!0,f.revokeObjectURL(w.data),w.data.src="data:image/svg+xml,"+encodeURIComponent(r.join("")))},f.createObjectURL(this.data,R,"image/svg+xml")},addToCache:function(){var d=this.cache.addImage(this.key,this.data);this.pendingDestroy(d)}});u.register("svg",function(d,r,c,p){if(Array.isArray(d))for(var m=0;m<d.length;m++)this.addFile(new a(this,d[m]));else this.addFile(new a(this,d,r,c,p));return this}),C.exports=a},function(C,F,n){var l=n(0),g=n(20),f=n(23),u=n(8),h=n(2),o=n(7),a=n(38),d=new l({Extends:f,initialize:function(c,p,m,v){var x="csv";if(o(p)){var T=p;p=h(T,"key"),m=h(T,"url"),v=h(T,"xhrSettings"),x=h(T,"extension",x)}f.call(this,c,{type:"tilemapCSV",cache:c.cacheManager.tilemap,extension:x,responseType:"text",key:p,url:m,xhrSettings:v}),this.tilemapFormat=a.CSV},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var r={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,r),this.pendingDestroy(r)}});u.register("tilemapCSV",function(r,c,p){if(Array.isArray(r))for(var m=0;m<r.length;m++)this.addFile(new d(this,r[m]));else this.addFile(new d(this,r,c,p));return this}),C.exports=d},function(C,F,n){var l=n(0),g=n(8),f=n(59),u=n(38),h=new l({Extends:f,initialize:function(a,d,r,c){f.call(this,a,d,r,c),this.type="tilemapJSON",this.cache=a.cacheManager.tilemap},addToCache:function(){var o={format:u.WELTMEISTER,data:this.data};this.cache.add(this.key,o),this.pendingDestroy(o)}});g.register("tilemapImpact",function(o,a,d){if(Array.isArray(o))for(var r=0;r<o.length;r++)this.addFile(new h(this,o[r]));else this.addFile(new h(this,o,a,d));return this}),C.exports=h},function(C,F,n){var l=n(0),g=n(8),f=n(59),u=n(38),h=new l({Extends:f,initialize:function(a,d,r,c){f.call(this,a,d,r,c),this.type="tilemapJSON",this.cache=a.cacheManager.tilemap},addToCache:function(){var o={format:u.TILED_JSON,data:this.data};this.cache.add(this.key,o),this.pendingDestroy(o)}});g.register("tilemapTiledJSON",function(o,a,d){if(Array.isArray(o))for(var r=0;r<o.length;r++)this.addFile(new h(this,o[r]));else this.addFile(new h(this,o,a,d));return this}),C.exports=h},function(C,F,n){var l=n(0),g=n(8),f=n(2),u=n(70),h=n(7),o=n(47),a=n(239),d=new l({Extends:o,initialize:function(c,p,m,v,x,T){var E,M;if(h(p)){var S=p;p=f(S,"key"),E=new u(c,{key:p,url:f(S,"textureURL"),extension:f(S,"textureExtension","png"),normalMap:f(S,"normalMap"),xhrSettings:f(S,"textureXhrSettings")}),M=new a(c,{key:p,url:f(S,"atlasURL"),extension:f(S,"atlasExtension","txt"),xhrSettings:f(S,"atlasXhrSettings")})}else E=new u(c,p,m,x),M=new a(c,p,v,T);o.call(this,c,"unityatlas",p,E.linkFile?[E,M,E.linkFile]:[E,M])},addToCache:function(){if(this.isReadyToProcess()){var r=this.files[0];this.loader.textureManager.addUnityAtlas(r.key,r.data,this.files[1].data,this.files[2]?this.files[2].data:null),this.complete=!0}}});g.register("unityAtlas",function(r,c,p,m,v){var x;if(Array.isArray(r))for(var T=0;T<r.length;T++)x=new d(this,r[T]),this.addFile(x.files);else x=new d(this,r,c,p,m,v),this.addFile(x.files);return this}),C.exports=d},function(C,F,n){var l=n(0),g=n(20),f=n(23),u=n(8),h=n(153),o=n(2),a=n(7),d=new l({Extends:f,initialize:function(c,p,m,v,x,T,E){void 0===v&&(v="loadeddata"),void 0===x&&(x=!1),void 0===T&&(T=!1),"loadeddata"!==v&&"canplay"!==v&&"canplaythrough"!==v&&(v="loadeddata");var M={type:"video",cache:c.cacheManager.video,extension:m.type,responseType:"blob",key:p,url:m.url,xhrSettings:E,config:{loadEvent:v,asBlob:x,noAudio:T}};this.onLoadCallback=this.onVideoLoadHandler.bind(this),this.onErrorCallback=this.onVideoErrorHandler.bind(this),f.call(this,c,M)},onProcess:function(){if(this.state=g.FILE_PROCESSING,this.config.asBlob){var r=this.createVideoElement();this.data=r;var c=this;this.data.onloadeddata=function(){c.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(c.data),c.onProcessError()},f.createObjectURL(r,this.xhrLoader.response,""),r.load()}else this.onProcessComplete()},createVideoElement:function(){var r=document.createElement("video");return r.controls=!1,r.crossOrigin=this.loader.crossOrigin,this.config.noAudio&&(r.muted=!0,r.defaultMuted=!0,r.setAttribute("autoplay","autoplay")),r.setAttribute("playsinline","playsinline"),r.setAttribute("preload","auto"),r},onVideoLoadHandler:function(r){var c=r.target;c.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),c.removeEventListener("error",this.onErrorCallback,!0),this.data=c,this.resetXHR(),this.loader.nextFile(this,!0)},onVideoErrorHandler:function(r){var c=r.target;c&&(c.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),c.removeEventListener("error",this.onErrorCallback,!0)),this.resetXHR(),this.loader.nextFile(this,!1)},load:function(){var r=this.config.loadEvent;if(this.config.asBlob)f.prototype.load.call(this);else{this.percentComplete=0;var c=this.createVideoElement();c.addEventListener(r,this.onLoadCallback,!0),c.addEventListener("error",this.onErrorCallback,!0),c.src=h(this,this.loader.baseURL),c.load()}}});d.create=function(r,c,p,m,v,x,T){var E=r.systems.game;a(c)&&(p=o(c,"url",[]),m=o(c,"loadEvent","loadeddata"),v=o(c,"asBlob",!1),x=o(c,"noAudio",!1),T=o(c,"xhrSettings"));var M=d.getVideoURL(E,p);if(M)return new d(r,c,M,m,v,x,T)},d.getVideoURL=function(r,c){Array.isArray(c)||(c=[c]);for(var p=0;p<c.length;p++){var v,m=o(c[p],"url",c[p]);if(0===m.indexOf("blob:"))return{url:m,type:""};if(v=0===m.indexOf("data:")?m.split(",")[0].match(/\/(.*?);/):m.match(/\.([a-zA-Z0-9]+)($|\?)/),v=o(c[p],"type",v?v[1]:"").toLowerCase(),r.device.video[v])return{url:m,type:v}}return null},u.register("video",function(r,c,p,m,v,x){var T;if(Array.isArray(r))for(var E=0;E<r.length;E++)(T=d.create(this,r[E]))&&this.addFile(T);else(T=d.create(this,r,c,p,m,v,x))&&this.addFile(T);return this}),C.exports=d},function(C,F,n){var l=n(0),g=n(20),f=n(148),u=n(9),h=n(91),o=n(8),a=n(2),d=n(24),r=n(21),c=n(154),p=new l({Extends:u,initialize:function(v){u.call(this);var x=v.sys.game.config,T=v.sys.settings.loader;this.scene=v,this.systems=v.sys,this.cacheManager=v.sys.cache,this.textureManager=v.sys.textures,this.sceneManager=v.sys.game.scene,o.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(a(T,"baseURL",x.loaderBaseURL)),this.setPath(a(T,"path",x.loaderPath)),this.setPrefix(a(T,"prefix",x.loaderPrefix)),this.maxParallelDownloads=a(T,"maxParallelDownloads",x.loaderMaxParallelDownloads),this.xhr=c(a(T,"responseType",x.loaderResponseType),a(T,"async",x.loaderAsync),a(T,"user",x.loaderUser),a(T,"password",x.loaderPassword),a(T,"timeout",x.loaderTimeout),a(T,"withCredentials",x.loaderWithCredentials)),this.crossOrigin=a(T,"crossOrigin",x.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new f,this.inflight=new f,this.queue=new f,this._deleteQueue=new f,this.totalFailed=0,this.totalComplete=0,this.state=g.LOADER_IDLE,this.multiKeyIndex=0,v.sys.events.once(r.BOOT,this.boot,this),v.sys.events.on(r.START,this.pluginStart,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(r.SHUTDOWN,this.shutdown,this)},setBaseURL:function(m){return void 0===m&&(m=""),""!==m&&"/"!==m.substr(-1)&&(m=m.concat("/")),this.baseURL=m,this},setPath:function(m){return void 0===m&&(m=""),""!==m&&"/"!==m.substr(-1)&&(m=m.concat("/")),this.path=m,this},setPrefix:function(m){return void 0===m&&(m=""),this.prefix=m,this},setCORS:function(m){return this.crossOrigin=m,this},addFile:function(m){Array.isArray(m)||(m=[m]);for(var v=0;v<m.length;v++){var x=m[v];this.keyExists(x)||(this.list.set(x),this.emit(h.ADD,x.key,x.type,this,x),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(m){var v=m.hasCacheConflict();return v||this.list.iterate(function(x){if(x.type===m.type&&x.key===m.key)return v=!0,!1}),!v&&this.isLoading()&&(this.inflight.iterate(function(x){if(x.type===m.type&&x.key===m.key)return v=!0,!1}),this.queue.iterate(function(x){if(x.type===m.type&&x.key===m.key)return v=!0,!1})),v},addPack:function(m,v){v&&m.hasOwnProperty(v)&&(m={packKey:m[v]});var x=0,T=this.baseURL,E=this.path,M=this.prefix;for(var S in m)if(Object.prototype.hasOwnProperty.call(m,S)){var P=m[S],R=a(P,"baseURL",T),w=a(P,"path",E),L=a(P,"prefix",M),I=a(P,"files",null),B=a(P,"defaultType","void");if(Array.isArray(I)){this.setBaseURL(R),this.setPath(w),this.setPrefix(L);for(var G=0;G<I.length;G++){var H=I[G],Y=H.hasOwnProperty("type")?H.type:B;this[Y]&&(this[Y](H),x++)}}}return this.setBaseURL(T),this.setPath(E),this.setPrefix(M),x>0},isLoading:function(){return this.state===g.LOADER_LOADING||this.state===g.LOADER_PROCESSING},isReady:function(){return this.state===g.LOADER_IDLE||this.state===g.LOADER_COMPLETE},start:function(){!this.isReady()||(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(h.START,this),0===this.list.size?this.loadComplete():(this.state=g.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(r.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(h.PROGRESS,this.progress)},update:function(){this.state===g.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(m){if((m.state===g.FILE_POPULATED||m.state===g.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(m),this.list.delete(m),m.crossOrigin||(m.crossOrigin=this.crossOrigin),m.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(m,v){!this.inflight||(this.inflight.delete(m),this.updateProgress(),v?(this.totalComplete++,this.queue.set(m),this.emit(h.FILE_LOAD,m),m.onProcess()):(this.totalFailed++,this._deleteQueue.set(m),this.emit(h.FILE_LOAD_ERROR,m),this.fileProcessComplete(m)))},fileProcessComplete:function(m){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(m.state===g.FILE_ERRORED?m.multiFile&&m.multiFile.onFileFailed(m):m.state===g.FILE_COMPLETE&&(m.multiFile?m.multiFile.isReadyToProcess()&&m.multiFile.addToCache():m.addToCache()),this.queue.delete(m),0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete())},loadComplete:function(){this.emit(h.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=g.LOADER_COMPLETE,this.systems.events.off(r.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(h.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(m){this._deleteQueue.set(m)},saveJSON:function(m,v){return this.save(JSON.stringify(m),v)},save:function(m,v,x){void 0===v&&(v="file.json"),void 0===x&&(x="application/json");var T=new Blob([m],{type:x}),E=URL.createObjectURL(T),M=document.createElement("a");return M.download=v,M.textContent="Download "+v,M.href=E,M.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var m=this.systems.game.config,v=this.systems.settings.loader;this.setBaseURL(a(v,"baseURL",m.loaderBaseURL)),this.setPath(a(v,"path",m.loaderPath)),this.setPrefix(a(v,"prefix",m.loaderPrefix)),this.state=g.LOADER_IDLE},shutdown:function(){this.reset(),this.state=g.LOADER_SHUTDOWN,this.systems.events.off(r.UPDATE,this.update,this),this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=g.LOADER_DESTROYED,this.systems.events.off(r.UPDATE,this.update,this),this.systems.events.off(r.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});d.register("Loader",p,"load"),C.exports=p},function(C,F,n){var l=n(60),g=n(17),f={ArcadePhysics:n(1361),Body:n(521),Collider:n(522),Components:n(240),Events:n(242),Factory:n(515),GetOverlapX:n(243),GetOverlapY:n(244),SeparateX:n(531),SeparateY:n(532),Group:n(518),Image:n(516),Sprite:n(155),StaticBody:n(533),StaticGroup:n(519),Tilemap:n(1385),World:n(520)};f=g(!1,f,l),C.exports=f},function(C,F,n){var l=n(0),g=n(34),f=n(48),u=n(347),h=n(515),o=n(2),a=n(143),d=n(517),r=n(241),c=n(24),p=n(21),m=n(3),v=n(520),x=new l({initialize:function(E){this.scene=E,this.systems=E.sys,this.config=this.getConfig(),E.sys.events.once(p.BOOT,this.boot,this),E.sys.events.on(p.START,this.start,this)},boot:function(){this.world=new v(this.scene,this.config),this.add=new h(this.world),this.systems.events.once(p.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new v(this.scene,this.config),this.add=new h(this.world));var T=this.systems.events;o(this.config,"customUpdate",!1)||T.on(p.UPDATE,this.world.update,this.world),T.on(p.POST_UPDATE,this.world.postUpdate,this.world),T.once(p.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(p.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(p.UPDATE,this.world.update,this.world)},getConfig:function(){var T=this.systems.game.config.physics;return a(o(this.systems.settings.physics,"arcade",{}),o(T,"arcade",{}))},overlap:function(T,E,M,S,P){return void 0===M&&(M=null),void 0===S&&(S=null),void 0===P&&(P=M),this.world.collideObjects(T,E,M,S,P,!0)},collide:function(T,E,M,S,P){return void 0===M&&(M=null),void 0===S&&(S=null),void 0===P&&(P=M),this.world.collideObjects(T,E,M,S,P,!1)},collideTiles:function(T,E,M,S,P){return this.world.collideTiles(T,E,M,S,P)},overlapTiles:function(T,E,M,S,P){return this.world.overlapTiles(T,E,M,S,P)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(T,E,M,S,P,R){void 0===S&&(S=60);var w=Math.atan2(M-T.y,E-T.x);return T.body.acceleration.setToPolar(w,S),void 0!==P&&void 0!==R&&T.body.maxVelocity.set(P,R),w},accelerateToObject:function(T,E,M,S,P){return this.accelerateTo(T,E.x,E.y,M,S,P)},closest:function(T,E){E||(E=this.world.bodies.entries);for(var M=Number.MAX_VALUE,S=null,P=T.x,R=T.y,w=E.length,L=0;L<w;L++){var I=E[L],B=I.body||I;if(T!==I&&T!==B&&T!==B.gameObject&&T!==B.center){var G=u(P,R,B.center.x,B.center.y);G<M&&(S=I,M=G)}}return S},furthest:function(T,E){E||(E=this.world.bodies.entries);for(var M=-1,S=null,P=T.x,R=T.y,w=E.length,L=0;L<w;L++){var I=E[L],B=I.body||I;if(T!==I&&T!==B&&T!==B.gameObject&&T!==B.center){var G=u(P,R,B.center.x,B.center.y);G>M&&(S=I,M=G)}}return S},moveTo:function(T,E,M,S,P){void 0===S&&(S=60),void 0===P&&(P=0);var R=Math.atan2(M-T.y,E-T.x);return P>0&&(S=f(T.x,T.y,E,M)/(P/1e3)),T.body.velocity.setToPolar(R,S),R},moveToObject:function(T,E,M,S){return this.moveTo(T,E.x,E.y,M,S)},velocityFromAngle:function(T,E,M){return void 0===E&&(E=60),void 0===M&&(M=new m),M.setToPolar(g(T),E)},velocityFromRotation:function(T,E,M){return void 0===E&&(E=60),void 0===M&&(M=new m),M.setToPolar(T,E)},overlapRect:function(T,E,M,S,P,R){return r(this.world,T,E,M,S,P,R)},overlapCirc:function(T,E,M,S,P){return d(this.world,T,E,M,S,P)},shutdown:function(){if(this.world){var T=this.systems.events;T.off(p.UPDATE,this.world.update,this.world),T.off(p.POST_UPDATE,this.world.postUpdate,this.world),T.off(p.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(p.START,this.start,this),this.scene=null,this.systems=null}});c.register("ArcadePhysics",x,"arcadePhysics"),C.exports=x},function(C,F){C.exports={setAcceleration:function(l,g){return this.body.acceleration.set(l,g),this},setAccelerationX:function(l){return this.body.acceleration.x=l,this},setAccelerationY:function(l){return this.body.acceleration.y=l,this}}},function(C,F){C.exports={setAngularVelocity:function(l){return this.body.angularVelocity=l,this},setAngularAcceleration:function(l){return this.body.angularAcceleration=l,this},setAngularDrag:function(l){return this.body.angularDrag=l,this}}},function(C,F){C.exports={setBounce:function(l,g){return this.body.bounce.set(l,g),this},setBounceX:function(l){return this.body.bounce.x=l,this},setBounceY:function(l){return this.body.bounce.y=l,this},setCollideWorldBounds:function(l,g,f){return this.body.setCollideWorldBounds(l,g,f),this}}},function(C,F){C.exports={setDebug:function(l,g,f){return this.debugShowBody=l,this.debugShowVelocity=g,this.debugBodyColor=f,this},setDebugBodyColor:function(l){return this.body.debugBodyColor=l,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(l){this.body.debugShowBody=l}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(l){this.body.debugShowVelocity=l}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(l){this.body.debugBodyColor=l}}}},function(C,F){C.exports={setDrag:function(l,g){return this.body.drag.set(l,g),this},setDragX:function(l){return this.body.drag.x=l,this},setDragY:function(l){return this.body.drag.y=l,this},setDamping:function(l){return this.body.useDamping=l,this}}},function(C,F){C.exports={enableBody:function(l,g,f,u,h){return l&&this.body.reset(g,f),u&&(this.body.gameObject.active=!0),h&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(l,g){return void 0===l&&(l=!1),void 0===g&&(g=!1),this.body.stop(),this.body.enable=!1,l&&(this.body.gameObject.active=!1),g&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}}},function(C,F){C.exports={setFriction:function(l,g){return this.body.friction.set(l,g),this},setFrictionX:function(l){return this.body.friction.x=l,this},setFrictionY:function(l){return this.body.friction.y=l,this}}},function(C,F){C.exports={setGravity:function(l,g){return this.body.gravity.set(l,g),this},setGravityX:function(l){return this.body.gravity.x=l,this},setGravityY:function(l){return this.body.gravity.y=l,this}}},function(C,F){C.exports={setImmovable:function(l){return void 0===l&&(l=!0),this.body.immovable=l,this}}},function(C,F){C.exports={setMass:function(l){return this.body.mass=l,this}}},function(C,F){C.exports={setPushable:function(l){return void 0===l&&(l=!0),this.body.pushable=l,this}}},function(C,F){C.exports={setOffset:function(l,g){return this.body.setOffset(l,g),this},setSize:function(l,g,f){return this.body.setSize(l,g,f),this},setBodySize:function(l,g,f){return this.body.setSize(l,g,f),this},setCircle:function(l,g,f){return this.body.setCircle(l,g,f),this}}},function(C,F){C.exports={setVelocity:function(l,g){return this.body.setVelocity(l,g),this},setVelocityX:function(l){return this.body.setVelocityX(l),this},setVelocityY:function(l){return this.body.setVelocityY(l),this},setMaxVelocity:function(l,g){return this.body.maxVelocity.set(l,g),this}}},function(C,F){C.exports="collide"},function(C,F){C.exports="overlap"},function(C,F){C.exports="pause"},function(C,F){C.exports="resume"},function(C,F){C.exports="tilecollide"},function(C,F){C.exports="tileoverlap"},function(C,F){C.exports="worldbounds"},function(C,F){C.exports="worldstep"},function(C,F){var n,l,g,f,u,h,o,a,d,r,c,p,m,v,x,T,E,S=function(){return r&&x&&l.blocked.right?(n.processX(-E,o,!1,!0),1):d&&T&&l.blocked.left?(n.processX(E,o,!0),1):m&&T&&n.blocked.right?(l.processX(-E,a,!1,!0),2):p&&x&&n.blocked.left?(l.processX(E,a,!0),2):0},R=function(I){if(g&&f)E*=.5,0===I||3===I?(n.processX(E,u),l.processX(-E,h)):(n.processX(-E,u),l.processX(E,h));else if(g&&!f)0===I||3===I?n.processX(E,o,!0):n.processX(-E,o,!1,!0);else if(!g&&f)0===I||3===I?l.processX(-E,a,!1,!0):l.processX(E,a,!0);else{var B=.5*E;0===I?v?(n.processX(E,0,!0),l.processX(0,null,!1,!0)):m?(n.processX(B,0,!0),l.processX(-B,0,!1,!0)):(n.processX(B,l.velocity.x,!0),l.processX(-B,null,!1,!0)):1===I?c?(n.processX(0,null,!1,!0),l.processX(E,0,!0)):r?(n.processX(-B,0,!1,!0),l.processX(B,0,!0)):(n.processX(-B,null,!1,!0),l.processX(B,n.velocity.x,!0)):2===I?v?(n.processX(-E,0,!1,!0),l.processX(0,null,!0)):p?(n.processX(-B,0,!1,!0),l.processX(B,0,!0)):(n.processX(-B,l.velocity.x,!1,!0),l.processX(B,null,!0)):3===I&&(c?(n.processX(0,null,!0),l.processX(-E,0,!1,!0)):d?(n.processX(B,0,!0),l.processX(-B,0,!1,!0)):(n.processX(B,l.velocity.y,!0),l.processX(-B,null,!1,!0)))}return!0};C.exports={BlockCheck:S,Check:function(){var I=n.velocity.x,B=l.velocity.x,G=Math.sqrt(B*B*l.mass/n.mass)*(B>0?1:-1),H=Math.sqrt(I*I*n.mass/l.mass)*(I>0?1:-1),Y=.5*(G+H);return u=Y+(G-=Y)*n.bounce.x,h=Y+(H-=Y)*l.bounce.x,d&&T?R(0):p&&x?R(1):r&&x?R(2):!(!m||!T)&&R(3)},Set:function(I,B,G){var H=(n=I).velocity.x,Y=(l=B).velocity.x;return g=n.pushable,d=n._dx<0,r=n._dx>0,c=0===n._dx,x=Math.abs(n.right-l.x)<=Math.abs(l.right-n.x),o=Y-H*n.bounce.x,f=l.pushable,p=l._dx<0,m=l._dx>0,v=0===l._dx,T=!x,a=H-Y*l.bounce.x,E=Math.abs(G),S()},Run:R,RunImmovableBody1:function(I){1===I?l.velocity.x=0:x?l.processX(E,a,!0):l.processX(-E,a,!1,!0),n.moves&&(l.y+=(n.y-n.prev.y)*n.friction.y,l._dy=l.y-l.prev.y)},RunImmovableBody2:function(I){2===I&&(n.velocity.x=0),T?n.processX(E,o,!0):n.processX(-E,o,!1,!0),l.moves&&(n.y+=(l.y-l.prev.y)*l.friction.y,n._dy=n.y-n.prev.y)}}},function(C,F){var n,l,g,f,u,h,o,a,d,r,c,p,m,v,x,T,E,S=function(){return r&&x&&l.blocked.down?(n.processY(-E,o,!1,!0),1):d&&T&&l.blocked.up?(n.processY(E,o,!0),1):m&&T&&n.blocked.down?(l.processY(-E,a,!1,!0),2):p&&x&&n.blocked.up?(l.processY(E,a,!0),2):0},R=function(I){if(g&&f)E*=.5,0===I||3===I?(n.processY(E,u),l.processY(-E,h)):(n.processY(-E,u),l.processY(E,h));else if(g&&!f)0===I||3===I?n.processY(E,o,!0):n.processY(-E,o,!1,!0);else if(!g&&f)0===I||3===I?l.processY(-E,a,!1,!0):l.processY(E,a,!0);else{var B=.5*E;0===I?v?(n.processY(E,0,!0),l.processY(0,null,!1,!0)):m?(n.processY(B,0,!0),l.processY(-B,0,!1,!0)):(n.processY(B,l.velocity.y,!0),l.processY(-B,null,!1,!0)):1===I?c?(n.processY(0,null,!1,!0),l.processY(E,0,!0)):r?(n.processY(-B,0,!1,!0),l.processY(B,0,!0)):(n.processY(-B,null,!1,!0),l.processY(B,n.velocity.y,!0)):2===I?v?(n.processY(-E,0,!1,!0),l.processY(0,null,!0)):p?(n.processY(-B,0,!1,!0),l.processY(B,0,!0)):(n.processY(-B,l.velocity.y,!1,!0),l.processY(B,null,!0)):3===I&&(c?(n.processY(0,null,!0),l.processY(-E,0,!1,!0)):d?(n.processY(B,0,!0),l.processY(-B,0,!1,!0)):(n.processY(B,l.velocity.y,!0),l.processY(-B,null,!1,!0)))}return!0};C.exports={BlockCheck:S,Check:function(){var I=n.velocity.y,B=l.velocity.y,G=Math.sqrt(B*B*l.mass/n.mass)*(B>0?1:-1),H=Math.sqrt(I*I*n.mass/l.mass)*(I>0?1:-1),Y=.5*(G+H);return u=Y+(G-=Y)*n.bounce.y,h=Y+(H-=Y)*l.bounce.y,d&&T?R(0):p&&x?R(1):r&&x?R(2):!(!m||!T)&&R(3)},Set:function(I,B,G){var H=(n=I).velocity.y,Y=(l=B).velocity.y;return g=n.pushable,d=n._dy<0,r=n._dy>0,c=0===n._dy,x=Math.abs(n.bottom-l.y)<=Math.abs(l.bottom-n.y),o=Y-H*n.bounce.y,f=l.pushable,p=l._dy<0,m=l._dy>0,v=0===l._dy,T=!x,a=H-Y*l.bounce.y,E=Math.abs(G),S()},Run:R,RunImmovableBody1:function(I){1===I?l.velocity.y=0:x?l.processY(E,a,!0):l.processY(-E,a,!1,!0),n.moves&&(l.x+=(n.x-n.prev.x)*n.friction.x,l._dx=l.x-l.prev.x)},RunImmovableBody2:function(I){2===I?n.velocity.y=0:T?n.processY(E,o,!0):n.processY(-E,o,!1,!0),l.moves&&(n.x+=(l.x-l.prev.x)*l.friction.x,n._dx=n.x-n.prev.x)}}},function(C,F,n){var l={ProcessTileCallbacks:n(524),ProcessTileSeparationX:n(528),ProcessTileSeparationY:n(530),SeparateTile:n(526),TileCheckX:n(527),TileCheckY:n(529),TileIntersectsBody:n(245)};C.exports=l},function(C,F,n){var l=n(126),g=n(71),f=n(50),u=n(2),h=n(94);C.exports={parseBody:function(a,d,r,c){void 0===c&&(c={});for(var p=u(r,"fixtures",[]),m=[],v=0;v<p.length;v++)for(var x=this.parseFixture(p[v]),T=0;T<x.length;T++)m.push(x[T]);var E=f.clone(r,!0);f.extend(E,c,!0),delete E.fixtures,delete E.type;var M=g.create(E);return g.setParts(M,m),g.setPosition(M,{x:a,y:d}),M},parseFixture:function(a){var r,d=f.extend({},!1,a);if(delete d.circle,delete d.vertices,a.circle){var c=u(a.circle,"x"),p=u(a.circle,"y"),m=u(a.circle,"radius");r=[l.circle(c,p,m,d)]}else a.vertices&&(r=this.parseVertices(a.vertices,d));return r},parseVertices:function(a,d){void 0===d&&(d={});for(var r=[],c=0;c<a.length;c++)h.clockwiseSort(a[c]),r.push(g.create(f.extend({position:h.centre(a[c]),vertices:a[c]},d)));return l.flagCoincidentParts(r)}}},function(C,F,n){var l=n(126),g=n(71);C.exports={parseBody:function(u,h,o,a){void 0===a&&(a={});var d,r=o.vertices;if(1===r.length)a.vertices=r[0],d=g.create(a),l.flagCoincidentParts(d.parts);else{for(var c=[],p=0;p<r.length;p++){var m=g.create({vertices:r[p]});c.push(m)}l.flagCoincidentParts(c),a.parts=c,d=g.create(a)}return d.label=o.label,g.setPosition(d,{x:u,y:h}),d}}},function(C,F,n){var l={};C.exports=l;var g=n(163),f=n(246),u=n(50),h=n(71),o=n(126);l.stack=function(a,d,r,c,p,m,v){for(var M,x=g.create({label:"Stack"}),T=a,E=d,S=0,P=0;P<c;P++){for(var R=0,w=0;w<r;w++){var L=v(T,E,w,P,M,S);if(L){var I=L.bounds.max.y-L.bounds.min.y;I>R&&(R=I),h.translate(L,{x:.5*(L.bounds.max.x-L.bounds.min.x),y:.5*I}),T=L.bounds.max.x+p,g.addBody(x,L),M=L,S+=1}else T+=p}E+=R+m,T=a}return x},l.chain=function(a,d,r,c,p,m){for(var v=a.bodies,x=1;x<v.length;x++){var T=v[x-1],E=v[x],L=u.extend({bodyA:T,pointA:{x:(T.bounds.max.x-T.bounds.min.x)*d,y:(T.bounds.max.y-T.bounds.min.y)*r},bodyB:E,pointB:{x:(E.bounds.max.x-E.bounds.min.x)*c,y:(E.bounds.max.y-E.bounds.min.y)*p}},m);g.addConstraint(a,f.create(L))}return a.label+=" Chain",a},l.mesh=function(a,d,r,c,p){var v,x,E,m=a.bodies;for(v=0;v<r;v++){for(x=1;x<d;x++)g.addConstraint(a,f.create(u.extend({bodyA:m[x-1+v*d],bodyB:E=m[x+v*d]},p)));if(v>0)for(x=0;x<d;x++)g.addConstraint(a,f.create(u.extend({bodyA:m[x+(v-1)*d],bodyB:E=m[x+v*d]},p))),c&&x>0&&g.addConstraint(a,f.create(u.extend({bodyA:m[x-1+(v-1)*d],bodyB:E},p))),c&&x<d-1&&g.addConstraint(a,f.create(u.extend({bodyA:m[x+1+(v-1)*d],bodyB:E},p)))}return a.label+=" Mesh",a},l.pyramid=function(a,d,r,c,p,m,v){return l.stack(a,d,r,c,p,m,function(x,T,E,M,S,P){var R=Math.min(c,Math.ceil(r/2)),w=S?S.bounds.max.x-S.bounds.min.x:0;if(!(M>R||E<(M=R-M)||E>r-1-M))return 1===P&&h.translate(S,{x:(E+(r%2==1?1:-1))*w,y:0}),v(a+(S?E*w:0)+E*p,T,E,M,S,P)})},l.newtonsCradle=function(a,d,r,c,p){for(var m=g.create({label:"Newtons Cradle"}),v=0;v<r;v++){var T=o.circle(a+v*(1.9*c),d+p,c,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),E=f.create({pointA:{x:a+v*(1.9*c),y:d},bodyB:T});g.addBody(m,T),g.addConstraint(m,E)}return m},l.car=function(a,d,r,c,p){var m=h.nextGroup(!0),x=.5*-r+20,T=.5*r-20,M=g.create({label:"Car"}),S=o.rectangle(a,d,r,c,{collisionFilter:{group:m},chamfer:{radius:.5*c},density:2e-4}),P=o.circle(a+x,d+0,p,{collisionFilter:{group:m},friction:.8}),R=o.circle(a+T,d+0,p,{collisionFilter:{group:m},friction:.8}),w=f.create({bodyB:S,pointB:{x,y:0},bodyA:P,stiffness:1,length:0}),L=f.create({bodyB:S,pointB:{x:T,y:0},bodyA:R,stiffness:1,length:0});return g.addBody(M,S),g.addBody(M,P),g.addBody(M,R),g.addConstraint(M,w),g.addConstraint(M,L),M},l.softBody=function(a,d,r,c,p,m,v,x,T,E){T=u.extend({inertia:1/0},T),E=u.extend({stiffness:.2,render:{type:"line",anchors:!1}},E);var M=l.stack(a,d,r,c,p,m,function(S,P){return o.circle(S,P,x,T)});return l.mesh(M,r,c,v,E),M.label="Soft Body",M}},function(C,F,n){var l={};C.exports=l,n(117);var f=n(50);l.pathToVertices=function(u,h){"undefined"!=typeof window&&!("SVGPathSeg"in window)&&f.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var o,a,d,r,c,p,m,v,x,M,S,E=[],P=0,R=0,w=0;h=h||15;var L=function(B,G,H){var Y=H%2==1&&H>1;if(!x||B!=x.x||G!=x.y){x&&Y?(M=x.x,S=x.y):(M=0,S=0);var $={x:M+B,y:S+G};(Y||!x)&&(x=$),E.push($),R=M+B,w=S+G}},I=function(B){var G=B.pathSegTypeAsLetter.toUpperCase();if("Z"!==G){switch(G){case"M":case"L":case"T":case"C":case"S":case"Q":R=B.x,w=B.y;break;case"H":R=B.x;break;case"V":w=B.y}L(R,w,B.pathSegType)}};for(l._svgPathToAbsolute(u),d=u.getTotalLength(),p=[],o=0;o<u.pathSegList.numberOfItems;o+=1)p.push(u.pathSegList.getItem(o));for(m=p.concat();P<d;){if((c=p[u.getPathSegAtLength(P)])!=v){for(;m.length&&m[0]!=c;)I(m.shift());v=c}switch(c.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":r=u.getPointAtLength(P),L(r.x,r.y,0)}P+=h}for(o=0,a=m.length;o<a;++o)I(m[o]);return E},l._svgPathToAbsolute=function(u){for(var h,o,a,d,r,c,p=u.pathSegList,m=0,v=0,x=p.numberOfItems,T=0;T<x;++T){var E=p.getItem(T),M=E.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(M))"x"in E&&(m=E.x),"y"in E&&(v=E.y);else switch("x1"in E&&(a=m+E.x1),"x2"in E&&(r=m+E.x2),"y1"in E&&(d=v+E.y1),"y2"in E&&(c=v+E.y2),"x"in E&&(m+=E.x),"y"in E&&(v+=E.y),M){case"m":p.replaceItem(u.createSVGPathSegMovetoAbs(m,v),T);break;case"l":p.replaceItem(u.createSVGPathSegLinetoAbs(m,v),T);break;case"h":p.replaceItem(u.createSVGPathSegLinetoHorizontalAbs(m),T);break;case"v":p.replaceItem(u.createSVGPathSegLinetoVerticalAbs(v),T);break;case"c":p.replaceItem(u.createSVGPathSegCurvetoCubicAbs(m,v,a,d,r,c),T);break;case"s":p.replaceItem(u.createSVGPathSegCurvetoCubicSmoothAbs(m,v,r,c),T);break;case"q":p.replaceItem(u.createSVGPathSegCurvetoQuadraticAbs(m,v,a,d),T);break;case"t":p.replaceItem(u.createSVGPathSegCurvetoQuadraticSmoothAbs(m,v),T);break;case"a":p.replaceItem(u.createSVGPathSegArcAbs(m,v,E.r1,E.r2,E.angle,E.largeArcFlag,E.sweepFlag),T);break;case"z":case"Z":m=h,v=o}("M"==M||"m"==M)&&(h=m,o=v)}}},function(C,F,n){var l=n(126),g=n(71),f=n(0),u=n(534),h=n(9),o=n(2),a=n(125),d=n(94),r=new f({Extends:h,Mixins:[u.Bounce,u.Collision,u.Friction,u.Gravity,u.Mass,u.Sensor,u.Sleep,u.Static],initialize:function(p,m,v){h.call(this),this.tile=m,this.world=p,m.physics.matterBody&&m.physics.matterBody.destroy(),m.physics.matterBody=this;var x=o(v,"body",null),T=o(v,"addToWorld",!0);if(x)this.setBody(x,T);else{var E=m.getCollisionGroup();o(E,"objects",[]).length>0?this.setFromTileCollision(v):this.setFromTileRectangle(v)}},setFromTileRectangle:function(c){void 0===c&&(c={}),a(c,"isStatic")||(c.isStatic=!0),a(c,"addToWorld")||(c.addToWorld=!0);var p=this.tile.getBounds(),x=l.rectangle(p.x+p.width/2,p.y+p.height/2,p.width,p.height,c);return this.setBody(x,c.addToWorld),this},setFromTileCollision:function(c){void 0===c&&(c={}),a(c,"isStatic")||(c.isStatic=!0),a(c,"addToWorld")||(c.addToWorld=!0);for(var p=this.tile.tilemapLayer.scaleX,m=this.tile.tilemapLayer.scaleY,v=this.tile.getLeft(),x=this.tile.getTop(),T=this.tile.getCollisionGroup(),E=o(T,"objects",[]),M=[],S=0;S<E.length;S++){var P=E[S],R=v+P.x*p,w=x+P.y*m,L=P.width*p,I=P.height*m,B=null;if(P.rectangle)B=l.rectangle(R+L/2,w+I/2,L,I,c);else if(P.ellipse)B=l.circle(R+L/2,w+I/2,L/2,c);else if(P.polygon||P.polyline){var H=(P.polygon?P.polygon:P.polyline).map(function(J){return{x:J.x*p,y:J.y*m}}),Y=d.create(H),$=d.centre(Y);B=l.fromVertices(R+=$.x,w+=$.y,Y,c)}B&&M.push(B)}return 1===M.length?this.setBody(M[0],c.addToWorld):M.length>1&&(c.parts=M,this.setBody(g.create(c),c.addToWorld)),this},setBody:function(c,p){return void 0===p&&(p=!0),this.body&&this.removeBody(),this.body=c,this.body.gameObject=this,p&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});C.exports=r},function(C,F,n){var l=n(1493);l.Body=n(71),l.Composite=n(163),l.World=n(1393),l.Detector=n(587),l.Grid=n(1394),l.Pairs=n(1395),l.Pair=n(535),l.Query=n(1494),l.Resolver=n(1396),l.SAT=n(588),l.Constraint=n(246),l.Common=n(50),l.Engine=n(1495),l.Events=n(268),l.Sleeping=n(267),l.Plugin=n(1392),l.Bodies=n(126),l.Composites=n(1388),l.Axes=n(585),l.Bounds=n(117),l.Svg=n(1389),l.Vector=n(116),l.Vertices=n(94),l.World.add=l.Composite.add,l.World.remove=l.Composite.remove,l.World.addComposite=l.Composite.addComposite,l.World.addBody=l.Composite.addBody,l.World.addConstraint=l.Composite.addConstraint,l.World.clear=l.Composite.clear,C.exports=l},function(C,F,n){var l={};C.exports=l;var g=n(50);l._registry={},l.register=function(f){if(l.isPlugin(f)||g.warn("Plugin.register:",l.toString(f),"does not implement all required fields."),f.name in l._registry){var u=l._registry[f.name],h=l.versionParse(f.version).number,o=l.versionParse(u.version).number;h>o?(g.warn("Plugin.register:",l.toString(u),"was upgraded to",l.toString(f)),l._registry[f.name]=f):h<o?g.warn("Plugin.register:",l.toString(u),"can not be downgraded to",l.toString(f)):f!==u&&g.warn("Plugin.register:",l.toString(f),"is already registered to different plugin object")}else l._registry[f.name]=f;return f},l.resolve=function(f){return l._registry[l.dependencyParse(f).name]},l.toString=function(f){return"string"==typeof f?f:(f.name||"anonymous")+"@"+(f.version||f.range||"0.0.0")},l.isPlugin=function(f){return f&&f.name&&f.version&&f.install},l.isUsed=function(f,u){return f.used.indexOf(u)>-1},l.isFor=function(f,u){var h=f.for&&l.dependencyParse(f.for);return!f.for||u.name===h.name&&l.versionSatisfies(u.version,h.range)},l.use=function(f,u){if(f.uses=(f.uses||[]).concat(u||[]),0!==f.uses.length){for(var h=l.dependencies(f),o=g.topologicalSort(h),a=[],d=0;d<o.length;d+=1)if(o[d]!==f.name){var r=l.resolve(o[d]);if(!r){a.push("\u274c "+o[d]);continue}l.isUsed(f,r.name)||(l.isFor(r,f)||(g.warn("Plugin.use:",l.toString(r),"is for",r.for,"but installed on",l.toString(f)+"."),r._warned=!0),r.install?r.install(f):(g.warn("Plugin.use:",l.toString(r),"does not specify an install function."),r._warned=!0),r._warned?(a.push("\u{1f536} "+l.toString(r)),delete r._warned):a.push("\u2705 "+l.toString(r)),f.used.push(r.name))}a.length>0&&!r.silent&&g.info(a.join("  "))}else g.warn("Plugin.use:",l.toString(f),"does not specify any dependencies to install.")},l.dependencies=function(f,u){var h=l.dependencyParse(f),o=h.name;if(!(o in(u=u||{}))){f=l.resolve(f)||f,u[o]=g.map(f.uses||[],function(d){l.isPlugin(d)&&l.register(d);var r=l.dependencyParse(d),c=l.resolve(d);return c&&!l.versionSatisfies(c.version,r.range)?(g.warn("Plugin.dependencies:",l.toString(c),"does not satisfy",l.toString(r),"used by",l.toString(h)+"."),c._warned=!0,f._warned=!0):c||(g.warn("Plugin.dependencies:",l.toString(d),"used by",l.toString(h),"could not be resolved."),f._warned=!0),r.name});for(var a=0;a<u[o].length;a+=1)l.dependencies(u[o][a],u);return u}},l.dependencyParse=function(f){return g.isString(f)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(f)||g.warn("Plugin.dependencyParse:",f,"is not a valid dependency string."),{name:f.split("@")[0],range:f.split("@")[1]||"*"}):{name:f.name,range:f.range||f.version}},l.versionParse=function(f){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(f)||g.warn("Plugin.versionParse:",f,"is not a valid version or range.");var h=f.split("-");f=h[0];var o=isNaN(Number(f[0])),a=o?f.substr(1):f,d=g.map(a.split("."),function(r){return Number(r)});return{isRange:o,version:a,range:f,operator:o?f[0]:"",parts:d,prerelease:h[1],number:1e8*d[0]+1e4*d[1]+d[2]}},l.versionSatisfies=function(f,u){var h=l.versionParse(u=u||"*"),o=h.parts,a=l.versionParse(f),d=a.parts;if(h.isRange){if("*"===h.operator||"*"===f)return!0;if("~"===h.operator)return d[0]===o[0]&&d[1]===o[1]&&d[2]>=o[2];if("^"===h.operator)return o[0]>0?d[0]===o[0]&&a.number>=h.number:o[1]>0?d[1]===o[1]&&d[2]>=o[2]:d[2]===o[2]}return f===u||"*"===f}},function(C,F,n){var l={};C.exports=l;var g=n(163),u=(n(246),n(50));l.create=function(h){var o=g.create();return u.extend(o,{label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}},h)}},function(C,F,n){var l={};C.exports=l;var g=n(535),f=n(587),u=n(50);l.create=function(h){return u.extend({controller:l,detector:f.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},h)},l.update=function(h,o,a,d){var r,c,p,x,T,m=a.world,v=h.buckets,E=!1,M=a.metrics;for(M.broadphaseTests=0,r=0;r<o.length;r++){var S=o[r];if((!S.isSleeping||d)&&!(S.bounds.max.x<m.bounds.min.x||S.bounds.min.x>m.bounds.max.x||S.bounds.max.y<m.bounds.min.y||S.bounds.min.y>m.bounds.max.y)){var P=l._getRegion(h,S);if(!S.region||P.id!==S.region.id||d){M.broadphaseTests+=1,(!S.region||d)&&(S.region=P);var R=l._regionUnion(P,S.region);for(c=R.startCol;c<=R.endCol;c++)for(p=R.startRow;p<=R.endRow;p++){x=v[T=l._getBucketId(c,p)];var w=c>=P.startCol&&c<=P.endCol&&p>=P.startRow&&p<=P.endRow,L=c>=S.region.startCol&&c<=S.region.endCol&&p>=S.region.startRow&&p<=S.region.endRow;!w&&L&&L&&x&&l._bucketRemoveBody(h,x,S),(S.region===P||w&&!L||d)&&(x||(x=l._createBucket(v,T)),l._bucketAddBody(h,x,S))}S.region=P,E=!0}}}E&&(h.pairsList=l._createActivePairsList(h))},l.clear=function(h){h.buckets={},h.pairs={},h.pairsList=[]},l._regionUnion=function(h,o){var a=Math.min(h.startCol,o.startCol),d=Math.max(h.endCol,o.endCol),r=Math.min(h.startRow,o.startRow),c=Math.max(h.endRow,o.endRow);return l._createRegion(a,d,r,c)},l._getRegion=function(h,o){var a=o.bounds,d=Math.floor(a.min.x/h.bucketWidth),r=Math.floor(a.max.x/h.bucketWidth),c=Math.floor(a.min.y/h.bucketHeight),p=Math.floor(a.max.y/h.bucketHeight);return l._createRegion(d,r,c,p)},l._createRegion=function(h,o,a,d){return{id:h+","+o+","+a+","+d,startCol:h,endCol:o,startRow:a,endRow:d}},l._getBucketId=function(h,o){return"C"+h+"R"+o},l._createBucket=function(h,o){return h[o]=[]},l._bucketAddBody=function(h,o,a){for(var d=0;d<o.length;d++){var r=o[d];if(!(a.id===r.id||a.isStatic&&r.isStatic)){var c=g.id(a,r),p=h.pairs[c];p?p[2]+=1:h.pairs[c]=[a,r,1]}}o.push(a)},l._bucketRemoveBody=function(h,o,a){o.splice(o.indexOf(a),1);for(var d=0;d<o.length;d++){var c=g.id(a,o[d]),p=h.pairs[c];p&&(p[2]-=1)}},l._createActivePairsList=function(h){var o,a,d=[];o=u.keys(h.pairs);for(var r=0;r<o.length;r++)(a=h.pairs[o[r]])[2]>0?d.push(a):delete h.pairs[o[r]];return d}},function(C,F,n){var l={};C.exports=l;var g=n(535),f=n(50);l._pairMaxIdleLife=1e3,l.create=function(u){return f.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},u)},l.update=function(u,h,o){var m,v,x,T,a=u.list,d=u.table,r=u.collisionStart,c=u.collisionEnd,p=u.collisionActive;for(r.length=0,c.length=0,p.length=0,T=0;T<a.length;T++)a[T].confirmedActive=!1;for(T=0;T<h.length;T++)(m=h[T]).collided&&((x=d[v=g.id(m.bodyA,m.bodyB)])?(x.isActive?p.push(x):r.push(x),g.update(x,m,o),x.confirmedActive=!0):(x=g.create(m,o),d[v]=x,r.push(x),a.push(x)));for(T=0;T<a.length;T++)(x=a[T]).isActive&&!x.confirmedActive&&(g.setActive(x,!1,o),c.push(x))},l.removeOld=function(u,h){var r,c,p,m,o=u.list,a=u.table,d=[];for(m=0;m<o.length;m++)(c=(r=o[m]).collision).bodyA.isSleeping||c.bodyB.isSleeping?r.timeUpdated=h:h-r.timeUpdated>l._pairMaxIdleLife&&d.push(m);for(m=0;m<d.length;m++)delete a[(r=o[p=d[m]-m]).id],o.splice(p,1)},l.clear=function(u){return u.table={},u.list.length=0,u.collisionStart.length=0,u.collisionActive.length=0,u.collisionEnd.length=0,u}},function(C,F,n){var l={};C.exports=l;var g=n(94),f=n(116),u=n(50),h=n(117);l._restingThresh=4,l._restingThreshTangent=6,l._positionDampen=.9,l._positionWarming=.8,l._frictionNormalMultiplier=5,l.preSolvePosition=function(o){var a,d,r;for(a=0;a<o.length;a++)(d=o[a]).isActive&&(d.collision.parentA.totalContacts+=r=d.activeContacts.length,d.collision.parentB.totalContacts+=r)},l.solvePosition=function(o,a,d){var r,c,p,m,v,x,T,E,M,S,P,R,w,B,G=d*l._positionDampen;for(r=0;r<a.length;r++){var H=a[r];H.previousPositionImpulse.x=H.positionImpulse.x,H.previousPositionImpulse.y=H.positionImpulse.y}for(r=0;r<o.length;r++)(m=o[r]).isActive&&!m.isSensor&&(m.separation=M=(c=(E=(v=m.collision).normal).x)*((R=(T=v.parentB).previousPositionImpulse).x-(P=(x=v.parentA).previousPositionImpulse).x+(S=v.penetration).x)+(p=E.y)*(R.y-P.y+S.y),B=(M-m.slop)*G,(x.isStatic||T.isStatic)&&(B*=2),x.isStatic||x.isSleeping||(x.positionImpulse.x+=c*(w=B/x.totalContacts),x.positionImpulse.y+=p*w),T.isStatic||T.isSleeping||(T.positionImpulse.x-=c*(w=B/T.totalContacts),T.positionImpulse.y-=p*w))},l.postSolvePosition=function(o){for(var a=0;a<o.length;a++){var d=o[a];if(d.totalContacts=0,0!==d.positionImpulse.x||0!==d.positionImpulse.y){for(var r=0;r<d.parts.length;r++){var c=d.parts[r];g.translate(c.vertices,d.positionImpulse),h.update(c.bounds,c.vertices,d.velocity),c.position.x+=d.positionImpulse.x,c.position.y+=d.positionImpulse.y}d.positionPrev.x+=d.positionImpulse.x,d.positionPrev.y+=d.positionImpulse.y,f.dot(d.positionImpulse,d.velocity)<0?(d.positionImpulse.x=0,d.positionImpulse.y=0):(d.positionImpulse.x*=l._positionWarming,d.positionImpulse.y*=l._positionWarming)}}},l.preSolveVelocity=function(o){var a,d,r,c,p,m,v,x,T,E,M,S,P,R,w=f._temp[0],L=f._temp[1];for(a=0;a<o.length;a++)if((r=o[a]).isActive&&!r.isSensor)for(c=r.activeContacts,m=(p=r.collision).parentA,v=p.parentB,x=p.normal,T=p.tangent,d=0;d<c.length;d++)M=(E=c[d]).vertex,P=E.tangentImpulse,(0!==(S=E.normalImpulse)||0!==P)&&(w.x=x.x*S+T.x*P,w.y=x.y*S+T.y*P,m.isStatic||m.isSleeping||(R=f.sub(M,m.position,L),m.positionPrev.x+=w.x*m.inverseMass,m.positionPrev.y+=w.y*m.inverseMass,m.anglePrev+=f.cross(R,w)*m.inverseInertia),v.isStatic||v.isSleeping||(R=f.sub(M,v.position,L),v.positionPrev.x-=w.x*v.inverseMass,v.positionPrev.y-=w.y*v.inverseMass,v.anglePrev-=f.cross(R,w)*v.inverseInertia))},l.solveVelocity=function(o,a){for(var d=a*a,r=f._temp[0],c=f._temp[1],p=f._temp[2],m=f._temp[3],v=f._temp[4],x=f._temp[5],T=0;T<o.length;T++){var E=o[T];if(E.isActive&&!E.isSensor){var M=E.collision,S=M.parentA,P=M.parentB,R=M.normal,w=M.tangent,L=E.activeContacts,I=1/L.length;S.velocity.x=S.position.x-S.positionPrev.x,S.velocity.y=S.position.y-S.positionPrev.y,P.velocity.x=P.position.x-P.positionPrev.x,P.velocity.y=P.position.y-P.positionPrev.y,S.angularVelocity=S.angle-S.anglePrev,P.angularVelocity=P.angle-P.anglePrev;for(var B=0;B<L.length;B++){var G=L[B],H=G.vertex,Y=f.sub(H,S.position,c),$=f.sub(H,P.position,p),J=f.add(S.velocity,f.mult(f.perp(Y),S.angularVelocity),m),_=f.add(P.velocity,f.mult(f.perp($),P.angularVelocity),v),tt=f.sub(J,_,x),U=f.dot(R,tt),V=f.dot(w,tt),X=Math.abs(V),W=u.sign(V),j=(1+E.restitution)*U,K=u.clamp(E.separation+U,0,1)*l._frictionNormalMultiplier,q=V,et=1/0;X>E.friction*E.frictionStatic*K*d&&(q=u.clamp(E.friction*W*d,-(et=X),et));var rt=f.cross(Y,R),ot=f.cross($,R),at=I/(S.inverseMass+P.inverseMass+S.inverseInertia*rt*rt+P.inverseInertia*ot*ot);if(j*=at,q*=at,U<0&&U*U>l._restingThresh*d)G.normalImpulse=0;else{var ft=G.normalImpulse;G.normalImpulse=Math.min(G.normalImpulse+j,0),j=G.normalImpulse-ft}if(V*V>l._restingThreshTangent*d)G.tangentImpulse=0;else{var ct=G.tangentImpulse;G.tangentImpulse=u.clamp(G.tangentImpulse+q,-et,et),q=G.tangentImpulse-ct}r.x=R.x*j+w.x*q,r.y=R.y*j+w.y*q,S.isStatic||S.isSleeping||(S.positionPrev.x+=r.x*S.inverseMass,S.positionPrev.y+=r.y*S.inverseMass,S.anglePrev+=f.cross(Y,r)*S.inverseInertia),P.isStatic||P.isSleeping||(P.positionPrev.x-=r.x*P.inverseMass,P.positionPrev.y-=r.y*P.inverseMass,P.anglePrev-=f.cross($,r)*P.inverseInertia)}}}}},function(C,F,n){C.exports={BasePlugin:n(536),DefaultPlugins:n(194),PluginCache:n(24),PluginManager:n(408),ScenePlugin:n(1398)}},function(C,F,n){var l=n(536),g=n(0),f=n(21),u=new g({Extends:l,initialize:function(o,a){l.call(this,a),this.scene=o,this.systems=o.sys,o.sys.events.once(f.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});C.exports=u},function(C,F,n){C.exports={Canvas:n(1400),Events:n(88),Snapshot:n(1401),WebGL:n(1402)}},function(C,F,n){C.exports={CanvasRenderer:n(362),GetBlendModes:n(364),SetTransform:n(30)}},function(C,F,n){C.exports={Canvas:n(363),WebGL:n(377)}},function(C,F,n){var l=n(104),g=n(17),f={PipelineManager:n(366),Pipelines:n(1403),RenderTarget:n(139),Utils:n(12),WebGLPipeline:n(57),WebGLRenderer:n(365),WebGLShader:n(369)};f=g(!1,f,l),C.exports=f},function(C,F,n){var l=n(65),g=n(17),f={BitmapMaskPipeline:n(367),Events:n(368),GraphicsPipeline:n(370),LightPipeline:n(371),MultiPipeline:n(105),PointLightPipeline:n(372),PostFXPipeline:n(1404),RopePipeline:n(373),SinglePipeline:n(374),UtilityPipeline:n(375)};f=g(!1,f,l),C.exports=f},function(C,F,n){var l=n(0),g=n(195),f=n(2),u=n(1405),h=n(376),o=n(57),a=new l({Extends:o,initialize:function(r){r.renderTarget=f(r,"renderTarget",1),r.fragShader=f(r,"fragShader",u),r.vertShader=f(r,"vertShader",h),r.attributes=f(r,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),r.batchSize=1,r.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],o.call(this,r),this.isPostFX=!0,this.colorMatrix=new g,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){o.prototype.boot.call(this);var d=this.manager.UTILITY_PIPELINE;this.fullFrame1=d.fullFrame1,this.fullFrame2=d.fullFrame2,this.halfFrame1=d.halfFrame1,this.halfFrame2=d.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(d){this.bindAndDraw(d)},copyFrame:function(d,r,c,p,m){this.manager.copyFrame(d,r,c,p,m)},copyToGame:function(d){this.manager.copyToGame(d)},drawFrame:function(d,r,c){this.manager.drawFrame(d,r,c,this.colorMatrix)},blendFrames:function(d,r,c,p,m){this.manager.blendFrames(d,r,c,p,m)},blendFramesAdditive:function(d,r,c,p,m){this.manager.blendFramesAdditive(d,r,c,p,m)},clearFrame:function(d,r){this.manager.clearFrame(d,r)},blitFrame:function(d,r,c,p,m,v){this.manager.blitFrame(d,r,c,p,m,v)},copyFrameRect:function(d,r,c,p,m,v,x,T){this.manager.copyFrameRect(d,r,c,p,m,v,x,T)},bindAndDraw:function(d,r,c,p,m){void 0===c&&(c=!0),void 0===p&&(p=!0);var v=this.gl,x=this.renderer;this.bind(m),this.set1i("uMainSampler",0),r?(v.viewport(0,0,r.width,r.height),v.bindFramebuffer(v.FRAMEBUFFER,r.framebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,r.texture,0),c&&(v.clearColor(0,0,0,p?0:1),v.clear(v.COLOR_BUFFER_BIT))):(x.popFramebuffer(!1,!1,!1),x.currentFramebuffer||v.viewport(0,0,x.width,x.height)),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,d.texture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),r?(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,null)):x.resetTextures()}});C.exports=a},function(C,F){C.exports=["#define SHADER_NAME PHASER_POSTFX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}",""].join("\n")},function(C,F,n){var l=n(17),g=n(198),f={Center:n(397),Events:n(101),Orientation:n(398),ScaleManager:n(409),ScaleModes:n(399),Zoom:n(400)};f=l(!1,f,g.CENTER),f=l(!1,f,g.ORIENTATION),f=l(!1,f,g.SCALE_MODE),f=l(!1,f,g.ZOOM),C.exports=f},function(C,F,n){var l=n(142),g=n(17),f={Events:n(21),GetPhysicsPlugins:n(413),GetScenePlugins:n(414),SceneManager:n(411),ScenePlugin:n(1408),Settings:n(415),Systems:n(201)};f=g(!1,f,l),C.exports=f},function(C,F,n){var l=n(18),g=n(0),f=n(21),u=n(2),h=n(24),o=new g({initialize:function(d){this.scene=d,this.systems=d.sys,this.settings=d.sys.settings,this.key=d.sys.settings.key,this.manager=d.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._willSleep=!1,this._willRemove=!1,d.sys.events.once(f.BOOT,this.boot,this),d.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},start:function(a,d){return void 0===a&&(a=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",a,d),this},restart:function(a){var d=this.key;return this.manager.queueOp("stop",d),this.manager.queueOp("start",d,a),this},transition:function(a){void 0===a&&(a={});var d=u(a,"target",!1),r=this.manager.getScene(d);if(!d||!this.checkValidTransition(r))return!1;var c=u(a,"duration",1e3);this._elapsed=0,this._target=r,this._duration=c,this._willSleep=u(a,"sleep",!1),this._willRemove=u(a,"remove",!1);var p=u(a,"onUpdate",null);p&&(this._onUpdate=p,this._onUpdateScope=u(a,"onUpdateScope",this.scene));var m=u(a,"allowInput",!1);this.settings.transitionAllowInput=m;var v=r.sys.settings;return v.isTransition=!0,v.transitionFrom=this.scene,v.transitionDuration=c,v.transitionAllowInput=m,u(a,"moveAbove",!1)?this.manager.moveAbove(this.key,d):u(a,"moveBelow",!1)&&this.manager.moveBelow(this.key,d),r.sys.isSleeping()?r.sys.wake(u(a,"data")):this.manager.start(d,u(a,"data")),this.systems.events.emit(f.TRANSITION_OUT,r,c),this.systems.events.on(f.UPDATE,this.step,this),!0},checkValidTransition:function(a){return!(!a||a.sys.isActive()||a.sys.isTransitioning()||a===this.scene||this.systems.isTransitioning())},step:function(a,d){this._elapsed+=d,this.transitionProgress=l(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var a=this._target.sys,d=this._target.sys.settings;this.systems.events.off(f.UPDATE,this.step,this),a.events.emit(f.TRANSITION_COMPLETE,this.scene),d.isTransition=!1,d.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(a,d,r,c){return this.manager.add(a,d,r,c)},launch:function(a,d){return a&&a!==this.key&&this.manager.queueOp("start",a,d),this},run:function(a,d){return a&&a!==this.key&&this.manager.queueOp("run",a,d),this},pause:function(a,d){return void 0===a&&(a=this.key),this.manager.queueOp("pause",a,d),this},resume:function(a,d){return void 0===a&&(a=this.key),this.manager.queueOp("resume",a,d),this},sleep:function(a,d){return void 0===a&&(a=this.key),this.manager.queueOp("sleep",a,d),this},wake:function(a,d){return void 0===a&&(a=this.key),this.manager.queueOp("wake",a,d),this},switch:function(a){return a!==this.key&&this.manager.queueOp("switch",this.key,a),this},stop:function(a,d){return void 0===a&&(a=this.key),this.manager.queueOp("stop",a,d),this},setActive:function(a,d,r){void 0===d&&(d=this.key);var c=this.manager.getScene(d);return c&&c.sys.setActive(a,r),this},setVisible:function(a,d){void 0===d&&(d=this.key);var r=this.manager.getScene(d);return r&&r.sys.setVisible(a),this},isSleeping:function(a){return void 0===a&&(a=this.key),this.manager.isSleeping(a)},isActive:function(a){return void 0===a&&(a=this.key),this.manager.isActive(a)},isPaused:function(a){return void 0===a&&(a=this.key),this.manager.isPaused(a)},isVisible:function(a){return void 0===a&&(a=this.key),this.manager.isVisible(a)},swapPosition:function(a,d){return void 0===d&&(d=this.key),a!==d&&this.manager.swapPosition(a,d),this},moveAbove:function(a,d){return void 0===d&&(d=this.key),a!==d&&this.manager.moveAbove(a,d),this},moveBelow:function(a,d){return void 0===d&&(d=this.key),a!==d&&this.manager.moveBelow(a,d),this},remove:function(a){return void 0===a&&(a=this.key),this.manager.remove(a),this},moveUp:function(a){return void 0===a&&(a=this.key),this.manager.moveUp(a),this},moveDown:function(a){return void 0===a&&(a=this.key),this.manager.moveDown(a),this},bringToTop:function(a){return void 0===a&&(a=this.key),this.manager.bringToTop(a),this},sendToBack:function(a){return void 0===a&&(a=this.key),this.manager.sendToBack(a),this},get:function(a){return this.manager.getScene(a)},getIndex:function(a){return void 0===a&&(a=this.key),this.manager.getIndex(a)},shutdown:function(){var a=this.systems.events;a.off(f.SHUTDOWN,this.shutdown,this),a.off(f.POST_UPDATE,this.step,this),a.off(f.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});h.register("ScenePlugin",o,"scenePlugin"),C.exports=o},function(C,F,n){C.exports={Events:n(432),List:n(107),Map:n(99),ProcessQueue:n(208),RTree:n(525),Set:n(148),Size:n(410)}},function(C,F,n){var l=n(17),g=n(1411),f={CanvasTexture:n(417),Events:n(103),FilterMode:g,Frame:n(106),Parsers:n(419),Texture:n(203),TextureManager:n(416),TextureSource:n(418)};f=l(!1,f,g),C.exports=f},function(C,F){C.exports={LINEAR:0,NEAREST:1}},function(C,F,n){var l=n(17),g=n(1413),f={Components:n(247),Parsers:n(1446),Formats:n(38),ImageCollection:n(572),ParseToTilemap:n(258),Tile:n(83),Tilemap:n(576),TilemapCreator:n(1452),TilemapFactory:n(1453),Tileset:n(121),TilemapLayer:n(577),Orientation:n(29),LayerData:n(119),MapData:n(120),ObjectLayer:n(568)};f=l(!1,f,g.ORIENTATION),C.exports=f},function(C,F,n){var l={ORIENTATION:n(29)};C.exports=l},function(C,F,n){var l=n(26),g=n(61);C.exports=function(u,h,o,a,d,r,c,p){void 0===c&&(c=!0),u<0&&(u=0),h<0&&(h=0);for(var m=l(u,h,o,a,null,p),v=d-u,x=r-h,T=0;T<m.length;T++){var E=m[T].x+v,M=m[T].y+x;E>=0&&E<p.width&&M>=0&&M<p.height&&p.data[M][E]&&p.data[M][E].copy(m[T])}c&&g(d-1,r-1,o+2,a+2,p)}},function(C,F,n){var l=n(26),g=n(538);C.exports=function(u,h,o,a,d,r){o||(o={}),Array.isArray(u)||(u=[u]);var c=r.tilemapLayer;a||(a=c.scene),d||(d=a.cameras.main);var v,p=l(0,0,r.width,r.height,null,r),m=[];for(v=0;v<p.length;v++){var x=p[v];if(-1!==u.indexOf(x.index)){var T=c.tileToWorldXY(x.x,x.y,void 0,d,r);o.x=T.x,o.y=T.y,m.push(a.make.sprite(o))}}if("number"==typeof h)for(v=0;v<u.length;v++)g(u[v],h,0,0,r.width,r.height,r);else if(Array.isArray(h))for(v=0;v<u.length;v++)g(u[v],h[v],0,0,r.width,r.height,r);return m}},function(C,F,n){var l=n(26),g=n(61),f=n(72);C.exports=function(h,o,a,d,r,c,p){for(var m=-1!==p.collideIndexes.indexOf(h),v=l(o,a,d,r,null,p),x=0;x<v.length;x++)v[x].index=h,f(v[x],m);c&&g(o-1,a-1,d+2,r+2,p)}},function(C,F,n){var l=n(26);C.exports=function(f,u,h,o,a,d,r,c){return l(h,o,a,d,r,c).filter(f,u)}},function(C,F){C.exports=function(l,g,f,u){void 0===g&&(g=0),void 0===f&&(f=!1);var o,a,d,h=0;if(f){for(a=u.height-1;a>=0;a--)for(o=u.width-1;o>=0;o--)if((d=u.data[a][o])&&d.index===l){if(h===g)return d;h+=1}}else for(a=0;a<u.height;a++)for(o=0;o<u.width;o++)if((d=u.data[a][o])&&d.index===l){if(h===g)return d;h+=1}return null}},function(C,F,n){var l=n(26);C.exports=function(f,u,h,o,a,d,r,c){return l(h,o,a,d,r,c).find(f,u)||null}},function(C,F,n){var l=n(26);C.exports=function(f,u,h,o,a,d,r,c){l(h,o,a,d,r,c).forEach(f,u)}},function(C,F,n){var l=n(29),g=n(540),f=n(541),u=n(543),h=n(1),o=n(544);C.exports=function(d){return d===l.ORTHOGONAL?g:d===l.HEXAGONAL?f:d===l.STAGGERED?o:d===l.ISOMETRIC?u:h}},function(C,F,n){var l=n(156),f=new(n(3));C.exports=function(h,o,a,d,r){return r.tilemapLayer.worldToTileXY(h,o,!0,f,d),l(f.x,f.y,a,r)}},function(C,F,n){var l=n(477),g=n(26),f=n(478),u=n(1),h=n(3),o=function(p,m){return f.RectangleToTriangle(m,p)},a=new h,d=new h,r=new h;C.exports=function(p,m,v,x){if(void 0===p)return[];var T=u;p instanceof l.Circle?T=f.CircleToRectangle:p instanceof l.Rectangle?T=f.RectangleToRectangle:p instanceof l.Triangle?T=o:p instanceof l.Line&&(T=f.LineToRectangle),x.tilemapLayer.worldToTileXY(p.left,p.top,!0,d,v);var E=d.x,M=d.y;x.tilemapLayer.worldToTileXY(p.right,p.bottom,!0,r,v);var S=Math.ceil(r.x),P=Math.ceil(r.y),R=Math.max(S-E,1),w=Math.max(P-M,1),L=g(E,M,R,w,m,x),I=x.tileWidth,B=x.tileHeight;x.tilemapLayer&&(I*=x.tilemapLayer.scaleX,B*=x.tilemapLayer.scaleY);for(var G=[],H=new l.Rectangle(0,0,I,B),Y=0;Y<L.length;Y++){var $=L[Y];x.tilemapLayer.tileToWorldXY($.x,$.y,a,v),H.x=a.x,H.y=a.y,T(p,H)&&G.push($)}return G}},function(C,F,n){var l=n(29),g=n(1),f=n(249);C.exports=function(h){return h===l.ORTHOGONAL?f:g}},function(C,F,n){var l=n(29),g=n(546),f=n(547),u=n(1),h=n(548),o=n(549);C.exports=function(d){return d===l.ORTHOGONAL?o:d===l.ISOMETRIC?f:d===l.HEXAGONAL?g:d===l.STAGGERED?h:u}},function(C,F,n){var l=n(29),g=n(550),f=n(1),u=n(551),h=n(250);C.exports=function(a){return a===l.ORTHOGONAL?h:a===l.HEXAGONAL?g:a===l.STAGGERED?u:f}},function(C,F,n){var l=n(29),g=n(1),f=n(251);C.exports=function(h){return h===l.ORTHOGONAL?f:g}},function(C,F,n){var l=n(29),g=n(552),f=n(553),u=n(1),h=n(554),o=n(555);C.exports=function(d){return d===l.ORTHOGONAL?o:d===l.ISOMETRIC?f:d===l.HEXAGONAL?g:d===l.STAGGERED?h:u}},function(C,F,n){var l=n(29),g=n(556),f=n(1),u=n(557),h=n(252);C.exports=function(a){return a===l.ORTHOGONAL?h:a===l.HEXAGONAL?g:a===l.STAGGERED?u:f}},function(C,F,n){var l=n(558),f=new(n(3));C.exports=function(h,o,a,d){return d.tilemapLayer.worldToTileXY(h,o,!0,f,a),l(f.x,f.y,d)}},function(C,F,n){var l=n(253),f=new(n(3));C.exports=function(h,o,a,d,r,c){return c.tilemapLayer.worldToTileXY(o,a,!0,f,r,c),l(h,f.x,f.y,d,c)}},function(C,F,n){var l=n(61),g=n(253);C.exports=function(u,h,o,a,d){if(void 0===a&&(a=!0),!Array.isArray(u))return null;Array.isArray(u[0])||(u=[u]);for(var r=u.length,c=u[0].length,p=0;p<r;p++)for(var m=0;m<c;m++)g(u[p][m],h+m,o+p,!1,d);a&&l(h-1,o-1,c+2,r+2,d)}},function(C,F,n){var l=n(26),g=n(207);C.exports=function(u,h,o,a,d,r){var c,p=l(u,h,o,a,{},r);if(!d)for(d=[],c=0;c<p.length;c++)-1===d.indexOf(p[c].index)&&d.push(p[c].index);for(c=0;c<p.length;c++)p[c].index=g(d)}},function(C,F,n){var l=n(559),f=new(n(3));C.exports=function(h,o,a,d,r,c){return c.tilemapLayer.worldToTileXY(h,o,!0,f,r,c),l(f.x,f.y,a,d,c)}},function(C,F,n){var l=n(26),g=n(391),f=new g(105,210,231,150),u=new g(243,134,48,200),h=new g(40,39,37,150);C.exports=function(a,d,r){void 0===d&&(d={});var c=void 0!==d.tileColor?d.tileColor:f,p=void 0!==d.collidingTileColor?d.collidingTileColor:u,m=void 0!==d.faceColor?d.faceColor:h,v=l(0,0,r.width,r.height,null,r);a.translateCanvas(r.tilemapLayer.x,r.tilemapLayer.y),a.scaleCanvas(r.tilemapLayer.scaleX,r.tilemapLayer.scaleY);for(var x=0;x<v.length;x++){var T=v[x],E=T.width,M=T.height,S=T.pixelX,P=T.pixelY,R=T.collides?p:c;null!==R&&(a.fillStyle(R.color,R.alpha/255),a.fillRect(S,P,E,M)),S+=1,P+=1,E-=2,M-=2,null!==m&&(a.lineStyle(1,m.color,m.alpha/255),T.faceTop&&a.lineBetween(S,P,S+E,P),T.faceRight&&a.lineBetween(S+E,P,S+E,P+M),T.faceBottom&&a.lineBetween(S,P+M,S+E,P+M),T.faceLeft&&a.lineBetween(S,P,S,P+M))}}},function(C,F,n){var l=n(72),g=n(61),f=n(158);C.exports=function(h,o,a,d,r){void 0===o&&(o=!0),void 0===a&&(a=!0),void 0===r&&(r=!0),Array.isArray(h)||(h=[h]);for(var c=0;c<h.length;c++)f(h[c],o,d);if(r)for(var p=0;p<d.height;p++)for(var m=0;m<d.width;m++){var v=d.data[p][m];v&&-1!==h.indexOf(v.index)&&l(v,o)}a&&g(0,0,d.width,d.height,d)}},function(C,F,n){var l=n(72),g=n(61),f=n(158);C.exports=function(h,o,a,d,r,c){if(void 0===a&&(a=!0),void 0===d&&(d=!0),void 0===c&&(c=!0),!(h>o)){for(var p=h;p<=o;p++)f(p,a,r);if(c)for(var m=0;m<r.height;m++)for(var v=0;v<r.width;v++){var x=r.data[m][v];x&&x.index>=h&&x.index<=o&&l(x,a)}d&&g(0,0,r.width,r.height,r)}}},function(C,F,n){var l=n(72),g=n(61),f=n(158);C.exports=function(h,o,a,d){void 0===o&&(o=!0),void 0===a&&(a=!0),Array.isArray(h)||(h=[h]);for(var r=0;r<d.height;r++)for(var c=0;c<d.width;c++){var p=d.data[r][c];p&&-1===h.indexOf(p.index)&&(l(p,o),f(p.index,o,d))}a&&g(0,0,d.width,d.height,d)}},function(C,F,n){var l=n(72),g=n(61),f=n(125);C.exports=function(h,o,a,d){void 0===o&&(o=!0),void 0===a&&(a=!0);for(var r=0;r<d.height;r++)for(var c=0;c<d.width;c++){var p=d.data[r][c];if(p)for(var m in h)if(f(p.properties,m)){var v=h[m];Array.isArray(v)||(v=[v]);for(var x=0;x<v.length;x++)p.properties[m]===v[x]&&l(p,o)}}a&&g(0,0,d.width,d.height,d)}},function(C,F,n){var l=n(72),g=n(61);C.exports=function(u,h,o){void 0===u&&(u=!0),void 0===h&&(h=!0);for(var a=0;a<o.height;a++)for(var d=0;d<o.width;d++){var r=o.data[a][d];if(r){var c=r.getCollisionGroup();c&&c.objects&&c.objects.length>0&&l(r,u)}}h&&g(0,0,o.width,o.height,o)}},function(C,F){C.exports=function(l,g,f,u){if("number"==typeof l)u.callbacks[l]=null!==g?{callback:g,callbackContext:f}:void 0;else for(var h=0,o=l.length;h<o;h++)u.callbacks[l[h]]=null!==g?{callback:g,callbackContext:f}:void 0}},function(C,F,n){var l=n(26);C.exports=function(f,u,h,o,a,d,r){for(var c=l(f,u,h,o,null,r),p=0;p<c.length;p++)c[p].setCollisionCallback(a,d)}},function(C,F,n){var l=n(26),g=n(129);C.exports=function(u,h,o,a,d){var r=l(u,h,o,a,null,d),c=r.map(function(m){return m.index});g(c);for(var p=0;p<r.length;p++)r[p].index=c[p]}},function(C,F,n){var l=n(26);C.exports=function(f,u,h,o,a,d,r){for(var c=l(h,o,a,d,null,r),p=0;p<c.length;p++)c[p]&&(c[p].index===f?c[p].index=u:c[p].index===u&&(c[p].index=f))}},function(C,F,n){var l=n(26);C.exports=function(f,u,h,o,a,d){if(a){var r,c=l(f,u,h,o,null,d),p=0;for(r=0;r<a.length;r++)p+=a[r].weight;if(!(p<=0))for(r=0;r<c.length;r++){for(var m=Math.random()*p,v=0,x=-1,T=0;T<a.length;T++)if(m<=(v+=a[T].weight)){var E=a[T].index;x=Array.isArray(E)?E[Math.floor(Math.random()*E.length)]:E;break}c[r].index=x}}}},function(C,F,n){C.exports={FromOrientationString:n(254),Parse:n(560),Parse2DArray:n(255),ParseCSV:n(561),Impact:n(1447),Tiled:n(1448)}},function(C,F,n){C.exports={ParseTileLayers:n(574),ParseTilesets:n(575),ParseWeltmeister:n(573)}},function(C,F,n){C.exports={AssignTileProperties:n(563),Base64Decode:n(570),BuildTilesetIndex:n(564),CreateGroupLayer:n(159),ParseGID:n(257),ParseImageLayers:n(565),ParseJSONTiled:n(562),ParseObject:n(256),ParseObjectLayers:n(566),ParseTileLayers:n(569),ParseTilesets:n(571)}},function(C,F,n){var l=n(1),g=n(1);l=n(1450),g=n(1451),C.exports={renderWebGL:l,renderCanvas:g}},function(C,F,n){var l=n(12);C.exports=function(f,u,h){var o=u.cull(h),a=o.length,d=h.alpha*u.alpha;if(!(0===a||d<=0)){var r=u.gidMap,c=f.pipelines.set(u.pipeline,u),p=l.getTintAppendFloatAlpha,m=u.scrollFactorX,v=u.scrollFactorY,x=u.x,T=u.y,E=u.scaleX,M=u.scaleY;f.pipelines.preBatch(u);for(var S=0;S<a;S++){var P=o[S],R=r[P.index];if(R){var w=R.getTileTextureCoordinates(P.index);if(null!==w){var L=R.glTexture,I=c.setTexture2D(L,u),B=R.tileWidth,G=R.tileHeight,H=w.x,Y=w.y,$=.5*R.tileWidth,J=.5*R.tileHeight,_=p(P.tint,d*P.alpha);c.batchTexture(u,L,L.width,L.height,x+($+P.pixelX)*E,T+(J+P.pixelY)*M,P.width,P.height,E,M,P.rotation,P.flipX,P.flipY,m,v,$,J,H,Y,B,G,_,_,_,_,!1,0,0,h,null,!0,I)}}}f.pipelines.postBatch(u)}}},function(C,F,n){var l=n(25),g=new l,f=new l,u=new l;C.exports=function(o,a,d,r){var c=a.cull(d),p=c.length,m=d.alpha*a.alpha;if(!(0===p||m<=0)){var v=g,x=f,T=u;x.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),v.copyFrom(d.matrix);var E=o.currentContext,M=a.gidMap;E.save(),r?(v.multiplyWithOffset(r,-d.scrollX*a.scrollFactorX,-d.scrollY*a.scrollFactorY),x.e=a.x,x.f=a.y,v.multiply(x,T),T.copyToContext(E)):(x.e-=d.scrollX*a.scrollFactorX,x.f-=d.scrollY*a.scrollFactorY,x.copyToContext(E)),(!o.antialias||a.scaleX>1||a.scaleY>1)&&(E.imageSmoothingEnabled=!1);for(var S=0;S<p;S++){var P=c[S],R=M[P.index];if(R){var w=R.image.getSourceImage(),L=R.getTileTextureCoordinates(P.index);if(null!==L){var I=R.tileWidth/2,B=R.tileHeight/2;E.save(),E.translate(P.pixelX+I,P.pixelY+B),0!==P.rotation&&E.rotate(P.rotation),(P.flipX||P.flipY)&&E.scale(P.flipX?-1:1,P.flipY?-1:1),E.globalAlpha=m*P.alpha,E.drawImage(w,L.x,L.y,R.tileWidth,R.Height,-I,-B,R.tileWidth,R.tileHeight),E.restore()}}}E.restore()}}},function(C,F,n){var l=n(16),g=n(258);l.register("tilemap",function(f){var u=void 0!==f?f:{};return g(this.scene,u.key,u.tileWidth,u.tileHeight,u.width,u.height,u.data,u.insertNull)})},function(C,F,n){var l=n(5),g=n(258);l.register("tilemap",function(f,u,h,o,a,d,r){return null===f&&(f=void 0),null===u&&(u=void 0),null===h&&(h=void 0),null===o&&(o=void 0),null===a&&(a=void 0),g(this.scene,f,u,h,o,a,d,r)})},function(C,F,n){C.exports={Clock:n(1455),TimerEvent:n(578)}},function(C,F,n){var l=n(0),g=n(24),f=n(21),u=n(578),h=n(89),o=new l({initialize:function(d){this.scene=d,this.systems=d.sys,this.now=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],d.sys.events.once(f.BOOT,this.boot,this),d.sys.events.on(f.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){var a=this.systems.events;a.on(f.PRE_UPDATE,this.preUpdate,this),a.on(f.UPDATE,this.update,this),a.once(f.SHUTDOWN,this.shutdown,this)},addEvent:function(a){var d;return a instanceof u?(this.removeEvent(d=a),d.elapsed=d.startAt,d.hasDispatched=!1,d.repeatCount=-1===d.repeat||d.loop?999999999999:d.repeat):d=new u(a),this._pendingInsertion.push(d),d},delayedCall:function(a,d,r,c){return this.addEvent({delay:a,callback:d,args:r,callbackScope:c})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(a){Array.isArray(a)||(a=[a]);for(var d=0;d<a.length;d++){var r=a[d];h(this._pendingRemoval,r),h(this._pendingInsertion,r),h(this._active,r)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var a=this._pendingRemoval.length,d=this._pendingInsertion.length;if(0!==a||0!==d){var r,c;for(r=0;r<a;r++){var p=this._active.indexOf(c=this._pendingRemoval[r]);p>-1&&this._active.splice(p,1),c.destroy()}for(r=0;r<d;r++)this._active.push(c=this._pendingInsertion[r]);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(a,d){if(this.now=a,!this.paused){d*=this.timeScale;for(var r=0;r<this._active.length;r++){var c=this._active[r];if(!c.paused&&(c.elapsed+=d*c.timeScale,c.elapsed>=c.delay)){var p=c.elapsed-c.delay;c.elapsed=c.delay,!c.hasDispatched&&c.callback&&(c.hasDispatched=!0,c.callback.apply(c.callbackScope,c.args)),c.repeatCount>0?(c.repeatCount--,c.elapsed=p,c.hasDispatched=!1):this._pendingRemoval.push(c)}}}},shutdown:function(){var a;for(a=0;a<this._pendingInsertion.length;a++)this._pendingInsertion[a].destroy();for(a=0;a<this._active.length;a++)this._active[a].destroy();for(a=0;a<this._pendingRemoval.length;a++)this._pendingRemoval[a].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var d=this.systems.events;d.off(f.PRE_UPDATE,this.preUpdate,this),d.off(f.UPDATE,this.update,this),d.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});g.register("Clock",o,"time"),C.exports=o},function(C,F,n){var l=n(97),g=n(17),f={Builders:n(1457),Events:n(263),TweenManager:n(1473),Tween:n(262),TweenData:n(264),Timeline:n(584)};f=g(!1,f,l),C.exports=f},function(C,F,n){C.exports={GetBoolean:n(96),GetEaseFunction:n(80),GetNewValue:n(160),GetProps:n(579),GetTargets:n(259),GetTweens:n(580),GetValueOp:n(260),NumberTweenBuilder:n(581),StaggerBuilder:n(582),TimelineBuilder:n(583),TweenBuilder:n(161)}},function(C,F){C.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onStop","onStopParams","onStopScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(C,F){C.exports="complete"},function(C,F){C.exports="loop"},function(C,F){C.exports="pause"},function(C,F){C.exports="resume"},function(C,F){C.exports="start"},function(C,F){C.exports="update"},function(C,F){C.exports="active"},function(C,F){C.exports="complete"},function(C,F){C.exports="loop"},function(C,F){C.exports="repeat"},function(C,F){C.exports="start"},function(C,F){C.exports="stop"},function(C,F){C.exports="update"},function(C,F){C.exports="yoyo"},function(C,F,n){var l=n(89),g=n(0),f=n(581),u=n(24),h=n(21),o=n(582),a=n(583),d=n(97),r=n(161),c=new g({initialize:function(m){this.scene=m,this.systems=m.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,m.sys.events.once(h.BOOT,this.boot,this),m.sys.events.on(h.START,this.start,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){var p=this.systems.events;p.on(h.PRE_UPDATE,this.preUpdate,this),p.on(h.UPDATE,this.update,this),p.once(h.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(p){return a(this,p)},timeline:function(p){var m=a(this,p);return m.paused||(this._add.push(m),this._toProcess++),m},create:function(p){return r(this,p)},add:function(p){var m=r(this,p);return this._add.push(m),this._toProcess++,m},existing:function(p){return this._add.push(p),this._toProcess++,this},addCounter:function(p){var m=f(this,p);return this._add.push(m),this._toProcess++,m},stagger:function(p,m){return o(p,m)},preUpdate:function(){if(0!==this._toProcess){var x,T,p=this._destroy,m=this._active,v=this._pending;for(x=0;x<p.length;x++){var E=m.indexOf(T=p[x]);-1===E?(E=v.indexOf(T))>-1&&(T.state=d.REMOVED,v.splice(E,1)):(T.state=d.REMOVED,m.splice(E,1))}for(p.length=0,p=this._add,x=0;x<p.length;x++)(T=p[x]).state===d.PENDING_ADD&&(T.init()?(T.play(),this._active.push(T)):this._pending.push(T));p.length=0,this._toProcess=0}},update:function(p,m){var x,v=this._active;m*=this.timeScale;for(var T=0;T<v.length;T++)(x=v[T]).update(p,m)&&(this._destroy.push(x),this._toProcess++)},remove:function(p){return l(this._add,p),l(this._pending,p),l(this._active,p),l(this._destroy,p),p.state=d.REMOVED,this},makeActive:function(p){if(-1!==this._add.indexOf(p)||-1!==this._active.indexOf(p))return this;var m=this._pending.indexOf(p);return-1!==m&&this._pending.splice(m,1),this._add.push(p),p.state=d.PENDING_ADD,this._toProcess++,this},each:function(p,m){for(var v=[null],x=1;x<arguments.length;x++)v.push(arguments[x]);for(var T in this.list)v[0]=this.list[T],p.apply(m,v)},getAllTweens:function(){for(var p=this._active,m=[],v=0;v<p.length;v++)m.push(p[v]);return m},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(p,m){void 0===m&&(m=!1);var x,E,M,v=this._active,T=[];for(Array.isArray(p)||(p=[p]),E=0;E<v.length;E++)for(x=v[E],M=0;M<p.length;M++)x.hasTarget(p[M])&&T.push(x);if(m)for(v=this._pending,E=0;E<v.length;E++)for(x=v[E],M=0;M<p.length;M++)x.hasTarget(p[M])&&T.push(x);return T},isTweening:function(p){for(var v,m=this._active,x=0;x<m.length;x++)if((v=m[x]).hasTarget(p)&&v.isPlaying())return!0;return!1},killAll:function(){for(var p=this.getAllTweens(),m=0;m<p.length;m++)p[m].stop();return this},killTweensOf:function(p){for(var m=this.getTweensOf(p),v=0;v<m.length;v++)m[v].stop();return this},pauseAll:function(){for(var p=this._active,m=0;m<p.length;m++)p[m].pause();return this},resumeAll:function(){for(var p=this._active,m=0;m<p.length;m++)p[m].resume();return this},setGlobalTimeScale:function(p){return this.timeScale=p,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var p=this.systems.events;p.off(h.PRE_UPDATE,this.preUpdate,this),p.off(h.UPDATE,this.update,this),p.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});u.register("TweenManager",c,"tweens"),C.exports=c},function(C,F,n){C.exports={Array:n(205),Base64:n(1475),Objects:n(1477),String:n(1481),NOOP:n(1)}},function(C,F,n){C.exports={ArrayBufferToBase64:n(1476),Base64ToArrayBuffer:n(427)}},function(C,F){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";C.exports=function(g,f){for(var u=new Uint8Array(g),h=u.length,o=f?"data:"+f+";base64,":"",a=0;a<h;a+=3)o+=n[u[a]>>2],o+=n[(3&u[a])<<4|u[a+1]>>4],o+=n[(15&u[a+1])<<2|u[a+2]>>6],o+=n[63&u[a+2]];return h%3==2?o=o.substring(0,o.length-1)+"=":h%3==1&&(o=o.substring(0,o.length-2)+"=="),o}},function(C,F,n){C.exports={Clone:n(77),DeepCopy:n(172),Extend:n(17),GetAdvancedValue:n(13),GetFastValue:n(2),GetMinMaxValue:n(1478),GetValue:n(6),HasAll:n(1479),HasAny:n(449),HasValue:n(125),IsPlainObject:n(7),Merge:n(143),MergeRight:n(1480),Pick:n(567),SetValue:n(472)}},function(C,F,n){var l=n(6),g=n(18);C.exports=function(u,h,o,a,d){void 0===d&&(d=o);var r=l(u,h,d);return g(r,o,a)}},function(C,F){C.exports=function(l,g){for(var f=0;f<g.length;f++)if(!l.hasOwnProperty(g[f]))return!1;return!0}},function(C,F,n){var l=n(77);C.exports=function(f,u){var h=l(f);for(var o in u)h.hasOwnProperty(o)&&(h[o]=u[o]);return h}},function(C,F,n){C.exports={Format:n(1482),Pad:n(183),RemoveAt:n(1483),Reverse:n(1484),UppercaseFirst:n(202),UUID:n(219)}},function(C,F){C.exports=function(l,g){return l.replace(/%([0-9]+)/g,function(f,u){return g[Number(u)-1]})}},function(C,F){C.exports=function(l,g){return 0===g?l.slice(1):l.slice(0,g-1)+l.slice(g)}},function(C,F){C.exports=function(l){return l.split("").reverse().join("")}},function(C,F,n){C.exports={SoundManagerCreator:n(420),Events:n(69),BaseSound:n(145),BaseSoundManager:n(144),WebAudioSound:n(428),WebAudioSoundManager:n(426),HTML5AudioSound:n(423),HTML5AudioSoundManager:n(421),NoAudioSound:n(425),NoAudioSoundManager:n(424)}},function(C,F,n){var l=n(0),g=n(3),f=new l({initialize:function(){this.boundsCenter=new g,this.centerDiff=new g},parseBody:function(u){if(!(u=u.hasOwnProperty("body")?u.body:u).hasOwnProperty("bounds")||!u.hasOwnProperty("centerOfMass"))return!1;var h=this.boundsCenter,o=this.centerDiff,a=u.bounds.max.x-u.bounds.min.x,d=u.bounds.max.y-u.bounds.min.y,r=a*u.centerOfMass.x,c=d*u.centerOfMass.y;return h.set(a/2,d/2),o.set(r-h.x,c-h.y),!0},getTopLeft:function(u,h,o){if(void 0===h&&(h=0),void 0===o&&(o=0),this.parseBody(u)){var a=this.boundsCenter,d=this.centerDiff;return new g(h+a.x+d.x,o+a.y+d.y)}return!1},getTopCenter:function(u,h,o){if(void 0===h&&(h=0),void 0===o&&(o=0),this.parseBody(u)){var d=this.centerDiff;return new g(h+d.x,o+this.boundsCenter.y+d.y)}return!1},getTopRight:function(u,h,o){if(void 0===h&&(h=0),void 0===o&&(o=0),this.parseBody(u)){var a=this.boundsCenter,d=this.centerDiff;return new g(h-(a.x-d.x),o+a.y+d.y)}return!1},getLeftCenter:function(u,h,o){if(void 0===h&&(h=0),void 0===o&&(o=0),this.parseBody(u)){var d=this.centerDiff;return new g(h+this.boundsCenter.x+d.x,o+d.y)}return!1},getCenter:function(u,h,o){if(void 0===h&&(h=0),void 0===o&&(o=0),this.parseBody(u)){var a=this.centerDiff;return new g(h+a.x,o+a.y)}return!1},getRightCenter:function(u,h,o){if(void 0===h&&(h=0),void 0===o&&(o=0),this.parseBody(u)){var d=this.centerDiff;return new g(h-(this.boundsCenter.x-d.x),o+d.y)}return!1},getBottomLeft:function(u,h,o){if(void 0===h&&(h=0),void 0===o&&(o=0),this.parseBody(u)){var a=this.boundsCenter,d=this.centerDiff;return new g(h+a.x+d.x,o-(a.y-d.y))}return!1},getBottomCenter:function(u,h,o){if(void 0===h&&(h=0),void 0===o&&(o=0),this.parseBody(u)){var d=this.centerDiff;return new g(h+d.x,o-(this.boundsCenter.y-d.y))}return!1},getBottomRight:function(u,h,o){if(void 0===h&&(h=0),void 0===o&&(o=0),this.parseBody(u)){var a=this.boundsCenter,d=this.centerDiff;return new g(h-(a.x-d.x),o-(a.y-d.y))}return!1}});C.exports=f},function(C,F){function n(U,V,X){var j,K,q,et,rt,ot,at,W=[0,0];return q=(j=U[1][1]-U[0][1])*U[0][0]+(K=U[0][0]-U[1][0])*U[0][1],ot=(et=V[1][1]-V[0][1])*V[0][0]+(rt=V[0][0]-V[1][0])*V[0][1],_(at=j*rt-et*K,0,X=X||0)||(W[0]=(rt*q-K*ot)/at,W[1]=(j*ot-et*q)/at),W}function l(U,V,X,W){var j=V[0]-U[0],K=V[1]-U[1],q=W[0]-X[0],et=W[1]-X[1];if(q*K-et*j==0)return!1;var rt=(j*(X[1]-U[1])+K*(U[0]-X[0]))/(q*K-et*j),ot=(q*(U[1]-X[1])+et*(X[0]-U[0]))/(et*j-q*K);return rt>=0&&rt<=1&&ot>=0&&ot<=1}function g(U,V,X){return(V[0]-U[0])*(X[1]-U[1])-(X[0]-U[0])*(V[1]-U[1])}function f(U,V,X){return g(U,V,X)>0}function u(U,V,X){return g(U,V,X)>=0}function h(U,V,X){return g(U,V,X)<0}function o(U,V,X){return g(U,V,X)<=0}C.exports={decomp:function I(U){var V=L(U);return V.length>0?B(U,V):[U]},quickDecomp:function Y(U,V,X,W,j,K,q){q=q||0,j=j||25,V=void 0!==V?V:[],X=X||[],W=W||[];var et=[0,0],rt=[0,0],ot=[0,0],at=0,ft=0,ct=0,xt=0,mt=0,Ct=0,kt=0,Nt=[],bt=[],gt=U,Se=U;if(Se.length<3)return V;if(++q>(K=K||100))return console.warn("quickDecomp: max level ("+K+") reached."),V;for(var Rt=0;Rt<U.length;++Rt)if(E(gt,Rt)){X.push(gt[Rt]),at=ft=Number.MAX_VALUE;for(var Vt=0;Vt<U.length;++Vt)f(p(gt,Rt-1),p(gt,Rt),p(gt,Vt))&&o(p(gt,Rt-1),p(gt,Rt),p(gt,Vt-1))&&(ot=H(p(gt,Rt-1),p(gt,Rt),p(gt,Vt),p(gt,Vt-1)),h(p(gt,Rt+1),p(gt,Rt),ot)&&(ct=c(gt[Rt],ot))<ft&&(ft=ct,rt=ot,Ct=Vt)),f(p(gt,Rt+1),p(gt,Rt),p(gt,Vt+1))&&o(p(gt,Rt+1),p(gt,Rt),p(gt,Vt))&&(ot=H(p(gt,Rt+1),p(gt,Rt),p(gt,Vt),p(gt,Vt+1)),f(p(gt,Rt-1),p(gt,Rt),ot)&&(ct=c(gt[Rt],ot))<at&&(at=ct,et=ot,mt=Vt));if(Ct===(mt+1)%U.length)ot[0]=(rt[0]+et[0])/2,ot[1]=(rt[1]+et[1])/2,W.push(ot),Rt<mt?(v(Nt,gt,Rt,mt+1),Nt.push(ot),bt.push(ot),0!==Ct&&v(bt,gt,Ct,gt.length),v(bt,gt,0,Rt+1)):(0!==Rt&&v(Nt,gt,Rt,gt.length),v(Nt,gt,0,mt+1),Nt.push(ot),bt.push(ot),v(bt,gt,Ct,Rt+1));else{if(Ct>mt&&(mt+=U.length),xt=Number.MAX_VALUE,mt<Ct)return V;for(Vt=Ct;Vt<=mt;++Vt)u(p(gt,Rt-1),p(gt,Rt),p(gt,Vt))&&o(p(gt,Rt+1),p(gt,Rt),p(gt,Vt))&&(ct=c(p(gt,Rt),p(gt,Vt)))<xt&&R(gt,Rt,Vt)&&(xt=ct,kt=Vt%U.length);Rt<kt?(v(Nt,gt,Rt,kt+1),0!==kt&&v(bt,gt,kt,Se.length),v(bt,gt,0,Rt+1)):(0!==Rt&&v(Nt,gt,Rt,Se.length),v(Nt,gt,0,kt+1),v(bt,gt,kt,Rt+1))}return Nt.length<bt.length?(Y(Nt,V,X,W,j,K,q),Y(bt,V,X,W,j,K,q)):(Y(bt,V,X,W,j,K,q),Y(Nt,V,X,W,j,K,q)),V}return V.push(U),V},isSimple:function G(U){var X,V=U;for(X=0;X<V.length-1;X++)for(var W=0;W<X-1;W++)if(l(V[X],V[X+1],V[W],V[W+1]))return!1;for(X=1;X<V.length-2;X++)if(l(V[0],V[V.length-1],V[X],V[X+1]))return!1;return!0},removeCollinearPoints:function $(U,V){for(var X=0,W=U.length-1;U.length>3&&W>=0;--W)r(p(U,W-1),p(U,W),p(U,W+1),V)&&(U.splice(W%U.length,1),X++);return X},removeDuplicatePoints:function J(U,V){for(var X=U.length-1;X>=1;--X)for(var W=U[X],j=X-1;j>=0;--j)if(tt(W,U[j],V)){U.splice(X,1);continue}},makeCCW:function x(U){for(var V=0,X=U,W=1;W<U.length;++W)(X[W][1]<X[V][1]||X[W][1]===X[V][1]&&X[W][0]>X[V][0])&&(V=W);return!f(p(U,V-1),p(U,V),p(U,V+1))&&(function T(U){for(var V=[],X=U.length,W=0;W!==X;W++)V.push(U.pop());for(W=0;W!==X;W++)U[W]=V[W]}(U),!0)}};var a=[],d=[];function r(U,V,X,W){if(W){var j=a,K=d;j[0]=V[0]-U[0],j[1]=V[1]-U[1],K[0]=X[0]-V[0],K[1]=X[1]-V[1];var q=j[0]*K[0]+j[1]*K[1],et=Math.sqrt(j[0]*j[0]+j[1]*j[1]),rt=Math.sqrt(K[0]*K[0]+K[1]*K[1]);return Math.acos(q/(et*rt))<W}return 0===g(U,V,X)}function c(U,V){var X=V[0]-U[0],W=V[1]-U[1];return X*X+W*W}function p(U,V){var X=U.length;return U[V<0?V%X+X:V%X]}function v(U,V,X,W){for(var j=X;j<W;j++)U.push(V[j])}function E(U,V){return h(p(U,V-1),p(U,V),p(U,V+1))}var M=[],S=[];function P(U,V,X){var W,j,K=M,q=S;if(u(p(U,V+1),p(U,V),p(U,X))&&o(p(U,V-1),p(U,V),p(U,X)))return!1;j=c(p(U,V),p(U,X));for(var et=0;et!==U.length;++et)if((et+1)%U.length!==V&&et!==V&&u(p(U,V),p(U,X),p(U,et+1))&&o(p(U,V),p(U,X),p(U,et))&&(K[0]=p(U,V),K[1]=p(U,X),q[0]=p(U,et),q[1]=p(U,et+1),W=n(K,q),c(p(U,V),W)<j))return!1;return!0}function R(U,V,X){for(var W=0;W!==U.length;++W)if(W!==V&&W!==X&&(W+1)%U.length!==V&&(W+1)%U.length!==X&&l(p(U,V),p(U,X),p(U,W),p(U,W+1)))return!1;return!0}function w(U,V,X,W){var j=W||[];if(function m(U){U.length=0}(j),V<X)for(var K=V;K<=X;K++)j.push(U[K]);else{for(K=0;K<=X;K++)j.push(U[K]);for(K=V;K<U.length;K++)j.push(U[K])}return j}function L(U){for(var V=[],X=[],W=[],j=[],K=Number.MAX_VALUE,q=0;q<U.length;++q)if(E(U,q))for(var et=0;et<U.length;++et)if(P(U,q,et)){X=L(w(U,q,et,j)),W=L(w(U,et,q,j));for(var rt=0;rt<W.length;rt++)X.push(W[rt]);X.length<K&&(K=X.length,(V=X).push([p(U,q),p(U,et)]))}return V}function B(U,V){if(0===V.length)return[U];if(V instanceof Array&&V.length&&V[0]instanceof Array&&2===V[0].length&&V[0][0]instanceof Array){for(var X=[U],W=0;W<V.length;W++)for(var j=V[W],K=0;K<X.length;K++){var et=B(X[K],j);if(et){X.splice(K,1),X.push(et[0],et[1]);break}}return X}return W=U.indexOf((j=V)[0]),K=U.indexOf(j[1]),-1!==W&&-1!==K&&[w(U,W,K),w(U,K,W)]}function H(U,V,X,W,j){var K=V[1]-U[1],q=U[0]-V[0],et=K*U[0]+q*U[1],rt=W[1]-X[1],ot=X[0]-W[0],at=rt*X[0]+ot*X[1],ft=K*ot-rt*q;return _(ft,0,j=j||0)?[0,0]:[(ot*et-q*at)/ft,(K*at-rt*et)/ft]}function _(U,V,X){return X=X||0,Math.abs(U-V)<=X}function tt(U,V,X){return _(U[0],V[0],X)&&_(U[1],V[1],X)}},function(C,F,n){var l=n(126),g=n(0),f=n(1388),u=n(246),h=n(1389),o=n(1489),a=n(1490),d=n(1491),r=n(1390),c=n(1386),p=n(1387),m=n(1492),v=n(94),x=new g({initialize:function(E){this.world=E,this.scene=E.scene,this.sys=E.scene.sys},rectangle:function(T,E,M,S,P){var R=l.rectangle(T,E,M,S,P);return this.world.add(R),R},trapezoid:function(T,E,M,S,P,R){var w=l.trapezoid(T,E,M,S,P,R);return this.world.add(w),w},circle:function(T,E,M,S,P){var R=l.circle(T,E,M,S,P);return this.world.add(R),R},polygon:function(T,E,M,S,P){var R=l.polygon(T,E,M,S,P);return this.world.add(R),R},fromVertices:function(T,E,M,S,P,R,w){"string"==typeof M&&(M=v.fromPath(M));var L=l.fromVertices(T,E,M,S,P,R,w);return this.world.add(L),L},fromPhysicsEditor:function(T,E,M,S,P){void 0===P&&(P=!0);var R=c.parseBody(T,E,M,S);return P&&!this.world.has(R)&&this.world.add(R),R},fromSVG:function(T,E,M,S,P,R){void 0===S&&(S=1),void 0===P&&(P={}),void 0===R&&(R=!0);for(var w=M.getElementsByTagName("path"),L=[],I=0;I<w.length;I++){var B=h.pathToVertices(w[I],30);1!==S&&v.scale(B,S,S),L.push(B)}var G=l.fromVertices(T,E,L,P);return R&&this.world.add(G),G},fromJSON:function(T,E,M,S,P){void 0===S&&(S={}),void 0===P&&(P=!0);var R=p.parseBody(T,E,M,S);return R&&P&&this.world.add(R),R},imageStack:function(T,E,M,S,P,R,w,L,I){void 0===w&&(w=0),void 0===L&&(L=0),void 0===I&&(I={});var B=this.world,G=this.sys.displayList;I.addToWorld=!1;var H=f.stack(M,S,P,R,w,L,function(Y,$){var J=new a(B,Y,$,T,E,I);return G.add(J),J.body});return B.add(H),H},stack:function(T,E,M,S,P,R,w){var L=f.stack(T,E,M,S,P,R,w);return this.world.add(L),L},pyramid:function(T,E,M,S,P,R,w){var L=f.pyramid(T,E,M,S,P,R,w);return this.world.add(L),L},chain:function(T,E,M,S,P,R){return f.chain(T,E,M,S,P,R)},mesh:function(T,E,M,S,P){return f.mesh(T,E,M,S,P)},newtonsCradle:function(T,E,M,S,P){var R=f.newtonsCradle(T,E,M,S,P);return this.world.add(R),R},car:function(T,E,M,S,P){var R=f.car(T,E,M,S,P);return this.world.add(R),R},softBody:function(T,E,M,S,P,R,w,L,I,B){var G=f.softBody(T,E,M,S,P,R,w,L,I,B);return this.world.add(G),G},joint:function(T,E,M,S,P){return this.constraint(T,E,M,S,P)},spring:function(T,E,M,S,P){return this.constraint(T,E,M,S,P)},constraint:function(T,E,M,S,P){void 0===S&&(S=1),void 0===P&&(P={}),P.bodyA="body"===T.type?T:T.body,P.bodyB="body"===E.type?E:E.body,isNaN(M)||(P.length=M),P.stiffness=S;var R=u.create(P);return this.world.add(R),R},worldConstraint:function(T,E,M,S){void 0===M&&(M=1),void 0===S&&(S={}),S.bodyB="body"===T.type?T:T.body,isNaN(E)||(S.length=E),S.stiffness=M;var P=u.create(S);return this.world.add(P),P},mouseSpring:function(T){return this.pointerConstraint(T)},pointerConstraint:function(T){void 0===T&&(T={}),T.hasOwnProperty("render")||(T.render={visible:!1});var E=new m(this.scene,this.world,T);return this.world.add(E.constraint),E},image:function(T,E,M,S,P){var R=new a(this.world,T,E,M,S,P);return this.sys.displayList.add(R),R},tileBody:function(T,E){return new r(this.world,T,E)},sprite:function(T,E,M,S,P){var R=new d(this.world,T,E,M,S,P);return this.sys.displayList.add(R),this.sys.updateList.add(R),R},gameObject:function(T,E,M){return o(this.world,T,E,M)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});C.exports=x},function(C,F,n){var l=n(534),g=n(2),f=n(3);function u(o){return!!o.get&&"function"==typeof o.get||!!o.set&&"function"==typeof o.set}C.exports=function(o,a,d,r){void 0===d&&(d={}),void 0===r&&(r=!0);var c=a.x,p=a.y;if(a.body={temp:!0,position:{x:c,y:p}},[l.Bounce,l.Collision,l.Force,l.Friction,l.Gravity,l.Mass,l.Sensor,l.SetBody,l.Sleep,l.Static,l.Transform,l.Velocity].forEach(function(x){for(var T in x)u(x[T])?Object.defineProperty(a,T,{get:x[T].get,set:x[T].set}):Object.defineProperty(a,T,{value:x[T]})}),a.world=o,a._tempVec2=new f(c,p),d.hasOwnProperty("type")&&"body"===d.type)a.setExistingBody(d,r);else{var v=g(d,"shape",null);v||(v="rectangle"),d.addToWorld=r,a.setBody(v,d)}return a}},function(C,F,n){var l=n(0),g=n(534),f=n(15),u=n(2),h=n(124),o=n(171),a=n(3),d=new l({Extends:h,Mixins:[g.Bounce,g.Collision,g.Force,g.Friction,g.Gravity,g.Mass,g.Sensor,g.SetBody,g.Sleep,g.Static,g.Transform,g.Velocity,o],initialize:function(c,p,m,v,x,T){f.call(this,c.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,x),this.setSizeToFrame(),this.setOrigin(),this.world=c,this._tempVec2=new a(p,m);var E=u(T,"shape",null);E?this.setBody(E,T):this.setRectangle(this.width,this.height,T),this.setPosition(p,m),this.initPipeline()}});C.exports=d},function(C,F,n){var l=n(162),g=n(0),f=n(534),u=n(15),h=n(2),o=n(171),a=n(73),d=n(3),r=new g({Extends:a,Mixins:[f.Bounce,f.Collision,f.Force,f.Friction,f.Gravity,f.Mass,f.Sensor,f.SetBody,f.Sleep,f.Static,f.Transform,f.Velocity,o],initialize:function(p,m,v,x,T,E){u.call(this,p.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new l(this),this.setTexture(x,T),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new d(m,v);var M=h(E,"shape",null);M?this.setBody(M,E):this.setRectangle(this.width,this.height,E),this.setPosition(m,v),this.initPipeline()}});C.exports=r},function(C,F,n){var l=n(117),g=n(0),f=n(163),u=n(246),h=n(587),o=n(586),a=n(49),d=n(143),r=n(267),c=n(3),p=n(94),m=new g({initialize:function(x,T,E){void 0===E&&(E={});this.scene=x,this.world=T,this.camera=null,this.pointer=null,this.active=!0,this.position=new c,this.body=null,this.part=null,this.constraint=u.create(d(E,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on(o.BEFORE_UPDATE,this.update,this),x.sys.input.on(a.POINTER_DOWN,this.onDown,this),x.sys.input.on(a.POINTER_UP,this.onUp,this)},onDown:function(v){this.pointer||(this.pointer=v,this.camera=v.camera)},onUp:function(v){v===this.pointer&&(this.pointer=null)},getBody:function(v){var x=this.position,T=this.constraint;this.camera.getWorldPoint(v.x,v.y,x);for(var E=f.allBodies(this.world.localWorld),M=0;M<E.length;M++){var S=E[M];if(!S.ignorePointer&&l.contains(S.bounds,x)&&h.canCollide(S.collisionFilter,T.collisionFilter)&&this.hitTestBody(S,x))return this.world.emit(o.DRAG_START,S,this.part,this),!0}return!1},hitTestBody:function(v,x){for(var T=this.constraint,E=v.parts.length,S=E>1?1:0;S<E;S++){var P=v.parts[S];if(p.contains(P.vertices,x))return T.pointA=x,T.pointB={x:x.x-v.position.x,y:x.y-v.position.y},T.bodyB=v,T.angleB=v.angle,r.set(v,!1),this.part=P,this.body=v,!0}return!1},update:function(){var v=this.pointer,x=this.body;if(this.active&&v)if(v.isDown||!x){if(v.isDown){if(!x&&!this.getBody(v))return;x=this.body;var T=this.position,E=this.constraint;this.camera.getWorldPoint(v.x,v.y,T),E.pointA.x=T.x,E.pointA.y=T.y,r.set(x,!1),this.world.emit(o.DRAG,x,this)}}else this.stopDrag();else x&&this.stopDrag()},stopDrag:function(){var v=this.body,x=this.constraint;x.bodyB=null,x.pointB=null,this.pointer=null,this.body=null,this.part=null,v&&this.world.emit(o.DRAG_END,v,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(o.BEFORE_UPDATE,this.update),this.scene.sys.input.off(a.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(a.POINTER_UP,this.onUp,this)}});C.exports=m},function(C,F,n){var l={};C.exports=l;var g=n(1392),f=n(50);l.name="matter-js",l.version="0.14.2",l.uses=[],l.used=[],l.use=function(){g.use(l,Array.prototype.slice.call(arguments))},l.before=function(u,h){return u=u.replace(/^Matter./,""),f.chainPathBefore(l,u,h)},l.after=function(u,h){return u=u.replace(/^Matter./,""),f.chainPathAfter(l,u,h)}},function(C,F,n){var l={};C.exports=l;var g=n(116),f=n(588),u=n(117),h=n(126),o=n(94);l.collides=function(a,d){for(var r=[],c=0;c<d.length;c++){var p=d[c];if(a!==p&&u.overlaps(p.bounds,a.bounds))for(var m=1===p.parts.length?0:1;m<p.parts.length;m++){var v=p.parts[m];if(u.overlaps(v.bounds,a.bounds)){var x=f.collides(v,a);if(x.collided){r.push(x);break}}}}return r},l.ray=function(a,d,r,c){c=c||1e-100;for(var p=g.angle(d,r),m=g.magnitude(g.sub(d,r)),T=h.rectangle(.5*(r.x+d.x),.5*(r.y+d.y),m,c,{angle:p}),E=l.collides(T,a),M=0;M<E.length;M+=1){var S=E[M];S.body=S.bodyB=S.bodyA}return E},l.region=function(a,d,r){for(var c=[],p=0;p<a.length;p++){var m=a[p],v=u.overlaps(m.bounds,d);(v&&!r||!v&&r)&&c.push(m)}return c},l.point=function(a,d){for(var r=[],c=0;c<a.length;c++){var p=a[c];if(u.contains(p.bounds,d))for(var m=1===p.parts.length?0:1;m<p.parts.length;m++){var v=p.parts[m];if(u.contains(v.bounds,d)&&o.contains(v.vertices,d)){r.push(p);break}}}return r}},function(C,F,n){var l={};C.exports=l;var g=n(1393),f=n(267),u=n(1396),h=n(1395),o=n(1528),a=n(1394),d=n(268),r=n(163),c=n(246),p=n(50),m=n(71);l.create=function(v,x){x=(x=p.isElement(v)?x:v)||{},((v=p.isElement(v)?v:null)||x.render)&&p.warn("Engine.create: engine.render is deprecated (see docs)");var E=p.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:a}},x);return E.world=x.world||g.create(E.world),E.pairs=h.create(),E.broadphase=E.broadphase.controller.create(E.broadphase),E.metrics=E.metrics||{extended:!1},E.metrics=o.create(E.metrics),E},l.update=function(v,x,T){T=T||1;var R,E=v.world,M=v.timing,S=v.broadphase,P=[];M.timestamp+=(x=x||1e3/60)*M.timeScale;var w={timestamp:M.timestamp};d.trigger(v,"beforeUpdate",w);var L=r.allBodies(E),I=r.allConstraints(E);for(o.reset(v.metrics),v.enableSleeping&&f.update(L,M.timeScale),l._bodiesApplyGravity(L,E.gravity),l._bodiesUpdate(L,x,M.timeScale,T,E.bounds),c.preSolveAll(L),R=0;R<v.constraintIterations;R++)c.solveAll(I,M.timeScale);c.postSolveAll(L),S.controller?(E.isModified&&S.controller.clear(S),S.controller.update(S,L,v,E.isModified),P=S.pairsList):P=L,E.isModified&&r.setModified(E,!1,!1,!0);var B=S.detector(P,v),G=v.pairs,H=M.timestamp;for(h.update(G,B,H),h.removeOld(G,H),v.enableSleeping&&f.afterCollisions(G.list,M.timeScale),G.collisionStart.length>0&&d.trigger(v,"collisionStart",{pairs:G.collisionStart}),u.preSolvePosition(G.list),R=0;R<v.positionIterations;R++)u.solvePosition(G.list,L,M.timeScale);for(u.postSolvePosition(L),c.preSolveAll(L),R=0;R<v.constraintIterations;R++)c.solveAll(I,M.timeScale);for(c.postSolveAll(L),u.preSolveVelocity(G.list),R=0;R<v.velocityIterations;R++)u.solveVelocity(G.list,M.timeScale);return G.collisionActive.length>0&&d.trigger(v,"collisionActive",{pairs:G.collisionActive}),G.collisionEnd.length>0&&d.trigger(v,"collisionEnd",{pairs:G.collisionEnd}),o.update(v.metrics,v),l._bodiesClearForces(L),d.trigger(v,"afterUpdate",w),v},l.merge=function(v,x){if(p.extend(v,x),x.world){v.world=x.world,l.clear(v);for(var T=r.allBodies(v.world),E=0;E<T.length;E++){var M=T[E];f.set(M,!1),M.id=p.nextId()}}},l.clear=function(v){var x=v.world;h.clear(v.pairs);var T=v.broadphase;if(T.controller){var E=r.allBodies(x);T.controller.clear(T),T.controller.update(T,E,v,!0)}},l._bodiesClearForces=function(v){for(var x=0;x<v.length;x++){var T=v[x];T.force.x=0,T.force.y=0,T.torque=0}},l._bodiesApplyGravity=function(v,x){var T=void 0!==x.scale?x.scale:.001;if((0!==x.x||0!==x.y)&&0!==T)for(var E=0;E<v.length;E++){var M=v[E];M.ignoreGravity||M.isStatic||M.isSleeping||(M.force.x+=M.mass*x.x*T*M.gravityScale.x,M.force.y+=M.mass*x.y*T*M.gravityScale.y)}},l._bodiesUpdate=function(v,x,T,E,M){for(var S=0;S<v.length;S++){var P=v[S];P.isStatic||P.isSleeping||m.update(P,x,T,E)}}},function(C,F,n){var l=n(126),g=n(71),f=n(0),u=n(50),h=n(163),o=n(1495),a=n(9),d=n(586),r=n(2),c=n(6),p=n(71),m=n(268),v=n(1390),x=n(1393),T=n(116),E=new f({Extends:a,initialize:function(S,P){a.call(this),this.scene=S,this.engine=o.create(P),this.localWorld=this.engine.world;var R=c(P,"gravity",null);R?this.setGravity(R.x,R.y,R.scale):!1===R&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=c(P,"enabled",!0),this.correction=c(P,"correction",1),this.getDelta=c(P,"getDelta",this.update60Hz);var w=r(P,"runner",{}),L=r(w,"fps",!1),I=r(w,"fps",60),B=r(w,"delta",1e3/I),G=r(w,"deltaMin",1e3/I),H=r(w,"deltaMax",1e3/(.5*I));L||(I=1e3/B),this.runner={fps:I,correction:r(w,"correction",1),deltaSampleSize:r(w,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:r(w,"isFixed",!1),delta:B,deltaMin:G,deltaMax:H},this.autoUpdate=c(P,"autoUpdate",!0);var Y=c(P,"debug",!1);if(this.drawDebug="object"==typeof Y||Y,this.debugConfig={showAxes:r(Y,"showAxes",!1),showAngleIndicator:r(Y,"showAngleIndicator",!1),angleColor:r(Y,"angleColor",15208787),showBroadphase:r(Y,"showBroadphase",!1),broadphaseColor:r(Y,"broadphaseColor",16757760),showBounds:r(Y,"showBounds",!1),boundsColor:r(Y,"boundsColor",16777215),showVelocity:r(Y,"showVelocity",!1),velocityColor:r(Y,"velocityColor",44783),showCollisions:r(Y,"showCollisions",!1),collisionColor:r(Y,"collisionColor",16094476),showSeparations:r(Y,"showSeparations",!1),separationColor:r(Y,"separationColor",16753920),showBody:r(Y,"showBody",!0),showStaticBody:r(Y,"showStaticBody",!0),showInternalEdges:r(Y,"showInternalEdges",!1),renderFill:r(Y,"renderFill",!1),renderLine:r(Y,"renderLine",!0),fillColor:r(Y,"fillColor",1075465),fillOpacity:r(Y,"fillOpacity",1),lineColor:r(Y,"lineColor",2678297),lineOpacity:r(Y,"lineOpacity",1),lineThickness:r(Y,"lineThickness",1),staticFillColor:r(Y,"staticFillColor",857979),staticLineColor:r(Y,"staticLineColor",1255396),showSleeping:r(Y,"showSleeping",!1),staticBodySleepOpacity:r(Y,"staticBodySleepOpacity",.7),sleepFillColor:r(Y,"sleepFillColor",4605510),sleepLineColor:r(Y,"sleepLineColor",10066585),showSensors:r(Y,"showSensors",!0),sensorFillColor:r(Y,"sensorFillColor",857979),sensorLineColor:r(Y,"sensorLineColor",1255396),showPositions:r(Y,"showPositions",!0),positionSize:r(Y,"positionSize",4),positionColor:r(Y,"positionColor",14697178),showJoint:r(Y,"showJoint",!0),jointColor:r(Y,"jointColor",14737474),jointLineOpacity:r(Y,"jointLineOpacity",1),jointLineThickness:r(Y,"jointLineThickness",2),pinSize:r(Y,"pinSize",4),pinColor:r(Y,"pinColor",4382944),springColor:r(Y,"springColor",14697184),anchorColor:r(Y,"anchorColor",15724527),anchorSize:r(Y,"anchorSize",4),showConvexHulls:r(Y,"showConvexHulls",!1),hullColor:r(Y,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),r(P,"setBounds",!1)){var $=P.setBounds;if("boolean"==typeof $)this.setBounds();else{var J=r($,"x",0),_=r($,"y",0),tt=r($,"width",S.sys.scale.width),U=r($,"height",S.sys.scale.height),V=r($,"thickness",64),X=r($,"left",!0),W=r($,"right",!0),j=r($,"top",!0),K=r($,"bottom",!0);this.setBounds(J,_,tt,U,V,X,W,j,K)}}},setCompositeRenderStyle:function(M){var w,L,I,S=M.bodies,P=M.constraints,R=M.composites;for(w=0;w<S.length;w++)this.setBodyRenderStyle(L=S[w],(I=L.render).lineColor,I.lineOpacity,I.lineThickness,I.fillColor,I.fillOpacity);for(w=0;w<P.length;w++)this.setConstraintRenderStyle(L=P[w],(I=L.render).lineColor,I.lineOpacity,I.lineThickness,I.pinSize,I.anchorColor,I.anchorSize);for(w=0;w<R.length;w++)this.setCompositeRenderStyle(L=R[w]);return this},setBodyRenderStyle:function(M,S,P,R,w,L){var I=M.render,B=this.debugConfig;return I?(null==S&&(S=M.isStatic?B.staticLineColor:B.lineColor),null==P&&(P=B.lineOpacity),null==R&&(R=B.lineThickness),null==w&&(w=M.isStatic?B.staticFillColor:B.fillColor),null==L&&(L=B.fillOpacity),!1!==S&&(I.lineColor=S),!1!==P&&(I.lineOpacity=P),!1!==R&&(I.lineThickness=R),!1!==w&&(I.fillColor=w),!1!==L&&(I.fillOpacity=L),this):this},setConstraintRenderStyle:function(M,S,P,R,w,L,I){var B=M.render,G=this.debugConfig;if(!B)return this;if(null==S){var H=B.type;"line"===H?S=G.jointColor:"pin"===H?S=G.pinColor:"spring"===H&&(S=G.springColor)}return null==P&&(P=G.jointLineOpacity),null==R&&(R=G.jointLineThickness),null==w&&(w=G.pinSize),null==L&&(L=G.anchorColor),null==I&&(I=G.anchorSize),!1!==S&&(B.lineColor=S),!1!==P&&(B.lineOpacity=P),!1!==R&&(B.lineThickness=R),!1!==w&&(B.pinSize=w),!1!==L&&(B.anchorColor=L),!1!==I&&(B.anchorSize=I),this},setEventsProxy:function(){var M=this,S=this.engine,P=this.localWorld;this.drawDebug&&(m.on(P,"compositeModified",function(R){M.setCompositeRenderStyle(R)}),m.on(P,"beforeAdd",function(R){for(var w=[].concat(R.object),L=0;L<w.length;L++){var I=w[L],B=I.render;"body"===I.type?M.setBodyRenderStyle(I,B.lineColor,B.lineOpacity,B.lineThickness,B.fillColor,B.fillOpacity):"composite"===I.type?M.setCompositeRenderStyle(I):"constraint"===I.type&&M.setConstraintRenderStyle(I,B.lineColor,B.lineOpacity,B.lineThickness,B.pinSize,B.anchorColor,B.anchorSize)}})),m.on(P,"beforeAdd",function(R){M.emit(d.BEFORE_ADD,R)}),m.on(P,"afterAdd",function(R){M.emit(d.AFTER_ADD,R)}),m.on(P,"beforeRemove",function(R){M.emit(d.BEFORE_REMOVE,R)}),m.on(P,"afterRemove",function(R){M.emit(d.AFTER_REMOVE,R)}),m.on(S,"beforeUpdate",function(R){M.emit(d.BEFORE_UPDATE,R)}),m.on(S,"afterUpdate",function(R){M.emit(d.AFTER_UPDATE,R)}),m.on(S,"collisionStart",function(R){var L,I,w=R.pairs;w.length>0&&(L=w[0].bodyA,I=w[0].bodyB),M.emit(d.COLLISION_START,R,L,I)}),m.on(S,"collisionActive",function(R){var L,I,w=R.pairs;w.length>0&&(L=w[0].bodyA,I=w[0].bodyB),M.emit(d.COLLISION_ACTIVE,R,L,I)}),m.on(S,"collisionEnd",function(R){var L,I,w=R.pairs;w.length>0&&(L=w[0].bodyA,I=w[0].bodyB),M.emit(d.COLLISION_END,R,L,I)})},setBounds:function(M,S,P,R,w,L,I,B,G){return void 0===M&&(M=0),void 0===S&&(S=0),void 0===P&&(P=this.scene.sys.scale.width),void 0===R&&(R=this.scene.sys.scale.height),void 0===w&&(w=64),void 0===L&&(L=!0),void 0===I&&(I=!0),void 0===B&&(B=!0),void 0===G&&(G=!0),this.updateWall(L,"left",M-w,S-w,w,R+2*w),this.updateWall(I,"right",M+P,S-w,w,R+2*w),this.updateWall(B,"top",M,S-w,P,w),this.updateWall(G,"bottom",M,S+R,P,w),this},updateWall:function(M,S,P,R,w,L){var I=this.walls[S];M?(I&&x.remove(this.localWorld,I),this.walls[S]=this.create(P+=w/2,R+=L/2,w,L,{isStatic:!0,friction:0,frictionStatic:0})):(I&&x.remove(this.localWorld,I),this.walls[S]=null)},createDebugGraphic:function(){var M=this.scene.sys.add.graphics({x:0,y:0});return M.setDepth(Number.MAX_VALUE),this.debugGraphic=M,this.drawDebug=!0,M},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(M,S,P){return void 0===M&&(M=0),void 0===S&&(S=1),this.localWorld.gravity.x=M,this.localWorld.gravity.y=S,void 0!==P&&(this.localWorld.gravity.scale=P),this},create:function(M,S,P,R,w){var L=l.rectangle(M,S,P,R,w);return x.add(this.localWorld,L),L},add:function(M){return x.add(this.localWorld,M),this},remove:function(M,S){Array.isArray(M)||(M=[M]);for(var P=0;P<M.length;P++){var R=M[P];h.remove(this.localWorld,R.body?R.body:R,S)}return this},removeConstraint:function(M,S){return h.remove(this.localWorld,M,S),this},convertTilemapLayer:function(M,S){var P=M.layer,R=M.getTilesWithin(0,0,P.width,P.height,{isColliding:!0});return this.convertTiles(R,S),this},convertTiles:function(M,S){if(0===M.length)return this;for(var P=0;P<M.length;P++)new v(this,M[P],S);return this},nextGroup:function(M){return p.nextGroup(M)},nextCategory:function(){return p.nextCategory()},pause:function(){return this.enabled=!1,this.emit(d.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(d.RESUME),this},update:function(M,S){if(this.enabled&&this.autoUpdate){var P=this.engine,R=this.runner,w=P.timing,L=this.correction;R.isFixed?S=this.getDelta(M,S):(S=M-R.timePrev||R.delta,R.timePrev=M,R.deltaHistory.push(S),R.deltaHistory=R.deltaHistory.slice(-R.deltaSampleSize),L=(S=(S=(S=Math.min.apply(null,R.deltaHistory))<R.deltaMin?R.deltaMin:S)>R.deltaMax?R.deltaMax:S)/R.delta,R.delta=S),0!==R.timeScalePrev&&(L*=w.timeScale/R.timeScalePrev),0===w.timeScale&&(L=0),R.timeScalePrev=w.timeScale,R.correction=L,R.frameCounter+=1,M-R.counterTimestamp>=1e3&&(R.fps=R.frameCounter*((M-R.counterTimestamp)/1e3),R.counterTimestamp=M,R.frameCounter=0),o.update(P,S,L)}},step:function(M,S){o.update(this.engine,M,S)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(M){var S=M.hasOwnProperty("body")?M.body:M;return null!==h.get(this.localWorld,S.id,S.type)},getAllBodies:function(){return h.allBodies(this.localWorld)},getAllConstraints:function(){return h.allConstraints(this.localWorld)},getAllComposites:function(){return h.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var M=this.debugConfig,S=this.engine,P=this.debugGraphic,R=h.allBodies(this.localWorld);this.debugGraphic.clear(),M.showBroadphase&&S.broadphase.controller&&this.renderGrid(S.broadphase,P,M.broadphaseColor,.5),M.showBounds&&this.renderBodyBounds(R,P,M.boundsColor,.5),(M.showBody||M.showStaticBody)&&this.renderBodies(R),M.showJoint&&this.renderJoints(),(M.showAxes||M.showAngleIndicator)&&this.renderBodyAxes(R,P,M.showAxes,M.angleColor,.5),M.showVelocity&&this.renderBodyVelocity(R,P,M.velocityColor,1,2),M.showSeparations&&this.renderSeparations(S.pairs.list,P,M.separationColor),M.showCollisions&&this.renderCollisions(S.pairs.list,P,M.collisionColor)}},renderGrid:function(M,S,P,R){S.lineStyle(1,P,R);for(var w=u.keys(M.buckets),L=0;L<w.length;L++){var I=w[L];if(!(M.buckets[I].length<2)){var B=I.split(/C|R/);S.strokeRect(parseInt(B[1],10)*M.bucketWidth,parseInt(B[2],10)*M.bucketHeight,M.bucketWidth,M.bucketHeight)}}return this},renderSeparations:function(M,S,P){S.lineStyle(1,P,1);for(var R=0;R<M.length;R++){var w=M[R];if(w.isActive){var L=w.collision,I=L.bodyA,B=L.bodyB,G=I.position,H=B.position,Y=L.penetration,$=I.isStatic||B.isStatic?1:4;B.isStatic&&($=0),S.lineBetween(H.x,H.y,H.x-Y.x*$,H.y-Y.y*$),$=I.isStatic||B.isStatic?1:4,I.isStatic&&($=0),S.lineBetween(G.x,G.y,G.x-Y.x*$,G.y-Y.y*$)}}return this},renderCollisions:function(M,S,P){var R,w;for(S.lineStyle(1,P,.5),S.fillStyle(P,1),R=0;R<M.length;R++)if((w=M[R]).isActive)for(var L=0;L<w.activeContacts.length;L++){var B=w.activeContacts[L].vertex;S.fillRect(B.x-2,B.y-2,5,5)}for(R=0;R<M.length;R++)if((w=M[R]).isActive){var G=w.collision,H=w.activeContacts;if(H.length>0){var Y=H[0].vertex.x,$=H[0].vertex.y;2===H.length&&(Y=(H[0].vertex.x+H[1].vertex.x)/2,$=(H[0].vertex.y+H[1].vertex.y)/2),G.bodyB===G.supports[0].body||G.bodyA.isStatic?S.lineBetween(Y-8*G.normal.x,$-8*G.normal.y,Y,$):S.lineBetween(Y+8*G.normal.x,$+8*G.normal.y,Y,$)}}return this},renderBodyBounds:function(M,S,P,R){S.lineStyle(1,P,R);for(var w=0;w<M.length;w++){var L=M[w];if(L.render.visible){var I=L.bounds;if(I)S.strokeRect(I.min.x,I.min.y,I.max.x-I.min.x,I.max.y-I.min.y);else for(var B=L.parts,G=B.length>1?1:0;G<B.length;G++){var H=B[G];S.strokeRect(H.bounds.min.x,H.bounds.min.y,H.bounds.max.x-H.bounds.min.x,H.bounds.max.y-H.bounds.min.y)}}}return this},renderBodyAxes:function(M,S,P,R,w){S.lineStyle(1,R,w);for(var L=0;L<M.length;L++){var G,H,Y,I=M[L],B=I.parts;if(I.render.visible)if(P)for(H=B.length>1?1:0;H<B.length;H++)for(G=B[H],Y=0;Y<G.axes.length;Y++){var $=G.axes[Y];S.lineBetween(G.position.x,G.position.y,G.position.x+20*$.x,G.position.y+20*$.y)}else for(H=B.length>1?1:0;H<B.length;H++)for(G=B[H],Y=0;Y<G.axes.length;Y++)S.lineBetween(G.position.x,G.position.y,(G.vertices[0].x+G.vertices[G.vertices.length-1].x)/2,(G.vertices[0].y+G.vertices[G.vertices.length-1].y)/2)}return this},renderBodyVelocity:function(M,S,P,R,w){S.lineStyle(w,P,R);for(var L=0;L<M.length;L++){var I=M[L];!I.render.visible||S.lineBetween(I.position.x,I.position.y,I.position.x+2*(I.position.x-I.positionPrev.x),I.position.y+2*(I.position.y-I.positionPrev.y))}return this},renderBodies:function(M){for(var S=this.debugGraphic,P=this.debugConfig,R=P.showBody,w=P.showStaticBody,L=P.showSleeping,I=P.showInternalEdges,B=P.showConvexHulls,G=P.renderFill,H=P.renderLine,Y=P.staticBodySleepOpacity,$=P.sleepFillColor,J=P.sleepLineColor,_=P.hullColor,tt=0;tt<M.length;tt++){var U=M[tt];if(U.render.visible&&(w||!U.isStatic)&&(R||U.isStatic)){var V=U.render.lineColor,X=U.render.lineOpacity,W=U.render.lineThickness,j=U.render.fillColor,K=U.render.fillOpacity;L&&U.isSleeping&&(U.isStatic?(X*=Y,K*=Y):(V=J,j=$)),G||(j=null),H||(V=null),this.renderBody(U,S,I,V,X,W,j,K),B&&U.parts.length>1&&this.renderConvexHull(U,S,_,W)}}},renderBody:function(M,S,P,R,w,L,I,B){void 0===R&&(R=null),void 0===w&&(w=null),void 0===L&&(L=1),void 0===I&&(I=null),void 0===B&&(B=null);for(var G=this.debugConfig,H=G.sensorFillColor,Y=G.sensorLineColor,$=M.parts,J=$.length,_=J>1?1:0;_<J;_++){var tt=$[_],U=tt.render,V=U.opacity;if(U.visible&&0!==V&&(!tt.isSensor||G.showSensors)){var X=tt.circleRadius;if(S.beginPath(),tt.isSensor?(null!==I&&S.fillStyle(H,B*V),null!==R&&S.lineStyle(L,Y,w*V)):(null!==I&&S.fillStyle(I,B*V),null!==R&&S.lineStyle(L,R,w*V)),X)S.arc(tt.position.x,tt.position.y,X,0,2*Math.PI);else{var W=tt.vertices,j=W.length;S.moveTo(W[0].x,W[0].y);for(var K=1;K<j;K++){var q=W[K];if(!W[K-1].isInternal||P?S.lineTo(q.x,q.y):S.moveTo(q.x,q.y),K<j&&q.isInternal&&!P){var et=(K+1)%j;S.moveTo(W[et].x,W[et].y)}}S.closePath()}null!==I&&S.fillPath(),null!==R&&S.strokePath()}}if(G.showPositions&&!M.isStatic){var rt=M.position.x,ot=M.position.y,at=Math.ceil(G.positionSize/2);S.fillStyle(G.positionColor,1),S.fillRect(rt-at,ot-at,G.positionSize,G.positionSize)}return this},renderConvexHull:function(M,S,P,R){if(void 0===R&&(R=1),M.parts.length>1){var I=M.vertices;S.lineStyle(R,P),S.beginPath(),S.moveTo(I[0].x,I[0].y);for(var B=1;B<I.length;B++)S.lineTo(I[B].x,I[B].y);S.lineTo(I[0].x,I[0].y),S.strokePath()}return this},renderJoints:function(){for(var M=this.debugGraphic,S=h.allConstraints(this.localWorld),P=0;P<S.length;P++){var R=S[P].render;this.renderConstraint(S[P],M,R.lineColor,R.lineOpacity,R.lineThickness,R.pinSize,R.anchorColor,R.anchorSize)}},renderConstraint:function(M,S,P,R,w,L,I,B){var G=M.render;if(!G.visible||!M.pointA||!M.pointB)return this;S.lineStyle(w,P,R);var $,J,H=M.bodyA,Y=M.bodyB;if($=H?T.add(H.position,M.pointA):M.pointA,"pin"===G.type)S.strokeCircle($.x,$.y,L);else{if(J=Y?T.add(Y.position,M.pointB):M.pointB,S.beginPath(),S.moveTo($.x,$.y),"spring"===G.type)for(var V,_=T.sub(J,$),tt=T.perp(T.normalise(_)),U=Math.ceil(u.clamp(M.length/5,12,20)),X=1;X<U;X+=1)S.lineTo($.x+_.x*(X/U)+tt.x*(V=X%2==0?1:-1)*4,$.y+_.y*(X/U)+tt.y*V*4);S.lineTo(J.x,J.y)}return S.strokePath(),G.anchors&&B>0&&(S.fillStyle(I),S.fillCircle($.x,$.y,B),S.fillCircle(J.x,J.y,B)),this},resetCollisionIDs:function(){return g._nextCollidingGroupId=1,g._nextNonCollidingGroupId=-1,g._nextCategory=1,this},shutdown:function(){m.off(this.engine),this.removeAllListeners(),x.clear(this.localWorld,!1),o.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});C.exports=E},function(C,F,n){(function(l){n(590);var g=n(39),f=n(17),u={Actions:n(269),Animations:n(699),BlendModes:n(33),Cache:n(711),Cameras:n(714),Core:n(803),Class:n(0),Create:n(884),Curves:n(890),Data:n(892),Display:n(894),DOM:n(913),Events:n(914),Game:n(916),GameObjects:n(1007),Geom:n(477),Input:n(1302),Loader:n(1332),Math:n(190),Physics:n(1498),Plugins:n(1397),Renderer:n(1399),Scale:n(1406),ScaleModes:n(164),Scene:n(412),Scenes:n(1407),Structs:n(1409),Textures:n(1410),Tilemaps:n(1412),Time:n(1454),Tweens:n(1456),Utils:n(1474)};u.Sound=n(1485),u=f(!1,u,g),C.exports=u,l.Phaser=u}).call(this,n(589))},function(C,F,n){C.exports={Arcade:n(1360),Matter:n(1499)}},function(C,F,n){C.exports={BodyBounds:n(1486),Components:n(534),Events:n(586),Factory:n(1488),MatterGameObject:n(1489),Image:n(1490),Matter:n(1391),MatterPhysics:n(1529),PolyDecomp:n(1487),Sprite:n(1491),TileBody:n(1390),PhysicsEditorParser:n(1386),PhysicsJSONParser:n(1387),PointerConstraint:n(1492),World:n(1496)}},function(C,F){C.exports={setBounce:function(l){return this.body.restitution=l,this}}},function(C,F){C.exports={setCollisionCategory:function(l){return this.body.collisionFilter.category=l,this},setCollisionGroup:function(l){return this.body.collisionFilter.group=l,this},setCollidesWith:function(l){var g=0;if(Array.isArray(l))for(var f=0;f<l.length;f++)g|=l[f];else g=l;return this.body.collisionFilter.mask=g,this},setOnCollide:function(l){return this.body.onCollideCallback=l,this},setOnCollideEnd:function(l){return this.body.onCollideEndCallback=l,this},setOnCollideActive:function(l){return this.body.onCollideActiveCallback=l,this},setOnCollideWith:function(l,g){Array.isArray(l)||(l=[l]);for(var f=0;f<l.length;f++){var u=l[f].hasOwnProperty("body")?l[f].body:l[f];this.body.setOnCollideWith(u,g)}return this}}},function(C,F,n){var l=n(71);C.exports={applyForce:function(f){return this._tempVec2.set(this.body.position.x,this.body.position.y),l.applyForce(this.body,this._tempVec2,f),this},applyForceFrom:function(f,u){return l.applyForce(this.body,f,u),this},thrust:function(f){var u=this.body.angle;return this._tempVec2.set(f*Math.cos(u),f*Math.sin(u)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(f){var u=this.body.angle-Math.PI/2;return this._tempVec2.set(f*Math.cos(u),f*Math.sin(u)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(f){var u=this.body.angle+Math.PI/2;return this._tempVec2.set(f*Math.cos(u),f*Math.sin(u)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(f){var u=this.body.angle-Math.PI;return this._tempVec2.set(f*Math.cos(u),f*Math.sin(u)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}}},function(C,F){C.exports={setFriction:function(l,g,f){return this.body.friction=l,void 0!==g&&(this.body.frictionAir=g),void 0!==f&&(this.body.frictionStatic=f),this},setFrictionAir:function(l){return this.body.frictionAir=l,this},setFrictionStatic:function(l){return this.body.frictionStatic=l,this}}},function(C,F){C.exports={setIgnoreGravity:function(l){return this.body.ignoreGravity=l,this}}},function(C,F,n){var l=n(71),g=n(3);C.exports={setMass:function(u){return l.setMass(this.body,u),this},setDensity:function(u){return l.setDensity(this.body,u),this},centerOfMass:{get:function(){return new g(this.body.centerOfMass.x,this.body.centerOfMass.y)}}}},function(C,F){C.exports={setSensor:function(l){return this.body.isSensor=l,this},isSensor:function(){return this.body.isSensor}}},function(C,F,n){var l=n(126),g=n(71),f=n(123),u=n(2),h=n(1386),o=n(1387),a=n(94);C.exports={setRectangle:function(r,c,p){return this.setBody({type:"rectangle",width:r,height:c},p)},setCircle:function(r,c){return this.setBody({type:"circle",radius:r},c)},setPolygon:function(r,c,p){return this.setBody({type:"polygon",sides:c,radius:r},p)},setTrapezoid:function(r,c,p,m){return this.setBody({type:"trapezoid",width:r,height:c,slope:p},m)},setExistingBody:function(r,c){void 0===c&&(c=!0),this.body&&this.world.remove(this.body,!0),this.body=r;for(var p=0;p<r.parts.length;p++)r.parts[p].gameObject=this;var m=this;if(r.destroy=function(){m.world.remove(m.body,!0),m.body.gameObject=null},c&&(this.world.has(r)&&this.world.remove(r,!0),this.world.add(r)),this._originComponent){var v=r.render.sprite.xOffset,x=r.render.sprite.yOffset,E=r.centerOfMass.y;f(r.centerOfMass.x,.5)&&f(E,.5)?this.setOrigin(v+.5,x+.5):this.setOrigin(v+r.centerOffset.x/this.displayWidth,x+r.centerOffset.y/this.displayHeight)}return this},setBody:function(r,c){if(!r)return this;var p;"string"==typeof r&&(r={type:r});var m=u(r,"type","rectangle"),v=u(r,"x",this._tempVec2.x),x=u(r,"y",this._tempVec2.y),T=u(r,"width",this.width),E=u(r,"height",this.height);switch(m){case"rectangle":p=l.rectangle(v,x,T,E,c);break;case"circle":var M=u(r,"radius",Math.max(T,E)/2),S=u(r,"maxSides",25);p=l.circle(v,x,M,c,S);break;case"trapezoid":var P=u(r,"slope",.5);p=l.trapezoid(v,x,T,E,P,c);break;case"polygon":var R=u(r,"sides",5),w=u(r,"radius",Math.max(T,E)/2);p=l.polygon(v,x,R,w,c);break;case"fromVertices":case"fromVerts":var L=u(r,"verts",null);if(L)if("string"==typeof L&&(L=a.fromPath(L)),this.body&&!this.body.hasOwnProperty("temp"))g.setVertices(this.body,L),p=this.body;else{var I=u(r,"flagInternal",!1),B=u(r,"removeCollinear",.01),G=u(r,"minimumArea",10);p=l.fromVertices(v,x,L,c,I,B,G)}break;case"fromPhysicsEditor":p=h.parseBody(v,x,r,c);break;case"fromPhysicsTracer":p=o.parseBody(v,x,r,c)}return p&&this.setExistingBody(p,r.addToWorld),this}}},function(C,F,n){var l=n(586),g=n(267),f=n(268);C.exports={setToSleep:function(){g.set(this.body,!0)},setAwake:function(){g.set(this.body,!1)},setSleepThreshold:function(h){return void 0===h&&(h=60),this.body.sleepThreshold=h,this},setSleepEvents:function(h,o){return this.setSleepStartEvent(h),this.setSleepEndEvent(o),this},setSleepStartEvent:function(h){if(h){var o=this.world;f.on(this.body,"sleepStart",function(a){o.emit(l.SLEEP_START,a,this)})}else f.off(this.body,"sleepStart");return this},setSleepEndEvent:function(h){if(h){var o=this.world;f.on(this.body,"sleepEnd",function(a){o.emit(l.SLEEP_END,a,this)})}else f.off(this.body,"sleepEnd");return this}}},function(C,F){C.exports="afteradd"},function(C,F){C.exports="afterremove"},function(C,F){C.exports="afterupdate"},function(C,F){C.exports="beforeadd"},function(C,F){C.exports="beforeremove"},function(C,F){C.exports="beforeupdate"},function(C,F){C.exports="collisionactive"},function(C,F){C.exports="collisionend"},function(C,F){C.exports="collisionstart"},function(C,F){C.exports="dragend"},function(C,F){C.exports="drag"},function(C,F){C.exports="dragstart"},function(C,F){C.exports="pause"},function(C,F){C.exports="resume"},function(C,F){C.exports="sleepend"},function(C,F){C.exports="sleepstart"},function(C,F,n){var l=n(71);C.exports={setStatic:function(f){return l.setStatic(this.body,f),this},isStatic:function(){return this.body.isStatic}}},function(C,F,n){var l=n(71),g=n(14),f=n(265),u=n(266);C.exports={x:{get:function(){return this.body.position.x},set:function(a){this._tempVec2.set(a,this.y),l.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(a){this._tempVec2.set(this.x,a),l.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(a){var d=1/this._scaleX,r=1/this._scaleY;this._scaleX=a,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4,l.scale(this.body,d,r),l.scale(this.body,a,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(a){var d=1/this._scaleX,r=1/this._scaleY;this._scaleY=a,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4,l.scale(this.body,d,r),l.scale(this.body,this._scaleX,a)}},angle:{get:function(){return u(this.body.angle*g.RAD_TO_DEG)},set:function(a){this.rotation=u(a)*g.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(a){this._rotation=f(a),l.setAngle(this.body,this._rotation)}},setPosition:function(a,d){return void 0===a&&(a=0),void 0===d&&(d=a),this._tempVec2.set(a,d),l.setPosition(this.body,this._tempVec2),this},setRotation:function(a){return void 0===a&&(a=0),this._rotation=f(a),l.setAngle(this.body,a),this},setFixedRotation:function(){return l.setInertia(this.body,1/0),this},setAngle:function(a){return void 0===a&&(a=0),this.angle=a,l.setAngle(this.body,this.rotation),this},setScale:function(a,d,r){void 0===a&&(a=1),void 0===d&&(d=a);var c=1/this._scaleX,p=1/this._scaleY;return this._scaleX=a,this._scaleY=d,l.scale(this.body,c,p,r),l.scale(this.body,a,d,r),this}}},function(C,F,n){var l=n(71);C.exports={setAngularVelocity:function(f){return l.setAngularVelocity(this.body,f),this},setVelocityX:function(f){return this._tempVec2.set(f,this.body.velocity.y),l.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(f){return this._tempVec2.set(this.body.velocity.x,f),l.setVelocity(this.body,this._tempVec2),this},setVelocity:function(f,u){return this._tempVec2.set(f,u),l.setVelocity(this.body,this._tempVec2),this}}},function(C,F,n){var l={};C.exports=l;var g=n(163),f=n(50);l.create=function(u){return f.extend({extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0},!1,u)},l.reset=function(u){u.extended&&(u.narrowDetections=0,u.narrowphaseTests=0,u.narrowReuse=0,u.narrowReuseCount=0,u.midphaseTests=0,u.broadphaseTests=0,u.narrowEff=0,u.midEff=0,u.broadEff=0,u.collisions=0,u.buckets=0,u.pairs=0,u.bodies=0)},l.update=function(u,h){if(u.extended){var a=g.allBodies(h.world);u.collisions=u.narrowDetections,u.pairs=h.pairs.list.length,u.bodies=a.length,u.midEff=(u.narrowDetections/(u.midphaseTests||1)).toFixed(2),u.narrowEff=(u.narrowDetections/(u.narrowphaseTests||1)).toFixed(2),u.broadEff=(1-u.broadphaseTests/(a.length||1)).toFixed(2),u.narrowReuse=(u.narrowReuseCount/(u.narrowphaseTests||1)).toFixed(2)}}},function(C,F,n){var l=n(122),g=n(585),f=n(126),u=n(71),h=n(1486),o=n(117),a=n(0),d=n(163),r=n(1388),c=n(246),p=n(587),m=n(48),v=n(1488),x=n(2),T=n(6),E=n(1394),M=n(1530),S=n(1531),P=n(1493),R=n(1532),w=n(143),L=n(535),I=n(1395),B=n(1392),G=n(24),H=n(1494),Y=n(1396),$=n(588),J=n(21),_=n(1389),tt=n(116),U=n(94),V=n(1496),X=new a({initialize:function(j){this.scene=j,this.systems=j.sys,this.config=this.getConfig(),this.body=u,this.composite=d,this.detector=p,this.grid=E,this.pair=L,this.pairs=I,this.query=H,this.resolver=Y,this.sat=$,this.constraint=c,this.bodies=f,this.composites=r,this.axes=g,this.bounds=o,this.svg=_,this.vector=tt,this.vertices=U,this.verts=U,this._tempVec2=tt.create(),T(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),T(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),T(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),Y._restingThresh=T(this.config,"restingThresh",4),Y._restingThreshTangent=T(this.config,"restingThreshTangent",6),Y._positionDampen=T(this.config,"positionDampen",.9),Y._positionWarming=T(this.config,"positionWarming",.8),Y._frictionNormalMultiplier=T(this.config,"frictionNormalMultiplier",5),j.sys.events.once(J.BOOT,this.boot,this),j.sys.events.on(J.START,this.start,this)},boot:function(){this.world=new V(this.scene,this.config),this.add=new v(this.world),this.bodyBounds=new h,this.systems.events.once(J.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new V(this.scene,this.config),this.add=new v(this.world));var W=this.systems.events;W.on(J.UPDATE,this.world.update,this.world),W.on(J.POST_UPDATE,this.world.postUpdate,this.world),W.once(J.SHUTDOWN,this.shutdown,this)},getConfig:function(){var W=this.systems.game.config.physics;return w(x(this.systems.settings.physics,"matter",{}),x(W,"matter",{}))},enableAttractorPlugin:function(){return B.register(M),B.use(P,M),this},enableWrapPlugin:function(){return B.register(R),B.use(P,R),this},enableCollisionEventsPlugin:function(){return B.register(S),B.use(P,S),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(W,j){this.world.step(W,j)},containsPoint:function(W,j,K){W=this.getMatterBodies(W);var q=tt.create(j,K);return H.point(W,q).length>0},intersectPoint:function(W,j,K){K=this.getMatterBodies(K);var q=tt.create(W,j),et=[];return H.point(K,q).forEach(function(ot){-1===et.indexOf(ot)&&et.push(ot)}),et},intersectRect:function(W,j,K,q,et,rt){void 0===et&&(et=!1),rt=this.getMatterBodies(rt);var at=[];return H.region(rt,{min:{x:W,y:j},max:{x:W+K,y:j+q}},et).forEach(function(ct){-1===at.indexOf(ct)&&at.push(ct)}),at},intersectRay:function(W,j,K,q,et,rt){void 0===et&&(et=1),rt=this.getMatterBodies(rt);for(var ot=[],at=H.ray(rt,tt.create(W,j),tt.create(K,q),et),ft=0;ft<at.length;ft++)ot.push(at[ft].body);return ot},intersectBody:function(W,j){j=this.getMatterBodies(j);for(var K=[],q=H.collides(W,j),et=0;et<q.length;et++){var rt=q[et];K.push(rt.bodyA===W?rt.bodyB:rt.bodyA)}return K},overlap:function(W,j,K,q,et){void 0===K&&(K=null),void 0===q&&(q=null),void 0===et&&(et=K),Array.isArray(W)||(W=[W]),W=this.getMatterBodies(W),j=this.getMatterBodies(j);for(var rt=!1,ot=0;ot<W.length;ot++)for(var at=W[ot],ft=H.collides(at,j),ct=0;ct<ft.length;ct++){var xt=ft[ct],mt=xt.bodyA.id===at.id?xt.bodyB:xt.bodyA;if(!q||q.call(et,at,mt,xt))if(rt=!0,K)K.call(et,at,mt,xt);else if(!q)return!0}return rt},setCollisionCategory:function(W,j){return(W=this.getMatterBodies(W)).forEach(function(K){K.collisionFilter.category=j}),this},setCollisionGroup:function(W,j){return(W=this.getMatterBodies(W)).forEach(function(K){K.collisionFilter.group=j}),this},setCollidesWith:function(W,j){W=this.getMatterBodies(W);var K=0;if(Array.isArray(j))for(var q=0;q<j.length;q++)K|=j[q];else K=j;return W.forEach(function(et){et.collisionFilter.mask=K}),this},getMatterBodies:function(W){if(!W)return this.world.getAllBodies();Array.isArray(W)||(W=[W]);for(var j=[],K=0;K<W.length;K++){var q=W[K].hasOwnProperty("body")?W[K].body:W[K];j.push(q)}return j},setVelocity:function(W,j,K){W=this.getMatterBodies(W);var q=this._tempVec2;return q.x=j,q.y=K,W.forEach(function(et){u.setVelocity(et,q)}),this},setVelocityX:function(W,j){W=this.getMatterBodies(W);var K=this._tempVec2;return K.x=j,W.forEach(function(q){K.y=q.velocity.y,u.setVelocity(q,K)}),this},setVelocityY:function(W,j){W=this.getMatterBodies(W);var K=this._tempVec2;return K.y=j,W.forEach(function(q){K.x=q.velocity.x,u.setVelocity(q,K)}),this},setAngularVelocity:function(W,j){return(W=this.getMatterBodies(W)).forEach(function(K){u.setAngularVelocity(K,j)}),this},applyForce:function(W,j){W=this.getMatterBodies(W);var K=this._tempVec2;return W.forEach(function(q){K.x=q.position.x,K.y=q.position.y,u.applyForce(q,K,j)}),this},applyForceFromPosition:function(W,j,K,q){W=this.getMatterBodies(W);var et=this._tempVec2;return W.forEach(function(rt){void 0===q&&(q=rt.angle),et.x=K*Math.cos(q),et.y=K*Math.sin(q),u.applyForce(rt,j,et)}),this},applyForceFromAngle:function(W,j,K){W=this.getMatterBodies(W);var q=this._tempVec2;return W.forEach(function(et){void 0===K&&(K=et.angle),q.x=j*Math.cos(K),q.y=j*Math.sin(K),u.applyForce(et,{x:et.position.x,y:et.position.y},q)}),this},getConstraintLength:function(W){var j=W.pointA.x,K=W.pointA.y,q=W.pointB.x,et=W.pointB.y;return W.bodyA&&(j+=W.bodyA.position.x,K+=W.bodyA.position.y),W.bodyB&&(q+=W.bodyB.position.x,et+=W.bodyB.position.y),m(j,K,q,et)},alignBody:function(W,j,K,q){var et;switch(W=W.hasOwnProperty("body")?W.body:W,q){case l.TOP_LEFT:case l.LEFT_TOP:et=this.bodyBounds.getTopLeft(W,j,K);break;case l.TOP_CENTER:et=this.bodyBounds.getTopCenter(W,j,K);break;case l.TOP_RIGHT:case l.RIGHT_TOP:et=this.bodyBounds.getTopRight(W,j,K);break;case l.LEFT_CENTER:et=this.bodyBounds.getLeftCenter(W,j,K);break;case l.CENTER:et=this.bodyBounds.getCenter(W,j,K);break;case l.RIGHT_CENTER:et=this.bodyBounds.getRightCenter(W,j,K);break;case l.LEFT_BOTTOM:case l.BOTTOM_LEFT:et=this.bodyBounds.getBottomLeft(W,j,K);break;case l.BOTTOM_CENTER:et=this.bodyBounds.getBottomCenter(W,j,K);break;case l.BOTTOM_RIGHT:case l.RIGHT_BOTTOM:et=this.bodyBounds.getBottomRight(W,j,K)}return et&&u.setPosition(W,et),this},shutdown:function(){var W=this.systems.events;this.world&&(W.off(J.UPDATE,this.world.update,this.world),W.off(J.POST_UPDATE,this.world.postUpdate,this.world)),W.off(J.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(J.START,this.start,this),this.scene=null,this.systems=null}});G.register("MatterPhysics",X,"matterPhysics"),C.exports=X},function(C,F,n){var l=n(1391),g={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(f){f.after("Body.create",function(){g.Body.init(this)}),f.before("Engine.update",function(u){g.Engine.update(u)})},Body:{init:function(f){f.plugin.attractors=f.plugin.attractors||[]}},Engine:{update:function(f){for(var u=l.Composite.allBodies(f.world),h=0;h<u.length;h++){var o=u[h],a=o.plugin.attractors;if(a&&a.length>0)for(var d=0;d<u.length;d++){var r=u[d];if(h!==d)for(var c=0;c<a.length;c++){var p=a[c],m=p;l.Common.isFunction(p)&&(m=p(o,r)),m&&l.Body.applyForce(r,r.position,m)}}}}},Attractors:{gravityConstant:.001,gravity:function(f,u){var h=l.Vector.sub(u.position,f.position),o=l.Vector.magnitudeSquared(h)||1e-4,a=l.Vector.normalise(h),r=l.Vector.mult(a,f.mass*u.mass/o*-g.Attractors.gravityConstant);l.Body.applyForce(f,f.position,l.Vector.neg(r)),l.Body.applyForce(u,u.position,r)}}};C.exports=g},function(C,F){C.exports={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(l){l.after("Engine.create",function(){l.Events.on(this,"collisionStart",function(g){g.pairs.map(function(f){var u=f.bodyA,h=f.bodyB;u.gameObject&&u.gameObject.emit("collide",u,h,f),h.gameObject&&h.gameObject.emit("collide",h,u,f),l.Events.trigger(u,"onCollide",{pair:f}),l.Events.trigger(h,"onCollide",{pair:f}),u.onCollideCallback&&u.onCollideCallback(f),h.onCollideCallback&&h.onCollideCallback(f),u.onCollideWith[h.id]&&u.onCollideWith[h.id](h,f),h.onCollideWith[u.id]&&h.onCollideWith[u.id](u,f)})}),l.Events.on(this,"collisionActive",function(g){g.pairs.map(function(f){var u=f.bodyA,h=f.bodyB;u.gameObject&&u.gameObject.emit("collideActive",u,h,f),h.gameObject&&h.gameObject.emit("collideActive",h,u,f),l.Events.trigger(u,"onCollideActive",{pair:f}),l.Events.trigger(h,"onCollideActive",{pair:f}),u.onCollideActiveCallback&&u.onCollideActiveCallback(f),h.onCollideActiveCallback&&h.onCollideActiveCallback(f)})}),l.Events.on(this,"collisionEnd",function(g){g.pairs.map(function(f){var u=f.bodyA,h=f.bodyB;u.gameObject&&u.gameObject.emit("collideEnd",u,h,f),h.gameObject&&h.gameObject.emit("collideEnd",h,u,f),l.Events.trigger(u,"onCollideEnd",{pair:f}),l.Events.trigger(h,"onCollideEnd",{pair:f}),u.onCollideEndCallback&&u.onCollideEndCallback(f),h.onCollideEndCallback&&h.onCollideEndCallback(f)})})})}}},function(C,F,n){var l=n(1391),g={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(f){f.after("Engine.update",function(){g.Engine.update(this)})},Engine:{update:function(f){for(var u=f.world,h=l.Composite.allBodies(u),o=l.Composite.allComposites(u),a=0;a<h.length;a+=1){var d=h[a];d.plugin.wrap&&g.Body.wrap(d,d.plugin.wrap)}for(a=0;a<o.length;a+=1){var r=o[a];r.plugin.wrap&&g.Composite.wrap(r,r.plugin.wrap)}}},Bounds:{wrap:function(f,u){var h=null,o=null;if(void 0!==u.min.x&&void 0!==u.max.x&&(f.min.x>u.max.x?h=u.min.x-f.max.x:f.max.x<u.min.x&&(h=u.max.x-f.min.x)),void 0!==u.min.y&&void 0!==u.max.y&&(f.min.y>u.max.y?o=u.min.y-f.max.y:f.max.y<u.min.y&&(o=u.max.y-f.min.y)),null!==h||null!==o)return{x:h||0,y:o||0}}},Body:{wrap:function(f,u){var h=g.Bounds.wrap(f.bounds,u);return h&&l.Body.translate(f,h),h}},Composite:{bounds:function(f){for(var u=l.Composite.allBodies(f),h=[],o=0;o<u.length;o+=1){var a=u[o];h.push(a.bounds.min,a.bounds.max)}return l.Bounds.create(h)},wrap:function(f,u){var h=g.Bounds.wrap(g.Composite.bounds(f),u);return h&&l.Composite.translate(f,h),h}}};C.exports=g}])},340:(ee,C,F)=>{var n=F(471),l=F(992),g=F(657),f=F(583),u=F(929),h=F(83),o=F(818);o.alea=n,o.xor128=l,o.xorwow=g,o.xorshift7=f,o.xor4096=u,o.tychei=h,ee.exports=o},471:function(ee,C,F){var n;!function(l,g,f){function u(d){var r=this,c=function a(){var d=4022871197;return function(c){c=String(c);for(var p=0;p<c.length;p++){var m=.02519603282416938*(d+=c.charCodeAt(p));m-=d=m>>>0,d=(m*=d)>>>0,d+=4294967296*(m-=d)}return 2.3283064365386963e-10*(d>>>0)}}();r.next=function(){var p=2091639*r.s0+2.3283064365386963e-10*r.c;return r.s0=r.s1,r.s1=r.s2,r.s2=p-(r.c=0|p)},r.c=1,r.s0=c(" "),r.s1=c(" "),r.s2=c(" "),r.s0-=c(d),r.s0<0&&(r.s0+=1),r.s1-=c(d),r.s1<0&&(r.s1+=1),r.s2-=c(d),r.s2<0&&(r.s2+=1),c=null}function h(d,r){return r.c=d.c,r.s0=d.s0,r.s1=d.s1,r.s2=d.s2,r}function o(d,r){var c=new u(d),p=r&&r.state,m=c.next;return m.int32=function(){return 4294967296*c.next()|0},m.double=function(){return m()+11102230246251565e-32*(2097152*m()|0)},m.quick=m,p&&("object"==typeof p&&h(p,c),m.state=function(){return h(c,{})}),m}g&&g.exports?g.exports=o:F.amdD&&F.amdO?void 0!==(n=function(){return o}.call(C,F,C,g))&&(g.exports=n):this.alea=o}(0,ee=F.nmd(ee))},83:function(ee,C,F){var n;!function(l,g,f){function u(a){var d=this,r="";d.next=function(){var p=d.b,m=d.c,v=d.d,x=d.a;return p=p<<25^p>>>7^m,m=m-v|0,v=v<<24^v>>>8^x,x=x-p|0,d.b=p=p<<20^p>>>12^m,d.c=m=m-v|0,d.d=v<<16^m>>>16^x,d.a=x-p|0},d.a=0,d.b=0,d.c=-1640531527,d.d=1367130551,a===Math.floor(a)?(d.a=a/4294967296|0,d.b=0|a):r+=a;for(var c=0;c<r.length+20;c++)d.b^=0|r.charCodeAt(c),d.next()}function h(a,d){return d.a=a.a,d.b=a.b,d.c=a.c,d.d=a.d,d}function o(a,d){var r=new u(a),c=d&&d.state,p=function(){return(r.next()>>>0)/4294967296};return p.double=function(){do{var x=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===x);return x},p.int32=r.next,p.quick=p,c&&("object"==typeof c&&h(c,r),p.state=function(){return h(r,{})}),p}g&&g.exports?g.exports=o:F.amdD&&F.amdO?void 0!==(n=function(){return o}.call(C,F,C,g))&&(g.exports=n):this.tychei=o}(0,ee=F.nmd(ee))},992:function(ee,C,F){var n;!function(l,g,f){function u(a){var d=this,r="";d.x=0,d.y=0,d.z=0,d.w=0,d.next=function(){var p=d.x^d.x<<11;return d.x=d.y,d.y=d.z,d.z=d.w,d.w^=d.w>>>19^p^p>>>8},a===(0|a)?d.x=a:r+=a;for(var c=0;c<r.length+64;c++)d.x^=0|r.charCodeAt(c),d.next()}function h(a,d){return d.x=a.x,d.y=a.y,d.z=a.z,d.w=a.w,d}function o(a,d){var r=new u(a),c=d&&d.state,p=function(){return(r.next()>>>0)/4294967296};return p.double=function(){do{var x=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===x);return x},p.int32=r.next,p.quick=p,c&&("object"==typeof c&&h(c,r),p.state=function(){return h(r,{})}),p}g&&g.exports?g.exports=o:F.amdD&&F.amdO?void 0!==(n=function(){return o}.call(C,F,C,g))&&(g.exports=n):this.xor128=o}(0,ee=F.nmd(ee))},929:function(ee,C,F){var n;!function(l,g,f){function u(a){var d=this;d.next=function(){var v,x,c=d.w,p=d.X,m=d.i;return d.w=c=c+1640531527|0,x=p[m+34&127],v=p[m=m+1&127],x^=x<<13,v^=v<<17,x=p[m]=(x^=x>>>15)^(v^=v>>>12),d.i=m,x+(c^c>>>16)|0},function r(c,p){var m,v,x,T,E,M=[],S=128;for(p===(0|p)?(v=p,p=null):(p+="\0",v=0,S=Math.max(S,p.length)),x=0,T=-32;T<S;++T)p&&(v^=p.charCodeAt((T+32)%p.length)),0===T&&(E=v),v^=v<<10,v^=v>>>15,v^=v<<4,v^=v>>>13,T>=0&&(x=0==(m=M[127&T]^=v+(E=E+1640531527|0))?x+1:0);for(x>=128&&(M[127&(p&&p.length||0)]=-1),x=127,T=512;T>0;--T)v=M[x+34&127],m=M[x=x+1&127],v^=v<<13,m^=m<<17,M[x]=(v^=v>>>15)^(m^=m>>>12);c.w=E,c.X=M,c.i=x}(d,a)}function h(a,d){return d.i=a.i,d.w=a.w,d.X=a.X.slice(),d}function o(a,d){null==a&&(a=+new Date);var r=new u(a),c=d&&d.state,p=function(){return(r.next()>>>0)/4294967296};return p.double=function(){do{var x=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===x);return x},p.int32=r.next,p.quick=p,c&&(c.X&&h(c,r),p.state=function(){return h(r,{})}),p}g&&g.exports?g.exports=o:F.amdD&&F.amdO?void 0!==(n=function(){return o}.call(C,F,C,g))&&(g.exports=n):this.xor4096=o}(0,ee=F.nmd(ee))},583:function(ee,C,F){var n;!function(l,g,f){function u(a){var d=this;d.next=function(){var m,v,c=d.x,p=d.i;return m=c[p],v=(m^=m>>>7)^m<<24,v^=(m=c[p+1&7])^m>>>10,v^=(m=c[p+3&7])^m>>>3,v^=(m=c[p+4&7])^m<<7,m=c[p+7&7],c[p]=v^=(m^=m<<13)^m<<9,d.i=p+1&7,v},function r(c,p){var m,x=[];if(p===(0|p))x[0]=p;else for(p=""+p,m=0;m<p.length;++m)x[7&m]=x[7&m]<<15^p.charCodeAt(m)+x[m+1&7]<<13;for(;x.length<8;)x.push(0);for(m=0;m<8&&0===x[m];++m);for(8==m&&(x[7]=-1),c.x=x,c.i=0,m=256;m>0;--m)c.next()}(d,a)}function h(a,d){return d.x=a.x.slice(),d.i=a.i,d}function o(a,d){null==a&&(a=+new Date);var r=new u(a),c=d&&d.state,p=function(){return(r.next()>>>0)/4294967296};return p.double=function(){do{var x=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===x);return x},p.int32=r.next,p.quick=p,c&&(c.x&&h(c,r),p.state=function(){return h(r,{})}),p}g&&g.exports?g.exports=o:F.amdD&&F.amdO?void 0!==(n=function(){return o}.call(C,F,C,g))&&(g.exports=n):this.xorshift7=o}(0,ee=F.nmd(ee))},657:function(ee,C,F){var n;!function(l,g,f){function u(a){var d=this,r="";d.next=function(){var p=d.x^d.x>>>2;return d.x=d.y,d.y=d.z,d.z=d.w,d.w=d.v,(d.d=d.d+362437|0)+(d.v=d.v^d.v<<4^p^p<<1)|0},d.x=0,d.y=0,d.z=0,d.w=0,d.v=0,a===(0|a)?d.x=a:r+=a;for(var c=0;c<r.length+64;c++)d.x^=0|r.charCodeAt(c),c==r.length&&(d.d=d.x<<10^d.x>>>4),d.next()}function h(a,d){return d.x=a.x,d.y=a.y,d.z=a.z,d.w=a.w,d.v=a.v,d.d=a.d,d}function o(a,d){var r=new u(a),c=d&&d.state,p=function(){return(r.next()>>>0)/4294967296};return p.double=function(){do{var x=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===x);return x},p.int32=r.next,p.quick=p,c&&("object"==typeof c&&h(c,r),p.state=function(){return h(r,{})}),p}g&&g.exports?g.exports=o:F.amdD&&F.amdO?void 0!==(n=function(){return o}.call(C,F,C,g))&&(g.exports=n):this.xorwow=o}(0,ee=F.nmd(ee))},818:function(ee,C,F){var n;!function(l,g,f){var m,u=256,d=f.pow(u,6),r=f.pow(2,52),c=2*r,p=255;function v(R,w,L){var I=[],B=M(E((w=1==w?{entropy:!0}:w||{}).entropy?[R,P(g)]:null==R?function S(){try{var R;return m&&(R=m.randomBytes)?R=R(u):(R=new Uint8Array(u),(l.crypto||l.msCrypto).getRandomValues(R)),P(R)}catch(I){var w=l.navigator,L=w&&w.plugins;return[+new Date,l,L,l.screen,P(g)]}}():R,3),I),G=new x(I),H=function(){for(var Y=G.g(6),$=d,J=0;Y<r;)Y=(Y+J)*u,$*=u,J=G.g(1);for(;Y>=c;)Y/=2,$/=2,J>>>=1;return(Y+J)/$};return H.int32=function(){return 0|G.g(4)},H.quick=function(){return G.g(4)/4294967296},H.double=H,M(P(G.S),g),(w.pass||L||function(Y,$,J,_){return _&&(_.S&&T(_,G),Y.state=function(){return T(G,{})}),J?(f.random=Y,$):Y})(H,B,"global"in w?w.global:this==f,w.state)}function x(R){var w,L=R.length,I=this,B=0,G=I.i=I.j=0,H=I.S=[];for(L||(R=[L++]);B<u;)H[B]=B++;for(B=0;B<u;B++)H[B]=H[G=p&G+R[B%L]+(w=H[B])],H[G]=w;(I.g=function(Y){for(var $,J=0,_=I.i,tt=I.j,U=I.S;Y--;)$=U[_=p&_+1],J=J*u+U[p&(U[_]=U[tt=p&tt+$])+(U[tt]=$)];return I.i=_,I.j=tt,J})(u)}function T(R,w){return w.i=R.i,w.j=R.j,w.S=R.S.slice(),w}function E(R,w){var B,L=[],I=typeof R;if(w&&"object"==I)for(B in R)try{L.push(E(R[B],w-1))}catch(G){}return L.length?L:"string"==I?R:R+"\0"}function M(R,w){for(var I,L=R+"",B=0;B<L.length;)w[p&B]=p&(I^=19*w[p&B])+L.charCodeAt(B++);return P(w)}function P(R){return String.fromCharCode.apply(0,R)}if(M(f.random(),g),ee.exports){ee.exports=v;try{m=F(42)}catch(R){}}else void 0!==(n=function(){return v}.call(C,F,C,ee))&&(ee.exports=n)}("undefined"!=typeof self?self:this,[],Math)},42:()=>{}},ee=>{ee(ee.s=581)}]);